;------------------------------------------------------------------------------
Object TechOilDerrick_Var1

  ; *** ART Parameters ***
  SelectPortrait          SSTechOilDerrick_L
  
  ; ========================= Main Model ===============================
  Draw  W3DModelDraw ModuleTag_01
    OkToChangeModelColor  Yes
  
    ; DAY **************************************************************
    ConditionState   NONE
      Model          ZBODerrick
    End
    ConditionState   CAPTURED
      Model          ZBODerrick
      Animation      ZBODerrick.ZBODerrick
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; DAMAGED **********************************************************
    ConditionState   DAMAGED
      Model          ZBODerrick_D
    End
    ConditionState   DAMAGED CAPTURED
      Model          ZBODerrick_D
      Animation      ZBODerrick_D.ZBODerrick_D
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; REALLYDAMAGED ****************************************************
    ConditionState   REALLYDAMAGED
      Model          ZBODerrick_E
    End
    ConditionState   REALLYDAMAGED CAPTURED
      Model          ZBODerrick_E
      Animation      ZBODerrick_E.ZBODerrick_E
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End

    ; RUBBLE ***********************************************************
    ConditionState   RUBBLE
      Model          ZBODerrick_R
      HideSubObject  FIREM01
      ParticleSysBone  SMOKEM01 SmolderingSmoke
      ParticleSysBone  SMOKEM03 SmolderingSmoke
    End

    ; NIGHT ************************************************************
    ConditionState   NIGHT
      Model          ZBODerrick_N
    End
    ConditionState   NIGHT CAPTURED
      Model          ZBODerrick_N
      Animation      ZBODerrick_N.ZBODerrick_N
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; NIGHT DAMAGED ****************************************************
    ConditionState   DAMAGED NIGHT
      Model          ZBODerrick_DN
    End
    ConditionState   DAMAGED NIGHT CAPTURED
      Model          ZBODerrick_DN
      Animation      ZBODerrick_DN.ZBODerrick_DN
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState   REALLYDAMAGED NIGHT
      Model          ZBODerrick_EN
    End
    ConditionState   REALLYDAMAGED NIGHT CAPTURED
      Model          ZBODerrick_EN
      Animation      ZBODerrick_EN.ZBODerrick_EN
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End

    ; NIGHT RUBBLE *****************************************************
    ConditionState   NIGHT RUBBLE
      Model          ZBODerrick_R
      HideSubObject  FIREM01
      ParticleSysBone  SMOKEM01 SmolderingSmoke
      ParticleSysBone  SMOKEM03 SmolderingSmoke
    End
    
    ; SNOW *************************************************************
    ConditionState   SNOW
      Model          ZBODerrick_S
    End
    ConditionState   SNOW CAPTURED
      Model          ZBODerrick_S
      Animation      ZBODerrick_S.ZBODerrick_S
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW DAMAGED *****************************************************
    ConditionState   DAMAGED SNOW
      Model          ZBODerrick_DS
    End
    ConditionState   DAMAGED SNOW CAPTURED
      Model          ZBODerrick_DS
      Animation      ZBODerrick_DS.ZBODerrick_DS
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState   REALLYDAMAGED SNOW
      Model          ZBODerrick_ES
    End
    ConditionState   REALLYDAMAGED SNOW CAPTURED
      Model          ZBODerrick_ES
      Animation      ZBODerrick_ES.ZBODerrick_ES
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End

    ; SNOW RUBBLE ******************************************************
    ConditionState   SNOW RUBBLE
      Model          ZBODerrick_RS
      HideSubObject  FIREM01
      ParticleSysBone  SMOKEM01 SmolderingSmoke
      ParticleSysBone  SMOKEM03 SmolderingSmoke
    End
    
    ; SNOW NIGHT *******************************************************
    ConditionState   SNOW NIGHT
      Model          ZBODerrick_NS
    End
    ConditionState   SNOW NIGHT CAPTURED
      Model          ZBODerrick_NS
      Animation      ZBODerrick_NS.ZBODerrick_NS
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState   SNOW NIGHT DAMAGED
      Model          ZBODerrick_DNS
    End
    ConditionState   SNOW NIGHT DAMAGED CAPTURED
      Model          ZBODerrick_DNS
      Animation      ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState   SNOW NIGHT REALLYDAMAGED
      Model          ZBODerrick_ENS
    End
    ConditionState   SNOW NIGHT REALLYDAMAGED CAPTURED
      Model          ZBODerrick_ENS
      Animation      ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode  LOOP
      ParticleSysBone  FX01 FireBurningBarricade01
      ParticleSysBone  FX01 SmokeFactionEvenSmall
    End
    
    ; SNOW NIGHT RUBBLE ************************************************
    ConditionState   SNOW NIGHT RUBBLE
      Model          ZBODerrick_RS
      HideSubObject  FIREM01
      ParticleSysBone  SMOKEM01 SmolderingSmoke
      ParticleSysBone  SMOKEM03 SmolderingSmoke
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw  W3DModelDraw ModuleTag_02
    OkToChangeModelColor  Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState   NONE
      Model          ZBODerrick_F
      Animation      ZBODerrick_F.ZBODerrick_F
      AnimationMode  LOOP
    End
    AliasConditionState  DAMAGED
    AliasConditionState  CAPTURED
    AliasConditionState  CAPTURED DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState   REALLYDAMAGED
      Model          ZBODerrick_FE
      Animation      ZBODerrick_FE.ZBODerrick_FE
      AnimationMode  LOOP
    End
    AliasConditionState  CAPTURED REALLYDAMAGED
    
    ; RUBBLE ***********************************************************
    ConditionState   RUBBLE
      Model          None
    End
 End
 
     ; ------------ New Animations fence -----------------
  Draw  W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower  No
  
    DefaultConditionState
      Model            ZBODerrick_A1
      Animation        ZBODerrick_A1.ZBODerrick_A1
      AnimationMode    LOOP
    End
    
    ConditionState     DAMAGED
      Model            ZBODerrick_A1D
      Animation        ZBODerrick_A1D.ZBODerrick_A1D
      AnimationMode    LOOP
    End
    
    ConditionState     REALLYDAMAGED
      Model            ZBODerrick_A1E
      Animation        ZBODerrick_A1E.ZBODerrick_A1E
      AnimationMode    LOOP
    End
    
    ConditionState     RUBBLE
      Model            NONE
    End
    
  End
 
  Draw  W3DModelDraw ModuleTag_FirePilar01
    DefaultConditionState
      Model  NONE
    End
    
    ConditionState   RUBBLE
      Model          ZBODerrick_B
      ParticleSysBone  OILWELL01 BurningOilWellOilSpray
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlames
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlamesSparks
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlameSmoke
    End
  End
  
  ; *** AUDIO Parameters ***
  SoundOnDamaged         BuildingDamagedStateLight
  SoundOnReallyDamaged   BuildingDestroy

  
  ; ***DESIGN parameters ***
  Side              Tech_Buildings
  DisplayName       OBJECT:TechOilDerrick
  EditorSorting     STRUCTURE
  ShroudClearingRange  100
  
  ArmorSet
    Conditions       None
    Armor            StructureArmor
    DamageFX         StructureDamageFXNoShake
  End
  
  ExperienceValue      200 200 200 200  ; Experience point value at each level

  ; *** ENGINEERING Parameters ***  
  KindOf             STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  RadarPriority      STRUCTURE
  
  Body               ActiveBody ModuleTag_03
    MaxHealth        2000.0
    InitialHealth    2000.0
    SubdualDamageCap  2200
    SubdualDamageHealRate  500
    SubdualDamageHealAmount  50
  End

  Behavior               AutoDepositUpdate ModuleTag_04
    DepositTiming        2000   ; in milliseconds
    DepositAmount        40     ; cash amount to deposit every Deposit Timings
    ;InitialCaptureBonus  1000   ;capture bonus only happens once
    UpgradedBoost        UpgradeType:Upgrade_AmericaSupplyLines  Boost:4
  End

  Behavior                 FlammableUpdate ModuleTag_05
    FlameDamageLimit       20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration  2000  ; in a span of this long
    AflameDuration         5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount     25    ; taking this much damage...
    AflameDamageDelay      500   ; this often.
  End

  Behavior              FXListDie ModuleTag_07
    DeathFX             WeaponFX_BombTruckDefaultBombDetonation
  End

  Behavior  TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior  TechBuildingBehavior ModuleTag_09
  End

  Behavior  SlowDeathBehavior ModuleTag_10
    DestructionDelay  100
    DeathTypes  ALL
    FX   INITIAL FX_BuildingDie
    OCL  INITIAL OCL_OilDerrickNeutralMakingBurningWellObjectVar1
    Weapon  FINAL OilDerrickRubbleSelfKillWeapon
  End

  Geometry               BOX
  GeometryMajorRadius    23.0
  GeometryMinorRadius    21.0
  GeometryHeight         30.0
  GeometryIsSmall        No
  Shadow                 SHADOW_VOLUME


End

;------------------------------------------------------------------------------ 
Object TechOilDerrickNeutralMakerRubble_Var1

  ; *** ART Parameters ***
  Draw  W3DModelDraw ModuleTag_01
    
    DefaultConditionState
      Model          ZBODerrick_R
      HideSubObject  FIREM01
    End
    
    ConditionState SNOW
      Model          ZBODerrick_R
    End
    
  End
 
  Draw  W3DModelDraw ModuleTag_FirePilar01
    DefaultConditionState
      Model          ZBODerrick_B
      ParticleSysBone  OILWELL01 BurningOilWellOilSpray
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlames
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlamesSparks
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlameSmoke
    End
  End

  ; ***DESIGN parameters ***
  Side              Tech_Buildings
  DisplayName       OBJECT:TechOilDerrick
  EditorSorting     SYSTEM

  ArmorSet
    Conditions         None
    Armor              NoArmor
    DamageFX           EmptyDamageFX
  End
  
  ; *** ENGINEERING Parameters ***
  KindOf   NO_COLLIDE HULK VEHICLE IMMOBILE
  
  Body                 ActiveBody ModuleTag_Health01
    MaxHealth          1.0
    InitialHealth      1.0
  End
  
  Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
    Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
  End
  
  Behavior  SlowDeathBehavior ModuleTag_Die01
    DestructionDelay  100
    OCL  FINAL OCL_OilDerrickBurningWellObjectVar1
  End
  
  Geometry               BOX
  GeometryMajorRadius    23.0
  GeometryMinorRadius    21.0
  GeometryHeight         1.0
  GeometryIsSmall        No
  Shadow                 SHADOW_VOLUME
  
End

;------------------------------------------------------------------------------
Object TechOilDerrickBurningOilWell_Var1

  ; *** ART Parameters ***
  SelectPortrait          SSTechOilDerrick_L

  ; *** ART Parameters ***
  Draw  W3DModelDraw ModuleTag_01
    
    DefaultConditionState
      Model          ZBODerrick_R
      HideSubObject  FIREM01
    End
    
    ConditionState SNOW
      Model          ZBODerrick_R
    End
    
  End
 
  Draw  W3DModelDraw ModuleTag_FirePilar01
    DefaultConditionState
      Model          ZBODerrick_B
      ParticleSysBone  OILWELL01 BurningOilWellOilSpray
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlames
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlamesSparks
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayFlameSmoke
    End
  End

  ; ***DESIGN parameters ***
  Side              Tech_Buildings
  DisplayName       OBJECT:OilWell
  EditorSorting     SYSTEM
  ShroudClearingRange  100

  ArmorSet
    Conditions       None
    Armor            StructureArmor
    DamageFX         StructureDamageFXNoShake
  End
  
  CommandSet        BurningOilWellCommandSet
  

  ; *** AUDIO Parameters ***
  SoundAmbient           BurningOilWellFirePilar


  ; *** ENGINEERING Parameters ***
  RadarPriority    STRUCTURE
  KindOf           PRELOAD SELECTABLE IMMOBILE STRUCTURE UNATTACKABLE CAPTURABLE NO_HEAL_ICON CAN_SEE_THROUGH_STRUCTURE
  
  Body             StructureBody ModuleTag_04
    MaxHealth        10000.0
    InitialHealth    10000.0
  End

  Behavior  AIUpdateInterface ModuleTag_AI
  End

  Behavior  DestroyDie ModuleTag_05232
    DeathTypes           ALL -SUICIDED
  End
  
  Behavior  AutoHealBehavior ModuleTag_Invunerbility01
    HealingAmount  1000
    HealingDelay  1 ; msec
    StartsActive  Yes
  End
   
    ;-------------VERY SPECIAL UPGRADE CODE START-------------------

  Behavior                  FireWeaponUpdate ModuleTag_Upgrade01
    Weapon                  GLACommandTruckRadarCollisionDummyWeapon
  End
  
  Behavior  FireWeaponCollide ModuleTag_Upgrade08
    CollideWeapon           SuicideUnresistableWeapon
    RequiredStatus          PARACHUTING
  End
  
  Behavior  SlowDeathBehavior ModuleTag_Upgrade09
    DeathTypes   NONE +SUICIDED
    RequiredStatus  PARACHUTING
    DestructionDelay  100
    OCL  INITIAL OCL_OilDerrickRecoveryReconstructingVar1
  End
  
  Behavior  ProductionUpdate ModuleTag_Upgrade10
    MaxQueueEntries  1
  End
  
  Behavior  DefaultProductionExitUpdate ModuleTag_Upgrade11
    UnitCreatePoint    X:  0.0   Y:0.0  Z:0.0
    NaturalRallyPoint  X:  80.0  Y:0.0  Z:0.0
  End
  
    ;-------------VERY SPECIAL UPGRADE CODE END-------------------
    
  Geometry               BOX
  GeometryMajorRadius    23.0
  GeometryMinorRadius    21.0
  GeometryHeight         1.0
  GeometryIsSmall        No
  Shadow                 SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object OilDerrickRecoveryReconstructing_Var1
  
  ; *** ART Parameters ***
  SelectPortrait          SSTechOilDerrick_L

  ; *** ART Parameters ***
  Draw  W3DModelDraw ModuleTag_01
    OkToChangeModelColor  Yes
    
    ConditionState
      Model          ZBODerrick_E
    End
    AliasConditionState  ACTIVELY_CONSTRUCTING
    
    ConditionState SNOW
      Model          ZBODerrick_ES
    End
    AliasConditionState  ACTIVELY_CONSTRUCTING SNOW
    
    ConditionState RUBBLE
      Model          NONE
    End
    AliasConditionState  RUBBLE SNOW
    
  End
 
  Draw  W3DModelDraw ModuleTag_FirePilar01
    DefaultConditionState
      Model          ZBODerrick_B
      ParticleSysBone  OILWELL01 BurningOilWellOilSpray
      ParticleSysBone  OILWELL01 BurningOilWellOilSprayDrops
    End
  End
  
  Draw  W3DModelDraw ModuleTag_0125151
  
    ConditionState   NONE
      Model          ZBODerrick_SC
      Animation      ZBODerrick_SC.ZBODerrick_SC
      AnimationMode  ONCE
    End
    
    ConditionState RUBBLE
      Model          ZBODerrick_SC
      Animation      ZBODerrick_SC.ZBODerrick_SC
      AnimationMode  ONCE_BACKWARDS
    End
    
   End
  
  ; ***DESIGN parameters ***
  Side              Tech_Buildings
  DisplayName       OBJECT:TechOilDerrick
  EditorSorting     SYSTEM
  ShroudClearingRange  100
  
  ArmorSet
    Conditions       None
    Armor            StructureArmor
    DamageFX         EmptyDamageFX
  End

  ; *** AUDIO Parameters ***
  SoundAmbient           OilWellOilSprayLoop
  SoundOnDamaged         BuildingDamagedStateLight
  SoundOnReallyDamaged   BuildingDestroy

  ; *** ENGINEERING Parameters ***
  RadarPriority      STRUCTURE
  KindOf           PRELOAD SELECTABLE IMMOBILE PORTABLE_STRUCTURE
  Body               StructureBody ModuleTag_05
    MaxHealth        2000.0
    InitialHealth    2000.0
  End

  Behavior  SlowDeathBehavior ModuleTag_13
    DeathTypes     ALL -SUICIDED
    DestructionDelay  100
    FX   INITIAL FX_BuildingDie
    OCL  INITIAL OCL_OilDerrickNeutralMakingBurningWellObjectVar1
    FX   FINAL WeaponFX_BombTruckDefaultBombDetonation
    Weapon  FINAL OilDerrickRubbleSelfKillWeapon
  End
  
  Behavior  SlowDeathBehavior ModuleTag_12526
    DeathTypes     NONE +SUICIDED
    DestructionDelay  1500
    FX   INITIAL FX_UpgradeOrExpansionComplete
    OCL  INITIAL OCL_OilDerrickRestoredVar1
  End
  
  Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
    Weapon        SuicideWeapon
    InitialDelay  20000
  End
  
  Behavior        OCLUpdate ModuleTag_Timer01 
    OCL           OCL_RussiaTargetingSatelliteTimerDummy
    MinDelay      20000
    MaxDelay      20000
  End
  
  Geometry               BOX
  GeometryMajorRadius    23.0
  GeometryMinorRadius    21.0
  GeometryHeight         30.0
  GeometryIsSmall        No
  Shadow                 SHADOW_VOLUME

End