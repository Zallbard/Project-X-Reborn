;------------------------------------------------------------------------------
Object TechHospital

  ; *** ART Parameters ***
  SelectPortrait          SSTechHospital_L
  Draw                    W3DModelDraw ModuleTag_01
    OkToChangeModelColor  Yes

    ; DAY ************************************
    ConditionState        NONE
      Model               ZBHospital
      ;Animation           ZBHospital.ZBHospital
      ;AnimationMode       LOOP
    End
    
    ; DAMAGED *********************************
    ConditionState        DAMAGED
      Model               ZBHospital_D
      Animation           ZBHospital_D.ZBHospital_D
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmolderingSmoke
      ParticleSysBone     Smoke02 SmolderingSmoke
      ParticleSysBone     Smoke03 SmolderingSmoke
      ParticleSysBone     Smoke04 SmolderingSmoke
      ParticleSysBone     Smoke05 SmolderingSmoke
      ParticleSysBone     Smoke06 SmolderingSmoke
      ParticleSysBone     Smoke07 SmolderingSmoke
      ParticleSysBone     Smoke08 SmolderingSmoke
      ParticleSysBone     Smoke09 SmolderingSmoke
      ParticleSysBone     Fire01 SmolderingFire
      ParticleSysBone     Fire02 SmolderingFire
      ParticleSysBone     Fire03 SmolderingFire
      ParticleSysBone     Fire04 SmolderingFire
      ParticleSysBone     Fire05 SmolderingFire
      ParticleSysBone     Fire06 SmolderingFire
      ParticleSysBone     Fire07 SmolderingFire
      ParticleSysBone     Fire08 SmolderingFire
      ParticleSysBone     Fire09 SmolderingFire
    End

    ; REALLYDAMAGED *******************************
    ConditionState        REALLYDAMAGED
      Model               ZBHospital_E
      Animation           ZBHospital_E.ZBHospital_E
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmokeFactionLarge
      ParticleSysBone     Smoke02 SmokeFactionLarge
      ParticleSysBone     Smoke03 SmokeFactionLarge
      ParticleSysBone     Smoke04 SmokeFactionLarge
      ParticleSysBone     Smoke05 SmokeFactionLarge
      ParticleSysBone     Smoke06 SmokeFactionLarge
      ParticleSysBone     Smoke07 SmokeFactionLarge
      ParticleSysBone     Smoke08 SmokeFactionLarge
      ParticleSysBone     Smoke09 SmokeFactionLarge
      ParticleSysBone     Smoke10 SmokeFactionLarge
      ParticleSysBone     Smoke11 SmokeFactionLarge
      ParticleSysBone     Fire01 FireFactionLarge
      ParticleSysBone     Fire02 FireFactionLarge
      ParticleSysBone     Fire03 FireFactionLarge
      ParticleSysBone     Fire04 FireFactionLarge
      ParticleSysBone     Fire05 FireFactionLarge
      ParticleSysBone     Fire06 FireFactionLarge
      ParticleSysBone     Fire07 FireFactionLarge
      ParticleSysBone     Fire08 FireFactionLarge
      ParticleSysBone     Fire09 FireFactionLarge
      ParticleSysBone     Fire10 FireFactionLarge
      ParticleSysBone     Fire11 FireFactionLarge
    End

    ; RUBBLE *****************************************
    ConditionState        RUBBLE
      Model               ZBHospital_R
    End

    ; NIGHT ************************************
    ConditionState        NIGHT
      Model               ZBHospital_N
      Animation           ZBHospital_N.ZBHospital_N
      AnimationMode       LOOP
    End
    
    ; NIGHT DAMAGED *********************************
    ConditionState        NIGHT DAMAGED
      Model               ZBHospital_DN
      Animation           ZBHospital_DN.ZBHospital_DN
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmolderingSmoke
      ParticleSysBone     Smoke02 SmolderingSmoke
      ParticleSysBone     Smoke03 SmolderingSmoke
      ParticleSysBone     Smoke04 SmolderingSmoke
      ParticleSysBone     Smoke05 SmolderingSmoke
      ParticleSysBone     Smoke06 SmolderingSmoke
      ParticleSysBone     Smoke07 SmolderingSmoke
      ParticleSysBone     Smoke08 SmolderingSmoke
      ParticleSysBone     Smoke09 SmolderingSmoke
      ParticleSysBone     Fire01 SmolderingFire
      ParticleSysBone     Fire02 SmolderingFire
      ParticleSysBone     Fire03 SmolderingFire
      ParticleSysBone     Fire04 SmolderingFire
      ParticleSysBone     Fire05 SmolderingFire
      ParticleSysBone     Fire06 SmolderingFire
      ParticleSysBone     Fire07 SmolderingFire
      ParticleSysBone     Fire08 SmolderingFire
      ParticleSysBone     Fire09 SmolderingFire
    End

    ; NIGHT REALLYDAMAGED *****************************
    ConditionState        NIGHT REALLYDAMAGED 
      Model               ZBHospital_EN
      Animation           ZBHospital_EN.ZBHospital_EN
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmokeFactionLarge
      ParticleSysBone     Smoke02 SmokeFactionLarge
      ParticleSysBone     Smoke03 SmokeFactionLarge
      ParticleSysBone     Smoke04 SmokeFactionLarge
      ParticleSysBone     Smoke05 SmokeFactionLarge
      ParticleSysBone     Smoke06 SmokeFactionLarge
      ParticleSysBone     Smoke07 SmokeFactionLarge
      ParticleSysBone     Smoke08 SmokeFactionLarge
      ParticleSysBone     Smoke09 SmokeFactionLarge
      ParticleSysBone     Smoke10 SmokeFactionLarge
      ParticleSysBone     Smoke11 SmokeFactionLarge
      ParticleSysBone     Fire01 FireFactionLarge
      ParticleSysBone     Fire02 FireFactionLarge
      ParticleSysBone     Fire03 FireFactionLarge
      ParticleSysBone     Fire04 FireFactionLarge
      ParticleSysBone     Fire05 FireFactionLarge
      ParticleSysBone     Fire06 FireFactionLarge
      ParticleSysBone     Fire07 FireFactionLarge
      ParticleSysBone     Fire08 FireFactionLarge
      ParticleSysBone     Fire09 FireFactionLarge
      ParticleSysBone     Fire10 FireFactionLarge
      ParticleSysBone     Fire11 FireFactionLarge
    End

    ; NIGHT RUBBLE ********************************
    ConditionState        RUBBLE NIGHT
      Model               ZBHospital_R
    End

    ; SNOW ************************************
    ConditionState        SNOW
      Model               ZBHospital_S
      Animation           ZBHospital_S.ZBHospital_S
      AnimationMode       LOOP
    End
    
    ; SNOW DAMAGED *********************************
    ConditionState        SNOW DAMAGED
      Model               ZBHospital_DS
      Animation           ZBHospital_DS.ZBHospital_DS
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmolderingSmoke
      ParticleSysBone     Smoke02 SmolderingSmoke
      ParticleSysBone     Smoke03 SmolderingSmoke
      ParticleSysBone     Smoke04 SmolderingSmoke
      ParticleSysBone     Smoke05 SmolderingSmoke
      ParticleSysBone     Smoke06 SmolderingSmoke
      ParticleSysBone     Smoke07 SmolderingSmoke
      ParticleSysBone     Smoke08 SmolderingSmoke
      ParticleSysBone     Smoke09 SmolderingSmoke
      ParticleSysBone     Fire01 SmolderingFire
      ParticleSysBone     Fire02 SmolderingFire
      ParticleSysBone     Fire03 SmolderingFire
      ParticleSysBone     Fire04 SmolderingFire
      ParticleSysBone     Fire05 SmolderingFire
      ParticleSysBone     Fire06 SmolderingFire
      ParticleSysBone     Fire07 SmolderingFire
      ParticleSysBone     Fire08 SmolderingFire
      ParticleSysBone     Fire09 SmolderingFire
    End

    ; SNOW REALLYDAMAGED **************************
    ConditionState        SNOW REALLYDAMAGED 
      Model               ZBHospital_ES
      Animation           ZBHospital_ES.ZBHospital_ES
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmokeFactionLarge
      ParticleSysBone     Smoke02 SmokeFactionLarge
      ParticleSysBone     Smoke03 SmokeFactionLarge
      ParticleSysBone     Smoke04 SmokeFactionLarge
      ParticleSysBone     Smoke05 SmokeFactionLarge
      ParticleSysBone     Smoke06 SmokeFactionLarge
      ParticleSysBone     Smoke07 SmokeFactionLarge
      ParticleSysBone     Smoke08 SmokeFactionLarge
      ParticleSysBone     Smoke09 SmokeFactionLarge
      ParticleSysBone     Smoke10 SmokeFactionLarge
      ParticleSysBone     Smoke11 SmokeFactionLarge
      ParticleSysBone     Fire01 FireFactionLarge
      ParticleSysBone     Fire02 FireFactionLarge
      ParticleSysBone     Fire03 FireFactionLarge
      ParticleSysBone     Fire04 FireFactionLarge
      ParticleSysBone     Fire05 FireFactionLarge
      ParticleSysBone     Fire06 FireFactionLarge
      ParticleSysBone     Fire07 FireFactionLarge
      ParticleSysBone     Fire08 FireFactionLarge
      ParticleSysBone     Fire09 FireFactionLarge
      ParticleSysBone     Fire10 FireFactionLarge
      ParticleSysBone     Fire11 FireFactionLarge
    End

    ; SNOW RUBBLE *************************************
    ConditionState        SNOW RUBBLE
      Model               ZBHospital_RS
    End
    
    ; NIGHT SNOW ************************************
    ConditionState        NIGHT SNOW
      Model               ZBHospital_NS
      Animation           ZBHospital_NS.ZBHospital_NS
      AnimationMode       LOOP
    End
    
    ; NIGHT SNOW DAMAGED *********************************
    ConditionState        NIGHT SNOW DAMAGED
      Model               ZBHospital_DNS
      Animation           ZBHospital_DNS.ZBHospital_DNS
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmolderingSmoke
      ParticleSysBone     Smoke02 SmolderingSmoke
      ParticleSysBone     Smoke03 SmolderingSmoke
      ParticleSysBone     Smoke04 SmolderingSmoke
      ParticleSysBone     Smoke05 SmolderingSmoke
      ParticleSysBone     Smoke06 SmolderingSmoke
      ParticleSysBone     Smoke07 SmolderingSmoke
      ParticleSysBone     Smoke08 SmolderingSmoke
      ParticleSysBone     Smoke09 SmolderingSmoke
      ParticleSysBone     Fire01 SmolderingFire
      ParticleSysBone     Fire02 SmolderingFire
      ParticleSysBone     Fire03 SmolderingFire
      ParticleSysBone     Fire04 SmolderingFire
      ParticleSysBone     Fire05 SmolderingFire
      ParticleSysBone     Fire06 SmolderingFire
      ParticleSysBone     Fire07 SmolderingFire
      ParticleSysBone     Fire08 SmolderingFire
      ParticleSysBone     Fire09 SmolderingFire
    End

    ; NIGHT SNOW REALLYDAMAGED ************************
    ConditionState        NIGHT SNOW REALLYDAMAGED
      Model               ZBHospital_ENS
      Animation           ZBHospital_ENS.ZBHospital_ENS
      AnimationMode       LOOP
      ParticleSysBone     Smoke01 SmokeFactionLarge
      ParticleSysBone     Smoke02 SmokeFactionLarge
      ParticleSysBone     Smoke03 SmokeFactionLarge
      ParticleSysBone     Smoke04 SmokeFactionLarge
      ParticleSysBone     Smoke05 SmokeFactionLarge
      ParticleSysBone     Smoke06 SmokeFactionLarge
      ParticleSysBone     Smoke07 SmokeFactionLarge
      ParticleSysBone     Smoke08 SmokeFactionLarge
      ParticleSysBone     Smoke09 SmokeFactionLarge
      ParticleSysBone     Smoke10 SmokeFactionLarge
      ParticleSysBone     Smoke11 SmokeFactionLarge
      ParticleSysBone     Fire01 FireFactionLarge
      ParticleSysBone     Fire02 FireFactionLarge
      ParticleSysBone     Fire03 FireFactionLarge
      ParticleSysBone     Fire04 FireFactionLarge
      ParticleSysBone     Fire05 FireFactionLarge
      ParticleSysBone     Fire06 FireFactionLarge
      ParticleSysBone     Fire07 FireFactionLarge
      ParticleSysBone     Fire08 FireFactionLarge
      ParticleSysBone     Fire09 FireFactionLarge
      ParticleSysBone     Fire10 FireFactionLarge
      ParticleSysBone     Fire11 FireFactionLarge
    End
    
    ; NIGHT SNOW RUBBLE ****************************
    ConditionState        NIGHT SNOW RUBBLE
      Model               ZBHospital_R
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw  W3DModelDraw ModuleTag_02
    OkToChangeModelColor  Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState   NONE
      Model          ZBHospital_F
      Animation      ZBHospital_F.ZBHospital_F
      AnimationMode  LOOP
    End
    AliasConditionState  DAMAGED
    
    ; REALLYDAMAGED ****************************************************
    ConditionState   REALLYDAMAGED
      Model          ZBHospital_FE
      Animation      ZBHospital_FE.ZBHospital_FE
      AnimationMode  LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState   RUBBLE
      Model          None
    End
    
  End
  
  ; ------------ New Animations fence -----------------
  Draw  W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower  No
  
    DefaultConditionState
      Model            ZBHospital_A1
      Animation        ZBHospital_A1.ZBHospital_A1
      AnimationMode    LOOP
    End
    
    ConditionState     DAMAGED
      Model            ZBHospital_A1D
      Animation        ZBHospital_A1D.ZBHospital_A1D
      AnimationMode    LOOP
    End
    
    ConditionState     REALLYDAMAGED
      Model            ZBHospital_A1E
      Animation        ZBHospital_A1E.ZBHospital_A1E
      AnimationMode    LOOP
    End
    
    ConditionState     RUBBLE
      Model            NONE
    End
    
  End
  
  ; *** AUDIO Parameters ***
  SoundOnDamaged         BuildingDamagedStateLight
  SoundOnReallyDamaged   BuildingDestroy

  ; ***DESIGN parameters ***
  Side                    Tech_Buildings
  DisplayName             OBJECT:TechHospital
  EditorSorting           STRUCTURE
  ShroudClearingRange     100
  ArmorSet
    Conditions            None
    Armor                 StructureArmor
    DamageFX               StructureDamageFXNoShake
  End
  
  ExperienceValue      200 200 200 200  ; Experience point value at each level

  ; *** ENGINEERING Parameters ***  
  KindOf                  STRUCTURE SELECTABLE IMMOBILE CAPTURABLE TECH_BUILDING CONSERVATIVE_BUILDING
  RadarPriority           STRUCTURE
  
  Body                    ActiveBody ModuleTag_03
    MaxHealth             2000.0
    InitialHealth         2000.0
    
    SubdualDamageCap  2200
    SubdualDamageHealRate  500
    SubdualDamageHealAmount  50
  End

  Behavior  FlammableUpdate ModuleTag_05
    FlameDamageLimit       20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration  2000  ; in a span of this long
    AflameDuration         5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount     25    ; taking this much damage...
    AflameDamageDelay      500   ; this often.
  End
  
  Behavior              FXListDie ModuleTag_06
    DeathFX             FX_StructureMediumDeath
  End

  Behavior  TransitionDamageFX ModuleTag_07
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior  TechBuildingBehavior ModuleTag_08
    ;<NO DATA=
  End
  
  Behavior  AutoHealBehavior ModuleTag_09
    HealingAmount      2
    HealingDelay       400 ; msec
    AffectsWholePlayer  Yes
    StartsActive       Yes
    KindOf             INFANTRY
  End

  Behavior  FXListDie ModuleTag_10
    DeathFX  FX_BuildingDie
  End

  Geometry               BOX
  GeometryMajorRadius    35.0
  GeometryMinorRadius    58.0
  GeometryHeight         69.0
  GeometryIsSmall        No
  Shadow                 SHADOW_VOLUME

End