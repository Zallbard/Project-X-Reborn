;------------------------------------------------------------------------------
Object CINE_RussianInfantryRPGConscript

; *** ART Parameters ***
SelectPortrait          SRRPGConscript_L
ButtonImage             SRRPGConscript

UpgradeCameo1  Upgrade_RussiaMedPack
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


DefaultConditionState
Model              RIRpgCcrpt_SKN
IdleAnimation      NIMSST_SKL.NIMSST_STA 0 30
IdleAnimation      NIMSST_SKL.NIMSST_IDA
IdleAnimation      NIMSST_SKL.NIMSST_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
HideSubObject      UPGRADE01
TransitionKey      TRANS_Stand
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
End
AliasConditionState  REALLYDAMAGED

ConditionState       MOVING
Animation          NIMSST_SKL.NIMSST_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  MOVING ATTACKING
AliasConditionState  MOVING ATTACKING REALLYDAMAGED
ConditionState       FIRING_A
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED FIRING_A

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A

ConditionState       RELOADING_A
Animation          NIMSST_SKL.NIMSST_ATA 10
AnimationMode      ONCE
;WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  MOVING RELOADING_A
AliasConditionState  REALLYDAMAGED MOVING RELOADING_A

ConditionState       DYING
Animation          NIMSST_SKL.NIMSST_DTA
Animation          NIMSST_SKL.NIMSST_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

ConditionState       FIRING_B
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

ConditionState       RELOADING_B
Animation          NIMSST_SKL.NIMSST_ATA 10
AnimationMode      ONCE
End
AliasConditionState  MOVING RELOADING_B
AliasConditionState  REALLYDAMAGED MOVING RELOADING_B

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NIMSST_SKL.NIMSST_ADTD1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NIMSST_SKL.NIMSST_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NIMSST_SKL.NIMSST_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

;PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          NIMSST_SKL.NIMSST_POP
AnimationMode      ONCE
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIMSST_SKL.NIMSST_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING



TransitionState      TRANS_Chute TRANS_Stand
Animation          NIMSST_SKL.NIMSST_PDN
AnimationMode      ONCE
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:RPGConscript
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   RussiaRPGConscriptMissileLauncher
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildCost  350
BuildTime  6.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryRPGConscriptCommandSet

; *** AUDIO Parameters ***
VoiceSelect        RPGConscriptVoiceSelect
VoiceMove          RPGConscriptVoiceMove
VoiceAttack        RPGConscriptVoiceAttack
VoiceGuard         RPGConscriptVoiceMove
VoiceFear          RPGConscriptVoiceFear
UnitSpecificSounds
VoiceCreate        RPGConscriptVoiceCreate
VoiceGarrison      RPGConscriptVoiceMove
VoiceEnter         RPGConscriptVoiceMove
VoiceEnterHostile  RPGConscriptVoiceMove
VoiceGetHealed     RPGConscriptVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ConscriptTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_ConscriptSurrender
OCL                  INITIAL OCL_ConscriptSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object CINE_RussiaInfantryConscript

; *** ART Parameters ***
SelectPortrait          SRConscript_L
ButtonImage             SRConscript

UpgradeCameo1  Upgrade_RussiaMedPack
UpgradeCameo2  Upgrade_RussiaLargerClips
UpgradeCameo3  Upgrade_RussiaIRGoggles

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                RICnscrpt_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
HideSubObject        UPGRADE01 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

ConditionState         REALLYDAMAGED
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        TRANS_StandingHurt
End

; ---- moving
ConditionState       MOVING
Model              RICnscrpt_SKNB
Animation          NICNSCI_SKL.NICNSCI_RNA2 13
Animation          NICNSCI_SKL.NICNSCI_RNA3 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState         MOVING REALLYDAMAGED
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USING_WEAPON_A
Model  RICnscrpt_SKNB
Animation  NICNSCI_SKL.NICNSCI_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USING_WEAPON_A REALLYDAMAGED
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  TRANS_FiringHurt
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState       RAISING_FLAG
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Raising TRANS_Packing
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Standing
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_PTD
AnimationMode    ONCE
End





;;;;;Upgraded with IR Goggles

ConditionState         USER_1
Model                RICnscrpt_SKNC
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
TransitionKey        USER1TRANS_Standing
End

ConditionState         USER_1 REALLYDAMAGED
Model                RICnscrpt_SKNC
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        USER1TRANS_StandingHurt
End

ConditionState       USER_1 MOVING
Model              RICnscrpt_SKND
Animation          NICNSCI_SKL.NICNSCI_RNA2 13
Animation          NICNSCI_SKL.NICNSCI_RNA3 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  USER_1 MOVING ATTACKING

ConditionState         USER_1 MOVING REALLYDAMAGED
Model                RICnscrpt_SKNC
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
TransitionKey        USER1TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    USER_1 MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         USER_1 DYING
Model                RICnscrpt_SKNC
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        USER1TRANS_Dying
End

TransitionState  USER1TRANS_Dying USER1TRANS_Flailing
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  USER_1 DYING EXPLODED_FLAILING
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  USER1TRANS_Flailing
End

ConditionState  USER_1 DYING EXPLODED_BOUNCING
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  USER_1 SPECIAL_CHEERING
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USER_1 USING_WEAPON_A
Model  RICnscrpt_SKND
Animation  NICNSCI_SKL.NICNSCI_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USER_1 USING_WEAPON_A REALLYDAMAGED
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  USER1TRANS_FiringHurt
End


; ------- Bldg-capture

ConditionState  USER_1 UNPACKING
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  USER_1 UNPACKING REALLYDAMAGED

ConditionState  USER_1 RAISING_FLAG
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      USER1TRANS_Raising
End
AliasConditionState  USER_1 RAISING_FLAG REALLYDAMAGED

ConditionState  USER_1 PACKING
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      USER1TRANS_Packing
End
AliasConditionState  USER_1 PACKING REALLYDAMAGED

TransitionState  USER_1 USER1TRANS_Raising USER1TRANS_Packing
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     USER_1 FREEFALL
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling_USER_1
End
AliasConditionState  USER_1 FREEFALL REALLYDAMAGED
AliasConditionState  USER_1 FREEFALL DYING

ConditionState     USER_1 PARACHUTING
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute_USER_1
End
AliasConditionState  USER_1 PARACHUTING REALLYDAMAGED
AliasConditionState  USER_1 PARACHUTING DYING

TransitionState    TRANS_Falling_USER_1 TRANS_Chute_USER_1
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute_USER_1 USER1TRANS_Standing
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_PTD
AnimationMode    ONCE
End


End

; ***DESIGN parameters ***
DisplayName          OBJECT:Conscript
Side                 Russia
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY ConscriptMachineGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY ConscriptMachineGun_Upgraded
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          220
ShroudClearingRange  220

BuildCost  100
BuildTime  4.0          ;in seconds

ExperienceValue      15 15 30 40     ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussianInfantryConscriptCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ConscriptVoiceSelect
VoiceMove              ConscriptVoiceMove
VoiceGuard             ConscriptVoiceMove
VoiceAttack            ConscriptVoiceAttack
VoiceFear              ConscriptVoiceFear
VoiceTaskComplete      ConscriptVoiceCaptureComplete

UnitSpecificSounds
VoiceCreate          ConscriptVoiceCreate
VoiceGarrison        ConscriptVoiceGarrison
VoiceEnter           ConscriptVoiceMove
VoiceEnterHostile    ConscriptVoiceMove
VoiceGetHealed       ConscriptVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptSurrender
OCL                  INITIAL OCL_RPGConscriptSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound              ConscriptVoiceCapture
End

Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange      5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
End

Behavior  CommandButtonHuntUpdate  ModuleTag_035
; allows use of command button hunt script with this unit.
End

Behavior  WeaponSetUpgrade ModuleTag_20
TriggeredBy  Upgrade_RussiaLargerClips
End

Behavior  ModelConditionUpgrade ModuleTag_IRGoggles01
ConditionFlag  USER_1
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior  OverlordContain ModuleTag_IRGoggles02
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
End

Behavior  ObjectCreationUpgrade ModuleTag_IRGoggles03
UpgradeObject  OCL_RussiaConscriptIRGoggles
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object CINE_RussianInfantryIglaTrooper

; *** ART Parameters ***
SelectPortrait          SRIglaTrooper_L
ButtonImage             SRIglaTrooper

UpgradeCameo1  Upgrade_RussiaMedPack
UpgradeCameo2  Upgrade_RussiaAdvancedMissileEngines
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RIIglaTrpr_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
HideSubObject  LAUNCHERUP
WeaponFireFXBone  PRIMARY   Muzzle01
WeaponLaunchBone  PRIMARY   Muzzle01
WeaponFireFXBone  SECONDARY Muzzle01
WeaponLaunchBone  SECONDARY Muzzle01
End

ConditionState  MOVING
Animation  UISmsd_SKL.UISmsd_WKB 25
Animation  UISmsd_SKL.UISmsd_WKA 25
AnimationMode  LOOP
Flags  RANDOMSTART
WaitForStateToFinishIfPossible  NONE
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING FIRING_A
AliasConditionState  REALLYDAMAGED MOVING RELOADING_A
AliasConditionState  REALLYDAMAGED MOVING FIRING_B
AliasConditionState  REALLYDAMAGED MOVING RELOADING_B

ConditionState  DYING
Animation  UISmsd_SKL.UISmsd_DTA
Animation  UISmsd_SKL.UISmsd_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UISmsd_SKL.UISmsd_ADTF1
Animation  UISmsd_SKL.UISmsd_ADTG21
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UISmsd_SKL.UISmsd_ADTF2
Animation  UISmsd_SKL.UISmsd_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UISmsd_SKL.UISmsd_ADTF3
Animation  UISmsd_SKL.UISmsd_ADTG23
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End


;Machine Pistol Attack
ConditionState  PREATTACK_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
AnimationMode  ONCE
End

ConditionState  FIRING_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1 ; looping firing
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
WeaponFireFXBone   PRIMARY Muzzle
AnimationSpeedFactorRange  2.0 3.0
End

ConditionState   RELOADING_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
AnimationMode  ONCE
TransitionKey  TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_FIRING_A
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

;Firing Igla Missile
ConditionState  FIRING_B
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING_B
End

ConditionState  BETWEEN_FIRING_SHOTS_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  LOOP
Flags  START_FRAME_LAST
TransitionKey  TRANS_RELOADING_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

ConditionState  PREATTACK_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_PREATTACK_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End

ConditionState  SPECIAL_CHEERING
Animation  UISMSD_SKL.UISMSD_CHA
AnimationMode  LOOP
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:IglaTrooper
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   IGLATrooperMachinePistolWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon               SECONDARY IGLATrooperMissileWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  280
ShroudClearingRange  220

BuildCost  200
BuildTime  6.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryIglaTrooperCommandSet

; *** AUDIO Parameters ***
VoiceSelect        IGLATrooperVoiceSelect
VoiceMove          IGLATrooperVoiceMove
VoiceAttack        IGLATrooperVoiceAttack
VoiceAttackAir     IGLATrooperVoiceAttack
VoiceGuard         IGLATrooperVoiceMove
VoiceFear          IGLATrooperVoiceFear
UnitSpecificSounds
VoiceCreate        IGLATrooperVoiceCreate
VoiceGarrison      IGLATrooperVoiceMove
VoiceEnter         IGLATrooperVoiceMove
VoiceEnterHostile  IGLATrooperVoiceMove
VoiceGetHealed     IGLATrooperVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED +TOPPLED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperSurrender
OCL                  INITIAL OCL_IglaTrooperSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_RussiaTankKodiak

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 FIREPOINT01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY Barrel
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   TERTIARY Barrel2
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End
End

; set cost and time fields here or else they won't work
BuildCost        1400
BuildTime        14.0

Prerequisites
Object  RussiaWarFactory
End

Side  Russia
EditorSorting  VEHICLE
KindOf  PRELOAD SELECTABLE VEHICLE HUGE_VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS SCORE

BuildVariations   CINE_RussiaTankKodiak_Var1  CINE_RussiaTankKodiak_Var2  CINE_RussiaTankKodiak_Var3

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_RussiaTankKodiak_Var1

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  REALLYDAMAGED
Model  RVKodiak_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  RUBBLE
Model  RVKodiak_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

End


; ***DESIGN parameters ***

DisplayName        OBJECT:Kodiak
Side               Russia
EditorSorting      VEHICLE


WeaponSet
Conditions           None
Weapon               PRIMARY KodiakTankGun
Weapon               SECONDARY  KodiakMachinegun
End

VisionRange     360.0
ShroudClearingRange  360.0

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

CommandSet         StopOnlyGenericCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_04
MaxHealth        550.0
InitialHealth    550.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         50
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin CINE_RussiaTankKodiak_Var2 CINE_RussiaTankKodiak_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak2
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  REALLYDAMAGED
Model  RVKodiak2_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  RUBBLE
Model  RVKodiak2_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

End

End

;------------------------------------------------------------------------------
ObjectReskin CINE_RussiaTankKodiak_Var3 CINE_RussiaTankKodiak_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak3
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  REALLYDAMAGED
Model  RVKodiak3_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  RUBBLE
Model  RVKodiak3_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

End

End

;------------------------------------------------------------------------------
Object CINE_RussiaTankSentinel

; *** ART Parameters ***
SelectPortrait          SRSentinel_L
ButtonImage             SRSentinel

UpgradeCameo1  Upgrade_RussiaSentinelMissiles
UpgradeCameo2  Upgrade_RussiaAdvancedMissileEngines
UpgradeCameo3  Upgrade_RussiaTankERA

Draw  W3DTankTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVSent
Animation            RVSent.RVSent
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        Arena01 Armor01 Armor02 Armor03
Turret               Turret
AltTurret            Dish
WeaponMuzzleFlash    PRIMARY   MuzzleFX
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  RIDER2 FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End

ConditionState         REALLYDAMAGED
Model                RVSent_D
TransitionKey      Nada
End
AliasConditionState         RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
Dust       Nada
DirtSpray  Nada

LeftFrontTireBone           TREADF01
RightFrontTireBone          TREADF02
TireRotationMultiplier      0   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw  W3DModelDraw ModuleTag_WardenRadar01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVSent_R
Animation            RVSent_R.RVSent_R
End

ConditionState  REALLYDAMAGED
Model                RVSent_RD
Animation            RVSent_RD.RVSent_RD
End
AliasConditionState  RUBBLE

End


; ***DESIGN parameters ***

DisplayName        OBJECT:Sentinel
Side               Russia
EditorSorting      VEHICLE

WeaponSet
Conditions         None
Weapon             PRIMARY SentinelTankGun

Weapon             SECONDARY SentinelTankMissiles
PreferredAgainst   SECONDARY AIRCRAFT
End

VisionRange     360.0
ShroudClearingRange  360.0

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

CommandSet           StopOnlyGenericCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_04
MaxHealth        550.0
InitialHealth    550.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate         60
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  18.0
GeometryHeight  20.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_RussiaTeslaTank

; *** ART Parameters ***
SelectPortrait          SRTeslaTank_L
ButtonImage             SRTeslaTank

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        MANUAL
Turret               Turret
WeaponFireFXBone     PRIMARY Orb
WeaponFireFXBone     SECONDARY Orb
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  PREATTACK_C
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        ONCE
WaitForStateToFinishIfPossible  NONE
End

ConditionState         FIRING_C
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
End

ConditionState  REALLYDAMAGED
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
WaitForStateToFinishIfPossible  TRANS_START_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED PREATTACK_C
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
AnimationMode        ONCE
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  PREATTACK_C RUBBLE

ConditionState         REALLYDAMAGED FIRING_C
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_DAMAGED
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  FIRING_C RUBBLE

End

Draw  W3DModelDraw ModuleTag_FireBone01

ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model                RVTslTnk_B
Animation            RVTslTnk_B.RVTslTnk_B
AnimationMode        LOOP
Flags                RANDOMSTART
Turret               Turret
ParticleSysBone      FXBONE01 TeslaTankCoilSparkFlare
ParticleSysBone      FXBONE02 TeslaTankCoilSparkFlare
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState         FIRING_C
Model                RVTslTnk_B
Animation            RVTslTnk_B.RVTslTnk_B
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_FIRING
AnimationSpeedFactorRange  0.5 0.5
End
AliasConditionState  FIRING_C REALLYDAMAGED
AliasConditionState  FIRING_C RUBBLE

ConditionState  PREATTACK_C
Model                NONE
End
AliasConditionState  PREATTACK_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RUBBLE

End


; ***DESIGN parameters ***

DisplayName        OBJECT:TeslaTank
Side               Russia
EditorSorting      VEHICLE

WeaponSet
Conditions             None
Weapon                 PRIMARY   TeslaTankWeapon
End

VisionRange     360.0
ShroudClearingRange  360.0

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

CommandSet         StopOnlyGenericCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_04
MaxHealth        550.0
InitialHealth    550.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         30
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaTeslaTankDebris
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object TeslaTankTrainCar
;-Train stuff put in for Art to review, this will need an engineer's touch. -GB

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState   NONE
Model          CVBaikFlat
End
End

Draw  W3DModelDraw ModuleTag_0222
OkToChangeModelColor  Yes
ConditionState   NONE
Model          CINE_NVTTNK
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TrainCar
EditorSorting    VEHICLE

ArmorSet
Armor            TruckArmor
DamageFX         CrushableCarDamageFX
End

VisionRange             300
ShroudClearingRange     300
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CrusherLevel            4  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
KindOf           SELECTABLE CAN_ATTACK VEHICLE


Body             ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior               RailroadBehavior ModuleTag_04
IsLocomotive    No
PathPrefixName     Railroad

;=== PARAMETERS FOR ALL CARRIAGES ===
RunningGarrisonSpeedMax  1
KillSpeedMin             1
Friction                 0.995
BigMetalBounceSound      BuildingFallingMetal
SmallMetalBounceSound    VehicleImpactHeavy
MeatyBounceSound         InfantryCrush
ClicketyClackSound       TrainClicketyClack

End

Behavior  DestroyDie ModuleTag_05
;nothing
End
Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TankerTruckExplode
End
Behavior  FXListDie ModuleTag_07
DeathFX  FX_RailroadWoodenCarExplode
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry         BOX
GeometryIsSmall  No
GeometryMajorRadius  32
GeometryMinorRadius  10.0
GeometryHeight   20.0
Shadow           SHADOW_VOLUME
ShadowSizeX  42  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object SpecialKodiakTankTrainCar
;-Train stuff put in for Art to review, this will need an engineer's touch. -GB

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState   NONE
Model          CVBaikFlat
End
End

Draw  W3DModelDraw ModuleTag_0222
OkToChangeModelColor  Yes
ConditionState   NONE
Model          CINE_NVT80
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TrainCar
EditorSorting    VEHICLE

ArmorSet
Armor            TruckArmor
DamageFX         CrushableCarDamageFX
End

VisionRange             300
ShroudClearingRange     300
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CrusherLevel            4  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
KindOf           SELECTABLE CAN_ATTACK VEHICLE


Body             ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior               RailroadBehavior ModuleTag_04
IsLocomotive    No
PathPrefixName     Railroad

;=== PARAMETERS FOR ALL CARRIAGES ===
RunningGarrisonSpeedMax  1
KillSpeedMin             1
Friction                 0.995
BigMetalBounceSound      BuildingFallingMetal
SmallMetalBounceSound    VehicleImpactHeavy
MeatyBounceSound         InfantryCrush
ClicketyClackSound       TrainClicketyClack

End

Behavior  DestroyDie ModuleTag_05
;nothing
End
Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TankerTruckExplode
End
Behavior  FXListDie ModuleTag_07
DeathFX  FX_RailroadWoodenCarExplode
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry         BOX
GeometryIsSmall  No
GeometryMajorRadius  32
GeometryMinorRadius  10.0
GeometryHeight   20.0
Shadow           SHADOW_VOLUME
ShadowSizeX  42  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Cine_RussiaDebrisBunker_Respawn

; *** ART Parameters ***
SelectPortrait          SRDebrisBunker_L
ButtonImage             SRDebrisBunker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End

ConditionState  DAMAGED
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke01 SmolderingFlameCore
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFlameCore
End

ConditionState  REALLYDAMAGED RUBBLE
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke01 SmolderingFlameCore
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFlameCore
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFlameCore
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFlameCore
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFlameCore
End

;**************************************************************************************************************************
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBRubbleBunker
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Bunker
Side  Russia
EditorSorting      STRUCTURE

VisionRange          200.0
ShroudClearingRange  200.0

WeaponSet
Conditions          None
Weapon              PRIMARY   RubbleBunkerMachineGun
Weapon              TERTIARY  SuicideWeapon ;Rubble Bunkers cannot be sold so they have a self kill function
AutoChooseSources   TERTIARY  NONE
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

CommandSet        RussiaRubbleBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect            RussianDebrisBunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE CAN_ATTACK FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

ExperienceValue      20 20 20 20  ; Experience point value at each level

Behavior  ProductionUpdate ModuleTag_10
End

Behavior  AIUpdateInterface ModuleTag_0622
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         50
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  SlowDeathBehavior ModuleTag_Collapse02
DeathTypes  ALL
DestructionDelay  1
OCL  INITIAL OCL_LargeStructureDebris
FX  INITIAL FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_CINE_RussiaDebrisBunkerConscripts
End

Scale  1.0
Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  16.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
Object Cine_RussiaDebrisBunker_Respawner

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE PORTABLE_STRUCTURE NO_COLLIDE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         10000000000000.0
InitialHealth     10000000000000.0
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000
MaxLifetime  40000
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_CINE_RussiaDebrisBunkerRespawn
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             CYLINDER
GeometryMajorRadius  70.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object CINE_RussiaVehicleHokum

; *** ART Parameters ***
SelectPortrait          SRHokum_L
ButtonImage             SRHokum

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVKA68_Cin
Animation                        RVKA68_Cin.RVKA68_Cin
AnimationMode                    LOOP
End


End


; ***DESIGN parameters ***
DisplayName          OBJECT:Hokum
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            1800

BuildTime            20              ; in seconds
ExperienceValue      50 50 100 200   ; Experience point value at each level
ExperienceRequired   0 200 400 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           GenericCommandSet


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE

Body  ActiveBody ModuleTag_04
MaxHealth        170.0
InitialHealth    170.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HokumStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End

Locomotor  SET_NORMAL  KA50Locomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaHokumRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End