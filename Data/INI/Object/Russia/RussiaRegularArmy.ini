;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Object RussiaVehicleHind_FlyIn

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    ONCE
Flags                            RANDOMSTART
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart1
End

ConditionState         REALLYDAMAGED
Model                RVHindPart1_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Hind
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

ArmorSet
Conditions      = None
Armor           = AirplaneArmor
DamageFX        = None
End
ArmorSet
Conditions = PLAYER_UPGRADE
Armor = CountermeasuresAirplaneArmor ;CountermeasuresComancheArmor
DamageFX = None
End
; *** AUDIO Parameters ***
SoundAmbient           HindAmbientLoop
; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_ATTACK VEHICLE AIRCRAFT EMP_HARDENED ;UNATTACKABLE IGNORED_IN_GUI

Body  ActiveBody ModuleTag_04
MaxHealth        260.0
InitialHealth    260.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HindStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate  180     ; this "turret" does not turn
TurretPitchRate  180
MinPhysicalPitch  -90 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch  -7.0
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate  0     ; this "turret" does not turn
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
RotorWashParticleSystem     HelixRotorWashRing
End
Behavior = DeliverPayloadAIUpdate ModuleTag_05132
End


Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_GroundedHindBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaHindRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Locomotor = SET_NORMAL  A10ThunderboltLocomotor

Behavior            OCLSpecialPower ModuleTag_GoliathUpgrade01
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
OCL                   OCL_UniversalAbbilityTriggerAircraft
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_GoliathUpgrade02
CollideWeapon   GoliathInvulnerabilityWeapon
RequiredStatus  USING_ABILITY
End

Behavior  FireWeaponUpdate ModuleTag_GoliathUpgrade03
Weapon  GenericCollisionDummyWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_GoliathUpgrade04
ConditionFlag  USER_1
TriggeredBy  Upgrade_RussiaGoliathDefence
End

Behavior  CommandSetUpgrade ModuleTag_GoliathUpgrade05
CommandSet  RussianVehicleHindUpgradedCommandSet
TriggeredBy    Upgrade_RussiaGoliathDefence
End

Behavior  MaxHealthUpgrade ModuleTag_GoliathUpgrade06
TriggeredBy    Upgrade_RussiaGoliathDefence
AddMaxHealth   60.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_GoliathUpgrade07
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
DoorCloseTime         4000
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RocketBarrageMissile_Smerch
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_477
OkToChangeModelColor   Yes
DefaultConditionState
Model   RU-Tornado_m
ParticleSysBone   Engine01 HME
;ParticleSysBone   Engine01 MMF
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:Missile
Side = Russia
EditorSorting = SYSTEM
TransportSlotCount = 1     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange = 0.0
ArmorSet
Conditions = None
Armor = ProjectileArmor
DamageFX = None
End
; *** AUDIO Parameters ***
SoundAmbient = RocketBarrageMissileIncoming
; *** ENGINEERING Parameters ***
KindOf = PROJECTILE ;PRELOAD CAN_CAST_REFLECTIONS BALLISTIC_MISSILE    ; SMALL_MISSILE
Body = ActiveBody ModuleTag_478
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = InstantDeathBehavior DeathModuleTag_479
DeathTypes = ALL
End
Behavior = PhysicsBehavior ModuleTag_483
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_484
TryToFollowTarget = Yes
FuelLifetime = 10000
InitialVelocity = 30     ; in dist/sec
IgnitionDelay = 0
End
Locomotor = SET_NORMAL RocketBarrageMissileLocomotor
Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
;Scale = 0.66
End
;------------------------------------------------------------------------------
Object BulavaStrikeMissile3

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = Bulava-M
Animation       = Bulava-M.Bulava-M
AnimationMode   = LOOP
ParticleSysBone = None HME
End
End

; ***DESIGN parameters ***
DisplayName        = OBJECT:NeutronMissile
RadarPriority = NOT_ON_RADAR
KindOf             = PROJECTILE
EditorSorting      = SYSTEM
VisionRange = 300.0
ShroudClearingRange = 0
TransportSlotCount = 1
ArmorSet
Conditions       = None
Armor            = ProjectileArmor
DamageFX         = None
End

; *** ENGINEERING Parameters ***
Body = ActiveBody ModuleTag_02
MaxHealth        = 9999.0
InitialHealth    = 9999.0
End

SoundAmbient = MirvIncomingWhistle

Behavior = PhysicsBehavior ModuleTag_07
Mass = 10
End

Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED +NORMAL
OCL       = OCL_BulavaWatercheckObject
End

Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = ALL -DETONATED -NORMAL
; shot down by nonlaser.
FX         = FX_GenericBigMissileDeath
End

Behavior = MissileAIUpdate ModuleTag_08
DetonateCallsKill = Yes
TryToFollowTarget = Yes
FuelLifetime = 10000
InitialVelocity = 45               ; in dist/sec
IgnitionDelay = 0
End
Locomotor = SET_NORMAL A10ThunderboltMissileLocomotor

Behavior = HeightDieUpdate ModuleTag_10
TargetHeight        = 40.0
TargetHeightIncludesStructures = Yes
OnlyWhenMovingDown  = Yes
SnapToGroundOnDeath = No
InitialDelay                    = 1000 ; Can't explode in the first second so we don't explode on the pad
End

Behavior = FireWeaponWhenDeadBehavior ModuleTag_11
StartsActive = Yes
DeathWeapon = BulavaNukeWeapon
DeathTypes = ALL
End

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 5.0
End
;------------------------------------------------------------------------------
Object BulavaWeapon

; *** ART Parameters ***
;  Draw = W3DModelDraw
;    DefaultConditionState
;      Model             = AVBomber_B
;    End
;  End

; ***DESIGN parameters ***
;DisplayName        = OBJECT:A10Thunderbolt
EditorSorting       = VEHICLE
Side                = Russia
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 99999.0
ShroudClearingRange = 0
ArmorSet
Conditions      = None
Armor           = AirplaneArmor
DamageFX        = None
End


; *** AUDIO Parameters ***
; In the Activation of the superweapon, where it plays only once instead of once per missile.
;  SoundMoveStart = FireArtilleryCannonSound


; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT UNATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body = ActiveBody ModuleTag_01
MaxHealth       = 200.0
InitialHealth   = 200.0
End

Behavior = DestroyDie ModuleTag_02
;nothing
End

Behavior = PhysicsBehavior ModuleTag_03
Mass = 0.001 ; about the weight of grain of salt
End

Behavior = DeliverPayloadAIUpdate ModuleTag_05
End

Locomotor = SET_NORMAL ChinaArtilleryBarrageCannonLocomotor

Geometry = Cylinder
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
GeometryMinorRadius = 1.0
GeometryHeight = 1.0
Shadow = SHADOW_DECAL
ShadowSizeX = 1;
ShadowSizeY = 1;
ShadowTexture = ShadowI;

End
;------------------------------------------------------------------------------
Object RussiaSuperWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                Russia
EditorSorting       SYSTEM
CommandSet   RussiaSuperPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End

Object RussiaSupportWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                Russia
EditorSorting       SYSTEM
CommandSet RussiaSupportPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End
;------------------------------------------------------------------------------
Object RussiaJetPakfa

; *** ART Parameters ***
SelectPortrait          SRPakfa_L
ButtonImage             SRPakfa

Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                RVPakFa
HideSubObject        BurnerFX01 BurnerFX02
WeaponLaunchBone     PRIMARY WeaponA
WeaponFireFXBone     PRIMARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
WeaponFireFXBone     SECONDARY WeaponA
End

ConditionState         JETEXHAUST
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED
Model                RVPakFa_D
HideSubObject        BurnerFX01 BurnerFX02
WeaponLaunchBone     PRIMARY WeaponA
WeaponFireFXBone     PRIMARY WeaponA
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                RVPakFa_D
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                RVPakFa_D
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End
AliasConditionState    RUBBLE

;Snow

ConditionState         SNOW
Model                RVPakFa_S
HideSubObject        BurnerFX01 BurnerFX02
End

ConditionState         SNOW JETEXHAUST
Model                RVPakFa_S
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         SNOW JETEXHAUST JETAFTERBURNER
Model                RVPakFa_S
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         SNOW REALLYDAMAGED
Model                RVPakFa_SD
HideSubObject        BurnerFX01 BurnerFX02
WeaponLaunchBone     PRIMARY WeaponA
WeaponFireFXBone     PRIMARY WeaponA
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         SNOW REALLYDAMAGED JETEXHAUST
Model                RVPakFa_SD
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         SNOW REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                RVPakFa_SD
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End
AliasConditionState    SNOW RUBBLE

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:PakFa
EditorSorting            VEHICLE
Side                     Russia
TransportSlotCount       0 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0
Prerequisites
Object                 RussiaAirfield
End

WeaponSet
Conditions             None
Weapon                 PRIMARY   PakFaAntiTankMissilePrimaryWeapon
Weapon                 SECONDARY PakFaAntiTankMissileSecondaryWeapon
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End

Prerequisites
Object             RussiaIndustrialSite
End


BuildCost                2000
BuildTime                20
ExperienceValue          100 100 200 300 ;Experience point value at each level
ExperienceRequired       0   200 300 600 ; Experience points needed to gain each leve
IsTrainable              Yes             ;Can gain experience
CrusherLevel             1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               RussianJetPakFACommandSet

; *** AUDIO Parameters ***
VoiceSelect             SokolVoiceSelect
VoiceMove               SokolVoiceMove
VoiceAttack             SokolVoiceAttack
VoiceGuard              SokolVoiceAirPatrol
SoundAmbient            SokolAmbientLoop
SoundAmbientRubble      NoSound

UnitSpecificSounds
VoiceCreate           SokolVoiceCreate
VoiceLowFuel          SokolVoiceLowFuel
VoiceGarrison         SokolVoiceMove
Afterburner           SokolAfterburner
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             240.0
InitialHealth         240.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_SokolDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_PakfaDeathFinalBlowUp
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09
Turret
TurretTurnRate  0
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate  0
ControlledWeaponSlots  SECONDARY
End
TurretsLinked              Yes
OutOfAmmoDamagePerSecond   10%
TakeoffDistForMaxLift      0%
TakeoffPause               500
MinHeight                  5
ParkingOffset              3
ReturnToBaseIdleTime       10000
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End

Locomotor  SET_NORMAL BerkutJetLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                           1500 ; msec
StealthForbiddenConditions             ATTACKING ;TAKING_DAMAGE
FriendlyOpacityMin                     50.0%
FriendlyOpacityMax                     100.0%
InnateStealth                          Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;------------------------------------------------------------------------------
Object RussiaJetMiGBomber

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  RVMigBmbRn
Animation  RVMigBmbRn.RVMigBmbRn
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

ConditionState  SNOW
Model  RVMigBmbRn_S
Animation  RVMigBmbRn_S.RVMigBmbRn_S
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   RussiaMigBomberWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      2240
MaxDelay      2240
OCL           OCL_CreateRealFortress
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  4800
MaxLifetime  4800
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect01
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon01
InitialDelay  1
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect02
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon02
InitialDelay  1800
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       800.0
GeometryMinorRadius       800.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End
;------------------------------------------------------------------------------
Object RussiaVehicleHunchback

; *** ART Parameters ***
SelectPortrait          SRHunchback_L
ButtonImage             SRHunchback

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState                     NONE
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
HideSubObject                    Bombs Cannon
Flags                            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  ATTACKING

ConditionState                     MOVING
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
HideSubObject                    Bombs Cannon
Flags                            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
ParticleSysBone                  EXHAUST03 HelixExhaust
ParticleSysBone                  EXHAUST04 HelixExhaust
End
AliasConditionState  MOVING ATTACKING

ConditionState                     REALLYDAMAGED
Model                            RVHnchBck_D
Animation                        RVHnchBck_D.RVHnchBck_D
AnimationMode                    LOOP
HideSubObject                    Bombs Cannon
Flags                            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  REALLYDAMAGED ATTACKING

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHnchBck_D
Animation                        RVHnchBck_D.RVHnchBck_D
AnimationMode                    LOOP
HideSubObject                    Bombs Cannon
Flags                            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
ParticleSysBone                  EXHAUST03 HelixExhaust
ParticleSysBone                  EXHAUST04 HelixExhaust
End
AliasConditionState  REALLYDAMAGED MOVING ATTACKING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

;;;With Bomb Upgrade

ConditionState                     USER_1
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
HideSubObject                    Cannon
ShowSubObject                    Bombs WeaponA01
Flags                            MAINTAIN_FRAME_ACROSS_STATES
WaitForStateToFinishIfPossible   TRANS_Droping_Bombs
End
AliasConditionState  USER_1 PACKING

ConditionState                     ATTACKING USER_1
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
HideSubObject                    Cannon
ShowSubObject                    Bombs WeaponA01
Flags                            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USER_1 ATTACKING PACKING

ConditionState                     USER_1 MOVING
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
HideSubObject                    Cannon
ShowSubObject                    Bombs WeaponA01
Flags                            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
ParticleSysBone                  EXHAUST03 HelixExhaust
ParticleSysBone                  EXHAUST04 HelixExhaust
End
AliasConditionState  USER_1 PACKING MOVING
AliasConditionState  USER_1 ATTACKING MOVING
AliasConditionState  USER_1 ATTACKING PACKING MOVING

ConditionState                     USER_1 REALLYDAMAGED
Model                            RVHnchBck_D
Animation                        RVHnchBck_D.RVHnchBck_D
AnimationMode                    LOOP
HideSubObject                    Cannon
ShowSubObject                    Bombs WeaponA01
Flags                            MAINTAIN_FRAME_ACROSS_STATES
WaitForStateToFinishIfPossible   TRANS_Droping_Bombs_Damaged
End
AliasConditionState  USER_1 REALLYDAMAGED PACKING

ConditionState                     USER_1 ATTACKING REALLYDAMAGED
Model                            RVHnchBck_D
Animation                        RVHnchBck_D.RVHnchBck_D
AnimationMode                    LOOP
HideSubObject                    Cannon
ShowSubObject                    Bombs WeaponA01
Flags                            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USER_1 ATTACKING REALLYDAMAGED PACKING

ConditionState                     USER_1 REALLYDAMAGED MOVING
Model                            RVHnchBck_D
Animation                        RVHnchBck_D.RVHnchBck_D
AnimationMode                    LOOP
HideSubObject                    Cannon
ShowSubObject                    Bombs WeaponA01
Flags                            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
ParticleSysBone                  EXHAUST03 HelixExhaust
ParticleSysBone                  EXHAUST04 HelixExhaust
End
AliasConditionState  USER_1 REALLYDAMAGED PACKING MOVING
AliasConditionState  USER_1 REALLYDAMAGED ATTACKING MOVING
AliasConditionState  USER_1 REALLYDAMAGED ATTACKING PACKING MOVING
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED
AliasConditionState  USER_1 PACKING RUBBLE
AliasConditionState  USER_1 PACKING RUBBLE SPECIAL_DAMAGED
AliasConditionState  UNPACKING USER_1 RUBBLE
AliasConditionState  UNPACKING USER_1 RUBBLE SPECIAL_DAMAGED

;;;Dropping Bombs

ConditionState  USER_1 UNPACKING
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
ShowSubObject                    Bombs
HideSubObject                    WeaponA01 Cannon
WeaponRecoilBone                 SECONDARY   Barrel
WeaponFireFXBone                 SECONDARY   Muzzle
WeaponMuzzleFlash                SECONDARY   MuzzleFX
TransitionKey                    TRANS_Droping_Bombs
End

ConditionState  USER_1 REALLYDAMAGED UNPACKING
Model                            RVHnchBck
Animation                        RVHnchBck.RVHnchBck
AnimationMode                    LOOP
ShowSubObject                    Bombs
HideSubObject                    WeaponA01 Cannon
WeaponRecoilBone                 SECONDARY   Barrel
WeaponFireFXBone                 SECONDARY   Muzzle
WeaponMuzzleFlash                SECONDARY   MuzzleFX
TransitionKey                    TRANS_Droping_Bombs_Damaged
End

End

Draw  W3DModelDraw ModuleTag_Guns01

OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     6

DefaultConditionState
Model                            RVHnchBck_G
Animation                        RVHnchBck_G.RVHnchBck_G
AnimationMode                    LOOP
TurretPitch                      TURRETEL
Flags                            MAINTAIN_FRAME_ACROSS_STATES
WeaponRecoilBone                 SECONDARY Barrel
WeaponFireFXBone                 SECONDARY Muzzle
WeaponLaunchBone                 SECONDARY Muzzle
WeaponMuzzleFlash                SECONDARY MuzzleFX
End
AliasConditionState  ATTACKING
AliasConditionState  MOVING
AliasConditionState  MOVING ATTACKING

ConditionState                     REALLYDAMAGED
Model                            RVHnchBck_GD
Animation                        RVHnchBck_GD.RVHnchBck_GD
End
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING ATTACKING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_2
Model                RVHnchBck_U
End

ConditionState  USER_2 REALLYDAMAGED
Model                RVHnchBck_UD
End
AliasConditionState  USER_2 RUBBLE
AliasConditionState  USER_2 RUBBLE SPECIAL_DAMAGED

End


Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End


; ***DESIGN parameters ***
DisplayName          OBJECT:Hunchback
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object             RussiaHelipad
End

WeaponSet
Conditions  None
Weapon   SECONDARY HunchBack76mmAutoCannonWeapon
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            1400

BuildTime            18              ; in seconds
ExperienceValue      80 80  150 300  ; Experience point value at each level
ExperienceRequired   0  100 250 400  ; Experience points needed to gain each leve
IsTrainable          Yes             ; Can gain experience
CommandSet           RussianVehicleHunchbackCommandSet

; *** AUDIO Parameters ***
VoiceSelect            HunchbackVoiceSelect
VoiceMove              HunchbackVoiceMove
VoiceGuard             HunchbackVoiceMove
VoiceAttack            HunchbackVoiceAttack
VoiceAttackAir         HunchbackVoiceAttack
SoundAmbient           HunchbackAmbientLoop
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          HunchbackVoiceCreate
VoiceUnload          HunchbackVoiceUnload
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD TRANSPORT

Body  ActiveBody ModuleTag_04
MaxHealth        240.0
InitialHealth    240.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HunchbackStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate         0
TurretPitchRate        180
MinPhysicalPitch       -90
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
RotorWashParticleSystem     HelixRotorWashRing
End

Locomotor  SET_NORMAL  HunchbackLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  SECONDARY
End

Behavior  SpecialAbility ModuleTag_32
SpecialPowerTemplate      SpecialAbilityThermobaricBombs
UpdateModuleStartsAttack  Yes
StartsPaused              No
InitiateSound             HunchbackVoiceBombAttack
End

Behavior  SpecialAbilityUpdate ModuleTag_33
SpecialPowerTemplate                SpecialAbilityThermobaricBombs
StartAbilityRange                   15.0
PreparationTime                     0
SpecialObjectAttachToBone           Bombs
SpecialObject                       HunchbackThermobaricBombs
MaxSpecialObjects                   5
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes     ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          No      ;This would prevent multiple charges placed on the same object.
UnpackTime                          450.0     ;slight delay to drop bomb
PackTime                            0.0
FlipOwnerAfterUnpacking             No
FleeRangeAfterCompletion            0.0     ;Dees not run away after finishing ability
UnpackSound                         NoSound
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No      ; we are a helicopter, we can see everything
NeedToFaceTarget                    No      ; can drop the bomb at any angle to target
PersistentPrepTime                  100
PersistenceRequiresRecharge         Yes
TriggerSound                        HanGunshipEmpBombRelease
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_38
SpecialPowerTemplate  SpecialAbilityThermobaricBombs
TriggeredBy           Upgrade_HunchBackBombs
End

Behavior  ModelConditionUpgrade ModuleTag_39
ConditionFlag  USER_1
TriggeredBy    Upgrade_HunchBackBombs
End

Behavior  CommandSetUpgrade ModuleTag_RocketUpgrade03
CommandSet  RussianVehicleHunchbackUpgradedCommandSet
TriggeredBy  Upgrade_HunchBackBombs
ConflictsWith  Upgrade_RussiaGoliathDefence
End

Behavior            OCLSpecialPower ModuleTag_GoliathUpgrade01
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
OCL                   OCL_ActivateGoliathActiveDefenceSystemTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_GoliathUpgrade02
CollideWeapon   GoliathInvulnerabilityWeapon
RequiredStatus  DEPLOYED
End

Behavior  FireWeaponUpdate ModuleTag_GoliathUpgrade03
Weapon  GenericCollisionDummyWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_GoliathUpgrade04
ConditionFlag  USER_2
TriggeredBy  Upgrade_RussiaGoliathDefence
End

Behavior  CommandSetUpgrade ModuleTag_GoliathUpgrade05
CommandSet  RussianVehicleHunchbackGoliathCommandSet
TriggeredBy    Upgrade_RussiaGoliathDefence
ConflictsWith  Upgrade_HunchBackBombs
End

Behavior  CommandSetUpgrade ModuleTag_GoliathUpgrade06
CommandSet  RussianVehicleHunchbackGoliathUpgradedCommandSet
TriggeredBy  Upgrade_RussiaGoliathDefence Upgrade_HunchBackBombs
RequiresAllTriggers  Yes
End

Behavior  MaxHealthUpgrade ModuleTag_GoliathUpgrade07
TriggeredBy    Upgrade_RussiaGoliathDefence
AddMaxHealth   60.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_GoliathUpgrade08
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
DoorCloseTime         4000
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_GroundedHindBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaHunchbackRubbleHull
End

Behavior  HelixContain ModuleTag_09
Slots                  8
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay              100
NumberOfExitPaths      1
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  BOX
GeometryMajorRadius  25.0
GeometryMinorRadius  15.0
GeometryHeight  20.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleHind
; *** ART Parameters ***
SelectPortrait          SRHind_L
ButtonImage             SRHind

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
End

End

Side                 Russia
EditorSorting        VEHICLE
BuildTime            25
BuildCost            2800

Prerequisites
Object   RussiaHelipad
Object   RussiaIndustrialSite
Science  SCIENCE_RussiaGunShipSupport
End

BuildVariations  RussiaVehicleHind_Var01 RussiaVehicleHind_Var02 RussiaVehicleHind_Var03 RussiaVehicleHind_Var04 RussiaVehicleHind_Var05 RussiaVehicleHind_Var06 RussiaVehicleHind_Var07 RussiaVehicleHind_Var08
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Geometry  BOX
GeometryMajorRadius  35.0
GeometryMinorRadius  9.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object RussiaVehicleHind_Var01

; *** ART Parameters ***
SelectPortrait          SRHind_L
ButtonImage             SRHind

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    ONCE
Flags                            RANDOMSTART
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart1
End

ConditionState         REALLYDAMAGED
Model                RVHindPart1_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Hind
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object   RussiaHelipad
Object   RussiaIndustrialSite
Science  SCIENCE_RussiaGunShipSupport
End

WeaponSet
Conditions           NONE
Weapon               PRIMARY     Hind20mmGattlingCannonWeapon
PreferredAgainst     PRIMARY     INFANTRY
Weapon               SECONDARY   HindAirToGroundMissileWeapon
Weapon               TERTIARY    HindAirToAirMissileWeapon
PreferredAgainst     TERTIARY    AIRCRAFT
End

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            2800

BuildTime            25              ; in seconds
ExperienceValue      150 200 300 400 ; Experience point value at each level
ExperienceRequired   0   150 300 500 ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           RussianVehicleHindCommandSet

; *** AUDIO Parameters ***
VoiceSelect            HindVoiceSelect
VoiceMove              HindVoiceMove
VoiceGuard             HindVoiceMove
VoiceAttack            HindVoiceAttack
VoiceAttackAir         HindVoiceAttackAir
SoundAmbient           HindAmbientLoop
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          HindVoiceCreate
VoiceUnload          HindVoiceUnload
VoiceGarrison        HindVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD TRANSPORT

Body  ActiveBody ModuleTag_04
MaxHealth        240.0
InitialHealth    240.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HindStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate  180     ; this "turret" does not turn
TurretPitchRate  180
MinPhysicalPitch  -90 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch  -7.0
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate  0     ; this "turret" does not turn
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
RotorWashParticleSystem     HelixRotorWashRing
End
Locomotor  SET_NORMAL  HindLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_GroundedHindBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaHindRubbleHull
End

Behavior  HelixContain ModuleTag_09
Slots                  6
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay              100
NumberOfExitPaths      1
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;  Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
;    TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
;  End

Behavior            OCLSpecialPower ModuleTag_GoliathUpgrade01
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
OCL                   OCL_UniversalAbbilityTriggerAircraft
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_GoliathUpgrade02
CollideWeapon   GoliathInvulnerabilityWeapon
RequiredStatus  USING_ABILITY
End

Behavior  FireWeaponUpdate ModuleTag_GoliathUpgrade03
Weapon  GenericCollisionDummyWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_GoliathUpgrade04
ConditionFlag  USER_1
TriggeredBy  Upgrade_RussiaGoliathDefence
End

Behavior  CommandSetUpgrade ModuleTag_GoliathUpgrade05
CommandSet  RussianVehicleHindUpgradedCommandSet
TriggeredBy    Upgrade_RussiaGoliathDefence
End

Behavior  MaxHealthUpgrade ModuleTag_GoliathUpgrade06
TriggeredBy    Upgrade_RussiaGoliathDefence
AddMaxHealth   60.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_GoliathUpgrade07
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
DoorCloseTime         4000
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

ObjectReskin RussiaVehicleHind_Var02 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart1
HideSubObject        HOUSECOLOR03
End

ConditionState         REALLYDAMAGED
Model                RVHindPart1_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End

ObjectReskin RussiaVehicleHind_Var03 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart1
HideSubObject        Exhausts
End

ConditionState         REALLYDAMAGED
Model                RVHindPart1_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End

ObjectReskin RussiaVehicleHind_Var04 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart1
HideSubObject        HOUSECOLOR03 Exhausts
End

ConditionState         REALLYDAMAGED
Model                RVHindPart1_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End

ObjectReskin RussiaVehicleHind_Var05 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart2
End

ConditionState         REALLYDAMAGED
Model                RVHindPart2_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End

ObjectReskin RussiaVehicleHind_Var06 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart2
HideSubObject        HOUSECOLOR03
End

ConditionState         REALLYDAMAGED
Model                RVHindPart2_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End


ObjectReskin RussiaVehicleHind_Var07 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart2
HideSubObject        Exhausts
End

ConditionState         REALLYDAMAGED
Model                RVHindPart2_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End

ObjectReskin RussiaVehicleHind_Var08 RussiaVehicleHind_Var01

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHind
Animation                        RVHind.RVHind
AnimationMode                    LOOP
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState                     MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState                     REALLYDAMAGED
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
End

ConditionState                     REALLYDAMAGED MOVING
Model                            RVHind_d
Animation                        RVHind_d.RVHind_d
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_NoseGun01

DefaultConditionState
Model                            RVHindGun
Animation                        RVHindGun.RVHindGun
AnimationMode                    ONCE
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  REALLYDAMAGED
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model  RVHindGun_D
Animation  RVHindGun_D.RVHindGun_D
AnimationMode  LOOP
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model                            RVHind_Mzl
Animation                        RVHind_Mzl.RVHind_Mzl
AnimationMode                    LOOP
Flags                            MAINTAIN_FRAME_ACROSS_STATES
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  FIRING_A
ShowSubObject                    MUZZLEFX01
End
AliasConditionState  REALLYDAMAGED FIRING_A

End

Draw                     W3DModelDraw ModuleTag_RandomBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVHindPart2
HideSubObject        HOUSECOLOR03 Exhausts
End

ConditionState         REALLYDAMAGED
Model                RVHindPart2_D
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHind_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHind_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End
;------------------------------------------------------------------------------
Object RussiaVehicleHokum

; *** ART Parameters ***
SelectPortrait          SRHokum_L
ButtonImage             SRHokum

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVHellion
End

End

Side                 Russia
EditorSorting        VEHICLE

BuildCost            1700
BuildTime            20              ; in seconds

Prerequisites
Object             RussiaHelipad
End

BuildVariations  RussiaVehicleHellionVar1 RussiaVehicleHellionVar2
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaVehicleHellionVar1

; *** ART Parameters ***
SelectPortrait          SRHokum_L
ButtonImage             SRHokum

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     8

DefaultConditionState
Model                            RVHellion
Animation                        RVHellion.RVHellion
AnimationMode                    LOOP
HideSubObject                    EXHAUST01 ROCKETS
Turret                           CHASSIS
TurretPitch                      TURRETEL
WeaponRecoilBone                 SECONDARY Barrel
WeaponFireFXBone                 SECONDARY Muzzle
WeaponLaunchBone                 SECONDARY Muzzle
WeaponMuzzleFlash                SECONDARY MuzzleFX
End

ConditionState  MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model                            RVHellion_D
Animation                        RVHellion_D.RVHellion_D
End

ConditionState  MOVING REALLYDAMAGED
Model                            RVHellion_D
Animation                        RVHellion_D.RVHellion_D
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End


ConditionState  RUBBLE
Model                            RVHellion_D
Animation                        RVHellion_D.RVHellion_D
AnimationMode                    LOOP
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model                            RVHellion_d
AnimationMode                    MANUAL
HideSubObject                    Prop02 Props01
End

End

Draw  W3DModelDraw ModuleTag_MissileBones01

DefaultConditionState
Model                            RVHellion_B
Turret                           TURRETALT
TurretPitch                      TURRETELALT
WeaponFireFXBone                 PRIMARY WeaponA
WeaponLaunchBone                 PRIMARY WeaponA
WeaponFireFXBone                 TERTIARY WeaponB
WeaponLaunchBone                 TERTIARY WeaponB
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
Turret               CHASSIS
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHellion_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHellion_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Hokum
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object   RussiaHelipad
End

WeaponSet
Conditions           None
Weapon               PRIMARY   HelionAntiTankMissileWeapon
Weapon               SECONDARY WereWolf30mmCannonWeapon
PreferredAgainst     SECONDARY INFANTRY
End

;Upgraded with rockets

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   HelionAntiTankMissileWeapon
Weapon               SECONDARY WereWolf30mmCannonWeapon
PreferredAgainst     SECONDARY INFANTRY
Weapon               TERTIARY  WereWolfThermobaricRocketBarrageWeapon
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            1700
BuildTime            20              ; in seconds

ExperienceValue      80 80  150 300  ; Experience point value at each level
ExperienceRequired   0  100 250 400  ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           RussianVehicleHellionCommandSet

; *** AUDIO Parameters ***
VoiceSelect            HellionVoiceSelect
VoiceMove              HellionVoiceMove
VoiceGuard             HellionVoiceMove
VoiceAttack            HellionVoiceAttack
SoundAmbient           BlackSharkAmbientLoop

UnitSpecificSounds
VoiceCreate          HellionVoiceCreate
VoiceFlameLocation   WereWolfVoiceThermobaricAttack
VoiceGarrison        HellionVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_04
MaxHealth        150.0
InitialHealth    150.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HokumStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate         110
TurretPitchRate        180
MinPhysicalPitch       -90
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End

Locomotor  SET_NORMAL  KA50Locomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaHokumRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  SubObjectsUpgrade ModuleTag_RocketUpgrade01
TriggeredBy     Upgrade_HunchBackBombs
ShowSubObjects  ROCKETS
End

Behavior  WeaponSetUpgrade ModuleTag_RocketUpgrade02
TriggeredBy  Upgrade_HunchBackBombs
End

Behavior  CommandSetUpgrade ModuleTag_RocketUpgrade03
CommandSet  RussianVehicleHellionUpgradedCommandSet
TriggeredBy  Upgrade_HunchBackBombs
ConflictsWith  Upgrade_RussiaGoliathDefence
End

Behavior            OCLSpecialPower ModuleTag_GoliathUpgrade01
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
OCL                   OCL_UniversalAbbilityTriggerAircraft
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_GoliathUpgrade02
CollideWeapon   GoliathInvulnerabilityWeapon
RequiredStatus  USING_ABILITY
End

Behavior  FireWeaponUpdate ModuleTag_GoliathUpgrade03
Weapon  GenericCollisionDummyWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_GoliathUpgrade04
ConditionFlag  USER_1
TriggeredBy  Upgrade_RussiaGoliathDefence
End

Behavior  CommandSetUpgrade ModuleTag_GoliathUpgrade05
CommandSet  RussianVehicleHellionGoliathCommandSet
TriggeredBy    Upgrade_RussiaGoliathDefence
ConflictsWith  Upgrade_HunchBackBombs
End

Behavior  CommandSetUpgrade ModuleTag_GoliathUpgrade06
CommandSet  RussianVehicleHellionGoliathUpgradedCommandSet
TriggeredBy    Upgrade_RussiaGoliathDefence Upgrade_HunchBackBombs
RequiresAllTriggers  Yes
End

Behavior  MaxHealthUpgrade ModuleTag_GoliathUpgrade07
TriggeredBy    Upgrade_RussiaGoliathDefence
AddMaxHealth   35.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_GoliathUpgrade08
SpecialPowerTemplate  SpecialAbilityRussiaGoliathSystem
DoorCloseTime         4000
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


ObjectReskin RussiaVehicleHellionVar2 RussiaVehicleHellionVar1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     8

DefaultConditionState
Model                            RVHellion
Animation                        RVHellion.RVHellion
AnimationMode                    LOOP
HideSubObject                    EXHAUST02 ROCKETS
Turret                           CHASSIS
TurretPitch                      TURRETEL
WeaponRecoilBone                 SECONDARY Barrel
WeaponFireFXBone                 SECONDARY Muzzle
WeaponLaunchBone                 SECONDARY Muzzle
WeaponMuzzleFlash                SECONDARY MuzzleFX
End

ConditionState  MOVING
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model                            RVHellion_D
Animation                        RVHellion_D.RVHellion_D
End

ConditionState  MOVING REALLYDAMAGED
Model                            RVHellion_D
Animation                        RVHellion_D.RVHellion_D
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End


ConditionState  RUBBLE
Model                            RVHellion_D
Animation                        RVHellion_D.RVHellion_D
AnimationMode                    LOOP
ParticleSysBone                  EXHAUST01 HelixExhaust
ParticleSysBone                  EXHAUST02 HelixExhaust
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model                            RVHellion_d
AnimationMode                    MANUAL
HideSubObject                    Prop02 Props01
End

End

Draw  W3DModelDraw ModuleTag_MissileBones01

DefaultConditionState
Model                            RVHellion_B
Turret                           TURRETALT
TurretPitch                      TURRETELALT
WeaponFireFXBone                 PRIMARY WeaponA
WeaponLaunchBone                 PRIMARY WeaponA
WeaponFireFXBone                 TERTIARY WeaponB
WeaponLaunchBone                 TERTIARY WeaponB
End

End

Draw                     W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
Turret               CHASSIS
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  USER_1
Model                RVHellion_U
End

ConditionState  USER_1 REALLYDAMAGED
Model                RVHellion_UD
End
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  LOOP
HideSubObject  Plane01
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN

ConditionState  DOOR_1_CLOSING
Model  EXGolthAura
Animation  EXGolthAura.EXGolthAura
AnimationMode  ONCE
ShowSubObject  Plane01
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

End
;------------------------------------------------------------------------------
Object RussiaJetBerkut

; *** ART Parameters ***
SelectPortrait          SRBerkut_L
ButtonImage             SRBerkut


Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                RVBerkut
Animation            RVBerkut.RVBerkut
AnimationMode        MANUAL
HideSubObject        BurnerFX
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     PRIMARY   Muzzle
WeaponMuzzleFlash    PRIMARY   Muzzle
WeaponLaunchBone     SECONDARY Muzzle2
WeaponFireFXBone     SECONDARY Muzzle2
WeaponMuzzleFlash    SECONDARY Muzzle2
WeaponLaunchBone     TERTIARY  WeaponA
WeaponFireFXBone     TERTIARY  WeaponA
End
AliasConditionState    DOOR_1_CLOSING

ConditionState         JETEXHAUST
AnimationMode        MANUAL
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
WaitForStateToFinishIfPossible  TRANS_BARREL_ROLL
End

ConditionState         JETEXHAUST DOOR_1_CLOSING
Model                RVBerkut
Animation            RVBerkut.RVBerkut
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
TransitionKey        TRANS_BARREL_ROLL
End

ConditionState         JETEXHAUST JETAFTERBURNER
AnimationMode        MANUAL
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ShowSubObject        BurnerFX
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
End
AliasConditionState    JETEXHAUST JETAFTERBURNER DOOR_1_CLOSING

ConditionState         REALLYDAMAGED
Model                RVBerkut_D
Animation            RVBerkut_D.RVBerkut_D
AnimationMode        MANUAL
HideSubObject        BurnerFX
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End
AliasConditionState    REALLYDAMAGED DOOR_1_CLOSING

ConditionState         REALLYDAMAGED JETEXHAUST
Model                RVBerkut_D
Animation            RVBerkut_D.RVBerkut_D
AnimationMode        MANUAL
Flags                MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
WaitForStateToFinishIfPossible  TRANS_BARREL_ROLL
End

ConditionState         REALLYDAMAGED JETEXHAUST DOOR_1_CLOSING
Model                RVBerkut_D
Animation            RVBerkut_D.RVBerkut_D
AnimationMode        ONCE
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
TransitionKey        TRANS_BARREL_ROLL
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                RVBerkut_D
Animation            RVBerkut_D.RVBerkut_D
AnimationMode        MANUAL
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
ShowSubObject        BurnerFX
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End
AliasConditionState    REALLYDAMAGED JETEXHAUST JETAFTERBURNER DOOR_1_CLOSING

ConditionState         RUBBLE
Model                RVBerkut_D
Animation            RVBerkut_D.RVBerkut_D
AnimationMode        MANUAL
HideSubObject        BurnerFX
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End
AliasConditionState    RUBBLE DOOR_1_CLOSING

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:Berkut
EditorSorting            VEHICLE
Side                     Russia
TransportSlotCount       0 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0
Prerequisites
Object                 RussiaAirfield
End

WeaponSet
Conditions             None
;Weapon                 PRIMARY   BerkutCannonWeaponGround
Weapon                 SECONDARY BerkutCannonWeaponaAir
Weapon                 TERTIARY  BerkutMissileWeapon
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End


BuildCost                1300
BuildTime                20
ExperienceValue          50 50 100 150  ;Experience point value at each level
ExperienceRequired       0 100 200 400   ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel             1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               RussianJetBerkutCommandSet

; *** AUDIO Parameters ***
VoiceSelect             BerkutVoiceSelect
VoiceMove               BerkutVoiceMove
VoiceAttack             BerkutVoiceAttack
VoiceAttackAir          BerkutVoiceAttackAir
VoiceGuard              BerkutVoiceGuard
SoundAmbient            BerkutAmbientLoop
SoundAmbientRubble      NoSound

UnitSpecificSounds
VoiceCreate           BerkutVoiceCreate
Afterburner           RaptorAfterburner
VoiceGarrison         BerkutVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             180.0
InitialHealth         180.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_BerkutDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_BerkutDeathFinalBlowUp
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09

Turret
TurretTurnRate  0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End

OutOfAmmoDamagePerSecond   10%
TakeoffDistForMaxLift      0%
TakeoffPause               500
MinHeight                  5
ParkingOffset              3
ReturnToBaseIdleTime       10000
End

Locomotor  SET_NORMAL BerkutJetLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;Shtora Active defence
Behavior            OCLSpecialPower ModuleTag_BarrelRoll01 ; DO A BARREL ROLL!
SpecialPowerTemplate  SpecialAbilityRussiaBerkutBarrelRoll
OCL                   OCL_BerkutBarrelRollObject
CreateLocation        USE_OWNER_OBJECT
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_BarrelRoll02 ; DO A BARREL ROLL!
SpecialPowerTemplate  SpecialAbilityRussiaBerkutBarrelRoll
DoorOpenTime          1
DoorWaitOpenTime      1
DoorCloseTime         4000
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;------------------------------------------------------------------------------
Object RussiaMissileSilo

; *** ART Parameters ***
SelectPortrait          SRMissileSilo_L
ButtonImage             SRMissileSilo

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Unarmed Conditions

ConditionState       NONE
Model              RBMslSlo
Animation          RBMslSlo.RBMslSlo
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 NIGHT

ConditionState       RIDER1 DAMAGED
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
TransitionKey      TRANS_DAMAGED
End
AliasConditionState  RIDER1 DAMAGED NIGHT
AliasConditionState  RIDER1 DAMAGED SNOW
AliasConditionState  RIDER1 DAMAGED NIGHT SNOW
AliasConditionState  RIDER1 REALLYDAMAGED
AliasConditionState  RIDER1 REALLYDAMAGED NIGHT
AliasConditionState  RIDER1 REALLYDAMAGED SNOW
AliasConditionState  RIDER1 REALLYDAMAGED NIGHT SNOW
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER1 RUBBLE NIGHT
AliasConditionState  RIDER1 RUBBLE SNOW
AliasConditionState  RIDER1 RUBBLE NIGHT SNOW

ConditionState       RIDER1 SNOW
Model              RBMslSlo_S
Animation          RBMslSlo_S.RBMslSlo_S
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
TransitionKey      TRANS_SNOW
End
AliasConditionState  RIDER1 NIGHT SNOW

;;;;Armed Conditions

ConditionState       RIDER2
Model              RBMslSlo
Animation          RBMslSlo.RBMslSlo
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
End
AliasConditionState  RIDER2 NIGHT

ConditionState       RIDER2 DAMAGED
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
TransitionKey      TRANS_Damaged
End
AliasConditionState  RIDER2 DAMAGED NIGHT
AliasConditionState  RIDER2 DAMAGED SNOW
AliasConditionState  RIDER2 DAMAGED NIGHT SNOW
AliasConditionState  RIDER2 REALLYDAMAGED
AliasConditionState  RIDER2 REALLYDAMAGED NIGHT
AliasConditionState  RIDER2 REALLYDAMAGED SNOW
AliasConditionState  RIDER2 REALLYDAMAGED NIGHT SNOW
AliasConditionState  RIDER2 RUBBLE
AliasConditionState  RIDER2 RUBBLE NIGHT
AliasConditionState  RIDER2 RUBBLE SNOW
AliasConditionState  RIDER2 RUBBLE NIGHT SNOW

ConditionState       RIDER2 SNOW
Model              RBMslSlo_S
Animation          RBMslSlo_S.RBMslSlo_S
AnimationMode      ONCE_BACKWARDS MAINTAIN_FRAME_ACROSS_STATES
Flags              START_FRAME_LAST
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
TransitionKey      TRANS_Snow
End
AliasConditionState  RIDER2 NIGHT SNOW

;;;;Launching Conditions

ConditionState       RIDER2 PREATTACK_B
Model              RBMslSlo
Animation          RBMslSlo.RBMslSlo
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             TURRET
ShowSubObject      REDLIGHT02 WEAPONA01
HideSubObject      FAN01 FAN02
TransitionKey      TRANS_PREATTACK_NORMAL
End
AliasConditionState  RIDER2 PREATTACK_B NIGHT

ConditionState       RIDER2 PREATTACK_B DAMAGED
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             TURRET
ShowSubObject      REDLIGHT02 WEAPONA01
HideSubObject      FAN01 FAN02
TransitionKey      TRANS_PREATTACK_DAMAGED
End
AliasConditionState  RIDER2 PREATTACK_B DAMAGED NIGHT
AliasConditionState  RIDER2 PREATTACK_B DAMAGED SNOW
AliasConditionState  RIDER2 PREATTACK_B DAMAGED NIGHT SNOW
AliasConditionState  RIDER2 PREATTACK_B REALLYDAMAGED
AliasConditionState  RIDER2 PREATTACK_B REALLYDAMAGED NIGHT
AliasConditionState  RIDER2 PREATTACK_B REALLYDAMAGED SNOW
AliasConditionState  RIDER2 PREATTACK_B REALLYDAMAGED NIGHT SNOW
AliasConditionState  RIDER2 PREATTACK_B RUBBLE
AliasConditionState  RIDER2 PREATTACK_B RUBBLE NIGHT
AliasConditionState  RIDER2 PREATTACK_B RUBBLE SNOW
AliasConditionState  RIDER2 PREATTACK_B RUBBLE NIGHT SNOW

ConditionState       RIDER2 PREATTACK_B SNOW
Model              RBMslSlo_S
Animation          RBMslSlo_S.RBMslSlo_S
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             TURRET
ShowSubObject      REDLIGHT02 WEAPONA01
HideSubObject      FAN01 FAN02
TransitionKey      TRANS_PREATTACK_SNOW
End
AliasConditionState  RIDER2 PREATTACK_B NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBMslSlo
Animation          RBMslSlo.RBMslSlo
AnimationMode      ONCE_BACKWARDS
HideSubObject      REDLIGHT02 FAN01 FAN02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      ONCE_BACKWARDS
HideSubObject      REDLIGHT02 FAN01 FAN02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBMslSlo_S
Animation          RBMslSlo_S.RBMslSlo_S
AnimationMode      ONCE_BACKWARDS
HideSubObject      REDLIGHT02 FAN01 FAN02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION SNOW
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  RIDER1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  RIDER1 SOLD
AliasConditionState  RIDER1 SOLD DAMAGED
AliasConditionState  RIDER1 SOLD REALLYDAMAGED
AliasConditionState  RIDER1 SOLD NIGHT
AliasConditionState  RIDER1 SOLD NIGHT DAMAGED
AliasConditionState  RIDER1 SOLD NIGHT REALLYDAMAGED
AliasConditionState  RIDER1 SOLD SNOW
AliasConditionState  RIDER1 SOLD SNOW DAMAGED
AliasConditionState  RIDER1 SOLD SNOW REALLYDAMAGED
AliasConditionState  RIDER1 SOLD NIGHT SNOW
AliasConditionState  RIDER1 SOLD NIGHT SNOW DAMAGED
AliasConditionState  RIDER1 SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION NIGHT
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION SNOW
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  RIDER2 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  RIDER2 SOLD
AliasConditionState  RIDER2 SOLD DAMAGED
AliasConditionState  RIDER2 SOLD REALLYDAMAGED
AliasConditionState  RIDER2 SOLD NIGHT
AliasConditionState  RIDER2 SOLD NIGHT DAMAGED
AliasConditionState  RIDER2 SOLD NIGHT REALLYDAMAGED
AliasConditionState  RIDER2 SOLD SNOW
AliasConditionState  RIDER2 SOLD SNOW DAMAGED
AliasConditionState  RIDER2 SOLD SNOW REALLYDAMAGED
AliasConditionState  RIDER2 SOLD NIGHT SNOW
AliasConditionState  RIDER2 SOLD NIGHT SNOW DAMAGED
AliasConditionState  RIDER2 SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End


Draw                    W3DModelDraw ModuleTag_Fans01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState       NONE
Model              RBMslSlo
Animation          RBMslSlo.RBMslSlo
AnimationMode      LOOP
Flags              START_FRAME_FIRST
HideSubObject      STRUCTURE
TransitionKey      TRANS_Normal
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState       DAMAGED
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      LOOP
Flags              START_FRAME_FIRST
HideSubObject      STRUCTURE
TransitionKey      TRANS_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE NIGHT
AliasConditionState  RUBBLE SNOW
AliasConditionState  RUBBLE NIGHT SNOW


;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBMslSlo
Animation          RBMslSlo.RBMslSlo
AnimationMode      ONCE_BACKWARDS
HideSubObject      STRUCTURE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      ONCE_BACKWARDS
HideSubObject      STRUCTURE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw                    W3DModelDraw ModuleTag_FireBone01

DefaultConditionState
Model              RBMslSlo_B
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBMslSlo_BF
Animation        RBMslSlo_BF.RBMslSlo_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBMslSlo_BF
Animation        RBMslSlo_BF.RBMslSlo_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBMslSlo_BF
Animation        RBMslSlo_BF.RBMslSlo_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBMslSlo_SC
Animation        RBMslSlo_SC.RBMslSlo_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBMslSlo_SC
Animation        RBMslSlo_SC.RBMslSlo_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBMslSlo_SC
Animation        RBMslSlo_SC.RBMslSlo_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:MissileSilo
Side                 Russia
EditorSorting        STRUCTURE
Prerequisites
Object             RussiaIndustrialSite
Object             RussiaWeaponsBunkerNuclearStockpileBuildDummyObject
Science            SCIENCE_ICBMClearance
End
BuildCost            2500
BuildTime            60.0           ; in seconds
EnergyProduction     -16
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
ShroudRevealToAllRange  20

WeaponSet
Conditions  WEAPON_RIDER1
Weapon             SECONDARY  NONE
AutoChooseSources  SECONDARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon             SECONDARY  MissileSiloWeaponOne
AutoChooseSources  SECONDARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER3
Weapon             SECONDARY  MissileSiloWeaponTwo
AutoChooseSources  SECONDARY  NONE
End

ArmorSet
Conditions         None
Armor              StructureArmorTough
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      200 200 200 200  ; Experience point value at each level
MaxSimultaneousOfType  1

; *** AUDIO Parameters ***
VoiceSelect            RussianMissileSiloSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY CAN_ATTACK POWERED

Body             StructureBody ModuleTag_08
MaxHealth        1200.0
InitialHealth    1200.0

SubdualDamageCap  1500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceFlameLocation   MissileSiloVoiceLaunch
End

Behavior  AIUpdateInterface ModuleTag_AI03
AutoAcquireEnemiesWhenIdle  No
End


Behavior  ProductionUpdate ModuleTag_ShowWeaponRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowWeaponRange02
UpgradeObject  OCL_MissileSiloRangeIndicator
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_MissileRearm01

Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussiaMissileSiloCommandSet            SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussiaMissileSiloUpgradedOneCommandSet SET_NORMAL
Rider3  GenericFakeRider3_Default_Rank RIDER2 WEAPON_RIDER3 STATUS_RIDER2 RussiaMissileSiloUpgradedTwoCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

;Arms the missile silo with one missile
Behavior  FireWeaponCollide ModuleTag_MissileRearm02
CollideWeapon    MissileSiloOneMissileWeapon
RequiredStatus   STATUS_RIDER8
End

;Arms the missile silo with one missile if you immediately re-arm the silo
;after firing the first missile to prevent you from getting one missile for free
Behavior  FireWeaponCollide ModuleTag_MissileRearm022
CollideWeapon    MissileSiloOneMissileWeapon
RequiredStatus   STATUS_RIDER6
ForbiddenStatus  STATUS_RIDER2
End

;Arms the missile silo with a second missile
Behavior  FireWeaponCollide ModuleTag_MissileRearm0222
CollideWeapon    MissileSiloTwoMissilesWeapon
RequiredStatus   STATUS_RIDER7
ForbiddenStatus  STATUS_RIDER1
End

;Collision to make everything work
Behavior  FireWeaponUpdate ModuleTag_MissileRearm041
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

;This module activates an alarm on the silo when its about to launch its missile
Behavior  FireWeaponCollide ModuleTag_MissileRearm051
CollideWeapon   SiloTacticalMissilePreLaunchAlarmWeapon
RequiredStatus  STATUS_RIDER2 IS_FIRING_WEAPON
End

;This module reveals the silo to everyone when its firing its missile
Behavior  FireWeaponCollide ModuleTag_MissileRearm061
CollideWeapon   SiloTacticalMissileRevealToAllWeapon
RequiredStatus  STATUS_RIDER2 IS_FIRING_WEAPON
End


;************************************
;******Transformation Code End********
;************************************

;This spawns a crate that only bomb trucks can pick up to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
ExemptStatus    UNDER_CONSTRUCTION
CrateData       SiloWarheadCrateData
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL -TOPPLED
CreationList   OCL_MissileSiloCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
DeathTypes  ALL
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
DeathTypes      ALL
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  InstantDeathBehavior ModuleTag_Captured01
DeathTypes      NONE +TOPPLED
ExemptStatus    UNDER_CONSTRUCTION
End
Behavior          CreateObjectDie ModuleTag_Captured02
DeathTypes      NONE +TOPPLED
ExemptStatus    UNDER_CONSTRUCTION
CreationList    OCL_MissileSiloCaptureRespawnPhaseOne
TransferPreviousHealth  Yes
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  28.0
GeometryMinorRadius  41.0
GeometryHeight       12.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaMissileSiloRevealToallObject

; ***DESIGN parameters ***
VisionRange      300.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT
ShroudRevealToAllRange  40

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1000   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  1000
End
End

;------------------------------------------------------------------------------
Object RussiaMissileSilo_CollapseObject

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              RBMslSlo_D
Animation          RBMslSlo_D.RBMslSlo_D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      REDLIGHT02 FAN01 FAN02 WEAPONA01
TransitionKey      TRANS_DAMAGED
ParticleSysBone    WEAPONA01 MissileSiloSteamVent
End

End

; ***DESIGN parameters ***
Side  Russia
EditorSorting     SYSTEM

ArmorSet
Conditions        None
Armor            StructureArmorTough
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  LifetimeUpdate ModuleTag_Collapse04
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  28.0
GeometryMinorRadius  41.0
GeometryHeight       12.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaMissileSiloCapturedUnarmed

; *** ART Parameters ***

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               RBMslSlo
End
AliasConditionState   NIGHT
AliasConditionState   DAMAGED
AliasConditionState   DAMAGED NIGHT
AliasConditionState   REALLYDAMAGED
AliasConditionState   REALLYDAMAGED NIGHT
AliasConditionState   DAMAGED SNOW
AliasConditionState   DAMAGED NIGHT SNOW
AliasConditionState   REALLYDAMAGED SNOW
AliasConditionState   REALLYDAMAGED NIGHT SNOW
AliasConditionState   RUBBLE
AliasConditionState   RUBBLE SNOW

ConditionState        SNOW
Model               RBMslSlo_S
HideSubObject       Garrisoned
End
AliasConditionState   NIGHT SNOW

End

; ***DESIGN parameters ***
DisplayName        OBJECT:MissileSilo
Side               Russia
EditorSorting      SYSTEM
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD PORTABLE_STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE

Body               StructureBody ModuleTag_05
MaxHealth        1200.0
InitialHealth    1200.0

SubdualDamageCap  1500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior         CreateObjectDie ModuleTag_13231
CreationList   OCL_MissileSiloCaptureRespawnPhaseTwo
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_06232
DeathTypes  ALL
DestructionDelay  100
End

Behavior  LifetimeUpdate ModuleTag_06232231
MinLifetime  1000
MaxLifetime  1000
End

Geometry             BOX
GeometryMajorRadius  28.0
GeometryMinorRadius  41.0
GeometryHeight       12.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaRadarStationAirraidMode

; *** ART Parameters ***
SelectPortrait          SREarlyWarningOutpost_L
ButtonImage             SREarlyWarningOutpost

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  RUBBLE

ConditionState  DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState  SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  RUBBLE SNOW

;Night conditions
ConditionState  NIGHT
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE

ConditionState  NIGHT DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  NIGHT DAMAGED SNOW

ConditionState  NIGHT REALLYDAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  NIGHT REALLYDAMAGED SNOW

ConditionState  NIGHT SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBRdrOpst
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBRdrOpst_D
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBRdrOpst_S
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model              RBRdrOpst
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model              RBRdrOpst_D
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model              RBRdrOpst_S
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

;Radar dish animations
Draw  W3DModelDraw ModuleTag_Dish01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBRdrOpst
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP LIGHT01 LIGHT02
ParticleSysBone     FENCE02 ChinaSensorTowerPingEffect
End

ConditionState        DAMAGED
Model               RBRdrOpst_D
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP LIGHT01 LIGHT02
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED

ConditionState        SNOW
Model               RBRdrOpst_S
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP LIGHT01 LIGHT02
End

;Night conditions
ConditionState        NIGHT
Model               RBRdrOpst
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL LIGHT01 LIGHT02
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP
End

ConditionState        NIGHT DAMAGED
Model               RBRdrOpst_D
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL LIGHT01 LIGHT02
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED

ConditionState        NIGHT SNOW
Model               RBRdrOpst_S
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL LIGHT01 LIGHT02
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP
End

;Buildup animations
ConditionState        POWER_PLANT_UPGRADING
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       ONCE
Turret              TURRET02
ShowSubObject       ARAIDBLDUP
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDFINAL LIGHT01 LIGHT02
End
AliasConditionState  POWER_PLANT_UPGRADING NIGHT

ConditionState        POWER_PLANT_UPGRADING DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       ONCE
Turret              TURRET02
ShowSubObject       ARAIDBLDUP
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDFINAL LIGHT01 LIGHT02
End
AliasConditionState  POWER_PLANT_UPGRADING DAMAGED NIGHT
AliasConditionState  POWER_PLANT_UPGRADING REALLYDAMAGED RUBBLE
AliasConditionState  POWER_PLANT_UPGRADING REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  POWER_PLANT_UPGRADING DAMAGED SNOW
AliasConditionState  POWER_PLANT_UPGRADING DAMAGED NIGHT SNOW
AliasConditionState  POWER_PLANT_UPGRADING REALLYDAMAGED RUBBLE SNOW
AliasConditionState  POWER_PLANT_UPGRADING REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState        POWER_PLANT_UPGRADING SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       ONCE
Turret              TURRET02
ShowSubObject       ARAIDBLDUP
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDFINAL LIGHT01 LIGHT02
End
AliasConditionState  POWER_PLANT_UPGRADING NIGHT SNOW

;**************************************************************************************************************************
ConditionState        AWAITING_CONSTRUCTION
Model               NONE
TransitionKey       TRANS_CONSTRUCTING
End
AliasConditionState   SOLD
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION
AliasConditionState   NIGHT SOLD
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION
AliasConditionState   SNOW NIGHT SOLD
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT
AliasConditionState   REALLYDAMAGED RUBBLE SNOW
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   NIGHT SOLD DAMAGED
AliasConditionState   NIGHT SOLD REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW SOLD DAMAGED
AliasConditionState   SNOW SOLD REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW NIGHT SOLD DAMAGED
AliasConditionState   SNOW NIGHT SOLD REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:EarlyWarningOutpost
Side              Russia
EditorSorting     STRUCTURE
BuildCost         500
BuildTime         10.0           ; in seconds
EnergyProduction  -5
CommandSet        RussiaRadarStationEarlyWarningOutpostCommandSet
VisionRange       600.0           ; Shroud clearing distance
ShroudClearingRange  600

WeaponSet
Conditions           None
Weapon               PRIMARY     AirRaidGunDummyWeapon
Weapon               SECONDARY   AirRaidSpotLightTargetingWeapon
PreferredAgainst     SECONDARY   AIRCRAFT
End

Prerequisites
Object  RussiaPowerPlant
End

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianRadarSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE MP_COUNT_FOR_VICTORY SCORE_CREATE POWERED
Body             StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate         120   // turn rate, in degrees per sec
TurretPitchRate        120
AllowsPitch            Yes
NaturalTurretPitch     25
ControlledWeaponSlots  SECONDARY ;PRIMARY TERTIARY
MinIdleScanInterval    500    ; in milliseconds
MaxIdleScanInterval    2000    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         30
End

Behavior  PointDefenseLaserUpdate ModuleTag_64
WeaponTemplate         AirRiadSirineGun
PrimaryTargetTypes     AIRCRAFT
ScanRate               100
ScanRange              1000.0
PredictTargetVelocityFactor  3.0
End

Behavior         CreateObjectDie ModuleTag_08a
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_09
DeathFX        FX_StructureSmallDeath
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  2700
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR SMALL MEDIUM FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  InstantDeathBehavior ModuleTag_Collapse01
DeathTypes      ALL
ExemptStatus    UNDER_CONSTRUCTION
OCL             OCL_RussianRadarTowerAirraidModeCollapse
End

Behavior  InstantDeathBehavior ModuleTag_Collapse02
DeathTypes      ALL
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  ProductionUpdate ModuleTag_ShowDetectionRange01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange02
UpgradeObject  OCL_EarlyWarningOutpostDetectionRangeIndicator
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  26.5
GeometryMinorRadius  26.5
GeometryHeight       53.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaRadarStationAirraidMode_CollapseObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  RUBBLE

ConditionState  NIGHT
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE

End

;Radar dish animations
Draw  W3DModelDraw ModuleTag_Dish01
OkToChangeModelColor  Yes
DefaultConditionState
Model               RBRdrOpst
Turret              TURRET
TurretPitch         TURRETEL
ShowSubObject       ARAIDFINAL
HideSubObject       STRUCTURE MODE01 MODE03 ARAIDBLDUP LIGHT01 LIGHT02
End
End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:RussiaRadarStation
Side              Russia
EditorSorting     SYSTEM

Prerequisites
Object  RussiaPowerPlant
End

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_05
MaxHealth      10.0
InitialHealth  10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  26.5
GeometryMinorRadius  26.5
GeometryHeight       53.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaRadarStationAirraidModeDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  2000
MaxLifetime  2000
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCDetection
ShadowSizeX  830
ShadowSizeY  830

End
;------------------------------------------------------------------------------
Object RussiaRadarStationPassiveMode

; *** ART Parameters ***
SelectPortrait          SRObservationOutpost_L
ButtonImage             SRObservationOutpost

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  RUBBLE

ConditionState  DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState  SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  RUBBLE SNOW

;Night conditions
ConditionState  NIGHT
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE

ConditionState  NIGHT DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  NIGHT DAMAGED SNOW

ConditionState  NIGHT REALLYDAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  NIGHT REALLYDAMAGED SNOW

ConditionState  NIGHT SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBRdrOpst
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBRdrOpst_D
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBRdrOpst_S
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model              RBRdrOpst
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model              RBRdrOpst_D
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model              RBRdrOpst_S
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

;Radar dish animations
Draw  W3DModelDraw ModuleTag_Dish01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       ONCE
HideSubObject       STRUCTURE MODE01 MODE02
Flags               MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone     DOME ObservationOupostPingEffect
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       ONCE
HideSubObject       STRUCTURE MODE01 MODE02
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState        SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       ONCE
HideSubObject       STRUCTURE MODE01 MODE02
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState        AWAITING_CONSTRUCTION
Model               NONE
TransitionKey       TRANS_CONSTRUCTING
End
AliasConditionState   SOLD
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION
AliasConditionState   NIGHT SOLD
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION
AliasConditionState   SNOW NIGHT SOLD
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT
AliasConditionState   REALLYDAMAGED RUBBLE SNOW
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   NIGHT SOLD DAMAGED
AliasConditionState   NIGHT SOLD REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW SOLD DAMAGED
AliasConditionState   SNOW SOLD REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW NIGHT SOLD DAMAGED
AliasConditionState   SNOW NIGHT SOLD REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ObservationOutpost
Side              Russia
EditorSorting     STRUCTURE
BuildCost         500
BuildTime         10.0           ; in seconds
EnergyProduction  -5
CommandSet        RussiaRadarStationCommandSetUpgraded
VisionRange       800.0           ; Shroud clearing distance
ShroudClearingRange  800

Prerequisites
Object  RussiaPowerPlant
End

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianRadarSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE MP_COUNT_FOR_VICTORY SCORE_CREATE POWERED
Body             StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior         CreateObjectDie ModuleTag_08a
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_09
DeathFX        FX_StructureSmallDeath
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_Stealth07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   TAKING_DAMAGE
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR SMALL MEDIUM FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  InstantDeathBehavior ModuleTag_Collapse01
DeathTypes      ALL
ExemptStatus    UNDER_CONSTRUCTION
OCL             OCL_RussianRadarTowerPassiveModeCollapse
End

Behavior  InstantDeathBehavior ModuleTag_Collapse02
DeathTypes      ALL
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Geometry             BOX
GeometryMajorRadius  26.5
GeometryMinorRadius  26.5
GeometryHeight       53.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaRadarStationPassiveMode_CollapseObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  RUBBLE

ConditionState  NIGHT
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE

End

;Radar dish animations
Draw  W3DModelDraw ModuleTag_Dish01
OkToChangeModelColor  Yes
DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       ONCE
HideSubObject       STRUCTURE MODE01 MODE02
Flags               START_FRAME_LAST
End
AliasConditionState  NIGHT
End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:RussiaRadarStation
Side              Russia
EditorSorting     SYSTEM

Prerequisites
Object  RussiaPowerPlant
End

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_05
MaxHealth      10.0
InitialHealth  1000.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  26.5
GeometryMinorRadius  26.5
GeometryHeight       53.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaRadarStation

; *** ART Parameters ***
SelectPortrait          SRRadarStation_L
ButtonImage             SRRadarStation

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  RUBBLE

ConditionState  DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  DAMAGED SNOW

ConditionState  REALLYDAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED SNOW

ConditionState  SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  RUBBLE SNOW

;Night conditions
ConditionState  NIGHT
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE

ConditionState  NIGHT DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  NIGHT DAMAGED SNOW

ConditionState  NIGHT REALLYDAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  NIGHT REALLYDAMAGED SNOW

ConditionState  NIGHT SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBRdrOpst
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBRdrOpst_D
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBRdrOpst_S
HideSubObject      MODE01 MODE02 MODE03 NIGHTLIGHT
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model              RBRdrOpst
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model              RBRdrOpst_D
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model              RBRdrOpst_S
ShowSubObject      NIGHTLIGHT
HideSubObject      MODE01 MODE02 MODE03
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

;Radar dish animations
Draw  W3DModelDraw ModuleTag_Dish01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
ShowSubObject       DISHFINAL
HideSubObject       STRUCTURE MODE02 MODE03 DISHBUILDUP
TransitionKey       TRANS_NORMAL
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       DISHFINAL
HideSubObject       STRUCTURE MODE02 MODE03 DISHBUILDUP
TransitionKey       TRANS_DAMAGED
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState        SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       LOOP
ShowSubObject       DISHFINAL
HideSubObject       STRUCTURE MODE02 MODE03 DISHBUILDUP
TransitionKey       TRANS_SNOW
End
AliasConditionState  NIGHT SNOW

TransitionState       TRANS_CONSTRUCTING TRANS_NORMAL
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       ONCE
ShowSubObject       DISHBUILDUP
HideSubObject       STRUCTURE MODE02 MODE03 DISHFINAL
End

TransitionState       TRANS_CONSTRUCTING_DAMAGED TRANS_DAMAGED
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       ONCE
ShowSubObject       DISHBUILDUP
HideSubObject       STRUCTURE MODE02 MODE03 DISHFINAL
End

TransitionState       TRANS_CONSTRUCTING_SNOW TRANS_SNOW
Model               RBRdrOpst_S
Animation           RBRdrOpst_S.RBRdrOpst_S
AnimationMode       ONCE
ShowSubObject       DISHBUILDUP
HideSubObject       STRUCTURE MODE02 MODE03 DISHFINAL
End

;**************************************************************************************************************************
ConditionState        AWAITING_CONSTRUCTION
Model               NONE
TransitionKey       TRANS_CONSTRUCTING
End
AliasConditionState   SOLD
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION
AliasConditionState   NIGHT SOLD
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION
AliasConditionState   SNOW NIGHT SOLD
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT
AliasConditionState   REALLYDAMAGED RUBBLE SNOW
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION DAMAGED
Model               NONE
TransitionKey       TRANS_CONSTRUCTING_DAMAGED
End
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   NIGHT SOLD DAMAGED
AliasConditionState   NIGHT SOLD REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   SNOW NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW SOLD DAMAGED
AliasConditionState   SNOW SOLD REALLYDAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SNOW NIGHT SOLD DAMAGED
AliasConditionState   SNOW NIGHT SOLD REALLYDAMAGED

ConditionState        SNOW AWAITING_CONSTRUCTION
Model               NONE
TransitionKey       TRANS_CONSTRUCTING_SNOW
End
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBRdrOpst_BF
Animation        RBRdrOpst_BF.RBRdrOpst_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBRdrOpst_SC
Animation        RBRdrOpst_SC.RBRdrOpst_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:RussiaRadarStation
Side              Russia
EditorSorting     STRUCTURE
BuildCost         300
BuildTime         5.0           ; in seconds
EnergyProduction  -5
CommandSet        RussiaRadarStationCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

Prerequisites
Object  RussiaPowerPlant
End

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianRadarSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE MP_COUNT_FOR_VICTORY SCORE_CREATE POWERED
Body             StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI01
End

Behavior  FlammableUpdate ModuleTag_13
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;This module spawns the dummy object that activated the radar and will stop doing so when under powered or when sold.
Behavior  FireWeaponUpdate ModuleTag_15
Weapon  RadarOutpostRadarDummyObjectSpawnWeapon
End

;  Behavior  GrantUpgradeCreate ModuleTag_14
;    UpgradeToGrant   Upgrade_ChinaRadar
;    ExemptStatus     UNDER_CONSTRUCTION
;  End
;
;  Behavior          RadarUpgrade ModuleTag_15
;    TriggeredBy    Upgrade_ChinaRadar
;  End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR SMALL MEDIUM FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

;-------------VERY SPECIAL UPGRADE CODE START-------------------

Behavior                  FireWeaponUpdate ModuleTag_Upgrade01
Weapon                  GLACommandTruckRadarCollisionDummyWeapon
End

;upgrade to passive radar tower
Behavior  FireWeaponCollide ModuleTag_Upgrade02
CollideWeapon           SuicideWeapon
RequiredStatus          STATUS_RIDER6
End

Behavior                  CreateObjectDie ModuleTag_Upgrade03
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER6
CreationList            OCL_RussianRadarTowerPassiveUpgrading
TransferPreviousHealth  Yes
End

;upgrade to airraid tower
Behavior  FireWeaponCollide ModuleTag_Upgrade04
CollideWeapon           SuicideWeapon
RequiredStatus          STATUS_RIDER7
End

Behavior                  CreateObjectDie ModuleTag_Upgrade05
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER7
CreationList            OCL_RussianRadarTowerAirraidUpgrading
TransferPreviousHealth  Yes
End

Behavior  ProductionUpdate ModuleTag_Upgrade08
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_Upgrade09
UnitCreatePoint    X:  0.0   Y:0.0  Z:0.0
NaturalRallyPoint  X:  80.0  Y:0.0  Z:0.0
End

Behavior  SlowDeathBehavior ModuleTag_Upgrade10
DestructionDelay   100
DeathTypes         NONE +SUICIDED
End

;-------------VERY SPECIAL UPGRADE CODE END-------------------

Behavior  InstantDeathBehavior ModuleTag_Collapse01
DeathTypes      ALL -SUICIDED
ExemptStatus    UNDER_CONSTRUCTION
OCL             OCL_RussianRadarTowerCollapse
End

Behavior  InstantDeathBehavior ModuleTag_Collapse02
DeathTypes      ALL -SUICIDED
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
DeathTypes         ALL -SUICIDED
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  GrantUpgradeCreate ModuleTag_RadarActive01
UpgradeToGrant  Upgrade_RussiaSentinelMissiles
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  ObjectCreationUpgrade ModuleTag_RadarActive02
UpgradeObject  OCL_RussiaRadarOutpostRadarPresentDummyObject
TriggeredBy    Upgrade_RussiaSentinelMissiles
End

Geometry             BOX
GeometryMajorRadius  26.5
GeometryMinorRadius  26.5
GeometryHeight       53.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaRadarStation_CollapseObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
HideSubObject       MODE01 MODE02 MODE03 NIGHTLIGHT
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  RUBBLE

ConditionState  NIGHT
Model               RBRdrOpst_D
Animation           RBRdrOpst_D.RBRdrOpst_D
AnimationMode       LOOP
ShowSubObject       NIGHTLIGHT
HideSubObject       MODE01 MODE02 MODE03
End
AliasConditionState  NIGHT RUBBLE

End

;Radar dish animations
Draw  W3DModelDraw ModuleTag_Dish01
OkToChangeModelColor  Yes
DefaultConditionState
Model               RBRdrOpst
Animation           RBRdrOpst.RBRdrOpst
AnimationMode       LOOP
ShowSubObject       DISHFINAL
HideSubObject       STRUCTURE MODE02 MODE03 DISHBUILDUP
End
End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:RussiaRadarStation
Side              Russia
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_05
MaxHealth      10.0
InitialHealth  1000.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  26.5
GeometryMinorRadius  26.5
GeometryHeight       53.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaRadarOutpostRadarPresentDummyObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ChemicalLabCommandTruckGenpowersandRadarDummyLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  BoneFXDamage ModuleTag_RadarActive01
End

Behavior  BoneFXUpdate ModuleTag_RadarActive02
PristineOCL1       bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
DamagedOCL1        bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0

End
;------------------------------------------------------------------------------
Object RussiaSupplyCenter

; *** ART Parameters ***
SelectPortrait          SRSupplyCenter_L
ButtonImage             SRSupplyCenter

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBSuplyCntr
Animation           RBSuplyCntr.RBSuplyCntr
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBSuplyCntr_D
Animation           RBSuplyCntr_D.RBSuplyCntr_D
AnimationMode       LOOP
ParticleSysBone     FAN01 SmolderingSmoke

End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBSuplyCntr_D
Animation           RBSuplyCntr_D.RBSuplyCntr_D
AnimationMode       LOOP
ParticleSysBone     FAN01 SmolderingFire
ParticleSysBone     FAN01 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBSuplyCntr_S
Animation           RBSuplyCntr_S.RBSuplyCntr_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBSuplyCntr
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBSuplyCntr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBSuplyCntr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBSuplyCntr_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBSuplyCntr_BF
Animation        RBSuplyCntr_BF.RBSuplyCntr_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBSuplyCntr_BF
Animation        RBSuplyCntr_BF.RBSuplyCntr_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBSuplyCntr_BF
Animation        RBSuplyCntr_BF.RBSuplyCntr_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBSuplyCntr_SC
Animation        RBSuplyCntr_SC.RBSuplyCntr_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBSuplyCntr_SC
Animation        RBSuplyCntr_SC.RBSuplyCntr_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBSuplyCntr_SC
Animation        RBSuplyCntr_SC.RBSuplyCntr_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

;  Draw  W3DModelDraw ModuleTag_Bones01
;
;    DefaultConditionState
;      Model               RBSuplyCntr_B
;    End
;
;  End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:RussiaSupplyWarehouse
Side              Russia
EditorSorting     STRUCTURE
Prerequisites
Object  RussiaPowerPlant
End
BuildCost         1500
RefundValue       300 ; With nothing (or zero) listed, we sell for half price.
BuildTime         15.0           ; in seconds
EnergyProduction  -10
CommandSet        RussiaSupplyCenterCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianSupplyWarehouseSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER POWERED
Body                 StructureBody ModuleTag_05
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  SupplyCenterCreate ModuleTag_06
;nothing
End

Behavior  ProductionUpdate ModuleTag_10
NumDoorAnimations  1
DoorOpeningTime  3000
DoorWaitOpenTime  3000
DoorCloseTime  3000
ConstructionCompleteDuration  1500
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 4.983   Y:  20.617   Z:0.0
NaturalRallyPoint  X: 74.633  Y:  20.617   Z:0.0
End

Behavior             SpawnBehavior ModuleTag_12
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  RussiaVehicleSupplyTruck
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  SupplyCenterDockUpdate ModuleTag_13
AllowsPassthrough  Yes
NumberApproachPositions  5
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  52.0
GeometryMinorRadius  47.0
GeometryHeight       30.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaTremor

; *** ART Parameters ***
SelectPortrait          SRTremor_L
ButtonImage             SRTremor

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               RBTremor
Animation           RBTremor.RBTremor
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBTremor_D
Animation           RBTremor_D.RBTremor_D
AnimationMode       LOOP
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBTremor_D
Animation           RBTremor_D.RBTremor_D
AnimationMode       LOOP
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBTremor_S
Animation           RBTremor_S.RBTremor_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBTremor
Animation          RBTremor.RBTremor
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBTremor_D
Animation          RBTremor_D.RBTremor_D
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBTremor_D
Animation          RBTremor_D.RBTremor_D
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBTremor_S
Animation          RBTremor_S.RBTremor_S
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw  W3DModelDraw ModuleTag_Cannon01
OkToChangeModelColor  Yes

DefaultConditionState
Model            RBTremor_A1
Animation        RBTremor_A1.RBTremor_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
Turret             Turret
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
End
AliasConditionState   NIGHT

ConditionState     DOOR_1_OPENING
Model            RBTremor_A1
Animation        RBTremor_A1.RBTremor_A1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_WAITING_OPEN
Model            RBTremor_A2
Animation        RBTremor_A2.RBTremor_A2
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE

ConditionState     DOOR_1_WAITING_OPEN TURRET_ROTATE
Model            RBTremor_A2
Animation        RBTremor_A2.RBTremor_A2
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE

ConditionState     ATTACKING DOOR_1_WAITING_OPEN
Model            RBTremor_A2
Animation        RBTremor_A2.RBTremor_A2
AnimationMode    LOOP
Flags            START_FRAME_FIRST
End
AliasConditionState  ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT ATTACKING DOOR_1_WAITING_TO_CLOSE

ConditionState     DOOR_1_CLOSING
Model            RBTremor_A1
Animation        RBTremor_A1.RBTremor_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING

;;;; Damaged

ConditionState     DAMAGED
Model            RBTremor_DA1
Animation        RBTremor_DA1.RBTremor_DA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED

ConditionState     DAMAGED DOOR_1_OPENING
Model            RBTremor_DA1
Animation        RBTremor_DA1.RBTremor_DA1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_OPENING

ConditionState     DAMAGED DOOR_1_WAITING_OPEN
Model            RBTremor_DA2
Animation        RBTremor_DA2.RBTremor_DA2
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

ConditionState     DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
Model            RBTremor_DA2
Animation        RBTremor_DA2.RBTremor_DA2
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE

ConditionState     DAMAGED ATTACKING DOOR_1_WAITING_OPEN
Model            RBTremor_DA2
Animation        RBTremor_DA2.RBTremor_DA2
AnimationMode    LOOP
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE

ConditionState     DAMAGED DOOR_1_CLOSING
Model            RBTremor_DA1
Animation        RBTremor_DA1.RBTremor_DA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_CLOSING

;;;; Snow

ConditionState     SNOW
Model            RBTremor_SA1
Animation        RBTremor_SA1.RBTremor_SA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT SNOW

ConditionState     SNOW DOOR_1_OPENING
Model            RBTremor_SA1
Animation        RBTremor_SA1.RBTremor_SA1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT SNOW DOOR_1_OPENING

ConditionState     SNOW DOOR_1_WAITING_OPEN
Model            RBTremor_SA2
Animation        RBTremor_SA2.RBTremor_SA2
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE

ConditionState     SNOW DOOR_1_WAITING_OPEN TURRET_ROTATE
Model            RBTremor_SA2
Animation        RBTremor_SA2.RBTremor_SA2
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE

ConditionState     SNOW ATTACKING DOOR_1_WAITING_OPEN
Model            RBTremor_SA2
Animation        RBTremor_SA2.RBTremor_SA2
AnimationMode    LOOP
Flags            START_FRAME_FIRST
End
AliasConditionState  SNOW ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW ATTACKING DOOR_1_WAITING_TO_CLOSE

ConditionState     SNOW DOOR_1_CLOSING
Model            RBTremor_SA1
Animation        RBTremor_SA1.RBTremor_SA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING



;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBTremor_A1
Animation          RBTremor_A1.RBTremor_A1
AnimationMode      MANUAL
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBTremor_DA1
Animation          RBTremor_DA1.RBTremor_DA1
AnimationMode      MANUAL
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBTremor_DA1
Animation          RBTremor_DA1.RBTremor_DA1
AnimationMode      MANUAL
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBTremor_SA1
Animation          RBTremor_SA1.RBTremor_SA1
AnimationMode      MANUAL
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION
AliasConditionState   NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION SNOW
AliasConditionState   NIGHT AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   NIGHT SOLD
AliasConditionState   NIGHT SOLD DAMAGED
AliasConditionState   NIGHT SOLD REALLYDAMAGED
AliasConditionState   NIGHT SOLD SNOW
AliasConditionState   NIGHT SOLD SNOW DAMAGED
AliasConditionState   NIGHT SOLD SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
HideSubObject    BASE
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBTremor_BF
Animation        RBTremor_BF.RBTremor_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBTremor_BF
Animation        RBTremor_BF.RBTremor_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBTremor_BF
Animation        RBTremor_BF.RBTremor_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBTremor_SC
Animation        RBTremor_SC.RBTremor_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBTremor_SC
Animation        RBTremor_SC.RBTremor_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBTremor_SC
Animation        RBTremor_SC.RBTremor_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ Night Lights -----------------
Draw  W3DModelDraw ModuleTag_NightCondition01
OkToChangeModelColor  Yes

DefaultConditionState
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               RBTremor_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
Model               RBTremor_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
Model               RBTremor_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT
Model               RBTremor_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
Model               RBTremor_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
Model               RBTremor_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState  NIGHT
Model               RBTremor_N
End
ConditionState  NIGHT DAMAGED
Model               RBTremor_N
End
ConditionState  NIGHT REALLYDAMAGED
Model               RBTremor_N
End
ConditionState  NIGHT SNOW
Model               RBTremor_N
End
ConditionState  NIGHT DAMAGED SNOW
Model               RBTremor_N
End
ConditionState  NIGHT REALLYDAMAGED SNOW
Model               RBTremor_N
End
End


Draw                    W3DModelDraw ModuleTag_Vents01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               RBTremor_A3B
Animation           RBTremor_A3B.RBTremor_A3B
AnimationMode       LOOP
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW


;;;Deploy and Attack anims

ConditionState     DOOR_1_OPENING
Model            RBTremor_A3B
Animation        RBTremor_A3B.RBTremor_A3B
End
AliasConditionState  DAMAGED DOOR_1_OPENING
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING

ConditionState     DOOR_1_WAITING_OPEN
Model            RBTremor_A3B
Animation        RBTremor_A3B.RBTremor_A3B
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE

ConditionState     DOOR_1_WAITING_OPEN TURRET_ROTATE
Model            RBTremor_A3A
Animation        RBTremor_A3A.RBTremor_A3A
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE

ConditionState     ATTACKING DOOR_1_WAITING_OPEN
Model            RBTremor_A3A
Animation        RBTremor_A3A.RBTremor_A3A
End
AliasConditionState  ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW ATTACKING DOOR_1_WAITING_TO_CLOSE

ConditionState     DOOR_1_CLOSING
Model            RBTremor_A3B
Animation        RBTremor_A3B.RBTremor_A3B
End
AliasConditionState  DAMAGED DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING


;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBTremor
AnimationMode      MANUAL
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw                    W3DModelDraw ModuleTag_Lights01

DefaultConditionState
Model               NVDeva_U2
AnimationMode       LOOP
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED

ConditionState     DOOR_1_OPENING
Model            RBTremor_A4
Animation        RBTremor_A4.RBTremor_A4
End
AliasConditionState  DAMAGED DOOR_1_OPENING
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING

ConditionState     DOOR_1_WAITING_OPEN
Model            RBTremor_A4
Animation        RBTremor_A4.RBTremor_A4
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE

ConditionState     DOOR_1_WAITING_OPEN TURRET_ROTATE
Model            RBTremor_A4
Animation        RBTremor_A4.RBTremor_A4
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN ATTACKING TURRET_ROTATE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE ATTACKING TURRET_ROTATE

ConditionState     ATTACKING DOOR_1_WAITING_OPEN
Model            RBTremor_A4
Animation        RBTremor_A4.RBTremor_A4
End
AliasConditionState  ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  SNOW ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED DAMAGED ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED ATTACKING DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW ATTACKING DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW ATTACKING DOOR_1_WAITING_TO_CLOSE

ConditionState     DOOR_1_CLOSING
Model            RBTremor_A4
Animation        RBTremor_A4.RBTremor_A4
End
AliasConditionState  DAMAGED DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Tremor
Side  Russia
EditorSorting     STRUCTURE
BuildCost         4000
BuildTime         45.0            ; in seconds
EnergyProduction  -20
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  SECONDARY TremorCannonBarrage
AutoChooseSources  SECONDARY NONE
End

CommandSet        RussiaTremorCommandSet

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

Prerequisites
Object  RussiaIndustrialSite
End

ExperienceValue      400 400 400 400  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            RussianTremorSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
TurretMoveLoop         TremorTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
Body             StructureBody ModuleTag_06
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  4200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_TurretAI03
Turret
TurretTurnRate  30
RecenterTime    800
ControlledWeaponSlots   SECONDARY
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior     OCLSpecialPower ModuleTag_07
SpecialPowerTemplate  SuperweaponTremorAGAS
OCL                   SUPERWEAPON_TremorCannonBarrage
End

Behavior  SpecialPowerCreate ModuleTag_08
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_09
SpecialPowerTemplate  SuperweaponTremorAGAS
DoorOpenTime          7333
DoorWaitOpenTime      24000
DoorCloseTime         7333

; FXLists to play at transitions:
DoorOpeningFX         TremorDoors_Opening
DoorOpenFX            TremorDoors_Opened
DoorClosingFX         TremorDoors_Closing
DoorClosedFX          TremorDoors_Closed

End

Behavior  RadiusDecalUpdate ModuleTag_160
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_TremorCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
DeathTypes  ALL
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      1000.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End


Geometry             BOX
GeometryMajorRadius  82.0
GeometryMinorRadius  66.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaTremor_CollapseObject

; *** ART Parameters ***

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               RBTremor
Animation           RBTremor.RBTremor
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBTremor_D
Animation           RBTremor_D.RBTremor_D
AnimationMode       LOOP
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBTremor_D
Animation           RBTremor_D.RBTremor_D
AnimationMode       LOOP
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBTremor_S
Animation           RBTremor_S.RBTremor_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

End

Draw  W3DModelDraw ModuleTag_Cannon01
OkToChangeModelColor  Yes

DefaultConditionState
Model            RBTremor_A1
Animation        RBTremor_A1.RBTremor_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
Turret             Turret
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
End

;;;; Damaged

ConditionState     DAMAGED
Model            RBTremor_DA1
Animation        RBTremor_DA1.RBTremor_DA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED

;;;; Snow

ConditionState     SNOW
Model            RBTremor_SA1
Animation        RBTremor_SA1.RBTremor_SA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

End

Draw  W3DModelDraw ModuleTag_NightCondition01
OkToChangeModelColor  Yes

DefaultConditionState
Model               NONE
End

ConditionState  NIGHT
Model               RBTremor_N
End
ConditionState  NIGHT DAMAGED
Model               RBTremor_N
End
ConditionState  NIGHT REALLYDAMAGED
Model               RBTremor_N
End
ConditionState  NIGHT SNOW
Model               RBTremor_N
End
ConditionState  NIGHT DAMAGED SNOW
Model               RBTremor_N
End
ConditionState  NIGHT REALLYDAMAGED SNOW
Model               RBTremor_N
End
End


Draw                    W3DModelDraw ModuleTag_Vents01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               RBTremor_A3B
Animation           RBTremor_A3B.RBTremor_A3B
AnimationMode       LOOP
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Tremor
Side  Russia
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE SCORE

Body             StructureBody ModuleTag_06
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  82.0
GeometryMinorRadius  66.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaWarFactory

; *** ART Parameters ***
SelectPortrait          SRWarfactory_L
ButtonImage             SRWarfactory

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               RBWarfct
HideSubObject       Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBWarfct_D
HideSubObject       Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Smoke07 SmolderingFire
ParticleSysBone     Smoke07 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBWarfct_D
HideSubObject       Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Smoke07 SmolderingFire
ParticleSysBone     Smoke07 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBWarfct_S
HideSubObject       Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
End
AliasConditionState  NIGHT SNOW

;;;; Door Animations

ConditionState     DOOR_1_OPENING
Model            RBWarfct
Animation        RBWarfct.RBWarfct
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            RBWarfct_D
Animation        RBWarfct_D.RBWarfct_D
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
AnimationMode    ONCE
End
AliasConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            RBWarfct
Animation        RBWarfct.RBWarfct
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            RBWarfct_D
Animation        RBWarfct_D.RBWarfct_D
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            RBWarfct
Animation        RBWarfct.RBWarfct
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            RBWarfct_D
Animation        RBWarfct_D.RBWarfct_D
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;;;;;;;;;;;;;;Snow
ConditionState     DOOR_1_OPENING SNOW
Model            RBWarfct_S
Animation        RBWarfct_S.RBWarfct_S
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
AnimationMode    ONCE
End
AliasConditionState  NIGHT DOOR_1_OPENING SNOW

ConditionState     DOOR_1_OPENING DAMAGED SNOW
Model            RBWarfct_D
Animation        RBWarfct_D.RBWarfct_D
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
AnimationMode    ONCE
End
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING SNOW
Model            RBWarfct_S
Animation        RBWarfct_S.RBWarfct_S
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING SNOW

ConditionState     DOOR_1_CLOSING DAMAGED SNOW
Model            RBWarfct_D
Animation        RBWarfct_D.RBWarfct_D
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN SNOW
Model            RBWarfct_S
Animation        RBWarfct_S.RBWarfct_S
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN SNOW

ConditionState     DOOR_1_WAITING_OPEN DAMAGED SNOW
Model            RBWarfct_D
Animation        RBWarfct_D.RBWarfct_D
HideSubObject    Fan01 Fan02 Fan03 Fan04 Fan05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWarfct
HideSubObject      Fan01 Fan02 Fan03 Fan04 Fan05
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBWarfct_D
HideSubObject      Fan01 Fan02 Fan03 Fan04 Fan05
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBWarfct_D
HideSubObject      Fan01 Fan02 Fan03 Fan04 Fan05
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBWarfct_S
HideSubObject      Fan01 Fan02 Fan03 Fan04 Fan05
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End


Draw                    W3DModelDraw ModuleTag_Fans01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState       NONE
Model              RBWarfct
Animation          RBWarfct.RBWarfct
AnimationMode      LOOP
Flags              START_FRAME_FIRST
HideSubObject      STRUCTURE
TransitionKey      TRANS_Normal
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState       DAMAGED
Model              RBWarfct_D
Animation          RBWarfct_D.RBWarfct_D
AnimationMode      LOOP
Flags              START_FRAME_FIRST
HideSubObject      STRUCTURE
TransitionKey      TRANS_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW


;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWarfct
Animation          RBWarfct.RBWarfct
AnimationMode      ONCE_BACKWARDS
HideSubObject      STRUCTURE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBWarfct_D
Animation          RBWarfct_D.RBWarfct_D
AnimationMode      ONCE_BACKWARDS
HideSubObject      STRUCTURE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End


; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBWarfct_BF
Animation        RBWarfct_BF.RBWarfct_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBWarfct_BF
Animation        RBWarfct_BF.RBWarfct_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBWarfct_BF
Animation        RBWarfct_BF.RBWarfct_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBWarfct_SC
Animation        RBWarfct_SC.RBWarfct_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBWarfct_SC
Animation        RBWarfct_SC.RBWarfct_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBWarfct_SC
Animation        RBWarfct_SC.RBWarfct_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model              RBWarfct_N
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

;**************************************************************************************************************************
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWarfct_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   SOLD
AliasConditionState   SOLD NIGHT
AliasConditionState   SNOW AWAITING_CONSTRUCTION
AliasConditionState   SNOW AWAITING_CONSTRUCTION NIGHT
AliasConditionState   SNOW SOLD
AliasConditionState   SNOW SOLD NIGHT

End

Draw                    W3DModelDraw ModuleTag_DockBones01
DefaultConditionState
Model               RBWarfct_B
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:WarFactory
Side              Russia
EditorSorting     STRUCTURE
Prerequisites
Object  RussiaSupplyCenter
End
BuildCost         2000
BuildTime         15.0           ; in seconds
EnergyProduction  -15
CommandSet        RussiaWarFactoryCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianWarfactorySelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY POWERED
Body             StructureBody ModuleTag_08
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ProductionUpdate ModuleTag_12
NumDoorAnimations             1
DoorOpeningTime               2970  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 2970  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_13
UnitCreatePoint    X:  12.0   Y:29.373  Z:0.0
NaturalRallyPoint  X:  80.0   Y:29.373  Z:0.0
End

Behavior  RepairDockUpdate ModuleTag_14
TimeForFullHeal    8000   ;(in milliseconds)
NumberApproachPositions  5
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      1000.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
FactoryExitWidth     25
GeometryMajorRadius  60.0
GeometryMinorRadius  63.0
GeometryHeight       60.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaWeaponsBunker

; *** ART Parameters ***
SelectPortrait          SRWeaponBunker_L
ButtonImage             SRWeaponBunker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState       NONE
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Normal
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       SNOW
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Snow
End
AliasConditionState  NIGHT SNOW

;;;;Pre Attack Animations
ConditionState       PREATTACK_B
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_PreAttack_Normal
End
AliasConditionState  PREATTACK_B NIGHT

ConditionState       PREATTACK_B DAMAGED
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_PreAttack_Damaged
End
AliasConditionState  PREATTACK_B DAMAGED NIGHT
AliasConditionState  PREATTACK_B DAMAGED SNOW
AliasConditionState  PREATTACK_B DAMAGED NIGHT SNOW
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE SNOW
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       PREATTACK_B SNOW
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_PreAttack_Snow
End
AliasConditionState  PREATTACK_B NIGHT SNOW

;;;;;;Back to normal  Transitions
TransitionState     TRANS_PreAttack_Normal TRANS_Normal
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

TransitionState     TRANS_PreAttack_Damaged TRANS_Damaged
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

TransitionState     TRANS_PreAttack_Snow TRANS_Snow
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

; STOCKPILE DAY ************************************
ConditionState       LOADED
Model              RBWpnBnkr_U
Animation          RBWpnBnkr_U.RBWpnBnkr_U
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Upgraded_Normal
End
AliasConditionState  LOADED NIGHT

ConditionState       LOADED DAMAGED
Model              RBWpnBnkr_UD
Animation          RBWpnBnkr_UD.RBWpnBnkr_UD
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Upgraded_Damaged
End
AliasConditionState  LOADED DAMAGED NIGHT
AliasConditionState  LOADED DAMAGED SNOW
AliasConditionState  LOADED DAMAGED NIGHT SNOW
AliasConditionState  LOADED REALLYDAMAGED RUBBLE
AliasConditionState  LOADED REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  LOADED REALLYDAMAGED RUBBLE SNOW
AliasConditionState  LOADED REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       LOADED SNOW
Model              RBWpnBnkr_US
Animation          RBWpnBnkr_US.RBWpnBnkr_US
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Upgraded_Snow
End
AliasConditionState  LOADED NIGHT SNOW

;;;; Stockpile Pre Attack Animations
ConditionState       LOADED PREATTACK_B
Model              RBWpnBnkr_U
Animation          RBWpnBnkr_U.RBWpnBnkr_U
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Upgraded_PreAttack_Normal
End
AliasConditionState  LOADED PREATTACK_B NIGHT

ConditionState       LOADED PREATTACK_B DAMAGED
Model              RBWpnBnkr_UD
Animation          RBWpnBnkr_UD.RBWpnBnkr_UD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Upgraded_PreAttack_Damaged
End
AliasConditionState  LOADED PREATTACK_B DAMAGED NIGHT
AliasConditionState  LOADED PREATTACK_B DAMAGED SNOW
AliasConditionState  LOADED PREATTACK_B DAMAGED NIGHT SNOW
AliasConditionState  LOADED PREATTACK_B REALLYDAMAGED RUBBLE
AliasConditionState  LOADED PREATTACK_B REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  LOADED PREATTACK_B REALLYDAMAGED RUBBLE SNOW
AliasConditionState  LOADED PREATTACK_B REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       LOADED PREATTACK_B SNOW
Model              RBWpnBnkr_US
Animation          RBWpnBnkr_US.RBWpnBnkr_US
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Upgraded_PreAttack_Snow
End
AliasConditionState  LOADED PREATTACK_B NIGHT SNOW

;;;;;;Stockpile Back to normal  Transitions
TransitionState     TRANS_Upgraded_PreAttack_Normal TRANS_Upgraded_Normal
Model              RBWpnBnkr_U
Animation          RBWpnBnkr_U.RBWpnBnkr_U
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

TransitionState     TRANS_Upgraded_PreAttack_Damaged TRANS_Upgraded_Damaged
Model              RBWpnBnkr_UD
Animation          RBWpnBnkr_UD.RBWpnBnkr_UD
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

TransitionState     TRANS_Upgraded_PreAttack_Snow TRANS_Upgraded_Snow
Model              RBWpnBnkr_US
Animation          RBWpnBnkr_US.RBWpnBnkr_US
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE_BACKWARDS
HideSubObject      FAN01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE_BACKWARDS
HideSubObject      FAN01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE_BACKWARDS
HideSubObject      FAN01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWpnBnkr_U
Animation          RBWpnBnkr_U.RBWpnBnkr_U
AnimationMode      ONCE_BACKWARDS
HideSubObject      FAN01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBWpnBnkr_UD
Animation          RBWpnBnkr_UD.RBWpnBnkr_UD
AnimationMode      ONCE_BACKWARDS
HideSubObject      FAN01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBWpnBnkr_US
Animation          RBWpnBnkr_US.RBWpnBnkr_US
AnimationMode      ONCE_BACKWARDS
HideSubObject      FAN01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION
AliasConditionState   LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   LOADED SOLD
AliasConditionState   LOADED SOLD DAMAGED
AliasConditionState   LOADED SOLD REALLYDAMAGED
AliasConditionState   LOADED SOLD NIGHT
AliasConditionState   LOADED SOLD NIGHT DAMAGED
AliasConditionState   LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState   LOADED SOLD SNOW
AliasConditionState   LOADED SOLD SNOW DAMAGED
AliasConditionState   LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState   LOADED SOLD NIGHT SNOW
AliasConditionState   LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState   LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw                    W3DModelDraw ModuleTag_Fans01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               RBWpnBnkr
Animation           RBWpnBnkr.RBWpnBnkr
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       FOUNDATION TURRET OBJECT01
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBWpnBnkr_D
Animation           RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       FOUNDATION TURRET OBJECT01
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBWpnBnkr_S
Animation           RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       FOUNDATION TURRET OBJECT01
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      FOUNDATION TURRET OBJECT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      FOUNDATION TURRET OBJECT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      FOUNDATION TURRET OBJECT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw  W3DModelDraw ModuleTag_NightCondition01

OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model              RBWpnBnkr_N
End
AliasConditionState  NIGHT

;**************************************************************************************************************************
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBWpnBnkr_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   SOLD
AliasConditionState   SOLD NIGHT
End

Draw                    W3DModelDraw ModuleTag_FireBone01

DefaultConditionState
Model              RBWpnBnkr_B
Turret             Turret
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
End

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBWpnBnkr_BF
Animation        RBWpnBnkr_BF.RBWpnBnkr_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBWpnBnkr_BF
Animation        RBWpnBnkr_BF.RBWpnBnkr_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBWpnBnkr_BF
Animation        RBWpnBnkr_BF.RBWpnBnkr_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBWpnBnkr_SC
Animation        RBWpnBnkr_SC.RBWpnBnkr_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBWpnBnkr_SC
Animation        RBWpnBnkr_SC.RBWpnBnkr_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBWpnBnkr_SC
Animation        RBWpnBnkr_SC.RBWpnBnkr_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:WeaponBunker
Side                 Russia
EditorSorting        STRUCTURE
Prerequisites
Object  RussiaWarFactory
End
BuildCost            1500
BuildTime            30.0           ; in seconds
EnergyProduction     -10
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  SECONDARY SurveillanceMissileWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions         None
Armor              PropagandaStructureArmor
DamageFX           StructureDamageFXNoShake
End

CommandSet           RussiaWeaponBunkerCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level
MaxSimultaneousOfType  1

; *** AUDIO Parameters ***
VoiceSelect            WeaponsBunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_ADVANCED_TECH POWERED
Body             StructureBody ModuleTag_08
MaxHealth        3500.0
InitialHealth    3500.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_TurretAI03
Turret
TurretTurnRate  9999
RecenterTime    10000
ControlledWeaponSlots   SECONDARY
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior  ProductionUpdate ModuleTag_12
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  SpecialPowerCreate ModuleTag_Missile01
End

Behavior     OCLSpecialPower ModuleTag_Missile02
SpecialPowerTemplate  SuperweaponRussiaSurveillanceMissile
OCL                   SUPERWEAPON_SurveillanceMissile
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_WeaponsBunkerCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
DeathTypes  ALL
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      1000.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Nuclear Stockpile Upgrade Modules Start ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_NuclearStockpileUpgrade01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_NuclearStockpileUpgrade02
CollideWeapon  WeaponsBunkerNuclearStockpileUpgradeDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  FireWeaponUpdate ModuleTag_NuclearStockpileUpgrade03
Weapon   CreateNuclearStockpileCrateWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
;General collision effect
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponCollide ModuleTag_RemoveDummies01
CollideWeapon   WeaponsBunkerNuclearStockpileUpgradeRemoveDummyObjectsWeapon
RequiredStatus  SOLD
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponWhenDeadBehavior ModuleTag_RemoveDummies02
DeathWeapon   WeaponsBunkerNuclearStockpileUpgradeRemoveDummyObjectsWeapon
StartsActive  Yes
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Nuclear Stockpile Upgrade Modules End ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Geometry             BOX
GeometryMajorRadius  42.0
GeometryMinorRadius  54.0
GeometryHeight       60.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaWeaponsBunker_CollapseObject

; *** ART Parameters ***
SelectPortrait          SRWeaponBunker_L
ButtonImage             SRWeaponBunker


Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState       NONE
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Normal
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       SNOW
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
HideSubObject      FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_Snow
End
AliasConditionState  NIGHT SNOW

;;;;Pre Attack Animations
ConditionState       PREATTACK_B
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_PreAttack_Normal
End
AliasConditionState  PREATTACK_B NIGHT

ConditionState       PREATTACK_B DAMAGED
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_PreAttack_Damaged
End
AliasConditionState  PREATTACK_B DAMAGED NIGHT
AliasConditionState  PREATTACK_B DAMAGED SNOW
AliasConditionState  PREATTACK_B DAMAGED NIGHT SNOW
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE SNOW
AliasConditionState  PREATTACK_B REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       PREATTACK_B SNOW
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE
Flags              START_FRAME_FIRST
HideSubObject      FAN01
Turret             TURRET
ShowSubObject      WeaponA01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
TransitionKey      TRANS_PreAttack_Snow
End
AliasConditionState  PREATTACK_B NIGHT SNOW

;;;;;;Back to normal  Transitions
TransitionState     TRANS_PreAttack_Normal TRANS_Normal
Model              RBWpnBnkr
Animation          RBWpnBnkr.RBWpnBnkr
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

TransitionState     TRANS_PreAttack_Damaged TRANS_Damaged
Model              RBWpnBnkr_D
Animation          RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End

TransitionState     TRANS_PreAttack_Snow TRANS_Snow
Model              RBWpnBnkr_S
Animation          RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      WeaponA01 FAN01
ParticleSysBone    Smoke01 SteamVent_Black
ParticleSysBone    Smoke02 SteamVent_Black
End
End

Draw                    W3DModelDraw ModuleTag_Fans01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               RBWpnBnkr
Animation           RBWpnBnkr.RBWpnBnkr
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       FOUNDATION TURRET OBJECT01
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBWpnBnkr_D
Animation           RBWpnBnkr_D.RBWpnBnkr_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       FOUNDATION TURRET OBJECT01
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBWpnBnkr_S
Animation           RBWpnBnkr_S.RBWpnBnkr_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       FOUNDATION TURRET OBJECT01
End
AliasConditionState  NIGHT SNOW
End

Draw  W3DModelDraw ModuleTag_NightCondition01

OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model              RBWpnBnkr_N
End
AliasConditionState  NIGHT

End

; ***DESIGN parameters ***
DisplayName       OBJECT:WeaponBunker
Side  Russia
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE SCORE

Body             StructureBody ModuleTag_06
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  42.0
GeometryMinorRadius  54.0
GeometryHeight       60.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaIndustrialSite

; *** ART Parameters ***
SelectPortrait          SRIndustrialPlant_L
ButtonImage             SRIndustrialPlant

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               RBIndstrial
HideSubObject       FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
ParticleSysBone     Smoke04 SteamVent_Black
ParticleSysBone     Smoke05 SteamVentSmall_Black
ParticleSysBone     Smoke06 SteamVentSmall_Black
ParticleSysBone     Smoke07 SteamVentSmall_Black
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBIndstrial_D
HideSubObject       FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
ParticleSysBone     Smoke04 SteamVent_Black
ParticleSysBone     Smoke05 SteamVentSmall_Black
ParticleSysBone     Smoke06 SteamVentSmall_Black
ParticleSysBone     Smoke07 SteamVentSmall_Black
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Smoke07 SmolderingFire
ParticleSysBone     Smoke07 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingSmoke
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingSmoke
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingSmoke
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBIndstrial_D
HideSubObject       FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
ParticleSysBone     Smoke04 SteamVent_Black
ParticleSysBone     Smoke05 SteamVentSmall_Black
ParticleSysBone     Smoke06 SteamVentSmall_Black
ParticleSysBone     Smoke07 SteamVentSmall_Black
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Smoke07 SmolderingFire
ParticleSysBone     Smoke07 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingSmoke
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingSmoke
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingSmoke
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBIndstrial_S
HideSubObject       FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone     Smoke01 SteamVent_Black
ParticleSysBone     Smoke02 SteamVent_Black
ParticleSysBone     Smoke03 SteamVent_Black
ParticleSysBone     Smoke04 SteamVent_Black
ParticleSysBone     Smoke05 SteamVentSmall_Black
ParticleSysBone     Smoke06 SteamVentSmall_Black
ParticleSysBone     Smoke07 SteamVentSmall_Black
End
AliasConditionState  NIGHT SNOW

;;;; Door Animations

ConditionState     DOOR_1_OPENING
Model            RBIndstrial
Animation        RBIndstrial.RBIndstrial
Flags            MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject    GreenLight01
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            RBIndstrial_D
Animation        RBIndstrial_D.RBIndstrial_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject    GreenLight01
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
AnimationMode    ONCE
End
AliasConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING SNOW
Model            RBIndstrial_S
Animation        RBIndstrial_S.RBIndstrial_S
ShowSubObject    GreenLight01
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
AnimationMode    ONCE
End
AliasConditionState  NIGHT DOOR_1_OPENING SNOW

ConditionState     DOOR_1_WAITING_OPEN
Model            RBIndstrial
Animation        RBIndstrial.RBIndstrial
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            RBIndstrial_D
Animation        RBIndstrial_D.RBIndstrial_D
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING DAMAGED SNOW
Model            RBIndstrial_D
Animation        RBIndstrial_D.RBIndstrial_D
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
AnimationMode    ONCE
End
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN SNOW
Model            RBIndstrial_S
Animation        RBIndstrial_S.RBIndstrial_S
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN SNOW

ConditionState     DOOR_1_WAITING_OPEN DAMAGED SNOW
Model            RBIndstrial_D
Animation        RBIndstrial_D.RBIndstrial_D
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            RBIndstrial
Animation        RBIndstrial.RBIndstrial
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            RBIndstrial_D
Animation        RBIndstrial_D.RBIndstrial_D
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING SNOW
Model            RBIndstrial_S
Animation        RBIndstrial_S.RBIndstrial_S
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING SNOW

ConditionState     DOOR_1_CLOSING DAMAGED SNOW
Model            RBIndstrial_D
Animation        RBIndstrial_D.RBIndstrial_D
HideSubObject    FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
ParticleSysBone  Smoke01 SteamVent_Black
ParticleSysBone  Smoke02 SteamVent_Black
ParticleSysBone  Smoke03 SteamVent_Black
ParticleSysBone  Smoke04 SteamVent_Black
ParticleSysBone  Smoke05 SteamVentSmall_Black
ParticleSysBone  Smoke06 SteamVentSmall_Black
ParticleSysBone  Smoke07 SteamVentSmall_Black
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBIndstrial
HideSubObject      FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBIndstrial_D
HideSubObject      FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBIndstrial_D
HideSubObject      FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBIndstrial_S
HideSubObject      FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw                    W3DModelDraw ModuleTag_Fans01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               RBIndstrial
Animation           RBIndstrial.RBIndstrial
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       BASE GREENLIGHT01
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBIndstrial_D
Animation           RBIndstrial_D.RBIndstrial_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       BASE GREENLIGHT01
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBIndstrial_S
Animation           RBIndstrial_S.RBIndstrial_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       BASE GREENLIGHT01
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBIndstrial
Animation          RBIndstrial.RBIndstrial
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      BASE GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBIndstrial_D
Animation          RBIndstrial_D.RBIndstrial_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      BASE GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBIndstrial_S
Animation          RBIndstrial_S.RBIndstrial_S
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      BASE GREENLIGHT01
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
HideSubObject    BASE
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBIndstrial_BF
Animation        RBIndstrial_BF.RBIndstrial_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBIndstrial_BF
Animation        RBIndstrial_BF.RBIndstrial_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBIndstrial_BF
Animation        RBIndstrial_BF.RBIndstrial_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBIndstrial_SC
Animation        RBIndstrial_SC.RBIndstrial_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBIndstrial_SC
Animation        RBIndstrial_SC.RBIndstrial_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBIndstrial_SC
Animation        RBIndstrial_SC.RBIndstrial_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

Draw  W3DModelDraw ModuleTag_NightCondition01

OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model              RBIndstrial_N
End
AliasConditionState  NIGHT

;**************************************************************************************************************************
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBIndstrial_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   SOLD
AliasConditionState   SOLD NIGHT
End

Draw  W3DModelDraw ModuleTag_ExitBone01
DefaultConditionState
Model   RBIndstrial_B
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName          OBJECT:IndustrialPlant
Side                 Russia
EditorSorting        STRUCTURE

Prerequisites
Object  RussiaWeaponsBunker
End

BuildCost            2500
BuildTime            55.0           ; in seconds
EnergyProduction     -15
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions         None
Armor              StructureArmorTough
DamageFX           StructureDamageFXNoShake
End
CommandSet           RussiaIndustrialPlantCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level
MaxSimultaneousOfType  1

; *** AUDIO Parameters ***
VoiceSelect  RussianIndustrialPlantSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_ADVANCED_TECH AUTO_RALLYPOINT POWERED
Body             StructureBody ModuleTag_08
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  6000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  ProductionUpdate ModuleTag_12
NumDoorAnimations             1
DoorOpeningTime               2970  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 2970  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior        CostModifierUpgrade ModuleTag_IndustrialCostReduction01
TriggeredBy   Upgrade_CostReduction
EffectKindOf  VEHICLE
Percentage    -15%
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      1000.0
End

Behavior  InternetHackContain ModuleTag_ArmsBunker01
Slots                 18
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
AllowInsideKindOf     MONEY_HACKER
ForbidInsideKindOf    INFANTRY
DamagePercentToUnits  25%
ExitDelay             1000
DoorOpenTime          5000
NumberOfExitPaths     1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit    No ; AI Will tell people to set their mood to Aggressive on exiting
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  78.0
GeometryMinorRadius  66.0
GeometryHeight       55.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaHelipad

; *** ART Parameters ***
SelectPortrait          SRHelipad_L
ButtonImage             SRHelipad

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       HeliPark01

DefaultConditionState
Model               RBHelipad
Animation           RBHelipad.RBHelipad
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBHelipad_D
Animation           RBHelipad_D.RBHelipad_D
AnimationMode       LOOP
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBHelipad_D
Animation           RBHelipad_D.RBHelipad_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBHelipad_S
Animation           RBHelipad_S.RBHelipad_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBHelipad
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBHelipad_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBHelipad_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBHelipad_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBHelipad_BF
Animation        RBHelipad_BF.RBHelipad_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBHelipad_BF
Animation        RBHelipad_BF.RBHelipad_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBHelipad_BF
Animation        RBHelipad_BF.RBHelipad_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBHelipad_SC
Animation        RBHelipad_SC.RBHelipad_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBHelipad_SC
Animation        RBHelipad_SC.RBHelipad_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBHelipad_SC
Animation        RBHelipad_SC.RBHelipad_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Helipad
Side              Russia
EditorSorting     STRUCTURE

Prerequisites
Object  RussiaWeaponsBunker
End

BuildCost         1000
BuildTime         30.0           ; in seconds
EnergyProduction  -5
CommandSet        RussiaHelipadCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianHelipadSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT POWERED
Body             StructureBody ModuleTag_09
MaxHealth        2000.0
InitialHealth    2000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1700
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ParkingPlaceBehavior ModuleTag_10
HealAmountPerSecond      10
NumRows                  0
NumCols                  0
HasRunways               No
ParkInHangars            No
ApproachHeight           50
End

Behavior  ProductionUpdate ModuleTag_11
NumDoorAnimations             1
DoorOpeningTime               2000  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 2000  ;in mSeconds
ConstructionCompleteDuration  1000  ;in mSeconds
End

Behavior  FlammableUpdate ModuleTag_17
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  43.0
GeometryMinorRadius  41.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaCommandCenter

; *** ART Parameters ***
SelectPortrait          SRCommandBunker_L
ButtonImage             SRCommandBunker


Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               RBComBnkr
HideSubObject       RADAR FLAGPART01 FLAGPART02 FLAGPART03 FAN01 FAN02 FAN03 FAN04
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBComBnkr_D
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBComBnkr_D
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBComBnkr_S
End
AliasConditionState  NIGHT SNOW

;;;; Door Animations
ConditionState     DOOR_1_OPENING
Model            RBComBnkr
Animation        RBComBnkr.RBComBnkr
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            RBComBnkr_D
Animation        RBComBnkr_D.RBComBnkr_D
AnimationMode    ONCE
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            RBComBnkr
Animation        RBComBnkr.RBComBnkr
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            RBComBnkr_D
Animation        RBComBnkr_D.RBComBnkr_D
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            RBComBnkr
Animation        RBComBnkr.RBComBnkr
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            RBComBnkr_D
Animation        RBComBnkr_D.RBComBnkr_D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE


;;;;;;;;;;;;;;Snow
ConditionState     DOOR_1_OPENING SNOW
Model            RBComBnkr_S
Animation        RBComBnkr_S.RBComBnkr_S
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  NIGHT DOOR_1_OPENING SNOW

ConditionState     DOOR_1_OPENING DAMAGED SNOW
Model            RBComBnkr_D
Animation        RBComBnkr_D.RBComBnkr_D
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING SNOW
Model            RBComBnkr_S
Animation        RBComBnkr_S.RBComBnkr_S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  NIGHT DOOR_1_CLOSING SNOW

ConditionState     DOOR_1_CLOSING DAMAGED SNOW
Model            RBComBnkr_D
Animation        RBComBnkr_D.RBComBnkr_D
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN SNOW
Model            RBComBnkr_S
Animation        RBComBnkr_S.RBComBnkr_S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN SNOW

ConditionState     DOOR_1_WAITING_OPEN DAMAGED SNOW
Model            RBComBnkr_D
Animation        RBComBnkr_D.RBComBnkr_D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
ParticleSysBone     Smoke06 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBComBnkr
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBComBnkr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBComBnkr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBComBnkr_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ radar and other animated parts -----------------
Draw                    W3DModelDraw ModuleTag_MovingStuff01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               RBComBnkr
Animation           RBComBnkr.RBComBnkr
AnimationMode       LOOP
HideSubObject       FOUNDATION
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBComBnkr_D
Animation           RBComBnkr_D.RBComBnkr_D
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBComBnkr_D
Animation           RBComBnkr_D.RBComBnkr_D
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBComBnkr_S
Animation           RBComBnkr_S.RBComBnkr_S
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBComBnkr
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBComBnkr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBComBnkr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBComBnkr_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBComBnkr_BF
Animation        RBComBnkr_BF.RBComBnkr_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBComBnkr_BF
Animation        RBComBnkr_BF.RBComBnkr_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBComBnkr_BF
Animation        RBComBnkr_BF.RBComBnkr_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBComBnkr_SC
Animation        RBComBnkr_SC.RBComBnkr_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBComBnkr_SC
Animation        RBComBnkr_SC.RBComBnkr_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBComBnkr_SC
Animation        RBComBnkr_SC.RBComBnkr_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

Draw  W3DModelDraw ModuleTag_NightCondition01
OkToChangeModelColor  Yes

DefaultConditionState
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               RBComBnkr_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
Model               RBComBnkr_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
Model               RBComBnkr_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT
Model               RBComBnkr_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
Model               RBComBnkr_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
Model               RBComBnkr_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState  NIGHT
Model               RBComBnkr_N
End
ConditionState  NIGHT DAMAGED
Model               RBComBnkr_N
End
ConditionState  NIGHT REALLYDAMAGED
Model               RBComBnkr_N
End
ConditionState  NIGHT SNOW
Model               RBComBnkr_N
End
ConditionState  NIGHT DAMAGED SNOW
Model               RBComBnkr_N
End
ConditionState  NIGHT REALLYDAMAGED SNOW
Model               RBComBnkr_N
End
End

Draw  W3DModelDraw ModuleTag_ExitBone01
DefaultConditionState
Model               RBComBnkr_B
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName        OBJECT:CommandBunker
Side               Russia
EditorSorting      STRUCTURE
BuildCost          2000
RefundValue        1000
BuildTime          45.0           ; in seconds
EnergyProduction   0  ;Command center should be free

VisionRange        300.0           ; Shroud clearing distance
ShroudClearingRange  300.0

WeaponSet
Conditions  None
Weapon  PRIMARY   CommandBunkerGeneralsPowerRadiusCursorsRangeDummyWeapon
End

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

Prerequisites
Object  FactionRussia
End

ExperienceValue      200 200 200 200  ; Experience point value at each level
CommandSet         RussiaCommandCenterCommandSet

; *** AUDIO Parameters ***
VoiceSelect        RussianCommandBunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT

Body               StructureBody ModuleTag_07
MaxHealth        5000.0
InitialHealth    5000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  6200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  PreorderCreate ModuleTag_PreorderCreate
End

Behavior  ProductionUpdate ModuleTag_08
NumDoorAnimations             1
DoorOpeningTime               1650  ;in mSeconds
DoorWaitOpenTime              4000  ;in mSeconds
DoorCloseTime                 4000  ;in mSeconds
ConstructionCompleteDuration  4000  ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_09
UnitCreatePoint    X: 27.358  Y: -1.395   Z:0.0
NaturalRallyPoint  X: 82.045  Y: -1.395   Z:0.0
End

Behavior  InternetHackContain ModuleTag_CommandBunkerShelter01
Slots                 18
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
AllowInsideKindOf     HARVESTER DOZER
ForbidInsideKindOf    INFANTRY
DamagePercentToUnits  25%
ExitDelay             1000
DoorOpenTime          1650
NumberOfExitPaths     1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit    No ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  FlammableUpdate ModuleTag_23
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_24
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior            OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponRussiaFOAB
OCL                   SUPERWEAPON_RussiaFOAB
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponVDVParadrop
UpgradeOCL            SCIENCE_VDVParadrop3 SUPERWEAPON_VDVParadrop3
UpgradeOCL            SCIENCE_VDVParadrop2 SUPERWEAPON_VDVParadrop2
OCL                   SUPERWEAPON_VDVParadrop1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior            OCLSpecialPower ModuleTag_GenPower04
SpecialPowerTemplate  SuperweaponBackfireCruiseMissileStrike
UpgradeOCL            SCIENCE_BackfireCruiseMissileStrike3 SUPERWEAPON_BackfireCruiseMissileStrike3
UpgradeOCL            SCIENCE_BackfireCruiseMissileStrike2 SUPERWEAPON_BackfireCruiseMissileStrike2
OCL                   SUPERWEAPON_BackfireCruiseMissileStrike1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower05
SpecialPowerTemplate  SuperweaponRussiaTargetingSatellite
UpgradeOCL            SCIENCE_RussiaTargetingSatellite3 OCL_RussiaTargetingSatelliteComingDownLevel3
UpgradeOCL            SCIENCE_RussiaTargetingSatellite2 OCL_RussiaTargetingSatelliteComingDownLevel2
OCL                   OCL_RussiaTargetingSatelliteComingDownLevel1
CreateLocation        CREATE_AT_LOCATION
End

;  Behavior            OCLSpecialPower ModuleTag_GenPower06
;    SpecialPowerTemplate  SuperweaponRussiaSatelliteBlackout
;    OCL                   OCL_RussiaSatelliteBlackoutMarker
;    CreateLocation        CREATE_AT_LOCATION
;  End

Behavior            OCLSpecialPower ModuleTag_GenPower07
SpecialPowerTemplate  SuperweaponRussiaEmergencyRecovery
OCL                   OCL_RussianEmergencyRecovery
ReferenceObject       RussianEmergencyRecoveryDecalObject
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower08
SpecialPowerTemplate  SuperweaponConscriptReinforcementsParadrop
OCL                   SUPERWEAPON_ConscriptReinforcementsParadrop
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponArmorReserves
OCL                   SUPERWEAPON_VehicleReserveDrop
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior    = OCLSpecialPower ModuleTag_GenPower010
SpecialPowerTemplate = SuperweaponCrateDrop
OCL                  = SUPERWEAPON_CrateDrop
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower011
SpecialPowerTemplate  SuperweaponEmergencyRepair
OCL                   SUPERWEAPON_RepairVehicles1
CreateLocation        CREATE_AT_LOCATION
End

Behavior    = OCLSpecialPower ModuleTag_GenPower012
SpecialPowerTemplate = SuperweaponBulavaStrike
;UpgradeOCL           = SCIENCE_BulavaStrike3 SUPERWEAPON_BulavaStrike3
;UpgradeOCL           = SCIENCE_BulavaStrike2 SUPERWEAPON_BulavaStrike2
OCL                  = SUPERWEAPON_BulavaStrike1
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior = OCLSpecialPower ModuleTag_GenPower013
SpecialPowerTemplate = SuperweaponSmerchBarrage
;UpgradeOCL = SCIENCE_ScudBarrage3 SUPERWEAPON_SCUDBarrage3
;UpgradeOCL = SCIENCE_ScudBarrage3 Fort_SUPERWEAPON_RocketBarrage3
;UpgradeOCL = SCIENCE_ScudBarrage2 SUPERWEAPON_SCUDBarrage2
;UpgradeOCL = SCIENCE_ScudBarrage2 Fort_SUPERWEAPON_RocketBarrage1
;OCL = SUPERWEAPON_SCUDBarrage1
OCL = SUPERWEAPON_RussiaMLRSSmerch1
CreateLocation = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
End

Behavior            OCLSpecialPower ModuleTag_GenPower014
SpecialPowerTemplate  SuperweapoRussiaTankDrop
OCL                   SUPERWEAPON_RussiaTankDrop
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior           = OCLSpecialPower ModuleTag_GenPower015
SpecialPowerTemplate = SuperweaponMagneticBomb
OCL                  = SUPERWEAPON_RussiaECMBomb
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior = OCLSpecialPower ModuleTag_GenPower016
SpecialPowerTemplate SuperweaponRusHelicopterAmbush
;UpgradeOCL = SCIENCE_RussiaHelicopterSupport1 ; SUPERWEAPON_HelicopterSupport2 ;SUPERWEAPON_HelicopterAmbush2
OCL SUPERWEAPON_RussiaHelicopterSupport1 ;SUPERWEAPON_HelicopterAmbush1
CreateLocation = CREATE_AT_EDGE_NEAR_SOURCE ;CREATE_ABOVE_LOCATION
End

;Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
;CommandSet       RussiaCommandCenterCommandSet
;TriggeredBy      Upgrade_GLAWorkerRealCommandSet
;RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
;End

;Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
;CommandSet       RussiaCommandCenterPowersCommandSet
;TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
;RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
;End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      1000.0
End

Behavior             SpawnBehavior ModuleTag_FreeDozer01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   RussiaVehicleDozer
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior              SpawnBehavior ModuleTag_Spawner01
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName   RussiaSuperWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End
Behavior              SpawnBehavior ModuleTag_Spawner02
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName    RussiaSupportWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End

Geometry             BOX
FactoryExitWidth     25
GeometryMajorRadius  60.0
GeometryMinorRadius  63.0
GeometryHeight       36.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaPowerPlant

; *** ART Parameters ***
SelectPortrait          SRCoalPowerPlant_L
ButtonImage             SRCoalPowerPlant

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              RBPwrPlnt
Animation          RBPwrPlnt.RBPwrPlnt
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              RBPwrPlnt_D
Animation          RBPwrPlnt_D.RBPwrPlnt_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
ParticleSysBone    Smoke05 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState       REALLYDAMAGED RUBBLE
Model              RBPwrPlnt_D
Animation          RBPwrPlnt_D.RBPwrPlnt_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke05 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       SNOW
Model              RBPwrPlnt_S
Animation          RBPwrPlnt_S.RBPwrPlnt_S
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
End
AliasConditionState  NIGHT SNOW

;;;Upgraded Powerplant

ConditionState       POWER_PLANT_UPGRADED
Model              RBPwrPlnt
Animation          RBPwrPlnt.RBPwrPlnt
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SmokeFX05 SteamVentSmall_Black
ParticleSysBone    SmokeFX06 SteamVentSmall_Black
ParticleSysBone    SmokeFX07 SteamVentSmall_Black
ParticleSysBone    SmokeFX08 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
ParticleSysBone    Spark01 SparksSmall
ParticleSysBone    Spark02 SparksSmall
End
AliasConditionState  POWER_PLANT_UPGRADED NIGHT

ConditionState       POWER_PLANT_UPGRADED DAMAGED
Model              RBPwrPlnt_D
Animation          RBPwrPlnt_D.RBPwrPlnt_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SmokeFX05 SteamVentSmall_Black
ParticleSysBone    SmokeFX06 SteamVentSmall_Black
ParticleSysBone    SmokeFX07 SteamVentSmall_Black
ParticleSysBone    SmokeFX08 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
ParticleSysBone    Spark01 SparksSmall
ParticleSysBone    Spark02 SparksSmall
ParticleSysBone    SmokeFX05 SmolderingSmoke

End
AliasConditionState  POWER_PLANT_UPGRADED DAMAGED NIGHT
AliasConditionState  POWER_PLANT_UPGRADED DAMAGED SNOW
AliasConditionState  POWER_PLANT_UPGRADED DAMAGED NIGHT SNOW

ConditionState       POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE
Model              RBPwrPlnt_D
Animation          RBPwrPlnt_D.RBPwrPlnt_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SmokeFX05 SteamVentSmall_Black
ParticleSysBone    SmokeFX06 SteamVentSmall_Black
ParticleSysBone    SmokeFX07 SteamVentSmall_Black
ParticleSysBone    SmokeFX08 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
ParticleSysBone    Spark01 SparksSmall
ParticleSysBone    Spark02 SparksSmall
ParticleSysBone    SmokeFX05 SmolderingFire
ParticleSysBone    SmokeFX05 SmolderingSmoke
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE SNOW
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState       POWER_PLANT_UPGRADED SNOW
Model              RBPwrPlnt_S
Animation          RBPwrPlnt_S.RBPwrPlnt_S
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject      Upgrade
ParticleSysBone    SmokeFX01 SteamVentSmall_Black
ParticleSysBone    SmokeFX02 SteamVentSmall_Black
ParticleSysBone    SmokeFX03 SteamVentSmall_Black
ParticleSysBone    SmokeFX04 SteamVentSmall_Black
ParticleSysBone    SmokeFX05 SteamVentSmall_Black
ParticleSysBone    SmokeFX06 SteamVentSmall_Black
ParticleSysBone    SmokeFX07 SteamVentSmall_Black
ParticleSysBone    SmokeFX08 SteamVentSmall_Black
ParticleSysBone    SparkFX01 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX02 CoalPowerPlantSparkFlare
ParticleSysBone    SparkFX03 CoalPowerPlantSparkFlare
ParticleSysBone    Spark01 SparksSmall
ParticleSysBone    Spark02 SparksSmall
End
AliasConditionState  POWER_PLANT_UPGRADED NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBPwrPlnt
HideSubObject      Upgrade
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBPwrPlnt_D
HideSubObject      Upgrade
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBPwrPlnt_S
HideSubObject      Upgrade
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION SNOW
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD
AliasConditionState   POWER_PLANT_UPGRADED SOLD DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD NIGHT
AliasConditionState   POWER_PLANT_UPGRADED SOLD NIGHT DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD NIGHT REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD SNOW
AliasConditionState   POWER_PLANT_UPGRADED SOLD SNOW DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD SNOW REALLYDAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD NIGHT SNOW
AliasConditionState   POWER_PLANT_UPGRADED SOLD NIGHT SNOW DAMAGED
AliasConditionState   POWER_PLANT_UPGRADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBPwrPlnt_BF
Animation        RBPwrPlnt_BF.RBPwrPlnt_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBPwrPlnt_BF
Animation        RBPwrPlnt_BF.RBPwrPlnt_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBPwrPlnt_BF
Animation        RBPwrPlnt_BF.RBPwrPlnt_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBPwrPlnt_SC
Animation        RBPwrPlnt_SC.RBPwrPlnt_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBPwrPlnt_SC
Animation        RBPwrPlnt_SC.RBPwrPlnt_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBPwrPlnt_SC
Animation        RBPwrPlnt_SC.RBPwrPlnt_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End


PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName          OBJECT:CoalPowerPlant
Side                 Russia
EditorSorting        STRUCTURE

BuildCost            600
BuildTime            6.0            ; in seconds
EnergyProduction     12
EnergyBonus          12              ; for the overcharge bonus
VisionRange          200.0          ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor_Noshutdown
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

CommandSet           RussiaPowerPlantCommandSet
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect          RussianCoalPowerplantSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY

Body                 StructureBody ModuleTag_05
MaxHealth          3000.0
InitialHealth      3000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1700
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ProductionUpdate ModuleTag_10
End

Behavior  PowerPlantUpdate ModuleTag_11
RodsExtendTime  1
End

Behavior  PowerPlantUpgrade ModuleTag_072
TriggeredBy  Upgrade_RussiaCoalPlantExpansion
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      400.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  MaxHealthUpgrade ModuleTag_ArmorUpgrade03
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth   -1500.0
ChangeType     PRESERVE_RATIO
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  24.0
GeometryMinorRadius  37.5
GeometryHeight       57.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaBarracks

; *** ART Parameters ***
SelectPortrait          SRBarracks_L
ButtonImage             SRBarracks
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBBarracks
Animation           RBBarracks.RBBarracks
AnimationMode       LOOP
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBBarracks_D
Animation           RBBarracks_D.RBBarracks_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke

End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBBarracks_D
Animation           RBBarracks_D.RBBarracks_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBBarracks_S
Animation           RBBarracks_S.RBBarracks_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBBarracks
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBBarracks_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBBarracks_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBBarracks_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBBarracks_BF
Animation        RBBarracks_BF.RBBarracks_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBBarracks_BF
Animation        RBBarracks_BF.RBBarracks_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBBarracks_BF
Animation        RBBarracks_BF.RBBarracks_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBBarracks_SC
Animation        RBBarracks_SC.RBBarracks_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBBarracks_SC
Animation        RBBarracks_SC.RBBarracks_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBBarracks_SC
Animation        RBBarracks_SC.RBBarracks_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Barracks
Side              Russia
EditorSorting     STRUCTURE
BuildCost         500
BuildTime         10.0           ; in seconds
EnergyProduction  0
CommandSet        RussiaBarracksCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianBarracksSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS
Body             StructureBody ModuleTag_05
MaxHealth      1000.0
InitialHealth  1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  HealContain ModuleTag_06
ContainMax           10 ;way bigger than the # of objects we can have
TimeForFullHeal      2000   ;(in milliseconds)
AllowInsideKindOf    INFANTRY
AllowAlliesInside    Yes
AllowNeutralInside   No
AllowEnemiesInside   No
End

Behavior  ProductionUpdate ModuleTag_10
End

Behavior  QueueProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 12.0  Y: -9.3  Z:0.0
NaturalRallyPoint  X: 50.0  Y: -9.3  Z:0.0
ExitDelay  300
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  48.0
GeometryMinorRadius  56.0
GeometryHeight       35.0
GeometryIsSmall      No
FactoryExitWidth     25
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaAirfield

; *** ART Parameters ***
SelectPortrait          SRAirfield_L
ButtonImage             SRAirfield

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model               RBAirfield
Animation           RBAirfield.RBAirfield
AnimationMode       LOOP
HideSubObject       DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               RBAirfield_D
Animation           RBAirfield_D.RBAirfield_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke

End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               RBAirfield_D
Animation           RBAirfield_D.RBAirfield_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke04 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               RBAirfield_S
Animation           RBAirfield_S.RBAirfield_S
AnimationMode       LOOP
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBAirfield
HideSubObject      DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBAirfield_D
HideSubObject      DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              RBAirfield_D
HideSubObject      DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBAirfield_S
HideSubObject      DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBAirfield_BF
Animation        RBAirfield_BF.RBAirfield_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBAirfield_BF
Animation        RBAirfield_BF.RBAirfield_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBAirfield_BF
Animation        RBAirfield_BF.RBAirfield_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBAirfield_SC
Animation        RBAirfield_SC.RBAirfield_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             RBAirfield_SC
Animation        RBAirfield_SC.RBAirfield_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBAirfield_SC
Animation        RBAirfield_SC.RBAirfield_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ Hangar door 1 -----------------

Draw                 W3DModelDraw ModuleTag_HangarDoor01

ConditionState     NONE
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTG
End
AliasConditionState  NIGHT

ConditionState     DOOR_1_OPENING
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_CLOSING
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTG
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_WAITING_OPEN
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

;Damaged Conditions

ConditionState     DAMAGED
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTG
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT

ConditionState     DAMAGED DOOR_1_OPENING
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_1_OPENING
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  REALLYDAMAGED NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED NIGHT DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_1_OPENING

ConditionState     DAMAGED DOOR_1_CLOSING
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_1_CLOSING

ConditionState     DAMAGED DOOR_1_WAITING_OPEN
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_1_WAITING_OPEN

;Snow Conditions

ConditionState     SNOW
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTG
End
AliasConditionState  SNOW NIGHT

ConditionState     SNOW DOOR_1_OPENING
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  SNOW NIGHT DOOR_1_OPENING

ConditionState     SNOW DOOR_1_CLOSING
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTG
End
AliasConditionState  SNOW NIGHT DOOR_1_CLOSING

ConditionState     SNOW DOOR_1_WAITING_OPEN
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR1LIGHTR
End
AliasConditionState  SNOW NIGHT DOOR_1_WAITING_OPEN

;**************************************************************************************************************************

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBAirfield
HideSubObject       BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBAirfield_D
HideSubObject       BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBAirfield_S
HideSubObject       BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Hangar door 2 -----------------

Draw                 W3DModelDraw ModuleTag_HangarDoor02

ConditionState     NONE
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTG
End
AliasConditionState  NIGHT

ConditionState     DOOR_2_OPENING
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTR
End
AliasConditionState  NIGHT DOOR_2_OPENING

ConditionState     DOOR_2_CLOSING
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTG
End
AliasConditionState  NIGHT DOOR_2_CLOSING

ConditionState     DOOR_2_WAITING_OPEN
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTR
End
AliasConditionState  NIGHT DOOR_2_WAITING_OPEN

;Damaged Conditions

ConditionState     DAMAGED
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTG
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT

ConditionState     DAMAGED DOOR_2_OPENING
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_2_OPENING
AliasConditionState  REALLYDAMAGED DOOR_2_OPENING
AliasConditionState  REALLYDAMAGED NIGHT DOOR_2_OPENING
AliasConditionState  SNOW DAMAGED DOOR_2_OPENING
AliasConditionState  SNOW DAMAGED NIGHT DOOR_2_OPENING
AliasConditionState  SNOW REALLYDAMAGED DOOR_2_OPENING
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_2_OPENING

ConditionState     DAMAGED DOOR_2_CLOSING
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTG
End
AliasConditionState  DAMAGED NIGHT DOOR_2_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_2_CLOSING
AliasConditionState  REALLYDAMAGED NIGHT DOOR_2_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  SNOW DAMAGED NIGHT DOOR_2_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_2_CLOSING
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_2_CLOSING

ConditionState     DAMAGED DOOR_2_WAITING_OPEN
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_2_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DOOR_2_WAITING_OPEN
AliasConditionState  REALLYDAMAGED NIGHT DOOR_2_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_2_WAITING_OPEN
AliasConditionState  SNOW DAMAGED NIGHT DOOR_2_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DOOR_2_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_2_WAITING_OPEN

;Snow Conditions

ConditionState     SNOW
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTG
End
AliasConditionState  SNOW NIGHT

ConditionState     SNOW DOOR_2_OPENING
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTR
End
AliasConditionState  SNOW NIGHT DOOR_2_OPENING

ConditionState     SNOW DOOR_2_CLOSING
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTG
End
AliasConditionState  SNOW NIGHT DOOR_2_CLOSING

ConditionState     SNOW DOOR_2_WAITING_OPEN
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
ShowSubObject    DOOR2LIGHTR
End
AliasConditionState  SNOW NIGHT DOOR_2_WAITING_OPEN

;**************************************************************************************************************************

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBAirfield
HideSubObject       BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBAirfield_D
HideSubObject       BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBAirfield_S
HideSubObject       BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Hangar door 3 -----------------

Draw                 W3DModelDraw ModuleTag_HangarDoor03

ConditionState     NONE
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
ShowSubObject    DOOR3LIGHTG
End
AliasConditionState  NIGHT

ConditionState     DOOR_3_OPENING
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
ShowSubObject    DOOR3LIGHTR
End
AliasConditionState  NIGHT DOOR_3_OPENING

ConditionState     DOOR_3_CLOSING
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
ShowSubObject    DOOR3LIGHTG
End
AliasConditionState  NIGHT DOOR_3_CLOSING

ConditionState     DOOR_3_WAITING_OPEN
Model            RBAirfield
Animation        RBAirfield.RBAirfield
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
ShowSubObject    DOOR3LIGHTR
End
AliasConditionState  NIGHT DOOR_3_WAITING_OPEN

;Damaged Conditions

ConditionState     DAMAGED
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
ShowSubObject    DOOR3LIGHTG
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT

ConditionState     DAMAGED DOOR_3_OPENING
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
ShowSubObject    DOOR3LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_3_OPENING
AliasConditionState  REALLYDAMAGED DOOR_3_OPENING
AliasConditionState  REALLYDAMAGED NIGHT DOOR_3_OPENING
AliasConditionState  SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  SNOW DAMAGED NIGHT DOOR_3_OPENING
AliasConditionState  SNOW REALLYDAMAGED DOOR_3_OPENING
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_3_OPENING

ConditionState     DAMAGED DOOR_3_CLOSING
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
ShowSubObject    DOOR3LIGHTG
End
AliasConditionState  DAMAGED NIGHT DOOR_3_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_3_CLOSING
AliasConditionState  REALLYDAMAGED NIGHT DOOR_3_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  SNOW DAMAGED NIGHT DOOR_3_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_3_CLOSING
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_3_CLOSING

ConditionState     DAMAGED DOOR_3_WAITING_OPEN
Model            RBAirfield_D
Animation        RBAirfield_D.RBAirfield_D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
ShowSubObject    DOOR3LIGHTR
End
AliasConditionState  DAMAGED NIGHT DOOR_3_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  REALLYDAMAGED NIGHT DOOR_3_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  SNOW DAMAGED NIGHT DOOR_3_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED NIGHT DOOR_3_WAITING_OPEN

;Snow Conditions

ConditionState     SNOW
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
ShowSubObject    DOOR3LIGHTG
End
AliasConditionState  SNOW NIGHT

ConditionState     SNOW DOOR_3_OPENING
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    ONCE
Flags            START_FRAME_FIRST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
ShowSubObject    DOOR3LIGHTR
End
AliasConditionState  SNOW NIGHT DOOR_3_OPENING

ConditionState     SNOW DOOR_3_CLOSING
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
AnimationSpeedFactorRange  2.0 2.0
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
ShowSubObject    DOOR3LIGHTG
End
AliasConditionState  SNOW NIGHT DOOR_3_CLOSING

ConditionState     SNOW DOOR_3_WAITING_OPEN
Model            RBAirfield_S
Animation        RBAirfield_S.RBAirfield_S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
HideSubObject    BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
ShowSubObject    DOOR3LIGHTR
End
AliasConditionState  SNOW NIGHT DOOR_3_WAITING_OPEN

;**************************************************************************************************************************

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBAirfield
HideSubObject       BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBAirfield_D
HideSubObject       BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBAirfield_S
HideSubObject       BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Runway bones -----------------
Draw  W3DModelDraw ModuleTag_BONES01

ExtraPublicBone  Runway1Parking1
ExtraPublicBone  Runway2Parking1
ExtraPublicBone  Runway3Parking1
ExtraPublicBone  Runway1Park1Han
ExtraPublicBone  Runway2Park1Han
ExtraPublicBone  Runway3Park1Han
ExtraPublicBone  Runway1Prep1
ExtraPublicBone  Runway2Prep1
ExtraPublicBone  Runway3Prep1
ExtraPublicBone  RunwayStart1
ExtraPublicBone  RunwayStart2
ExtraPublicBone  RunwayStart3
ExtraPublicBone  RunwayEnd1
ExtraPublicBone  RunwayEnd2
ExtraPublicBone  RunwayEnd3

DefaultConditionState
Model            RBAirfield_B
End

End

; ------------ Night conditions -----------------
Draw  W3DModelDraw ModuleTag_Night

DefaultConditionState
Model            RBAirfield_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model            RBAirfield_N
ShowSubObject    NONE
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  SOLD
Model            NONE
End
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Airfield
Side              Russia
EditorSorting     STRUCTURE

Prerequisites
Object  RussiaWeaponsBunker
End

BuildCost         1500
BuildTime         30.0           ; in seconds
EnergyProduction  -10
CommandSet        RussiaAirfieldCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  600
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  RussianAirfieldSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD POWERED
Body             StructureBody ModuleTag_09
MaxHealth        3000.0
InitialHealth    3000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1700
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ParkingPlaceBehavior ModuleTag_10
HealAmountPerSecond      10
NumRows                  1
NumCols                  3
HasRunways               Yes
ApproachHeight           50
End

Behavior  ProductionUpdate ModuleTag_11
NumDoorAnimations             3
DoorOpeningTime               2000  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 2000  ;in mSeconds
ConstructionCompleteDuration  500  ;in mSeconds
End

Behavior  FlammableUpdate ModuleTag_17
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior             RebuildHoleExposeDie ModuleTag_DebriBunker01
HoleName           RussiaDebrisBunker
HoleMaxHealth      600.0
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        AIRCRAFT
ExtraForbiddenKindOf       UNATTACKABLE
End

Geometry             BOX
GeometryMajorRadius  70.0
GeometryMinorRadius  95.0
GeometryHeight       82.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaComponentTowerTeslaAddon_AI

; *** ART Parameters ***
SelectPortrait          SRTeslaComponent_L
ButtonImage             SRTeslaComponent

;;;;Tower Model
Draw  W3DModelDraw ModuleTag_99

OkToChangeModelColor  Yes

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End


Draw  W3DModelDraw ModuleTag_01 ;Main Coil
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
Turret               TURRET
HideSubObject        BASE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED

;After a while

ConditionState          WEAPONSET_PLAYER_UPGRADE
Model                RBCTowerU3
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT

ConditionState         WEAPONSET_PLAYER_UPGRADE DAMAGED
Model                RBCTowerU3_D
HideSubObject        BASE02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW REALLYDAMAGED RUBBLE


;;;Snow
ConditionState         WEAPONSET_PLAYER_UPGRADE SNOW
Model                RBCTowerU3_S
HideSubObject        BASE02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW

;;;;Whenbuildind
ConditionState         WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU3
HideSubObject       BASE02
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState         WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU3_D
HideSubObject       BASE02
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU3_S
HideSubObject       BASE02
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_01232 ;Smaller Animated coils

OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones  Yes

;;;Normal
DefaultConditionState
Model                NVDeva_U2
Animation            NVDeva_U2.NVDeva_U2
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
End
AliasConditionState  NIGHT
AliasConditionState  FIRING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  FIRING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  NIGHT FIRING_A
AliasConditionState  NIGHT BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT RELOADING_A
AliasConditionState  NIGHT FIRING_B
AliasConditionState  NIGHT BETWEEN_FIRING_SHOTS_B
AliasConditionState  NIGHT RELOADING_B
AliasConditionState  PREATTACK_A
AliasConditionState  PREATTACK_B
AliasConditionState  NIGHT PREATTACK_A
AliasConditionState  NIGHT PREATTACK_B
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  DAMAGED FIRING_A
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DAMAGED RELOADING_A
AliasConditionState  DAMAGED FIRING_B
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED FIRING_A
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  NIGHT DAMAGED FIRING_A
AliasConditionState  NIGHT DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT DAMAGED RELOADING_A
AliasConditionState  NIGHT DAMAGED FIRING_B
AliasConditionState  NIGHT DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  NIGHT DAMAGED RELOADING_B
AliasConditionState  NIGHT REALLYDAMAGED FIRING_A
AliasConditionState  NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT REALLYDAMAGED RELOADING_A
AliasConditionState  NIGHT REALLYDAMAGED FIRING_B
AliasConditionState  NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  NIGHT REALLYDAMAGED RELOADING_B
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED FIRING_A
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW DAMAGED RELOADING_A
AliasConditionState  SNOW DAMAGED FIRING_B
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW DAMAGED RELOADING_B
AliasConditionState  SNOW REALLYDAMAGED FIRING_A
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED RELOADING_A
AliasConditionState  SNOW REALLYDAMAGED FIRING_B
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW REALLYDAMAGED RELOADING_B
AliasConditionState  SNOW NIGHT DAMAGED FIRING_A
AliasConditionState  SNOW NIGHT DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT DAMAGED RELOADING_A
AliasConditionState  SNOW NIGHT DAMAGED FIRING_B
AliasConditionState  SNOW NIGHT DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW NIGHT DAMAGED RELOADING_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED FIRING_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED RELOADING_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED FIRING_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED RELOADING_B
AliasConditionState  DAMAGED PREATTACK_A
AliasConditionState  DAMAGED PREATTACK_B
AliasConditionState  REALLYDAMAGED PREATTACK_A
AliasConditionState  REALLYDAMAGED PREATTACK_B
AliasConditionState  NIGHT DAMAGED PREATTACK_B
AliasConditionState  NIGHT REALLYDAMAGED PREATTACK_A
AliasConditionState  NIGHT REALLYDAMAGED PREATTACK_B
AliasConditionState  SNOW DAMAGED PREATTACK_A
AliasConditionState  SNOW DAMAGED PREATTACK_B
AliasConditionState  SNOW REALLYDAMAGED PREATTACK_A
AliasConditionState  SNOW REALLYDAMAGED PREATTACK_B
AliasConditionState  SNOW NIGHT DAMAGED PREATTACK_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED PREATTACK_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED PREATTACK_B
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW RELOADING_A
AliasConditionState  SNOW FIRING_B
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW RELOADING_B
AliasConditionState  SNOW NIGHT FIRING_A
AliasConditionState  SNOW NIGHT BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT RELOADING_A
AliasConditionState  SNOW NIGHT FIRING_B
AliasConditionState  SNOW NIGHT BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW NIGHT RELOADING_B
AliasConditionState  SNOW PREATTACK_A
AliasConditionState  SNOW PREATTACK_B
AliasConditionState  SNOW NIGHT PREATTACK_A
AliasConditionState  SNOW NIGHT PREATTACK_B
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED



;;;Normal
ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                RBCTowerU3
Animation            RBCTowerU3.RBCTowerU3
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
ParticleSysBone      TESLAFX01 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX02 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX03 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX04 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX05 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX06 TeslaTankCoilSparkFlare
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT
AliasConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT RELOADING_B

ConditionState  WEAPONSET_PLAYER_UPGRADE PREATTACK_A
Model          RBCTowerU3
Animation      RBCTowerU3.RBCTowerU3
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BASE01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT PREATTACK_B

;;;Damaged
ConditionState         WEAPONSET_PLAYER_UPGRADE DAMAGED
Model                RBCTowerU3_D
Animation            RBCTowerU3_D.RBCTowerU3_D
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED RELOADING_B


ConditionState   WEAPONSET_PLAYER_UPGRADE DAMAGED PREATTACK_A
Model          RBCTowerU3_D
Animation      RBCTowerU3_D.RBCTowerU3_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BASE01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT DAMAGED PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT REALLYDAMAGED PREATTACK_B

;;;Snow
ConditionState         WEAPONSET_PLAYER_UPGRADE SNOW
Model                RBCTowerU3_S
Animation            RBCTowerU3_S.RBCTowerU3_S
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT FIRING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT FIRING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT RELOADING_B

ConditionState   WEAPONSET_PLAYER_UPGRADE SNOW PREATTACK_A
Model          RBCTowerU3_S
Animation      RBCTowerU3_S.RBCTowerU3_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BASE01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW PREATTACK_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT PREATTACK_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT PREATTACK_B

;;;;When building

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU3
Animation           RBCTowerU3.RBCTowerU3
AnimationMode       LOOP
HideSubObject       BASE01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU3_D
Animation           RBCTowerU3_D.RBCTowerU3_D
AnimationMode       LOOP
HideSubObject       BASE01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU3_S
Animation           RBCTowerU3_S.RBCTowerU3_S
AnimationMode       LOOP
HideSubObject       BASE01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_0133 ;Coil Attack anims

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVDeva_U2
Turret               TURRET
End

ConditionState  PREATTACK_A
Model          RBCTowerU3_A1
Animation      RBCTowerU3_A1.RBCTowerU3_A1
AnimationMode  LOOP
Flags          RANDOMSTART
ParticleSysBone  TESLAFX01 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX02 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX03 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX04 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX05 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX06 TeslaTankCoilSparkFlare
End
AliasConditionState  PREATTACK_B

ConditionState  FIRING_A
Model          RBCTowerU3_A2
Animation      RBCTowerU3_A2.RBCTowerU3_A2
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  FIRING_B

ConditionState  BETWEEN_FIRING_SHOTS_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

End

Draw  W3DModelDraw ModuleTag_01333 ;Coil Attack anims

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVDeva_U2
End

ConditionState  PREATTACK_A
Model          RBCTowerU3_A1
Animation      RBCTowerU3_A1.RBCTowerU3_A1
AnimationMode  LOOP
Flags          RANDOMSTART
ParticleSysBone  TESLAFX01 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX02 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX03 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX04 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX05 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX06 TeslaTankCoilSparkFlare
End
AliasConditionState  PREATTACK_B

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***

DisplayName        OBJECT:TeslaComponentTower
Side               Russia
EditorSorting      SYSTEM
EnergyProduction   -6
BuildCost         1300
BuildTime         20.0           ; in seconds

Prerequisites
Object  RussiaWeaponsBunker
End

WeaponSet
Conditions             None
Weapon                 PRIMARY   NONE
Weapon                 SECONDARY NONE
End

WeaponSet
Conditions             PLAYER_UPGRADE
Weapon                 PRIMARY TeslaCoilMainWeapon
End

VisionRange     275.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  300
ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerCommandSetUpgraded
ExperienceValue  250 250 250 250 ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundAmbient           TeslaCoilAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT FS_BASE_DEFENSE IMMOBILE SCORE POWERED IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_04
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate         999
ControlledWeaponSlots  PRIMARY SECONDARY
End

AutoAcquireEnemiesWhenIdle  Yes Stealthed ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior   FXListDie ModuleTag_10
DeathFX        FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  FireWeaponCollide ModuleTag_PreFireEffect01
CollideWeapon   TeslaCoilChargeUpSoundWeaponNew
RequiredStatus  IS_FIRING_WEAPON
End

Behavior  FireWeaponUpdate ModuleTag_PreFireEffect02
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  ProductionUpdate ModuleTag_Transform01
End

;Default Mode

Behavior  CommandSetUpgrade ModuleTag_Transform02
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet
CommandSet           RussiaComponentTowerTeslaCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToClear        NO_ATTACK
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform04
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet
UpgradeObject        OCL_TeslaOverchargeTimerObject
End

;Overcharge Mode

Behavior  CommandSetUpgrade ModuleTag_Transform05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
ConflictsWith        Upgrade_GLAWorkerRealCommandSet
CommandSet           RussiaComponentTowerTeslaOverchargeCommandSet
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
ConflictsWith        Upgrade_GLAWorkerRealCommandSet
UpgradeObject        OCL_TeslaOverchargeTimerObject
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
ConflictsWith        Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          NO_ATTACK
End

Behavior  FireWeaponCollide ModuleTag_Transform08
CollideWeapon        TeslaCoilOverchargeObjectSpawnWeapon
RequiredStatus       NO_ATTACK
ForbiddenStatus      SOLD
End

Behavior  FireWeaponCollide ModuleTag_Transform09
CollideWeapon        TeslaCoilOverchargeRangeIndicatorDecalWeapon
RequiredStatus       NO_ATTACK
ForbiddenStatus      SOLD
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  TransportContain  ModuleTag_UpgradeAfterAWhile01
Slots                 1
EnterSound            OverlordExpansion
DamagePercentToUnits  100%
AllowInsideKindOf     INFANTRY
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  FireWeaponUpdate ModuleTag_UpgradeAfterAWhile02
Weapon                AIControlledComponentTowerUpgradeDummyWeapon
InitialDelay          20000 ; 20 seconds
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaComponentTowerTeslaAddon

; *** ART Parameters ***
SelectPortrait          SRTeslaComponent_L
ButtonImage             SRTeslaComponent

Draw  W3DModelDraw ModuleTag_01 ;Main Coil
OkToChangeModelColor   Yes

DefaultConditionState
Model                RBCTowerU3
Turret               TURRET
HideSubObject        BASE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTowerU3_D
HideSubObject        BASE02
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE


;;;Snow
ConditionState         SNOW
Model                RBCTowerU3_S
HideSubObject        BASE02
End
AliasConditionState  NIGHT SNOW

;;;;Whenbuildind
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU3
HideSubObject       BASE02
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU3_D
HideSubObject       BASE02
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU3_S
HideSubObject       BASE02
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_01232 ;Smaller Animated coils

OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones  Yes

;;;Normal
DefaultConditionState
Model                RBCTowerU3
Animation            RBCTowerU3.RBCTowerU3
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
ParticleSysBone      TESLAFX01 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX02 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX03 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX04 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX05 TeslaTankCoilSparkFlare
ParticleSysBone      TESLAFX06 TeslaTankCoilSparkFlare
End
AliasConditionState  NIGHT
AliasConditionState  FIRING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  FIRING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  NIGHT FIRING_A
AliasConditionState  NIGHT BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT RELOADING_A
AliasConditionState  NIGHT FIRING_B
AliasConditionState  NIGHT BETWEEN_FIRING_SHOTS_B
AliasConditionState  NIGHT RELOADING_B

ConditionState  PREATTACK_A
Model          RBCTowerU3
Animation      RBCTowerU3.RBCTowerU3
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BASE01
End
AliasConditionState  PREATTACK_B
AliasConditionState  NIGHT PREATTACK_A
AliasConditionState  NIGHT PREATTACK_B

;;;Damaged
ConditionState         DAMAGED
Model                RBCTowerU3_D
Animation            RBCTowerU3_D.RBCTowerU3_D
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  DAMAGED FIRING_A
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DAMAGED RELOADING_A
AliasConditionState  DAMAGED FIRING_B
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED FIRING_A
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  NIGHT DAMAGED FIRING_A
AliasConditionState  NIGHT DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT DAMAGED RELOADING_A
AliasConditionState  NIGHT DAMAGED FIRING_B
AliasConditionState  NIGHT DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  NIGHT DAMAGED RELOADING_B
AliasConditionState  NIGHT REALLYDAMAGED FIRING_A
AliasConditionState  NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT REALLYDAMAGED RELOADING_A
AliasConditionState  NIGHT REALLYDAMAGED FIRING_B
AliasConditionState  NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  NIGHT REALLYDAMAGED RELOADING_B
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED FIRING_A
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW DAMAGED RELOADING_A
AliasConditionState  SNOW DAMAGED FIRING_B
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW DAMAGED RELOADING_B
AliasConditionState  SNOW REALLYDAMAGED FIRING_A
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED RELOADING_A
AliasConditionState  SNOW REALLYDAMAGED FIRING_B
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW REALLYDAMAGED RELOADING_B
AliasConditionState  SNOW NIGHT DAMAGED FIRING_A
AliasConditionState  SNOW NIGHT DAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT DAMAGED RELOADING_A
AliasConditionState  SNOW NIGHT DAMAGED FIRING_B
AliasConditionState  SNOW NIGHT DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW NIGHT DAMAGED RELOADING_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED FIRING_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED RELOADING_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED FIRING_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED RELOADING_B


ConditionState   DAMAGED PREATTACK_A
Model          RBCTowerU3_D
Animation      RBCTowerU3_D.RBCTowerU3_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BASE01
End
AliasConditionState  DAMAGED PREATTACK_B
AliasConditionState  REALLYDAMAGED PREATTACK_A
AliasConditionState  REALLYDAMAGED PREATTACK_B
AliasConditionState  NIGHT DAMAGED PREATTACK_B
AliasConditionState  NIGHT REALLYDAMAGED PREATTACK_A
AliasConditionState  NIGHT REALLYDAMAGED PREATTACK_B
AliasConditionState  SNOW DAMAGED PREATTACK_A
AliasConditionState  SNOW DAMAGED PREATTACK_B
AliasConditionState  SNOW REALLYDAMAGED PREATTACK_A
AliasConditionState  SNOW REALLYDAMAGED PREATTACK_B
AliasConditionState  SNOW NIGHT DAMAGED PREATTACK_B
AliasConditionState  SNOW NIGHT REALLYDAMAGED PREATTACK_A
AliasConditionState  SNOW NIGHT REALLYDAMAGED PREATTACK_B

;;;Snow
ConditionState         SNOW
Model                RBCTowerU3_S
Animation            RBCTowerU3_S.RBCTowerU3_S
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        BASE01
End
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW RELOADING_A
AliasConditionState  SNOW FIRING_B
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW RELOADING_B
AliasConditionState  SNOW NIGHT FIRING_A
AliasConditionState  SNOW NIGHT BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT RELOADING_A
AliasConditionState  SNOW NIGHT FIRING_B
AliasConditionState  SNOW NIGHT BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW NIGHT RELOADING_B

ConditionState   SNOW PREATTACK_A
Model          RBCTowerU3_S
Animation      RBCTowerU3_S.RBCTowerU3_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BASE01
End
AliasConditionState  SNOW PREATTACK_B
AliasConditionState  SNOW NIGHT PREATTACK_A
AliasConditionState  SNOW NIGHT PREATTACK_B

;;;;When building

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU3
Animation           RBCTowerU3.RBCTowerU3
AnimationMode       LOOP
HideSubObject       BASE01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU3_D
Animation           RBCTowerU3_D.RBCTowerU3_D
AnimationMode       LOOP
HideSubObject       BASE01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU3_S
Animation           RBCTowerU3_S.RBCTowerU3_S
AnimationMode       LOOP
HideSubObject       BASE01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_0133 ;Coil Attack anims

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVDeva_U2
Turret               TURRET
End

ConditionState  PREATTACK_A
Model          RBCTowerU3_A1
Animation      RBCTowerU3_A1.RBCTowerU3_A1
AnimationMode  LOOP
Flags          RANDOMSTART
ParticleSysBone  TESLAFX01 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX02 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX03 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX04 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX05 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX06 TeslaTankCoilSparkFlare
End
AliasConditionState  PREATTACK_B

ConditionState  FIRING_A
Model          RBCTowerU3_A2
Animation      RBCTowerU3_A2.RBCTowerU3_A2
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  FIRING_B

ConditionState  BETWEEN_FIRING_SHOTS_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

End

Draw  W3DModelDraw ModuleTag_01333 ;Coil Attack anims

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVDeva_U2
End

ConditionState  PREATTACK_A
Model          RBCTowerU3_A1
Animation      RBCTowerU3_A1.RBCTowerU3_A1
AnimationMode  LOOP
Flags          RANDOMSTART
ParticleSysBone  TESLAFX01 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX02 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX03 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX04 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX05 TeslaTankCoilSparkFlare
ParticleSysBone  TESLAFX06 TeslaTankCoilSparkFlare
End
AliasConditionState  PREATTACK_B

End

;;;;Tower Model
Draw  W3DModelDraw ModuleTag_99

OkToChangeModelColor  Yes

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***

DisplayName        OBJECT:TeslaComponentTower
Side               Russia
EditorSorting      STRUCTURE
EnergyProduction   -6
BuildCost         1300
BuildTime         20.0           ; in seconds

Prerequisites
Object  RussiaWeaponsBunker
End

WeaponSet
Conditions  None
Weapon             PRIMARY  TeslaCoilMainWeapon
End

VisionRange     275.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  300
ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerTeslaCommandSet
ExperienceValue  250 250 250 250 ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundAmbient           TeslaCoilAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT FS_BASE_DEFENSE IMMOBILE SCORE POWERED IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_04
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate         999
ControlledWeaponSlots  PRIMARY SECONDARY
End

AutoAcquireEnemiesWhenIdle  Yes Stealthed ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior   FXListDie ModuleTag_10
DeathFX        FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  FireWeaponCollide ModuleTag_PreFireEffect01
CollideWeapon   TeslaCoilChargeUpSoundWeaponNew
RequiredStatus  IS_FIRING_WEAPON
ForbiddenStatus  NO_ATTACK
End

Behavior  FireWeaponUpdate ModuleTag_PreFireEffect02
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  ProductionUpdate ModuleTag_Transform01
End

;Default Mode

Behavior  CommandSetUpgrade ModuleTag_Transform02
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet
CommandSet           RussiaComponentTowerTeslaCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToClear        NO_ATTACK
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform04
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet
UpgradeObject        OCL_TeslaOverchargeTimerObject
End

;Overcharge Mode

Behavior  CommandSetUpgrade ModuleTag_Transform05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
ConflictsWith        Upgrade_GLAWorkerRealCommandSet
CommandSet           RussiaComponentTowerTeslaOverchargeCommandSet
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
ConflictsWith        Upgrade_GLAWorkerRealCommandSet
UpgradeObject        OCL_TeslaOverchargeTimerObject
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
ConflictsWith        Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          NO_ATTACK
End

Behavior  FireWeaponCollide ModuleTag_Transform08
CollideWeapon        TeslaCoilOverchargeObjectSpawnWeapon
RequiredStatus       NO_ATTACK
ForbiddenStatus      SOLD
End

Behavior  FireWeaponCollide ModuleTag_Transform09
CollideWeapon        TeslaCoilOverchargeRangeIndicatorDecalWeapon
RequiredStatus       NO_ATTACK
ForbiddenStatus      SOLD
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaTeslaCoilOverchareRangeDecalObject

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCTeslaZn
ShadowSizeX  370
ShadowSizeY  370

End
;------------------------------------------------------------------------------
Object RussiaSatelliteBlackoutMarker

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              RBJamNode_A
Animation          RBJamNode_A.RBJamNode_A
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED


ConditionState  SNOW
Model              RBJamNode_AS
Animation          RBJamNode_AS.RBJamNode_AS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT SNOW

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:BlackoutNode
Side  Russia
EditorSorting     SYSTEM

EnergyProduction  0
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         EmptyDamageFX
End

ExperienceValue  50 50 50 50     ; Experience point value at each level

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           NO_SELECT PRELOAD PORTABLE_STRUCTURE IMMOBILE IMMUNE_TO_CAPTURE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_SEE_THROUGH_STRUCTURE

Body             StructureBody ModuleTag_04
MaxHealth            200.0
InitialHealth        200.0
End

Behavior  DestroyDie ModuleTag_10
End

Behavior              CreateObjectDie ModuleTag_11
CreationList            OCL_RussiaSatelliteBlackoutNodeFinal
TransferPreviousHealth  Yes
End

Behavior  LifetimeUpdate ModuleTag_16
MinLifetime  3399   ; min lifetime in msec
MaxLifetime  3399   ; max lifetime in msec
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponRussiaSatelliteBlackout
End

Behavior  FireWeaponUpdate ModuleTag_03222
Weapon  BlackoutBuildupDummyPlacementEffectWeapon
End

Geometry             BOX
GeometryMajorRadius  55.0
GeometryMinorRadius  55.0
GeometryHeight       30.0
FactoryExitWidth     10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaSatelliteBlackoutNode

; *** ART Parameters ***
SelectPortrait          SRBlackoutNode_L
ButtonImage             SRBlackoutNode

Draw                     W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

;Normal     ---------------------------------------------------------------
ConditionState       NONE
Model              RBJamNode
Animation          RBJamNode.RBJamNode
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_Normal_Unactive
End
AliasConditionState  NIGHT

;Damaged    ---------------------------------------------------------------
ConditionState       DAMAGED
Model              RBJamNode_D
Animation          RBJamNode_D.RBJamNode_D
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_Normal_Unactive_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE NIGHT
AliasConditionState  RUBBLE SNOW
AliasConditionState  RUBBLE NIGHT SNOW

;Snow    ---------------------------------------------------------------
ConditionState       SNOW
Model              RBJamNode_S
Animation          RBJamNode_S.RBJamNode_S
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_Normal_Unactive_Snow
End
AliasConditionState  NIGHT SNOW

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone   PLANE01
DefaultConditionState
Model                  EXBlackout
Animation              EXBlackout.EXBlackout
AnimationMode          LOOP
Flags                  MAINTAIN_FRAME_ACROSS_STATES
End
End
PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:BlackoutNode
Side                 Russia
EditorSorting        STRUCTURE
VisionRange          240.0
ShroudClearingRange  240.0

ArmorSet
Conditions     None
Armor          BaseDefenseArmor
DamageFX       EmptyDamageFX
End

CommandSet         RussiaBlackOutNodeCommandSet

; *** AUDIO Parameters ***
VoiceSelect            BlackoutNodeSelect


; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_BASE_DEFENSE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_032
MaxHealth            200.0
InitialHealth        200.0

SubdualDamageCap  400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior         FXListDie ModuleTag_109
DeathFX        FX_StructureTinyDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior         DestroyDie ModuleTag_08
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
End

Behavior  ObjectCreationUpgrade ModuleTag_RotatingDecal02
UpgradeObject  OCL_RussiaSatelliteBlackoutMarkerDecal
TriggeredBy    Upgrade_CostReduction
End

Behavior  ActiveShroudUpgrade ModuleTag_ShroudModule01
TriggeredBy  Upgrade_CostReduction
NewShroudRange  420.0
End

Behavior  ProductionUpdate ModuleTag_Scuttle01
End

Behavior  ObjectCreationUpgrade ModuleTag_Scuttle02
UpgradeObject  OCL_ScuttleStructure
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  StealthUpdate ModuleTag_StealthUpdate09
StealthDelay                 4000
StealthForbiddenConditions   TAKING_DAMAGE
FriendlyOpacityMin           40.0%
FriendlyOpacityMax           90.0%
PulseFrequency               500       ; msec
MoveThresholdSpeed           3
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  15.0
GeometryHeight       57.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaSatelliteBlackoutMarker_PlaceCursor

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model              RBJamNode
Animation          RBJamNode.RBJamNode
AnimationMode      LOOP
End

AliasConditionState  NIGHT
End
PlacementViewAngle  -45

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40
MaxLifetime  40
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  15.0
GeometryHeight       30.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaSatelliteBlackoutMarker_Decal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  PLANE01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_CAST_REFLECTIONS CLICK_THROUGH IGNORED_IN_GUI NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  15.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowSizeX  840;
ShadowSizeY  840;
ShadowTexture  SCCBlackout;

End
;------------------------------------------------------------------------------
Object RussiaComponentTowerAntiTankAddon_AI

; *** ART Parameters ***
SelectPortrait          SRRPGComponent_L
ButtonImage             SRRPGComponent

;;;;Tower Model
Draw  W3DModelDraw ModuleTag_99

OkToChangeModelColor  Yes

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
Turret               TURRET
WeaponFireFXBone     PRIMARY WeaponA
WeaponLaunchBone     PRIMARY WeaponA
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED

;And after 10 seconds we turn into this:

ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                RBCTowerU1
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT

ConditionState         WEAPONSET_PLAYER_UPGRADE DAMAGED
Model                RBCTowerU1_D
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         WEAPONSET_PLAYER_UPGRADE SNOW
Model                RBCTowerU1_S
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW

;;;;Whenbuildind
ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU1
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU1_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU1_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW REALLYDAMAGED

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***

DisplayName        OBJECT:RPGComponentTower
Side               Russia
EditorSorting      SYSTEM
BuildCost         1000
BuildTime         12.0           ; in seconds
EnergyProduction  -3

Prerequisites
Object  RussiaWeaponsBunker
End

WeaponSet
Conditions           None
Weapon               PRIMARY NONE
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY ComponentTowerAntiTankGun
End

VisionRange     300.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  325
ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerCommandSetUpgraded
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction  UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_04
MaxHealth      2000.0
InitialHealth  2000.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate         40
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         250
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior   FXListDie ModuleTag_10
DeathFX        FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  TransportContain  ModuleTag_UpgradeAfterAWhile01
Slots                 1
EnterSound            OverlordExpansion
DamagePercentToUnits  100%
AllowInsideKindOf     INFANTRY
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  FireWeaponUpdate ModuleTag_UpgradeAfterAWhile02
Weapon                AIControlledComponentTowerUpgradeDummyWeapon
InitialDelay          12000 ; 12 seconds
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaComponentTowerAntiTankAddon

; *** ART Parameters ***
SelectPortrait          SRRPGComponent_L
ButtonImage             SRRPGComponent

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RBCTowerU1
Turret               TURRET
WeaponFireFXBone     PRIMARY WeaponA
WeaponLaunchBone     PRIMARY WeaponA
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTowerU1_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTowerU1_S
End
AliasConditionState  NIGHT SNOW

;;;;Whenbuildind
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU1
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU1_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU1_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
End


;;;;Tower Model
Draw  W3DModelDraw ModuleTag_99

OkToChangeModelColor  Yes

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***

DisplayName        OBJECT:RPGComponentTower
Side               Russia
EditorSorting      STRUCTURE
BuildCost         1000
BuildTime         12.0           ; in seconds
EnergyProduction  -3

Prerequisites
Object  RussiaWeaponsBunker
End

WeaponSet
Conditions           None
Weapon               PRIMARY ComponentTowerAntiTankGun
End

VisionRange     300.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  325
ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerCommandSetUpgraded
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_04
MaxHealth      2000.0
InitialHealth  2000.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate         40
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         250
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior   FXListDie ModuleTag_10
DeathFX        FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaKashtan

; *** ART Parameters ***
SelectPortrait          SRKashtan_L
ButtonImage             SRKashtan

Draw                     W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RBKshtn
Animation            RBKshtn.RBKshtn
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               TURRET
TurretPitch          TURRETEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     TERTIARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponMuzzleFlash    TERTIARY MuzzleBFX
WeaponFireFXBone     SECONDARY WEAPONB
WeaponLaunchBone     SECONDARY WEAPONB
End
AliasConditionState  NIGHT

ConditionState          ATTACKING
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  ATTACKING NIGHT


ConditionState         DAMAGED
Model                RBKshtn_D
Animation            RBKshtn_D.RBKshtn_D
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE NIGHT
AliasConditionState  RUBBLE SNOW
AliasConditionState  RUBBLE NIGHT SNOW

ConditionState         ATTACKING DAMAGED
Model                RBKshtn_D
Animation            RBKshtn_D.RBKshtn_D
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  ATTACKING DAMAGED NIGHT
AliasConditionState  ATTACKING DAMAGED SNOW
AliasConditionState  ATTACKING DAMAGED NIGHT SNOW
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  ATTACKING REALLYDAMAGED NIGHT
AliasConditionState  ATTACKING REALLYDAMAGED SNOW
AliasConditionState  ATTACKING REALLYDAMAGED NIGHT SNOW
AliasConditionState  ATTACKING RUBBLE
AliasConditionState  ATTACKING RUBBLE NIGHT
AliasConditionState  ATTACKING RUBBLE SNOW
AliasConditionState  ATTACKING RUBBLE NIGHT SNOW



;SNOW    ---------------------------------------------------------------
ConditionState         SNOW
Model                RBKshtn_S
Animation            RBKshtn_S.RBKshtn_S
End
AliasConditionState  NIGHT SNOW

ConditionState         ATTACKING SNOW
Model                RBKshtn_S
Animation            RBKshtn_S.RBKshtn_S
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  ATTACKING NIGHT SNOW



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBKshtn
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              RBKshtn_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              RBKshtn_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End



; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Kashtan
Side              Russia
EditorSorting     STRUCTURE

Prerequisites
Object  RussiaPowerPlant
End

BuildCost         1000
BuildTime         16.0
EnergyProduction  -3

ExperienceValue  150 150 150 150 ; Experience point value at each level

WeaponSet
Conditions           None
Weapon               PRIMARY   KashtanChainGunWeapon
Weapon               SECONDARY KashtanMissileWeapon
Weapon               TERTIARY  KashtanChainGunWeaponAir
End

VisionRange          500
ShroudClearingRange  500

ArmorSet
Conditions      None
Armor           BaseDefenseArmor
DamageFX        StructureDamageFXNoShake
End
CommandSet        RussiaKashtanCommandSet

; *** AUDIO Parameters ***
VoiceSelect            RussianKashtanSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE

Body               StructureBody ModuleTag_05
MaxHealth        900.0
InitialHealth    900.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate       250
TurretPitchRate      250
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   8
MinPhysicalPitch     -25
MinIdleScanInterval  250    ; in milliseconds
MaxIdleScanInterval  250   ; in milliseconds
MinIdleScanAngle     0       ; in degrees off the natural turret angle
MaxIdleScanAngle     360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate         250
End

Behavior  ProductionUpdate ModuleTag_07
End

Behavior              DestroyDie ModuleTag_08
End
Behavior              FXListDie ModuleTag_09
DeathFX        FX_StructureTinyDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  15.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaDebrisBunker

; *** ART Parameters ***
SelectPortrait          SRDebrisBunker_L
ButtonImage             SRDebrisBunker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End

ConditionState  DAMAGED
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke01 SmolderingFlameCore
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFlameCore
End

ConditionState  REALLYDAMAGED RUBBLE
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke01 SmolderingFlameCore
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFlameCore
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFlameCore
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFlameCore
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFlameCore
End

;**************************************************************************************************************************
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBRubbleBunker
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Bunker
Side  Russia
EditorSorting      STRUCTURE

VisionRange          200.0
ShroudClearingRange  200.0

WeaponSet
Conditions          None
Weapon              PRIMARY   RubbleBunkerMachineGun
Weapon              TERTIARY  SuicideWeapon ;Rubble Bunkers cannot be sold so they have a self kill function
AutoChooseSources   TERTIARY  NONE
End

WeaponSet
Conditions          PLAYER_UPGRADE
Weapon              PRIMARY   RubbleBunkerMachineGunUpgraded
Weapon              TERTIARY  SuicideWeapon ;Rubble Bunkers cannot be sold so they have a self kill function
AutoChooseSources   TERTIARY  NONE
End

ExperienceValue      0 0 0 0  ;No experince for you

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

CommandSet        RussiaRubbleBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect            RussianDebrisBunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_05
MaxHealth           9999999.9
InitialHealth       9999999.9

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

ExperienceValue      20 20 20 20  ; Experience point value at each level


Behavior  AIUpdateInterface ModuleTag_0622
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate         50
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior   FXListDie ModuleTag_2310
DeathFX        FX_StructureSmallDeath
End

Behavior  WeaponSetUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_RussiaLargerClips
End

Behavior  OverlordContain ModuleTag_Upgrade02
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
End

Behavior  ObjectCreationUpgrade ModuleTag_Upgrade03
UpgradeObject  OCL_RussiaConscriptIRGoggles
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior         CreateObjectDie ModuleTag_11124
CreationList   OCL_LargeStructureDebris
End

Behavior  DestroyDie ModuleTag_Collapse02
End

Behavior  LifetimeUpdate ModuleTag_042
MinLifetime  45000   ; min lifetime in msec
MaxLifetime  45000   ; max lifetime in msec
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_RussiaDebrisBunkerConscripts
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Scale  1.0
Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  16.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaBuildingComponentTower_Random

; *** ART Parameters ***
SelectPortrait          SRComponentTower_L
ButtonImage             SRComponentTower


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState         None
Model                RBCTower
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***

BuildCost  1300
BuildTime  20.0

Prerequisites
Object  RussiaWeaponsBunker
End

Side  Russia
EditorSorting  STRUCTURE
BuildVariations  RussiaComponentTowerArenaAddon_AI RussiaComponentTowerAntiTankAddon_AI RussiaComponentTowerAntiTankAddon_AI RussiaComponentTowerTeslaAddon_AI

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaBuildingComponentTower

; *** ART Parameters ***
SelectPortrait          SRComponentTower_L
ButtonImage             SRComponentTower

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW
AliasConditionState  RUBBLE SNOW
AliasConditionState  RUBBLE NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName        OBJECT:ComponentTower
Side               Russia
EditorSorting      STRUCTURE
Prerequisites
Object  RussiaWeaponsBunker
End
BuildCost         300
BuildTime         10.0           ; in seconds

VisionRange     360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360
ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerCommandSet
ExperienceValue      80 80 80 80  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
Body             StructureBody ModuleTag_04
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI01
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL -SUICIDED
End

Behavior  SlowDeathBehavior ModuleTag_065365
DeathTypes  NONE +SUICIDED
DestructionDelay  100
End

;-------------------------------
;------Start Upgrade Code-------
;-------------------------------

Behavior  ProductionUpdate ModuleTag_Upgrades01
MaxQueueEntries  1
End

Behavior  QueueProductionExitUpdate  ModuleTag_Upgrades02
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
End

;This is the upgrade segment to turn it into an RPG Tower
Behavior  FireWeaponCollide  ModuleTag_Upgrades03
CollideWeapon   SuicideWeapon
RequiredStatus  IS_BRAKING
End

Behavior          CreateObjectDie  ModuleTag_Upgrades04
DeathTypes      NONE +SUICIDED
CreationList    OCL_ComponentTowerUpgradingToRPG
RequiredStatus  IS_BRAKING
TransferPreviousHealth  Yes
End

;This is the upgrade segment to turn it into an Arena Tower
Behavior  FireWeaponCollide  ModuleTag_Upgrades05
CollideWeapon   SuicideWeapon
RequiredStatus  PARACHUTING
End

Behavior          CreateObjectDie  ModuleTag_Upgrades06
DeathTypes      NONE +SUICIDED
CreationList    OCL_ComponentTowerUpgradingToArena
RequiredStatus  PARACHUTING
TransferPreviousHealth  Yes
End

;This is the upgrade segment to turn it into an Tesla Tower
Behavior  FireWeaponCollide  ModuleTag_Upgrades07
CollideWeapon   SuicideWeapon
RequiredStatus  DISGUISED
End

Behavior          CreateObjectDie  ModuleTag_Upgrades08
DeathTypes      NONE +SUICIDED
CreationList    OCL_ComponentTowerUpgradingToTesla
RequiredStatus  DISGUISED
TransferPreviousHealth  Yes
End

Behavior  ObjectCreationUpgrade  ModuleTag_Upgrades09
UpgradeObject  OCL_RadarVanGPSScrambler
TriggeredBy    Upgrade_CostReduction
End

;-------------------------------
;-------End Upgrade Code--------
;-------------------------------

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14425
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaComponentTowerArenaAddon_AI

; *** ART Parameters ***
SelectPortrait          SRArenaComponent_L
ButtonImage             SRArenaComponent

;;;;Tower Model
Draw  W3DModelDraw ModuleTag_99

OkToChangeModelColor  Yes

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ProjectileBoneFeedbackEnabledSlots  TERTIARY

DefaultConditionState
Model                NVDeva_U2
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               TURRET
WeaponHideShowBone   TERTIARY REDLIGHT01
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED

ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                RBCTowerU2
Animation            RBCTowerU2.RBCTowerU2
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               TURRET
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
WeaponHideShowBone   TERTIARY  REDLIGHT01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT

ConditionState         WEAPONSET_PLAYER_UPGRADE DAMAGED
Model                RBCTowerU2_D
Animation            RBCTowerU2_D.RBCTowerU2_D
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW DAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         WEAPONSET_PLAYER_UPGRADE SNOW
Model                RBCTowerU2_S
Animation            RBCTowerU2_S.RBCTowerU2_S
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT SNOW

;;;;Whenbuildind
ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU2
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU2_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU2_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW


ConditionState        WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_0323
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                NVDeva_U2
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               TURRET
WeaponHideShowBone   TERTIARY REDLIGHT01
End
AliasConditionState  RELOADING_B
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                RBCTowerU2_A2
Animation            RBCTowerU2_A2.RBCTowerU2_A2
AnimationMode        LOOP
ParticleSysBone      REDLIGHT01 SentinelArenaActiveEffect
TransitionKey        TRANS_LOADED
End

TransitionState        TRANS_RELOADING TRANS_LOADED
Model                RBCTowerU2_A1
Animation            RBCTowerU2_A1.RBCTowerU2_A1
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState         WEAPONSET_PLAYER_UPGRADE RELOADING_B
Model                RBCTowerU2_A1
Animation            RBCTowerU2_A1.RBCTowerU2_A1
AnimationMode        ONCE
TransitionKey        TRANS_RELOADING
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.1 1.1
End

ConditionState  WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION
Model                NONE
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   WEAPONSET_PLAYER_UPGRADE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   WEAPONSET_PLAYER_UPGRADE NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***

DisplayName        OBJECT:ArenaComponentTower
Side               Russia
EditorSorting      SYSTEM
BuildCost         1200
BuildTime         12.0           ; in seconds
EnergyProduction  -5

Prerequisites
Object  RussiaWeaponsBunker
Object  RussiaIndustrialSite
End


WeaponSet
Conditions         None
Weapon             SECONDARY NONE
Weapon             TERTIARY  NONE
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             SECONDARY CompnentArenaAntiMissileCartrigeWeapon
Weapon             TERTIARY  CompnentArenaDummyWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

VisionRange          360.0
ShroudClearingRange  360.0

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerArenaCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_04
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate         999
ControlledWeaponSlots  PRIMARY SECONDARY
End

AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior   FXListDie ModuleTag_10
DeathFX        FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianArenaComponentSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  TransportContain  ModuleTag_UpgradeAfterAWhile01
Slots                 1
EnterSound            OverlordExpansion
DamagePercentToUnits  100%
AllowInsideKindOf     INFANTRY
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  FireWeaponUpdate ModuleTag_UpgradeAfterAWhile02
Weapon                AIControlledComponentTowerUpgradeDummyWeapon
InitialDelay          12000 ; 12 seconds
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaComponentTowerArenaAddon

; *** ART Parameters ***
SelectPortrait          SRArenaComponent_L
ButtonImage             SRArenaComponent

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ProjectileBoneFeedbackEnabledSlots  TERTIARY

DefaultConditionState
Model                RBCTowerU2
Animation            RBCTowerU2.RBCTowerU2
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               TURRET
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
WeaponHideShowBone   TERTIARY  REDLIGHT01
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTowerU2_D
Animation            RBCTowerU2_D.RBCTowerU2_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTowerU2_S
Animation            RBCTowerU2_S.RBCTowerU2_S
End
AliasConditionState  NIGHT SNOW

;;;;Whenbuildind
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTowerU2
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTowerU2_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTowerU2_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
End

Draw                     W3DModelDraw ModuleTag_0323
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                RBCTowerU2_A2
Animation            RBCTowerU2_A2.RBCTowerU2_A2
AnimationMode        LOOP
ParticleSysBone      REDLIGHT01 SentinelArenaActiveEffect
TransitionKey        TRANS_LOADED
End

TransitionState        TRANS_RELOADING TRANS_LOADED
Model                RBCTowerU2_A1
Animation            RBCTowerU2_A1.RBCTowerU2_A1
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState         RELOADING_B
Model                RBCTowerU2_A1
Animation            RBCTowerU2_A1.RBCTowerU2_A1
AnimationMode        ONCE
TransitionKey        TRANS_RELOADING
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.1 1.1
End

ConditionState  AWAITING_CONSTRUCTION
Model                NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW


End


;;;;Tower Model
Draw  W3DModelDraw ModuleTag_99

OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                RBCTower_D
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Snow
ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               RBCTower
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               RBCTower_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

;;;Snow
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               RBCTower_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End


; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_BF
Animation        RBKashtan_BF.RBKashtan_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            RBKashtan_sc
Animation        RBKashtan_sc.RBKashtan_sc
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***

DisplayName        OBJECT:ArenaComponentTower
Side               Russia
EditorSorting      STRUCTURE
BuildCost         1000
BuildTime         12.0           ; in seconds
EnergyProduction  -5

Prerequisites
Object  RussiaWeaponsBunker
Object  RussiaIndustrialSite
End

WeaponSet
Conditions         None
Weapon             SECONDARY CompnentArenaAntiMissileCartrigeWeapon
Weapon             TERTIARY  CompnentArenaDummyWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

VisionRange          360.0
ShroudClearingRange  360.0

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         RussiaComponentTowerArenaCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_04
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate         999
ControlledWeaponSlots  PRIMARY SECONDARY
End

AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior   FXListDie ModuleTag_10
DeathFX        FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  SpawnPointProductionExitUpdate ModuleTag_CommandCenterDummy01
SpawnPointBoneName  HOUSECOLOR
End

Behavior                 SpawnBehavior ModuleTag_CommandCenterDummy02
SpawnNumber            1
SpawnReplaceDelay      20000 ;msec
SpawnTemplateName      RussiaArenaTowerDefenceDecal
CanReclaimOrphans      No
SpawnedRequireSpawner  Yes
SlavesHaveFreeWill     No
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianArenaComponentSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaInfantryVDVRpgParaTrooper
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRVDVRpg_L
ButtonImage             SRVDVRpg

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                RIVDVRPG_SKN
End
End

; set cost and time fields here or else they won't work
BuildCost  300
BuildTime  8.0

Side  Russia
EditorSorting  INFANTRY
BuildVariations  RussiaInfantryVDVRpgParaTrooper_Var1 RussiaInfantryVDVRpgParaTrooper_Var1 RussiaInfantryVDVRpgParaTrooper_Var2 RussiaInfantryVDVRpgParaTrooper_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE DONT_AUTO_CRUSH_INFANTRY SCORE

End

;------------------------------------------------------------------------------
Object RussiaInfantryVDVRpgParaTrooper_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRVDVRpg_L
ButtonImage             SRVDVRpg

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model              RIVDVRPG_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      HEAD02 HEAD03 RPO
ShowSubObject      RPG
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_STAND
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WaitForStateToFinishIfPossible  TRANS_RIDER1_START_FIRING
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NADA
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER1 MOVING RELOADING_A
AliasConditionState  RIDER1 MOVING RELOADING_C
AliasConditionState  RIDER1 MOVING RELOADING_B

ConditionState       RIDER1 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATC
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG RPO
ShowSubObject      RIVDV_SKN LAUNCHER HEAD01 WARHEADS
TransitionKey      TRANS_RIDER1_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 2.0
End
AliasConditionState  RIDER1 FIRING_B
AliasConditionState  RIDER1 FIRING_C

ConditionState       RIDER1 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
TransitionKey      NADA
WaitForStateToFinishIfPossible  TRANS_RIDER1_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 RELOADING_B
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 RELOADING_C
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_C


;Death animations:

ConditionState       RIDER1 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_RIDER1_Dying TRANS_RIDER1_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER1 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       RIDER1 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
TransitionKey      NADA
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       RIDER1 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FALLING
End
AliasConditionState  RIDER1 FREEFALL DYING


ConditionState       RIDER1 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER1_CHUTE
End
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState      TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       RIDER1 UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End

ConditionState       RIDER1 RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_Raising
End

ConditionState       RIDER1 PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_RIDER1_Packing
End

TransitionState      TRANS_RIDER1_Raising TRANS_RIDER1_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End


;Thermobaric Rocket Mode

ConditionState  RIDER2
Model              RIVDVRPG_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_STAND
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End

ConditionState       RIDER2 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      NADA
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING RELOADING_C
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState       RIDER2 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATC
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG RPO
ShowSubObject      RIVDV_SKN LAUNCHER HEAD01 WARHEADS
TransitionKey      TRANS_RIDER2_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 2.0
End
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 FIRING_C

ConditionState       RIDER2 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      NADA
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_C
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C


;Death animations:

ConditionState       RIDER2 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_RIDER2_Dying TRANS_RIDER2_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      NADA
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       RIDER2 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_FALLING
End
AliasConditionState  RIDER2 FREEFALL DYING


ConditionState       RIDER2 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER2_CHUTE
End
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState      TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
End

; ------- Bldg-capture

ConditionState       RIDER2 UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
End

ConditionState       RIDER2 RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Raising
End

ConditionState       RIDER2 PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Packing
End

TransitionState      TRANS_RIDER2_Raising TRANS_RIDER2_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD02 HEAD03 RPG
ShowSubObject      RPO
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:VDVRPGTrooper
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon             PRIMARY   VDVMissileLauncher
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE
Weapon             PRIMARY   VDVMissileLauncherUpgraded
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon             PRIMARY   VDVMissileLauncherThermobaric
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 PLAYER_UPGRADE
Weapon             PRIMARY   VDVMissileLauncherThermobaricUpgraded
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          225
ShroudClearingRange  250

BuildCost  300
BuildTime  4.0          ;in seconds

ExperienceValue      20 20  40  60   ;Experience point value at each level
ExperienceRequired   0  100 200 400  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           RussianInfantryVDVRPGTrooperCommandSet

; *** AUDIO Parameters ***
VoiceSelect            VDVVoiceSelectRPG
VoiceMove              VDVVoiceMove
VoiceGuard             VDVVoiceMove
VoiceAttack            VDVVoiceAttackRPG
VoiceFear              VDVVoiceFear

UnitSpecificSounds
VoiceGarrison        VDVVoiceMove
VoiceEnter           VDVVoiceMove
VoiceEnterHostile    VDVVoiceMove
VoiceGetHealed       VDVVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;HEAT Rocket Mode
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryVDVRPGTrooperCommandSet SET_NORMAL

;;;;Thermobar Rocket Mode
Rider2  GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussianInfantryVDVRPGTrooperCommandSet SET_NORMAL

;;;;Used only dirrectly after beeing dropped then use the above to after switching weapon at least once
Rider3  GenericFakeRider3_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryVDVRPGTrooperInitialCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider3_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    VDVRPGTrooperSwitchToStandardRocketMode
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    VDVRPGTrooperSwitchToThermobaricRocketMode
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_VDVParaTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeathVDVRpgTrooper
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathVDVRpgTrooper
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VDVParaTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VDVParaTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  LockWeaponCreate ModuleTag_2151
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryVDVRpgParaTrooper_Var2 RussiaInfantryVDVRpgParaTrooper_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model              RIVDVRPG_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      HEAD01 HEAD03 RPO
ShowSubObject      RPG
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_STAND
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WaitForStateToFinishIfPossible  TRANS_RIDER1_START_FIRING
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NADA
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER1 MOVING RELOADING_A
AliasConditionState  RIDER1 MOVING RELOADING_C
AliasConditionState  RIDER1 MOVING RELOADING_B

ConditionState       RIDER1 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATC
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG RPO
ShowSubObject      RIVDV_SKN LAUNCHER HEAD02 WARHEADS
TransitionKey      TRANS_RIDER1_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 2.0
End
AliasConditionState  RIDER1 FIRING_B
AliasConditionState  RIDER1 FIRING_C

ConditionState       RIDER1 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
TransitionKey      NADA
WaitForStateToFinishIfPossible  TRANS_RIDER1_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 RELOADING_B
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 RELOADING_C
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_C


;Death animations:

ConditionState       RIDER1 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_RIDER1_Dying TRANS_RIDER1_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER1 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       RIDER1 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
TransitionKey      NADA
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       RIDER1 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FALLING
End
AliasConditionState  RIDER1 FREEFALL DYING


ConditionState       RIDER1 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER1_CHUTE
End
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState      TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       RIDER1 UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End

ConditionState       RIDER1 RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_Raising
End

ConditionState       RIDER1 PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_RIDER1_Packing
End

TransitionState      TRANS_RIDER1_Raising TRANS_RIDER1_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End


;Thermobaric Rocket Mode

ConditionState  RIDER2
Model              RIVDVRPG_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_STAND
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End

ConditionState       RIDER2 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      NADA
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING RELOADING_C
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState       RIDER2 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATC
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG RPO
ShowSubObject      RIVDV_SKN LAUNCHER HEAD02 WARHEADS
TransitionKey      TRANS_RIDER2_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 2.0
End
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 FIRING_C

ConditionState       RIDER2 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      NADA
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_C
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C


;Death animations:

ConditionState       RIDER2 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_RIDER2_Dying TRANS_RIDER2_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      NADA
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       RIDER2 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_FALLING
End
AliasConditionState  RIDER2 FREEFALL DYING


ConditionState       RIDER2 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER2_CHUTE
End
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState      TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
End

; ------- Bldg-capture

ConditionState       RIDER2 UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
End

ConditionState       RIDER2 RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Raising
End

ConditionState       RIDER2 PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Packing
End

TransitionState      TRANS_RIDER2_Raising TRANS_RIDER2_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD03 RPG
ShowSubObject      RPO
End

End

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryVDVRpgParaTrooper_Var3 RussiaInfantryVDVRpgParaTrooper_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model              RIVDVRPG_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      HEAD01 HEAD02 RPO
ShowSubObject      RPG
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_STAND
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WaitForStateToFinishIfPossible  TRANS_RIDER1_START_FIRING
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NADA
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER1 MOVING RELOADING_A
AliasConditionState  RIDER1 MOVING RELOADING_C
AliasConditionState  RIDER1 MOVING RELOADING_B

ConditionState       RIDER1 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATC
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG RPO
ShowSubObject      RIVDV_SKN LAUNCHER HEAD03 WARHEADS
TransitionKey      TRANS_RIDER1_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 2.0
End
AliasConditionState  RIDER1 FIRING_B
AliasConditionState  RIDER1 FIRING_C

ConditionState       RIDER1 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
TransitionKey      NADA
WaitForStateToFinishIfPossible  TRANS_RIDER1_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 RELOADING_B
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 RELOADING_C
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_C


;Death animations:

ConditionState       RIDER1 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_RIDER1_Dying TRANS_RIDER1_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER1 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       RIDER1 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
TransitionKey      NADA
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       RIDER1 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FALLING
End
AliasConditionState  RIDER1 FREEFALL DYING


ConditionState       RIDER1 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER1_CHUTE
End
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState      TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       RIDER1 UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End

ConditionState       RIDER1 RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_Raising
End

ConditionState       RIDER1 PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_RIDER1_Packing
End

TransitionState      TRANS_RIDER1_Raising TRANS_RIDER1_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End


;Thermobaric Rocket Mode

ConditionState  RIDER2
Model              RIVDVRPG_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_STAND
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End

ConditionState       RIDER2 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      NADA
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING RELOADING_C
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState       RIDER2 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATC
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG RPO
ShowSubObject      RIVDV_SKN LAUNCHER HEAD03 WARHEADS
TransitionKey      TRANS_RIDER2_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 2.0
End
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 FIRING_C

ConditionState       RIDER2 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      NADA
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_C
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C


;Death animations:

ConditionState       RIDER2 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_RIDER2_Dying TRANS_RIDER2_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      NADA
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       RIDER2 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_FALLING
End
AliasConditionState  RIDER2 FREEFALL DYING


ConditionState       RIDER2 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER2_CHUTE
End
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState      TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
End

; ------- Bldg-capture

ConditionState       RIDER2 UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
End

ConditionState       RIDER2 RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Raising
End

ConditionState       RIDER2 PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
TransitionKey      TRANS_RIDER2_Packing
End

TransitionState      TRANS_RIDER2_Raising TRANS_RIDER2_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD02 RPG
ShowSubObject      RPO
End

End

End
;------------------------------------------------------------------------------
Object RussiaInfantryVDVParaTrooper
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRVDVInfantry_L
ButtonImage             SRVDVInfantry

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                RIVDV_SKN
End
End

; set cost and time fields here or else they won't work
BuildCost  150
BuildTime  5.0

Side  Russia
EditorSorting  INFANTRY
BuildVariations  RussiaInfantryVDVParaTrooper_Var1 RussiaInfantryVDVParaTrooper_Var1 RussiaInfantryVDVParaTrooper_Var1 RussiaInfantryVDVParaTrooper_Var2 RussiaInfantryVDVParaTrooper_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE DONT_AUTO_CRUSH_INFANTRY SCORE

End

;------------------------------------------------------------------------------
Object RussiaInfantryVDVParaTrooper_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRVDVInfantry_L
ButtonImage             SRVDVInfantry

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                RIVDV_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
HideSubObject        HEAD01 HEAD02 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
TransitionKey        TRANS_Standing
End

; ---- moving
ConditionState         MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING


; ---- firing
ConditionState  FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASB
AnimationMode  ONCE
AnimationSpeedFactorRange  0.8 1.0
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

ConditionState  USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASB
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A

; ---- dying
ConditionState         DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

; ---- dying by explosives

TransitionState  TRANS_Dying TRANS_Flailing
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
End

ConditionState       RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
TransitionKey      TRANS_Raising
End

ConditionState       PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
TransitionKey      TRANS_Packing
End

TransitionState      TRANS_Raising TRANS_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:VDVTrooper
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY VDVLightMachineGun
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          200
ShroudClearingRange  225

BuildCost  150
BuildTime  5.0          ;in seconds

ExperienceValue     40 40  70  90   ;Experience point value at each level
ExperienceRequired  0  200 300 500  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussianInfantryVDVParatrooperCommandSet

; *** AUDIO Parameters ***
VoiceSelect            VDVVoiceSelectRPK
VoiceMove              VDVVoiceMove
VoiceGuard             VDVVoiceMove
VoiceAttack            VDVVoiceAttackRPK
VoiceFear              VDVVoiceFear
VoiceTaskComplete      VDVVoiceCaptureBuildingCompleted

UnitSpecificSounds
VoiceGarrison        VDVVoiceMove
VoiceEnter           VDVVoiceMove
VoiceEnterHostile    VDVVoiceMove
VoiceGetHealed       VDVVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual01
TriggeredBy     Upgrade_RussiaIRGoggles
ShowSubObjects  UPGRADE02
End

Behavior  OverlordContain ModuleTag_IRGoggles01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
End

Behavior  ObjectCreationUpgrade ModuleTag_IRGoggles02
UpgradeObject  OCL_RussiaConscriptIRGoggles
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior  ProductionUpdate ModuleTag_IRGoggles03
MaxQueueEntries  1
End

Behavior  CommandSetUpgrade ModuleTag_IRGoggles04
CommandSet   RussianInfantryConscriptUpgradedCommandSet
TriggeredBy  Upgrade_RussiaIRGoggles
End

Behavior  ObjectCreationUpgrade ModuleTag_IRGoggles05
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_StealthDetect06
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       ConscriptDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        ConscriptDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  ConscriptDetecionRangeIndicatorDecalWeapon
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_VDVParaTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeathVDVGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_VDVParaTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathVDVGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VDVParaTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VDVParaTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  SpecialAbility ModuleTag_CaptureBuilding01
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound              VDVVoiceCaptureBuilding
End

Behavior  SpecialAbilityUpdate ModuleTag_CaptureBuilding02
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange      5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
End

Behavior  CommandButtonHuntUpdate  ModuleTag_CaptureBuilding03
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryVDVParaTrooper_Var2 RussiaInfantryVDVParaTrooper_Var1
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                RIVDV_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
HideSubObject        HEAD03 HEAD02 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
TransitionKey        TRANS_Standing
End

; ---- moving
ConditionState         MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING


; ---- firing
ConditionState  FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASB
AnimationMode  ONCE
AnimationSpeedFactorRange  0.8 1.0
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

ConditionState  USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASB
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A

; ---- dying
ConditionState         DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

; ---- dying by explosives

TransitionState  TRANS_Dying TRANS_Flailing
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
HideSubObject      HEAD03 HEAD02 LAUNCHER RPO RPG
End

ConditionState       RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
HideSubObject      HEAD03 HEAD02 LAUNCHER RPO RPG
End

ConditionState       PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
HideSubObject      HEAD03 HEAD02 LAUNCHER RPO RPG
End

TransitionState      TRANS_Raising TRANS_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD03 HEAD02 LAUNCHER RPO RPG
End

End

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryVDVParaTrooper_Var3 RussiaInfantryVDVParaTrooper_Var1
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                RIVDV_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
HideSubObject        HEAD01 HEAD03 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
TransitionKey        TRANS_Standing
End

; ---- moving
ConditionState         MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING


; ---- firing
ConditionState  FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASB
AnimationMode  ONCE
AnimationSpeedFactorRange  0.8 1.0
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

ConditionState  USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASB
AnimationMode  ONCE
Flags  START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A

; ---- dying
ConditionState         DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

; ---- dying by explosives

TransitionState  TRANS_Dying TRANS_Flailing
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Model      RIVDV_SKN_A
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Model              RIVDV_SKN_B
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
HideSubObject      HEAD01 HEAD03 LAUNCHER RPO RPG
End

ConditionState       RAISING_FLAG
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
HideSubObject      HEAD01 HEAD03 LAUNCHER RPO RPG
End

ConditionState       PACKING
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
HideSubObject      HEAD01 HEAD03 LAUNCHER RPO RPG
End

TransitionState      TRANS_Raising TRANS_Packing
Model              RIVDV_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
HideSubObject      HEAD01 HEAD03 LAUNCHER RPO RPG
End

End

End
;------------------------------------------------------------------------------
Object RussiaInfantryShockTrooper
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRShockTrooper_L
ButtonImage             SRShockTrooper

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                RIShkTrp_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Standing
End
End

; set cost and time fields here or else they won't work
BuildCost  450
BuildTime  7.0

Prerequisites
Object  RussiaWeaponsBunker
End

Side  Russia
EditorSorting  INFANTRY
BuildVariations  RussiaInfantryShockTrooper_Var1 RussiaInfantryShockTrooper_Var1 RussiaInfantryShockTrooper_Var2 RussiaInfantryShockTrooper_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE DONT_AUTO_CRUSH_INFANTRY SCORE

End


;------------------------------------------------------------------------------
Object RussiaInfantryShockTrooper_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRShockTrooper_L
ButtonImage             SRShockTrooper

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                RIShkTrp_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
TransitionKey        TRANS_STANDING_ROCKET
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING
AliasConditionState    MOVING FIRING_A
AliasConditionState    MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState    MOVING RELOADING_A
AliasConditionState    RIDER1 MOVING
AliasConditionState    RIDER1 MOVING ATTACKING
AliasConditionState    RIDER1 MOVING FIRING_A
AliasConditionState    RIDER1 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState    RIDER1 MOVING RELOADING_A

; ---- dying
ConditionState         DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_DYING
End
AliasConditionState    RIDER1 DYING

TransitionState        TRANS_DYING TRANS_FLAILING
Model                RITslTrp_SKN
Animation            NIGATT_SKL.NIGATT_ADTD1
AnimationMode        ONCE
End

ConditionState         DYING EXPLODED_FLAILING
Model                RITslTrp_SKN
Animation            NIGATT_SKL.NIGATT_ADTD2
AnimationMode        LOOP
TransitionKey        TRANS_FLAILING
End
AliasConditionState    RIDER1 DYING EXPLODED_FLAILING

ConditionState         DYING EXPLODED_BOUNCING
Model                RITslTrp_SKN
Animation            NIGATT_SKL.NIGATT_ADTD3
AnimationMode        ONCE
TransitionKey        None
End
AliasConditionState    RIDER1 DYING EXPLODED_BOUNCING


; ---- firing
ConditionState  FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.2 1.2
Flags  START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 FIRING_A
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState  USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
Flags  START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A
AliasConditionState  RIDER1 USING_WEAPON_A
AliasConditionState  RIDER1 RELOADING_A

; ---- Switching to tesla gun
TransitionState   TRANS_STANDING_ROCKET TRANS_STANDING_TESLA
Model  RITslTrp_SKN
Animation      NIGATT_SKL.NIGATT_PAT
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.5
End

; ---- Switching to rocket gun
TransitionState   TRANS_STANDING_TESLA TRANS_STANDING_ROCKET
Model  RITslTrp_SKN
Animation      NIGATT_SKL.NIGATT_PAT
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.5
End

;;;;Tesla Gun Animations

;NORMAL STANDING
ConditionState  RIDER2
Model  RITslTrp_SKN
IdleAnimation  NIGATT_SKL.NIGATT_IDC 0 35
IdleAnimation  NIGATT_SKL.NIGATT_IDA
IdleAnimation  NIGATT_SKL.NIGATT_IDB
IdleAnimation  NIGATT_SKL.NIGATT_STA
AnimationMode  ONCE
TransitionKey  TRANS_STANDING_TESLA
End

; NORMAL ATTACK
ConditionState  RIDER2 FIRING_A
Model  RITslTrp_SKN
Animation  NIGATT_SKL.NIGATT_ATA1
AnimationMode  LOOP
TransitionKey  None
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_B

ConditionState  RIDER2 MOVING FIRING_A
Model  RITslTrp_SKN
Animation  NIGATT_SKL.NIGATT_ATB1 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING FIRING_B
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState  RIDER2 MOVING
Model  RITslTrp_SKN
Animation  NIGATT_SKL.NIGATT_WKA 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  RIDER2 ATTACKING MOVING

; dying

ConditionState       RIDER2 DYING
Model              RITslTrp_SKN
Animation          NIGATT_SKL.NIGATT_DTA
Animation          NIGATT_SKL.NIGATT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_TESLA_DYING
End

TransitionState      TRANS_TESLA_DYING TRANS_TESLA_FLAILING
Model              RITslTrp_SKN
Animation          NIGATT_SKL.NIGATT_ADTD1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Model              RITslTrp_SKN
Animation          NIGATT_SKL.NIGATT_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_TESLA_FLAILING
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Model              RITslTrp_SKN
Animation          NIGATT_SKL.NIGATT_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

End

Draw  W3DModelDraw ModuleTag_LaunchBone01
DefaultConditionState
Model                RIShkTrp_B
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:ShockTrooper
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   2

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   ShockTrooperRocketRifle
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   ShockTrooperTeslaWeapon
Weapon             SECONDARY ShockTrooperTeslaSubdualWeapon
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            ShockTrooperArmor
DamageFX         InfantryDamageFX
End

VisionRange          225
ShroudClearingRange  250

Prerequisites
Object  RussiaWeaponsBunker
End

BuildCost  450
BuildTime  7.0          ;in seconds

ExperienceValue     40 60  80  100  ;Experience point value at each level
ExperienceRequired  0  300 400 600  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            ShockTrooperVoiceSelect
VoiceMove              ShockTrooperVoiceMove
VoiceGuard             ShockTrooperVoiceMove
VoiceAttack            ShockTrooperVoiceAttack
VoiceFear              ShockTrooperVoiceFear

UnitSpecificSounds
VoiceCreate          ShockTrooperVoiceCreate
VoiceGarrison        ShockTrooperVoiceGarrison
VoiceEnter           ShockTrooperVoiceMove
VoiceEnterHostile    ShockTrooperVoiceMove
VoiceGetHealed       ShockTrooperVoiceMove
VoiceSubdue          ShockTrooperVoiceAttackTesla
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE DONT_AUTO_CRUSH_INFANTRY

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  0
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL ShockTrooperLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_065
End

;  Behavior  SquishCollide ModuleTag_11 ; ShockTroopers are not crushable
;    ;nothing
;  End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Rocket Rifle
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryShockTrooperCommandSet SET_NORMAL

;;;;Tesla Gun
Rider2  GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussianInfantryShockTrooperCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    ShockTrooperSwitchToRocketGunMode
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_ShockTrooperRocketRifleModeTrigger
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    ShockTrooperSwitchToTeslaGunMode
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GenericDummyRider2Trigger
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ShockTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED +TOPPLED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeathShockTrooper
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_ShockTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathShockTrooper
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_ShockTrooperDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_ShockTrooperDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_0324114256 ;Shocktrooper Suicide
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
OCL                  INITIAL OCL_ShockTrooperTrooperSurrendering
FX                   INITIAL FX_ShockTrooperSuicide
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

;  Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
;    DeathTypes  ALL
;    CreationList  OCL_InfantryBeserkerObject
;  End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryShockTrooper_Var2 RussiaInfantryShockTrooper_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                RIShkTrp2_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
TransitionKey        TRANS_STANDING_ROCKET
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING
AliasConditionState    MOVING FIRING_A
AliasConditionState    MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState    MOVING RELOADING_A
AliasConditionState    RIDER1 MOVING
AliasConditionState    RIDER1 MOVING ATTACKING
AliasConditionState    RIDER1 MOVING FIRING_A
AliasConditionState    RIDER1 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState    RIDER1 MOVING RELOADING_A

; ---- dying
ConditionState         DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_DYING
End
AliasConditionState    RIDER1 DYING

TransitionState        TRANS_DYING TRANS_FLAILING
Model                RITslTrp2_SKN
Animation            NIGATT_SKL.NIGATT_ADTD1
AnimationMode        ONCE
End

ConditionState         DYING EXPLODED_FLAILING
Model                RITslTrp2_SKN
Animation            NIGATT_SKL.NIGATT_ADTD2
AnimationMode        LOOP
TransitionKey        TRANS_FLAILING
End
AliasConditionState    RIDER1 DYING EXPLODED_FLAILING

ConditionState         DYING EXPLODED_BOUNCING
Model                RITslTrp2_SKN
Animation            NIGATT_SKL.NIGATT_ADTD3
AnimationMode        ONCE
TransitionKey        None
End
AliasConditionState    RIDER1 DYING EXPLODED_BOUNCING


; ---- firing
ConditionState  FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.2 1.2
Flags  START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 FIRING_A
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState  USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
Flags  START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A
AliasConditionState  RIDER1 USING_WEAPON_A
AliasConditionState  RIDER1 RELOADING_A

; ---- Switching to tesla gun
TransitionState   TRANS_STANDING_ROCKET TRANS_STANDING_TESLA
Model  RITslTrp2_SKN
Animation      NIGATT_SKL.NIGATT_PAT
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.5
End

; ---- Switching to rocket gun
TransitionState   TRANS_STANDING_TESLA TRANS_STANDING_ROCKET
Model  RITslTrp2_SKN
Animation      NIGATT_SKL.NIGATT_PAT
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.5
End

;;;;Tesla Gun Animations

;NORMAL STANDING
ConditionState  RIDER2
Model  RITslTrp2_SKN
IdleAnimation  NIGATT_SKL.NIGATT_IDC 0 35
IdleAnimation  NIGATT_SKL.NIGATT_IDA
IdleAnimation  NIGATT_SKL.NIGATT_IDB
IdleAnimation  NIGATT_SKL.NIGATT_STA
AnimationMode  ONCE
TransitionKey  TRANS_STANDING_TESLA
End

; NORMAL ATTACK
ConditionState  RIDER2 FIRING_A
Model  RITslTrp2_SKN
Animation  NIGATT_SKL.NIGATT_ATA1
AnimationMode  LOOP
TransitionKey  None
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_B

ConditionState  RIDER2 MOVING FIRING_A
Model  RITslTrp2_SKN
Animation  NIGATT_SKL.NIGATT_ATB1 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING FIRING_B
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState  RIDER2 MOVING
Model  RITslTrp2_SKN
Animation  NIGATT_SKL.NIGATT_WKA 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  RIDER2 ATTACKING MOVING

; dying

ConditionState       RIDER2 DYING
Model              RITslTrp2_SKN
Animation          NIGATT_SKL.NIGATT_DTA
Animation          NIGATT_SKL.NIGATT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_TESLA_DYING
End

TransitionState      TRANS_TESLA_DYING TRANS_TESLA_FLAILING
Model              RITslTrp2_SKN
Animation          NIGATT_SKL.NIGATT_ADTD1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Model              RITslTrp2_SKN
Animation          NIGATT_SKL.NIGATT_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_TESLA_FLAILING
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Model              RITslTrp2_SKN
Animation          NIGATT_SKL.NIGATT_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

End

Draw  W3DModelDraw ModuleTag_LaunchBone01
DefaultConditionState
Model                RIShkTrp_B
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
End

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryShockTrooper_Var3 RussiaInfantryShockTrooper_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ---- standing
DefaultConditionState
Model                RIShkTrp3_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
TransitionKey        TRANS_STANDING_ROCKET
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING
AliasConditionState    MOVING FIRING_A
AliasConditionState    MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState    MOVING RELOADING_A
AliasConditionState    RIDER1 MOVING
AliasConditionState    RIDER1 MOVING ATTACKING
AliasConditionState    RIDER1 MOVING FIRING_A
AliasConditionState    RIDER1 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState    RIDER1 MOVING RELOADING_A

; ---- dying
ConditionState         DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_DYING
End
AliasConditionState    RIDER1 DYING

TransitionState        TRANS_DYING TRANS_FLAILING
Model                RITslTrp3_SKN
Animation            NIGATT_SKL.NIGATT_ADTD1
AnimationMode        ONCE
End

ConditionState         DYING EXPLODED_FLAILING
Model                RITslTrp3_SKN
Animation            NIGATT_SKL.NIGATT_ADTD2
AnimationMode        LOOP
TransitionKey        TRANS_FLAILING
End
AliasConditionState    RIDER1 DYING EXPLODED_FLAILING

ConditionState         DYING EXPLODED_BOUNCING
Model                RITslTrp3_SKN
Animation            NIGATT_SKL.NIGATT_ADTD3
AnimationMode        ONCE
TransitionKey        None
End
AliasConditionState    RIDER1 DYING EXPLODED_BOUNCING


; ---- firing
ConditionState  FIRING_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
AnimationSpeedFactorRange  1.2 1.2
Flags  START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
TransitionKey  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 FIRING_A
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState  USING_WEAPON_A
Animation  RIShkTrp_SKL.RIShkTrp_ASA
AnimationMode  ONCE
Flags  START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_A
AliasConditionState  RIDER1 USING_WEAPON_A
AliasConditionState  RIDER1 RELOADING_A

; ---- Switching to tesla gun
TransitionState   TRANS_STANDING_ROCKET TRANS_STANDING_TESLA
Model  RITslTrp3_SKN
Animation      NIGATT_SKL.NIGATT_PAT
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.5
End

; ---- Switching to rocket gun
TransitionState   TRANS_STANDING_TESLA TRANS_STANDING_ROCKET
Model  RITslTrp3_SKN
Animation      NIGATT_SKL.NIGATT_PAT
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.5
End

;;;;Tesla Gun Animations

;NORMAL STANDING
ConditionState  RIDER2
Model  RITslTrp3_SKN
IdleAnimation  NIGATT_SKL.NIGATT_IDC 0 35
IdleAnimation  NIGATT_SKL.NIGATT_IDA
IdleAnimation  NIGATT_SKL.NIGATT_IDB
IdleAnimation  NIGATT_SKL.NIGATT_STA
AnimationMode  ONCE
TransitionKey  TRANS_STANDING_TESLA
End

; NORMAL ATTACK
ConditionState  RIDER2 FIRING_A
Model  RITslTrp3_SKN
Animation  NIGATT_SKL.NIGATT_ATA1
AnimationMode  LOOP
TransitionKey  None
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_B

ConditionState  RIDER2 MOVING FIRING_A
Model  RITslTrp3_SKN
Animation  NIGATT_SKL.NIGATT_ATB1 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING FIRING_B
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState  RIDER2 MOVING
Model  RITslTrp3_SKN
Animation  NIGATT_SKL.NIGATT_WKA 20
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  RIDER2 ATTACKING MOVING

; dying

ConditionState       RIDER2 DYING
Model              RITslTrp3_SKN
Animation          NIGATT_SKL.NIGATT_DTA
Animation          NIGATT_SKL.NIGATT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_TESLA_DYING
End

TransitionState      TRANS_TESLA_DYING TRANS_TESLA_FLAILING
Model              RITslTrp3_SKN
Animation          NIGATT_SKL.NIGATT_ADTD1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Model              RITslTrp3_SKN
Animation          NIGATT_SKL.NIGATT_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_TESLA_FLAILING
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Model              RITslTrp3_SKN
Animation          NIGATT_SKL.NIGATT_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

End

Draw  W3DModelDraw ModuleTag_LaunchBone01
DefaultConditionState
Model                RIShkTrp_B
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
End

End

;------------------------------------------------------------------------------
Object RussiaInfantryShockTrooperCommitingSuicide

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RIShkTrp_SKN
Animation            RIShkTrp_SKL.RIShkTrp_DBB
AnimationMode        ONCE
End

ConditionState  RUBBLE
Model                RIShkTrp_SKN
Animation            RIShkTrp_SKL.RIShkTrp_DBC
AnimationMode        ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ShockTrooper
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  2000
MaxLifetime  2500
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ShockTrooperSuicideHeadExplosion
End
; --- end Death modules ---


Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
Object RussianInfantryShmelTrooper
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRShmelTrooper_L
ButtonImage             SRShmelTrooper

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model              RIShmlTrp_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
HideSubObject      LAUNCHERUP
AnimationMode      ONCE
TransitionKey      TRANS_Stand
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState       MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Nada
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING RELOADING_C
AliasConditionState  MOVING RELOADING_B

;Firing standard rocket
ConditionState       FIRING_A
Animation          NITHNT_SKL.NITHNT_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.0 1.4
End

ConditionState       RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

;Firing Smoke or Anti-Toxin Rocket
ConditionState       FIRING_C
Animation          NITHNT_SKL.NITHNT_ATB
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.0 1.4
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_C
Animation          NITHNT_SKL.NITHNT_ATB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RELOADING_C
AliasConditionState  PREATTACK_C
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  PREATTACK_B

;Death animations:

ConditionState       DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  0.9 1.25
End
TransitionState      TRANS_Dying TRANS_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  NONE
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
TransitionKey      Nada
WaitForStateToFinishIfPossible  NONE
End

;PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING


ConditionState       PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:ShmelTrooper
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   RussiaShmellTrooperMissileLauncher
Weapon               SECONDARY RussiaShmellTrooperSmokeMissileLauncher
AutoChooseSources    SECONDARY NONE
Weapon               TERTIARY  RussiaShmellTrooperAntiToxinMissileLauncher
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon               PRIMARY   RussiaShmellTrooperMissileLauncherUpgraded
Weapon               SECONDARY RussiaShmellTrooperSmokeMissileLauncherUpgraded
AutoChooseSources    SECONDARY NONE
Weapon               TERTIARY  RussiaShmellTrooperAntiToxinMissileLauncherUpgraded
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object  RussiaWarFactory
End

VisionRange  225
ShroudClearingRange  250

BuildCost  350
BuildTime  8.0          ;in seconds

ExperienceValue     30 30  50  70   ;Experience point value at each level
ExperienceRequired  0  100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryShmelTrooperCommandSet

; *** AUDIO Parameters ***
VoiceSelect        ShmelTrooperVoiceSelect
VoiceMove          ShmelTrooperVoiceMove
VoiceAttack        ShmelTrooperVoiceAttack
VoiceGuard         ShmelTrooperVoiceMove
VoiceFear          ShmelTrooperVoiceFear

UnitSpecificSounds
VoiceCreate          ShmelTrooperVoiceCreate
VoiceFlameLocation   ShmelTrooperVoiceSmokeAttack
VoicePoisonLocation  ShmelTrooperVoiceAntiToxinAttack
VoiceGarrison        ShmelTrooperVoiceMove
VoiceEnter           ShmelTrooperVoiceMove
VoiceEnterHostile    ShmelTrooperVoiceMove
VoiceGetHealed       ShmelTrooperVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ShmelTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByFlame
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByFlame
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeath
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_ShmelTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_ShmelTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperSurrender
OCL                  INITIAL OCL_ShmelTrooperSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL -EXTRA_8
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  SubObjectsUpgrade ModuleTag_19
TriggeredBy     Upgrade_RussiaLargerClips
HideSubObjects  LAUNCHER
ShowSubObjects  LAUNCHERUP
End

Behavior  CommandSetUpgrade ModuleTag_021
CommandSet      RussianInfantryShmelTrooperUpgradedCommandSet
TriggeredBy     Upgrade_RussiaLargerClips
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object RussiaInfantryShmelTrooperSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              RIShmlTrp_SKN
Animation          NITHNT_SKL.NITHNT_SUR
HideSubObject      LASER01
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          NITHNT_SKL.NITHNT_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             Russia
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedShmelTrooperRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ShmelTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByFlame
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByFlame
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_ShmelTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeath
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_ShmelTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_ShmelTrooperDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
Object RussianInfantryIglaTrooper
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRIglaTrooper_L
ButtonImage             SRIglaTrooper

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RIIglaTrpr_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
HideSubObject  LAUNCHERUP
WeaponFireFXBone  PRIMARY   Muzzle01
WeaponLaunchBone  PRIMARY   Muzzle01
WeaponFireFXBone  SECONDARY Muzzle01
WeaponLaunchBone  SECONDARY Muzzle01
End

ConditionState  MOVING
Animation  UISmsd_SKL.UISmsd_WKB 25
Animation  UISmsd_SKL.UISmsd_WKA 25
AnimationMode  LOOP
Flags  RANDOMSTART
WaitForStateToFinishIfPossible  NONE
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B

ConditionState  DYING
Animation  UISmsd_SKL.UISmsd_DTA
Animation  UISmsd_SKL.UISmsd_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UISmsd_SKL.UISmsd_ADTF1
Animation  UISmsd_SKL.UISmsd_ADTG21
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UISmsd_SKL.UISmsd_ADTF2
Animation  UISmsd_SKL.UISmsd_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UISmsd_SKL.UISmsd_ADTF3
Animation  UISmsd_SKL.UISmsd_ADTG23
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End


;Machine Pistol Attack
ConditionState  PREATTACK_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
AnimationMode  ONCE
End

ConditionState  FIRING_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1 ; looping firing
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
WeaponFireFXBone   PRIMARY Muzzle
AnimationSpeedFactorRange  2.0 3.0
End

ConditionState   RELOADING_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
AnimationMode  ONCE
TransitionKey  TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_FIRING_A
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

;Firing Igla Missile
ConditionState  FIRING_B
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING_B
End

ConditionState  BETWEEN_FIRING_SHOTS_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  LOOP
Flags  START_FRAME_LAST
TransitionKey  TRANS_RELOADING_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

ConditionState  PREATTACK_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_PREATTACK_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End

ConditionState  SPECIAL_CHEERING
Animation  UISMSD_SKL.UISMSD_CHA
AnimationMode  LOOP
End

End

Draw  W3DModelDraw ModuleTag_LockonIcon01

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 FIRING_B
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 RELOADING_B
AliasConditionState  RIDER1 PREATTACK_B
AliasConditionState  RIDER2

ConditionState  RIDER2 FIRING_B
Model  EXIglaLck_B
Animation  EXIglaLck_B.EXIglaLck_B
AnimationMode  ONCE
TransitionKey  TRANS_START_FIRING_B
End
AliasConditionState  RIDER2 RELOADING_B

ConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
Model  EXIglaLck_A
Animation  EXIglaLck_A.EXIglaLck_A
AnimationMode  ONCE
Flags  START_FRAME_FIRST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End

ConditionState  RIDER2 PREATTACK_B
Model  EXIglaLck_A
Animation  EXIglaLck_A.EXIglaLck_A
AnimationMode  ONCE
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:IglaTrooper
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions           WEAPON_RIDER1
Weapon               PRIMARY   IGLATrooperMachinePistolWeapon
Weapon               SECONDARY IGLATrooperMissileWeapon
PreferredAgainst     SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions           WEAPON_RIDER1 PLAYER_UPGRADE
Weapon               PRIMARY   IGLATrooperMachinePistolWeapon
Weapon               SECONDARY IGLATrooperMissileWeaponUpgraded
PreferredAgainst     SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

;Lockon Mode Weapon Sets
WeaponSet
Conditions           WEAPON_RIDER2
Weapon               PRIMARY   IGLATrooperMachinePistolWeapon
Weapon               SECONDARY IGLATrooperLockonMissileWeapon
PreferredAgainst     SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions           WEAPON_RIDER2 PLAYER_UPGRADE
Weapon               PRIMARY   IGLATrooperMachinePistolWeapon
Weapon               SECONDARY IGLATrooperLockonMissileWeaponUpgraded
PreferredAgainst     SECONDARY AIRCRAFT
ShareWeaponReloadTime  Yes
End


ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  275
ShroudClearingRange  300

BuildCost  150
BuildTime  5.0          ;in seconds

ExperienceValue     15 15 30  50    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           RussianInfantryIglaTrooperCommandSet

; *** AUDIO Parameters ***
VoiceSelect        IGLATrooperVoiceSelect
VoiceMove          IGLATrooperVoiceMove
VoiceAttack        IGLATrooperVoiceAttack
VoiceAttackAir     IGLATrooperVoiceAttackAir
VoiceGuard         IGLATrooperVoiceAirGuard
VoiceFear          IGLATrooperVoiceFear

UnitSpecificSounds
VoiceCreate        IGLATrooperVoiceCreate
VoiceGarrison      IGLATrooperVoiceGarrison
VoiceEnter         IGLATrooperVoiceMove
VoiceEnterHostile  IGLATrooperVoiceMove
VoiceGetHealed     IGLATrooperVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate         0
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Un-upgraded mode
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryIglaTrooperCommandSet SET_NORMAL

;;;;Standard Missile Fire Mode
Rider3  GenericFakeRider3_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER3 RussianInfantryIglaTrooperUpgradedCommandSet SET_NORMAL

;;;;Lockon Missile Fire Mode
Rider4  GenericFakeRider4_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER4 RussianInfantryIglaTrooperUpgradedCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    IglaTrooperSwitchToStandardMissiles
RequiredStatus   STATUS_RIDER4 HIJACKED STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform08
CollideWeapon    IglaTrooperSwitchToLockonMissiles
RequiredStatus   STATUS_RIDER3 REPULSOR STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

;Canister Rounds Upgrade Triggers
Behavior  StatusBitsUpgrade ModuleTag_Transform11
TriggeredBy    Upgrade_RussiaLargerClips
StatusToSet    STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform12
TriggeredBy    Upgrade_RussiaLargerClips
UpgradeObject  OCL_GenericCollisionObjectDummy
End

Behavior  SubObjectsUpgrade ModuleTag_Transform13
TriggeredBy     Upgrade_RussiaLargerClips
HideSubObjects  NONE
ShowSubObjects  LAUNCHERUP
End

Behavior  FireWeaponCollide ModuleTag_Transform14 ;This module switches out our rider if we are currently in submachinegun mode
CollideWeapon    IglaTrooperSwitchToStandardMissiles
RequiredStatus   STATUS_RIDER1 STATUS_RIDER8
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End
; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED +TOPPLED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeathIglaTrooper
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathIglaTrooper
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperSurrender
OCL                  INITIAL OCL_IglaTrooperSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL -EXTRA_8
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object RussiaInfantryIglaTrooperSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              RIIglaTrpr_SKN
Animation          UISmsd_SKL.UISmsd_TCBDN
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
HideSubObject      LAUNCHERUP
AnimationSpeedFactorRange  1.0 1.3
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

TransitionState  TRANS_SURRENDERING TRANS_SURRENDER_STANDING
Animation          UISmsd_SKL.UISmsd_SURB
AnimationMode      ONCE
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState     LOADED
Animation          UISmsd_SKL.UISmsd_SSTB
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
AnimationSpeedFactorRange  1.0 1.0
TransitionKey      TRANS_SURRENDER_STANDING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UISmsd_SKL.UISmsd_DTA
Animation          UISmsd_SKL.UISmsd_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.3 1.5
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             Russia
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedIglaTrooperRevive
TransferPreviousHealth  Yes
End

Behavior  SubObjectsUpgrade ModuleTag_Transform12
TriggeredBy     Upgrade_RussiaLargerClips
HideSubObjects  NONE
ShowSubObjects  LAUNCHERUP
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperDie
OCL                  INITIAL OCL_RussiaExplodedDeathIglaTrooper
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathIglaTrooper
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
Object RussianInfantryRPGConscript
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRRPGConscript_L
ButtonImage             SRRPGConscript

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


DefaultConditionState
Model              RIRpgCcrpt_SKN
IdleAnimation      NIMSST_SKL.NIMSST_STA 0 30
IdleAnimation      NIMSST_SKL.NIMSST_IDA
IdleAnimation      NIMSST_SKL.NIMSST_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
HideSubObject      UPGRADE01
TransitionKey      TRANS_Stand
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
End
AliasConditionState  REALLYDAMAGED


ConditionState  MOVING
Model  RIRpgCcrpt_SKB
Animation  NIHCKR_SKL.NIHCKR_RNA 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  MOVING ATTACKING
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

;    ConditionState       MOVING
;      Animation          NIMSST_SKL.NIMSST_RNA 20
;      AnimationMode      LOOP
;      Flags              RANDOMSTART
;      TransitionKey      None
;      ParticleSysBone    None InfantryDustTrails
;    End
;    AliasConditionState  REALLYDAMAGED MOVING
;    AliasConditionState  MOVING ATTACKING
;    AliasConditionState  MOVING ATTACKING REALLYDAMAGED

ConditionState       FIRING_A
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED FIRING_A
AliasConditionState  FIRING_B
AliasConditionState  REALLYDAMAGED FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState       BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

ConditionState       RELOADING_A
Animation          NIMSST_SKL.NIMSST_ATA 10
AnimationMode      ONCE
End
AliasConditionState  MOVING RELOADING_A
AliasConditionState  REALLYDAMAGED MOVING RELOADING_A
AliasConditionState  RELOADING_B
AliasConditionState  MOVING RELOADING_B
AliasConditionState  REALLYDAMAGED MOVING RELOADING_B

ConditionState       DYING
Animation          NIMSST_SKL.NIMSST_DTA
Animation          NIMSST_SKL.NIMSST_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NIMSST_SKL.NIMSST_ADTD1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NIMSST_SKL.NIMSST_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NIMSST_SKL.NIMSST_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

;PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          NIMSST_SKL.NIMSST_POP
AnimationMode      ONCE
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIMSST_SKL.NIMSST_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING



TransitionState      TRANS_Chute TRANS_Stand
Animation          NIMSST_SKL.NIMSST_PDN
AnimationMode      ONCE
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:RPGConscript
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   RussiaRPGConscriptMissileLauncherDummyRocket
Weapon               SECONDARY RussiaRPGConscriptMissileLauncher
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon               PRIMARY   RussiaRPGConscriptMissileLauncherDummyRocketUpgraded
Weapon               SECONDARY RussiaRPGConscriptMissileLauncherUpgraded
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  225
ShroudClearingRange  250

BuildCost  250
BuildTime  6.0          ;in seconds

ExperienceValue     20 20  40  60   ;Experience point value at each level
ExperienceRequired  0  100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryRPGConscriptCommandSet

; *** AUDIO Parameters ***
VoiceSelect        RPGConscriptVoiceSelect
VoiceMove          RPGConscriptVoiceMove
VoiceAttack        RPGConscriptVoiceAttack
VoiceGuard         RPGConscriptVoiceMove
VoiceFear          RPGConscriptVoiceFear
UnitSpecificSounds
VoiceCreate        RPGConscriptVoiceCreate
VoiceGarrison      RPGConscriptVoiceGarrison
VoiceEnter         RPGConscriptVoiceMove
VoiceEnterHostile  RPGConscriptVoiceMove
VoiceGetHealed     RPGConscriptVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
TurretsLinked               Yes
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDie
OCL                  INITIAL OCL_RussiaExplodedDeathRPGConscript
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathRPGConscript
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptSurrender
OCL                  INITIAL OCL_RPGConscriptSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL -EXTRA_8
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  SubObjectsUpgrade ModuleTag_19
TriggeredBy     Upgrade_RussiaLargerClips
HideSubObjects  NONE
ShowSubObjects  UPGRADE01
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object RussiaInfantryRPGConscriptSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              RIRpgCcrpt_SKN
Animation          NIMSST_SKL.NIMSST_SUR
AnimationMode      ONCE
HideSubObject      UPGRADE01
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          NIMSST_SKL.NIMSST_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NIMSST_SKL.NIMSST_DTA
Animation          NIMSST_SKL.NIMSST_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             Russia
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedRPGConscriptRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDie
OCL                  INITIAL OCL_RussiaExplodedDeathRPGConscript
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathRPGConscript
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
Object RussiaInfantryConscript
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRConscript_L
ButtonImage             SRConscript

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                RICnscrpt_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
HideSubObject        UPGRADE01 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

ConditionState         REALLYDAMAGED
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        TRANS_StandingHurt
End

; ---- moving
ConditionState       MOVING
Model              RICnscrpt_SKNB
Animation          NICNSCI_SKL.NICNSCI_RNA2 13
Animation          NICNSCI_SKL.NICNSCI_RNA3 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState         MOVING REALLYDAMAGED
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USING_WEAPON_A
Model  RICnscrpt_SKNB
Animation  NICNSCI_SKL.NICNSCI_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USING_WEAPON_A REALLYDAMAGED
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  TRANS_FiringHurt
End

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Standing
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_PTD
AnimationMode    ONCE
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState       RAISING_FLAG
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Raising TRANS_Packing
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Conscript
Side                 Russia
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY ConscriptMachineGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY ConscriptMachineGun_Upgraded
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          220
ShroudClearingRange  220

BuildCost  50
BuildTime  5.0          ;in seconds

ExperienceValue      5 5 10 20   ;Experience point value at each level
ExperienceRequired   0 20 40 80  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussianInfantryConscriptCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ConscriptVoiceSelect
VoiceMove              ConscriptVoiceMove
VoiceGuard             ConscriptVoiceMove
VoiceAttack            ConscriptVoiceAttack
VoiceFear              ConscriptVoiceFear
VoiceTaskComplete      ConscriptVoiceCaptureComplete

UnitSpecificSounds
VoiceCreate          ConscriptVoiceCreate
VoiceGarrison        ConscriptVoiceGarrison
VoiceEnter           ConscriptVoiceMove
VoiceEnterHostile    ConscriptVoiceMove
VoiceGetHealed       ConscriptVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ConscriptDie
OCL                  INITIAL OCL_RussiaExplodedDeathConscript
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ConscriptTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
DestructionDelay     0
FX                   INITIAL FX_ConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathConscript
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_ConscriptSurrender
OCL                  INITIAL OCL_ConscriptSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound              ConscriptVoiceCapture
End

Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange      5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  WeaponSetUpgrade ModuleTag_20
TriggeredBy  Upgrade_RussiaLargerClips
End

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual01
TriggeredBy     Upgrade_RussiaLargerClips
ConflictsWith   Upgrade_RussiaIRGoggles
HideSubObjects  UPGRADE02
ShowSubObjects  UPGRADE01
End

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual02
TriggeredBy     Upgrade_RussiaIRGoggles
ConflictsWith   Upgrade_RussiaLargerClips
HideSubObjects  UPGRADE01
ShowSubObjects  UPGRADE02
End

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual03
TriggeredBy     Upgrade_RussiaLargerClips Upgrade_RussiaIRGoggles
HideSubObjects  NONE
ShowSubObjects  UPGRADE01 UPGRADE02
RequiresAllTriggers  Yes
End

Behavior  OverlordContain ModuleTag_IRGoggles01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
End

Behavior  ObjectCreationUpgrade ModuleTag_IRGoggles02
UpgradeObject  OCL_RussiaConscriptIRGoggles
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior  ProductionUpdate ModuleTag_IRGoggles03
MaxQueueEntries  1
End

Behavior  CommandSetUpgrade ModuleTag_IRGoggles04
CommandSet   RussianInfantryConscriptUpgradedCommandSet
TriggeredBy  Upgrade_RussiaIRGoggles
End

Behavior  ObjectCreationUpgrade ModuleTag_IRGoggles05
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_StealthDetect06
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       ConscriptDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        ConscriptDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  ConscriptDetecionRangeIndicatorDecalWeapon
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL -EXTRA_8 +EXTRA_4
CreationList  OCL_InfantryBeserkerObject
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object RussiaInfantryConscriptSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              RICnscrpt_SKN
Animation          UIRGrd_SKL.UIRGrd_SUR
AnimationMode      ONCE
HideSubObject      UPGRADE01 UPGRADE02
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          UIRGrd_SKL.UIRGrd_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          UIRGrd_SKL.UIRGrd_DTA
Animation          UIRGrd_SKL.UIRGrd_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             Russia
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedConscriptRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ConscriptDie
OCL                  INITIAL OCL_RussiaExplodedDeathConscript
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_ConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathConscript
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object RussiaConscriptDetectionRangeIndicatorDecalObject

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  416
ShadowSizeY  416

End
;------------------------------------------------------------------------------
Object RussianInfantryBoris
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRBorisRPG_L
ButtonImage             SRBorisRPG

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

;*******************************
;**** Assault Rifle Boris ******
;*******************************

; ---- standing
DefaultConditionState
Model                RIBorisR_SKN
IdleAnimation        RIShkTrp_SKL.RIShkTrp_STN 0 35
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDA
IdleAnimation        RIShkTrp_SKL.RIShkTrp_IDB
AnimationMode        ONCE
HideSubObject        HEAD01 HEAD02 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
TransitionKey        TRANS_RIDER1_STANDING
End
AliasConditionState    RIDER1

; ---- moving
ConditionState         RIDER1 MOVING
Animation            RIShkTrp_SKL.RIShkTrp_MVA 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_RIDER1_MOVING
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  RIDER1 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER1 MOVING RELOADING_A
AliasConditionState  RIDER1 MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 MOVING RELOADING_B
AliasConditionState  RIDER1 MOVING BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER1 MOVING RELOADING_C

; ---- Attacking Assault Rifle
ConditionState  RIDER1 FIRING_A
Model  RIBorisRB_SKN
Animation  AIRngr_SKL.AIRNGR_NAT
AnimationMode  ONCE
AnimationSpeedFactorRange  0.8 1.0
TransitionKey  TRANS_RIDER1_FIRING_A
End

ConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A
Model  RIBorisRB_SKN
Animation  AIRngr_SKL.AIRNGR_NAT
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_RIDER1_FIRING_A
TransitionKey  TRANS_RIDER1_RELOADING_A
End
AliasConditionState  RIDER1 RELOADING_A

; --- Attacking Grenade Launcher
ConditionState  RIDER1 FIRING_B
Model  RIBorisRB_SKN
Animation  AIRngr_SKL.AIRngr_ATBB
AnimationMode  ONCE
TransitionKey  TRANS_RIDER1_FIRING_B
End

ConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
Model  RIBorisRB_SKN
Animation  AIRngr_SKL.AIRngr_ATBB
AnimationMode  MANUAL
Flags  START_FRAME_LAST
TransitionKey  TRANS_RIDER1_RELOADING_B
WaitForStateToFinishIfPossible  TRANS_RIDER1_FIRING_B
End
AliasConditionState  RIDER1 RELOADING_B
AliasConditionState  RIDER1 PREATTACK_B

;Airstrike Laser Designator Animations
ConditionState   RIDER1 FIRING_C
Model  RIBorisRA_SKN
Animation      NIOFCR_SKL.NIOFCR_ATBLP
AnimationMode  LOOP
TransitionKey  TRANS_RIDER1_FIRING_C
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER1 RELOADING_C
AliasConditionState  RIDER1 PREATTACK_C

; ---- dying
ConditionState         RIDER1 DYING
Animation            RIShkTrp_SKL.RIShkTrp_DBA
AnimationMode        ONCE
TransitionKey        TRANS_RIDER1_DYING
End

; ---- dying by explosives

TransitionState  TRANS_RIDER1_DYING TRANS_RIDER1_FLAILING
Model      RIBoris_SKN
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Model      RIBoris_SKN
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_RIDER1_FLAILING
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Model      RIBoris_SKN
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  TRANS_SPLATTED
End

; ----- PARACHUTING ANIMATIONS
ConditionState       RIDER1 FREEFALL
Model              RIBorisRB_SKN
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FALLING
End
AliasConditionState  RIDER1 FREEFALL DYING

TransitionState      TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
Model              RIBorisRB_SKN
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

ConditionState       RIDER1 PARACHUTING
Model              RIBorisRB_SKN
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_RIDER1_CHUTE
End
AliasConditionState  RIDER1 PARACHUTING DYING

;****************************
;**** Machinegun Boris ******
;****************************

; --- Idle
ConditionState       RIDER2
Model              RIBorisMG_B
IdleAnimation      AIRngr_SKL.AIRngr_STA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDA
IdleAnimation      AIRngr_SKL.AIRngr_IDB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_STAND
WaitForStateToFinishIfPossible  TRANS_RIDER2_FIRING_C
End

;PK Machinegun Animations
ConditionState   RIDER2 FIRING_A
Model          RIBorisMG_A
Animation      NICNSCI_SKL.NICNSCI_ATB1
AnimationMode  LOOP
TransitionKey  TRANS_RIDER2_FIRING_A
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_A

;PK Machinegun Air Attack Animations
ConditionState   RIDER2 FIRING_B
Model          RIBorisMG_A
Animation      NICNSCI_SKL.NICNSCI_ATB2
AnimationMode  LOOP
TransitionKey  TRANS_RIDER2_FIRING_B
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 RELOADING_B

;Flare Gun Animations
ConditionState   RIDER2 PREATTACK_C
Model          RIBorisMG_E
Animation      RIBorisMG_E.RIBorisMG_E
AnimationMode  ONCE
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME
End

ConditionState   RIDER2 FIRING_C
Model          RIBorisMG_E
Animation      RIBorisMG_E.RIBorisMG_E
AnimationMode  ONCE_BACKWARDS
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_RIDER2_FIRING_C
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER2 RELOADING_C

;    ;Airstrike Laser Designator Animations
;    ConditionState   RIDER2 FIRING_C
;      Model          RIBorisMG_C
;      Animation      NIOFCR_SKL.NIOFCR_ATBLP
;      AnimationMode  LOOP
;      TransitionKey  TRANS_RIDER2_FIRING_C
;    End
;    AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C
;    AliasConditionState  RIDER2 RELOADING_C
;    AliasConditionState  RIDER2 PREATTACK_C

; --- moving
ConditionState       RIDER2 MOVING
Model              RIBorisMG_A
Animation          NICNSCI_SKL.NICNSCI_RNA2 28 28
Animation          NICNSCI_SKL.NICNSCI_RNA3 28 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RIDER2_MOVING
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 MOVING RELOADING_B
AliasConditionState  RIDER2 MOVING BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER2 MOVING RELOADING_C

; --- dying anims
ConditionState       RIDER2 DYING
Model              RIBorisMG_B
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_DYING
End

TransitionState      TRANS_RIDER2_DYING TRANS_RIDER2_FLAILING
Model              RIBorisMG_B
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Model              RIBorisMG_B
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_RIDER2_FLAILING
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Model              RIBorisMG_B
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_SPLATTED
End
AliasConditionState  RIDER2 DYING SPLATTED

; --- cheering
ConditionState       RIDER2 SPECIAL_CHEERING
Model              RIBorisMG_B
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
TransitionKey      TRANS_RIDER2_CHEERING
End

;*********************
;**** RPG Boris ******
;*********************

ConditionState  RIDER3
Model  RIBoris_SKN
IdleAnimation  UITunF_SKL.UITunF_STA 0 20
IdleAnimation  UITunF_SKL.UITunF_IDA
IdleAnimation  UITunF_SKL.UITunF_IDB
IdleAnimation  UITunF_SKL.UITunF_IDC
AnimationMode  ONCE
TransitionKey  TRANS_RIDER3_STAND
End

;RPG-29 Animations

ConditionState  RIDER3 PREATTACK_A
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_ATA
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_RIDER3_PREFIRING_A
End
AliasConditionState  RIDER3 PREATTACK_C

ConditionState  RIDER3 FIRING_A
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_ATA
AnimationMode  ONCE
TransitionKey  TRANS_RIDER3_FIRING_A
End
AliasConditionState RIDER3 FIRING_C

ConditionState  RIDER3 BETWEEN_FIRING_SHOTS_A
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_STA
AnimationMode  ONCE
TransitionKey  TRANS_RIDER3_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_RIDER3_FIRING_A
End
AliasConditionState  RIDER3 RELOADING_A
AliasConditionState  RIDER3 BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER3 RELOADING_C

;Pistol Animations
ConditionState   RIDER3 FIRING_B
Model  RIBorisB_SKN
Animation      NIOFCR_SKL.NIOFCR_ATALP
AnimationMode  LOOP
AnimationSpeedFactorRange  2 2
TransitionKey  TRANS_RIDER3_FIRING_B
End
AliasConditionState  RIDER3 BETWEEN_FIRING_SHOTS_B

ConditionState  RIDER3 RELOADING_B
Model  RIBorisB_SKN
Animation      NIOFCR_SKL.NIOFCR_ATBLP
AnimationMode  LOOP
TransitionKey  TRANS_RIDER3_RELOADING_B
End

;    ;Airstrike Laser Designator Animations
;    ConditionState   RIDER3 FIRING_C
;      Model  RIBorisA_SKN
;      Animation      NIOFCR_SKL.NIOFCR_ATBLP
;      AnimationMode  LOOP
;      TransitionKey  TRANS_RIDER3_FIRING_C
;    End
;    AliasConditionState  RIDER3 BETWEEN_FIRING_SHOTS_C
;    AliasConditionState  RIDER3 RELOADING_C
;    AliasConditionState  RIDER3 PREATTACK_C

ConditionState  RIDER3 MOVING
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_RNA 15
Animation  UITunF_SKL.UITunF_RNB 25
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone    None InfantryDustTrails
TransitionKey  TRANS_RIDER3_MOVING
End
AliasConditionState  RIDER3 MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER3 MOVING RELOADING_A
AliasConditionState  RIDER3 MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER3 MOVING RELOADING_B
AliasConditionState  RIDER3 MOVING BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER3 MOVING RELOADING_C

ConditionState  RIDER3 DYING
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_DTA
Animation  UITunF_SKL.UITunF_DTB
AnimationMode  ONCE
TransitionKey  TRANS_RIDER3_DYING
End

TransitionState  TRANS_RIDER3_DYING TRANS_RIDER3_FLAILING
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_ADTA1
Animation  UITunF_SKL.UITunF_ADTE1
Animation  UITunF_SKL.UITunF_ADTF1
AnimationMode  ONCE
End

ConditionState  RIDER3 DYING EXPLODED_FLAILING
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_ADTA2
Animation  UITunF_SKL.UITunF_ADTE2
Animation  UITunF_SKL.UITunF_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_RIDER3_FLAILING
End

ConditionState  RIDER3 DYING EXPLODED_BOUNCING
Model  RIBoris_SKN
Animation  UITunF_SKL.UITunF_ADTA3
Animation  UITunF_SKL.UITunF_ADTE3
Animation  UITunF_SKL.UITunF_ADTF3
AnimationMode  ONCE
TransitionKey  TRANS_RIDER3_SPLATTED
End

ConditionState  RIDER3 SPECIAL_CHEERING
Model  RIBoris_SKN
Animation  UITUNF_SKL.UITUNF_CHA
AnimationMode  LOOP
TransitionKey  TRANS_RIDER3_CHEERING
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Boris
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

;*******************************
;**** Assault Rifle Boris ******
;*******************************

WeaponSet
Conditions  WEAPON_RIDER1
Weapon               PRIMARY   RussiaBorisAssaultRifle

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER1 VETERAN
Weapon               PRIMARY   RussiaBorisAssaultRifle

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeVeteranWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER1 ELITE
Weapon               PRIMARY   RussiaBorisAssaultRifle

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeEliteWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER1 HERO
Weapon               PRIMARY   RussiaBorisAssaultRifle

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeHeroicWeapon
AutoChooseSources    TERTIARY  NONE
End

;****************************************
;**** Assault Rifle Boris Upgraded ******
;****************************************

WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE
Weapon               PRIMARY   RussiaBorisAssaultRifleUpgraded

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE VETERAN
Weapon               PRIMARY   RussiaBorisAssaultRifleUpgraded

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeVeteranWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE ELITE
Weapon               PRIMARY   RussiaBorisAssaultRifleUpgraded

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeEliteWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE HERO
Weapon               PRIMARY   RussiaBorisAssaultRifleUpgraded

Weapon               SECONDARY RussiaBorisGrenadeLauncherWeapon
AutoChooseSources    SECONDARY NONE

Weapon               TERTIARY  RussiaBorisAirstrikeHeroicWeapon
AutoChooseSources    TERTIARY  NONE
End

;****************************
;**** Machinegun Boris ******
;****************************

WeaponSet
Conditions  WEAPON_RIDER2
Weapon               PRIMARY   RussiaBorisMachineGunWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2 VETERAN
Weapon               PRIMARY   RussiaBorisMachineGunWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2 ELITE
Weapon               PRIMARY   RussiaBorisMachineGunWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2 HERO
Weapon               PRIMARY   RussiaBorisMachineGunWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

;*************************************
;**** Machinegun Boris Upgraded ******
;*************************************

WeaponSet
Conditions  WEAPON_RIDER2 PLAYER_UPGRADE
Weapon               PRIMARY   RussiaBorisMachineGunUpgradedWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirUpgradedWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2 PLAYER_UPGRADE VETERAN
Weapon               PRIMARY   RussiaBorisMachineGunUpgradedWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirUpgradedWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2 PLAYER_UPGRADE ELITE
Weapon               PRIMARY   RussiaBorisMachineGunUpgradedWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirUpgradedWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER2 PLAYER_UPGRADE HERO
Weapon               PRIMARY   RussiaBorisMachineGunUpgradedWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               SECONDARY RussiaBorisMachineGunAirUpgradedWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon               TERTIARY  RussiaBorisFlareGunWeapon
AutoChooseSources    TERTIARY  NONE
End

;*********************
;**** RPG Boris ******
;*********************

WeaponSet
Conditions  WEAPON_RIDER3
Weapon               PRIMARY   RussiaBorisMissileLauncher
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShot
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER3 VETERAN
Weapon               PRIMARY   RussiaBorisMissileLauncher
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotVeteran
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER3 ELITE
Weapon               PRIMARY   RussiaBorisMissileLauncher
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotElite
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER3 HERO
Weapon               PRIMARY   RussiaBorisMissileLauncher
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotHeroic
AutoChooseSources    TERTIARY  NONE
End

;******************************
;**** RPG Boris Upgraded ******
;******************************

WeaponSet
Conditions  WEAPON_RIDER4
Weapon               PRIMARY   RussiaBorisMissileLauncherUpgraded
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotUpgraded
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER4 VETERAN
Weapon               PRIMARY   RussiaBorisMissileLauncherUpgraded
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotVeteranUpgraded
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER4 ELITE
Weapon               PRIMARY   RussiaBorisMissileLauncherUpgraded
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotEliteUpgraded
AutoChooseSources    TERTIARY  NONE
End

WeaponSet
Conditions  WEAPON_RIDER4 HERO
Weapon               PRIMARY   RussiaBorisMissileLauncherUpgraded
PreferredAgainst     PRIMARY   VEHICLE

Weapon               SECONDARY RussiaBorisPistolWeapon
PreferredAgainst     SECONDARY INFANTRY

Weapon               TERTIARY  RussiaBorisMissileLauncherAimedShotHeroicUpgraded
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          250
ShroudClearingRange  300

Prerequisites
Object  RussiaIndustrialSite
End

BuildCost  1500
BuildTime  20.0          ;in seconds

ExperienceValue     50 100 100 150  ;Experience point value at each level
ExperienceRequired  0  200 300 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
MaxSimultaneousOfType  1
MaxSimultaneousLinkKey  Boris ;You may only field one boris at the time.

; *** AUDIO Parameters ***
VoiceSelect        BorisVoiceSelect
VoiceMove          BorisVoiceMove
VoiceGuard         BorisVoiceMove
VoiceAttack        BorisVoiceAttack
VoiceFear          BorisVoiceFear
SoundStealthOn     StealthOn
SoundStealthOff    StealthOff

UnitSpecificSounds
VoiceCreate      BorisVoiceCreate
VoiceGarrison    BorisVoiceMove
VoiceEnter       BorisVoiceMove
VoiceEnterHostile  BorisVoiceMove
VoiceGetHealed     BorisVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS HERO INFANTRY OBSTACLE REJECT_UNMANNED CANNOT_RETALIATE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_05
End

Behavior  BoneFXDamage ModuleTag_HeroDecal01
End

Behavior  BoneFXUpdate ModuleTag_HeroDecal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaHeroUnitDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaHeroUnitDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaHeroUnitDecal
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Assault Rifle
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryBorisCommandSet           SET_NORMAL

;;;;Machinegun
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussianInfantryBorisMachinegunCommandSet SET_NORMAL

;;;;RPG
Rider3  GenericFakeRider3_Default_Rank RIDER3 WEAPON_RIDER3 STATUS_RIDER3 RussianInfantryBorisRPGCommandSet        SET_NORMAL

;;;;RPG With Upgraded Set
Rider4  GenericFakeRider4_Default_Rank RIDER3 WEAPON_RIDER4 STATUS_RIDER4 RussianInfantryBorisRPGCommandSet        SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Upgrade to Airstrike Loadout Triggers
Behavior  CommandSetUpgrade ModuleTag_11
CommandSet  RussianInfantryBorisAirstrikeCommandSet
TriggeredBy  Upgrade_GLAWorkerWorthlessCommandSet
End

;Upgrade to Machinegun Loadout Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    GrenadierSwitchToHighAirburstRounds
RequiredStatus   STATUS_RIDER1 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
StatusToSet      HIJACKED
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

;Upgrade to RPG Loadout Triggers

Behavior  FireWeaponCollide ModuleTag_Transform08
CollideWeapon    GrenadierSwitchToHighExplosiveWithCanisterRounds
RequiredStatus   STATUS_RIDER1 REPULSOR
ForbiddenStatus  STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
StatusToSet      REPULSOR
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

;Upgraded with RPG Loadout and Compressed Missile Engine upgraded Triggers

Behavior  FireWeaponCollide ModuleTag_Transform11
CollideWeapon    GrenadierSwitchToHighAirburstWithCanisterRounds
RequiredStatus   STATUS_RIDER1 REPULSOR STATUS_RIDER8
End

Behavior  FireWeaponCollide ModuleTag_Transform12
CollideWeapon    GrenadierSwitchToHighAirburstWithCanisterRounds
RequiredStatus   STATUS_RIDER3 REPULSOR STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform13
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StatusBitsUpgrade ModuleTag_Transform14
StatusToSet      STATUS_RIDER8
TriggeredBy      Upgrade_RussiaAdvancedMissileEngines
End

;************************************
;******Transformation Code End*******
;************************************

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_BorisDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_BorisDie
OCL                  INITIAL OCL_RussiaExplodedDeathBoris
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireGLA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
DestructionDelay     0
FX                   INITIAL FX_BorisDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathBoris
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
; --- end Death modules ---

Behavior  StealthUpdate ModuleTag_Stealth07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING
HintDetectableConditions     IS_FIRING_WEAPON
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
EnemyDetectionEvaEvent       VehicleStolen
OwnDetectionEvaEvent         CashStolen
End

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaLargerClips
End

;Stimpack
Behavior            OCLSpecialPower ModuleTag_Stimpack01
SpecialPowerTemplate  SpecialAbilityBorisStimpack
OCL                   OCL_BorisStimpackTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_Stimpack02
CollideWeapon   RussiaBorisStimPackHealWeapon
RequiredStatus  USING_ABILITY
End

;Inspire
Behavior            OCLSpecialPower ModuleTag_Inspire01
SpecialPowerTemplate  SpecialAbilityBorisInspire
OCL                   OCL_BorisInspireEffect
CreateLocation        USE_OWNER_OBJECT
End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
Object RussiaInfantryShockTrooperBombadier
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRBombardier_L
ButtonImage             SRBombardier

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model              RIBmbdr_SKN_B
IdleAnimation      NIHERO_SKL.NIHERO_STA
AnimationMode      ONCE
TransitionKey      TRANS_Stand
HideSubObject      HEAD02 HEAD03
End
End

; set cost and time fields here or else they won't work
BuildCost  600
BuildTime  10.0          ;in seconds

Prerequisites
Object  RussiaWeaponsBunker
End

Side  Russia
EditorSorting  INFANTRY
BuildVariations  RussiaInfantryShockTrooperBombadier_Var1 RussiaInfantryShockTrooperBombadier_Var2 RussiaInfantryShockTrooperBombadier_Var3

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE DONT_AUTO_CRUSH_INFANTRY SCORE NO_GARRISON

End

;------------------------------------------------------------------------------
Object RussiaInfantryShockTrooperBombadier_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SRBombardier_L
ButtonImage             SRBombardier

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- idle
DefaultConditionState
Model              RIBmbdr_SKN_B
IdleAnimation      NIHERO_SKL.NIHERO_STA 0 17
IdleAnimation      NIHERO_SKL.NIHero_IDA
AnimationMode      ONCE
TransitionKey      TRANS_Stand
HideSubObject      HEAD02 HEAD03
WeaponFireFXBone   PRIMARY   Muzzle01
WeaponLaunchBone   PRIMARY   Muzzle01
WeaponFireFXBone   SECONDARY Muzzle01
WeaponLaunchBone   SECONDARY Muzzle01
End

; --- moving
ConditionState       MOVING
Animation          NIHero_SKL.NIHero_RNA 16
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_MOVING
ParticleSysBone    None InfantryDustTrails
End

; --- attacking
ConditionState       FIRING_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ATA
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_A
AnimationSpeedFactorRange  2.2 2.2
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_STA
AnimationMode      LOOP
Flags              START_FRAME_LAST
TransitionKey      TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

ConditionState       PREATTACK_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_PREATTACK_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  PREATTACK_B

; --- cheering states
ConditionState       SPECIAL_CHEERING
Animation          NIHERO_SKL.NIHERO_CHA
AnimationMode      ONCE
End

; --- dying states
ConditionState       DYING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_DTA
Animation          UISmsd_SKL.UISmsd_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState      TRANS_Dying TRANS_Flailing
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF1
Animation          UISmsd_SKL.UISmsd_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF2
Animation          UISmsd_SKL.UISmsd_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState       DYING EXPLODED_BOUNCING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF3
Animation          UISmsd_SKL.UISmsd_ADTG23
AnimationMode      ONCE
TransitionKey      TRANS_EXPLODED_BOUNCING
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

; --- parachuting states
ConditionState       FREEFALL
Animation          NIHero_SKL.NIHero_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIHero_SKL.NIHero_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NIHero_SKL.NIHero_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Bombardier
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         NONE
Weapon             PRIMARY   BombardierRocketWeapon
Weapon             SECONDARY BombardierRocketBurstWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY   BombardierRocketUpgradedWeapon
Weapon             SECONDARY BombardierRocketBurstUpgradedWeapon
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            ShockTrooperArmor
DamageFX         InfantryDamageFX
End

VisionRange          250
ShroudClearingRange  275

Prerequisites
Object  RussiaWeaponsBunker
End

BuildCost  600
BuildTime  10.0          ;in seconds

ExperienceValue     40 60  80  100  ;Experience point value at each level
ExperienceRequired  0  300 400 600  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryBombardierCommandSet

; *** AUDIO Parameters ***
VoiceSelect            BombardierVoiceSelect
VoiceMove              BombardierVoiceMove
VoiceGuard             BombardierVoiceMove
VoiceAttack            BombardierVoiceAttack
VoiceFear              BombardierVoiceFear

UnitSpecificSounds
VoiceCreate          BombardierVoiceCreate
VoiceGarrison        BombardierVoiceMove
VoiceEnter           BombardierVoiceMove
VoiceEnterHostile    BombardierVoiceMove
VoiceGetHealed       BombardierVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE DONT_AUTO_CRUSH_INFANTRY

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL ShockTrooperLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_065
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_BombardierDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED +TOPPLED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_BombardierDie
OCL                  INITIAL OCL_RussiaExplodedDeathBombardier
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_BombardierDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_BombardierDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_BombardierDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_BombardierDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_BombardierDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_BombardierDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_BombardierDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_RussiaExplodedDeathBombardier
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_BombardierDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_BombardierDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_0324114256 ;Shocktrooper Suicide
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
OCL                  INITIAL OCL_BombardierSurrendering
FX                   INITIAL FX_BombardierSuicide
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CommandSetUpgrade ModuleTag_InfantryAmmo01
CommandSet  RussianInfantryBombardierUpgradedCommandSet
TriggeredBy  Upgrade_RussiaLargerClips
End

Behavior  WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  LockWeaponCreate ModuleTag_21
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

;  Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
;    DeathTypes  ALL
;    CreationList  OCL_InfantryBeserkerObject
;  End

;Grizon Airdrop
Behavior            OCLSpecialPower ModuleTag_GrizonAirDrop01
SpecialPowerTemplate  SpecialAbilityRussianGrizonReinforcements
OCL                   SUPERWEAPON_GrizonAirDrop
CreateLocation        USE_OWNER_OBJECT
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryShockTrooperBombadier_Var2 RussiaInfantryShockTrooperBombadier_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- idle
DefaultConditionState
Model              RIBmbdr_SKN_B
IdleAnimation      NIHERO_SKL.NIHERO_STA 0 17
IdleAnimation      NIHERO_SKL.NIHero_IDA
AnimationMode      ONCE
TransitionKey      TRANS_Stand
HideSubObject      HEAD01 HEAD03
WeaponFireFXBone   PRIMARY   Muzzle01
WeaponLaunchBone   PRIMARY   Muzzle01
WeaponFireFXBone   SECONDARY Muzzle01
WeaponLaunchBone   SECONDARY Muzzle01
End

; --- moving
ConditionState       MOVING
Animation          NIHero_SKL.NIHero_RNA 16
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_MOVING
ParticleSysBone    None InfantryDustTrails
End

; --- attacking
ConditionState       FIRING_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ATA
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_A
AnimationSpeedFactorRange  2.2 2.2
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_STA
AnimationMode      LOOP
Flags              START_FRAME_LAST
TransitionKey      TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

ConditionState       PREATTACK_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_PREATTACK_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  PREATTACK_B

; --- cheering states
ConditionState       SPECIAL_CHEERING
Animation          NIHERO_SKL.NIHERO_CHA
AnimationMode      ONCE
End

; --- dying states
ConditionState       DYING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_DTA
Animation          UISmsd_SKL.UISmsd_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState      TRANS_Dying TRANS_Flailing
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF1
Animation          UISmsd_SKL.UISmsd_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF2
Animation          UISmsd_SKL.UISmsd_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState       DYING EXPLODED_BOUNCING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF3
Animation          UISmsd_SKL.UISmsd_ADTG23
AnimationMode      ONCE
TransitionKey      TRANS_EXPLODED_BOUNCING
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

; --- parachuting states
ConditionState       FREEFALL
Animation          NIHero_SKL.NIHero_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIHero_SKL.NIHero_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NIHero_SKL.NIHero_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

End

End

;------------------------------------------------------------------------------
ObjectReskin RussiaInfantryShockTrooperBombadier_Var3 RussiaInfantryShockTrooperBombadier_Var1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- idle
DefaultConditionState
Model              RIBmbdr_SKN_B
IdleAnimation      NIHERO_SKL.NIHERO_STA 0 17
IdleAnimation      NIHERO_SKL.NIHero_IDA
AnimationMode      ONCE
TransitionKey      TRANS_Stand
HideSubObject      HEAD01 HEAD02
WeaponFireFXBone   PRIMARY   Muzzle01
WeaponLaunchBone   PRIMARY   Muzzle01
WeaponFireFXBone   SECONDARY Muzzle01
WeaponLaunchBone   SECONDARY Muzzle01
End

; --- moving
ConditionState       MOVING
Animation          NIHero_SKL.NIHero_RNA 16
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_MOVING
ParticleSysBone    None InfantryDustTrails
End

; --- attacking
ConditionState       FIRING_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ATA
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_A
AnimationSpeedFactorRange  2.2 2.2
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_STA
AnimationMode      LOOP
Flags              START_FRAME_LAST
TransitionKey      TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

ConditionState       PREATTACK_A
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_PREATTACK_A
WaitForStateToFinishIfPossible  TRANS_START_FIRING_A
End
AliasConditionState  PREATTACK_B

; --- cheering states
ConditionState       SPECIAL_CHEERING
Animation          NIHERO_SKL.NIHERO_CHA
AnimationMode      ONCE
End

; --- dying states
ConditionState       DYING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_DTA
Animation          UISmsd_SKL.UISmsd_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState      TRANS_Dying TRANS_Flailing
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF1
Animation          UISmsd_SKL.UISmsd_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF2
Animation          UISmsd_SKL.UISmsd_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState       DYING EXPLODED_BOUNCING
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_ADTF3
Animation          UISmsd_SKL.UISmsd_ADTG23
AnimationMode      ONCE
TransitionKey      TRANS_EXPLODED_BOUNCING
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

; --- parachuting states
ConditionState       FREEFALL
Animation          NIHero_SKL.NIHero_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIHero_SKL.NIHero_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NIHero_SKL.NIHero_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

End

End

;------------------------------------------------------------------------------
Object RussiaInfantryBombardierCommitingSuicide

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              RIBmbdr_SKN
Animation          UISmsd_SKL.UISmsd_IDB
AnimationMode      ONCE
HideSubObject      HEAD02 HEAD03
AnimationSpeedFactorRange  1.8 1.8
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ShockTrooper
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1
MaxLifetime  1
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
DestructionDelay     4000
DestructionDelayVariance  2000
FX   FINAL FX_InfantryBombardierSuicideExplosion
OCL  FINAL OCL_BloodyGoreExplosion
End
; --- end Death modules ---


End
;------------------------------------------------------------------------------
Object RussiaVehicleTunguska

; *** ART Parameters ***
SelectPortrait          SRTunguska_L
ButtonImage             SRTunguska

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes

DefaultConditionState
Model                RVTngska
Animation            RVTngska.RVTngska
AnimationMode        LOOP
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        MISSILEUP FRNTRDRUP
Flags                MAINTAIN_FRAME_ACROSS_STATES
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX2
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
WeaponMuzzleFlash    TERTIARY MuzzleFX
End

ConditionState         USING_WEAPON_A
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponMuzzleFlash    TERTIARY NONE
End

ConditionState         REALLYDAMAGED
Model                RVTngska_D
Animation            RVTngska_D.RVTngska_D
End
AliasConditionState  RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_A
Model                RVTngska_D
Animation            RVTngska_D.RVTngska_D
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponMuzzleFlash    TERTIARY NONE
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName                OBJECT:Tunguska
Side                       Russia
EditorSorting              VEHICLE
TransportSlotCount         3            ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions               NONE
Weapon                   PRIMARY   TunguskaAutoCannon
PreferredAgainst         PRIMARY   STRUCTURE
AutoChooseSources        PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon                   SECONDARY TunguskaAutoCannonAir
AutoChooseSources        SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon                   TERTIARY  TunguskaMissiles
AutoChooseSources        TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
End

WeaponSet
Conditions               PLAYER_UPGRADE
Weapon                   PRIMARY   TunguskaAutoCannonUpgraded
PreferredAgainst         PRIMARY   STRUCTURE
AutoChooseSources        PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon                   SECONDARY TunguskaAutoCannonAirUpgraded
AutoChooseSources        SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon                   TERTIARY  TunguskaMissilesUpgraded
AutoChooseSources        TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
End

ArmorSet
Conditions     None
Armor          AntiAirVehicle
DamageFX       TankDamageFX
End

BuildCost        1000
BuildTime        9.0          ;in seconds
VisionRange      225
ShroudClearingRange  300

ExperienceValue     50 50 100 150   ;Experience point value at each level
ExperienceRequired  0 80 200 300    ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleTunguskaCommandSet


; *** AUDIO Parameters ***
VoiceSelect      TunguskaVoiceSelect
VoiceMove        TunguskaVoiceMove
VoiceGuard       TunguskaVoiceMove
VoiceAttack      TunguskaVoiceAttack
VoiceAttackAir   TunguskaVoiceAttackAir
SoundMoveStart         TunguskaMoveStart
SoundMoveStartDamaged  TunguskaMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      TunguskaVoiceCreate
VoiceCrush       TunguskaVoiceMove
VoiceEnter       TunguskaVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        420.0
InitialHealth    420.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  840
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   5
MinIdleScanAngle     10
MaxIdleScanAngle     40
MinIdleScanInterval  5000
MaxIdleScanInterval  10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor        SET_NORMAL     TunguskaLocomotor

Behavior           PhysicsBehavior ModuleTag_04
Mass             50.0
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL
DestructionDelay  1
SinkRate  0.5     ; in Dist/Sec
OCL  FINAL    OCL_RussiaTunguskaDebris
FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CreateCrateDie ModuleTag_06
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_07
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SubObjectsUpgrade ModuleTag_ReconUpgrade01
TriggeredBy     Upgrade_RussiaGuidedWeapons
HideSubObjects  MISSILE FRNTRDR
ShowSubObjects  MISSILEUP FRNTRDRUP
End

Behavior  WeaponSetUpgrade ModuleTag_ReconUpgrade02
TriggeredBy  Upgrade_RussiaGuidedWeapons
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleTopol

; *** ART Parameters ***
SelectPortrait          SRTOPOLM_L
ButtonImage             SRTOPOLM

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState        NONE
Model              RVTopol
Animation          RVTopol.RVTopol
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      WeaponA01
TransitionKey      TRANS_UNARMED_PACKED
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 DEPLOYED PREATTACK_B

ConditionState       RIDER1 UNPACKING
Model              RVTopol_A1
Animation          RVTopol_A1.RVTopol_A1
AnimationMode      MANUAL
HideSubObject      WeaponA01
End

ConditionState       RIDER1 PACKING
Model              RVTopol_A1
Animation          RVTopol_A1.RVTopol_A1
AnimationMode      MANUAL
HideSubObject      WeaponA01
End

ConditionState       RIDER1 DEPLOYED
Model              RVTopol_A3
Animation          RVTopol_A3.RVTopol_A3
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      WeaponA01
TransitionKey      TRANS_UNARMED_UNPACKED
End

;Transitions
TransitionState      TRANS_UNARMED_PACKED TRANS_ARMED_PACKED
Model              RVTopol
Animation          RVTopol.RVTopol
AnimationMode      ONCE_BACKWARDS
ShowSubObject      WeaponA01
End

TransitionState      TRANS_UNARMED_UNPACKED TRANS_ARMED_UNPACKED
Model              RVTopol_A3
Animation          RVTopol_A3.RVTopol_A3
AnimationMode      ONCE_BACKWARDS
ShowSubObject      WeaponA01
End

;Armed with missile

ConditionState       RIDER2
Model              RVTopol
Animation          RVTopol.RVTopol
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
ShowSubObject      WeaponA01
TransitionKey      TRANS_ARMED_PACKED
End

ConditionState       RIDER2 UNPACKING
Model              RVTopol_A2
Animation          RVTopol_A2.RVTopol_A2
AnimationMode      MANUAL
ShowSubObject      WeaponA01
End

ConditionState       RIDER2 PACKING
Model              RVTopol_A2
Animation          RVTopol_A2.RVTopol_A2
AnimationMode      MANUAL
ShowSubObject      WeaponA01
End

ConditionState       RIDER2 DEPLOYED
Model              RVTopol_A3
Animation          RVTopol_A3.RVTopol_A3
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
ShowSubObject      WeaponA01
TransitionKey      TRANS_ARMED_UNPACKED
End

ConditionState       RIDER2 DEPLOYED PREATTACK_B
Model              RVTopol_A3
Animation          RVTopol_A3.RVTopol_A3
AnimationMode      ONCE
ShowSubObject      WeaponA01
End


;Reallydamaged conditions

ConditionState        RIDER1 REALLYDAMAGED
Model              RVTopol_D
Animation          RVTopol_D.RVTopol_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      WeaponA01
TransitionKey      TRANS_DAMAGED_UNARMED_PACKED
End
AliasConditionState  RIDER1 REALLYDAMAGED DEPLOYED PREATTACK_B
AliasConditionState  RUBBLE
AliasConditionState  RIDER1 RUBBLE

ConditionState       RIDER1 REALLYDAMAGED UNPACKING
Model              RVTopol_DA1
Animation          RVTopol_DA1.RVTopol_DA1
AnimationMode      MANUAL
HideSubObject      WeaponA01
End

ConditionState       RIDER1 REALLYDAMAGED PACKING
Model              RVTopol_DA1
Animation          RVTopol_DA1.RVTopol_DA1
AnimationMode      MANUAL
HideSubObject      WeaponA01
End

ConditionState       RIDER1 REALLYDAMAGED DEPLOYED
Model              RVTopol_DA3
Animation          RVTopol_DA3.RVTopol_DA3
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      WeaponA01
TransitionKey      TRANS_DAMAGED_UNARMED_UNPACKED
End

;Transitions
TransitionState      TRANS_DAMAGED_UNARMED_PACKED TRANS_DAMAGED_ARMED_PACKED
Model              RVTopol_D
Animation          RVTopol_D.RVTopol_D
AnimationMode      ONCE_BACKWARDS
ShowSubObject      WeaponA01
End

TransitionState      TRANS_DAMAGED_UNARMED_UNPACKED TRANS_DAMAGED_ARMED_UNPACKED
Model              RVTopol_DA3
Animation          RVTopol_DA3.RVTopol_DA3
AnimationMode      ONCE_BACKWARDS
ShowSubObject      WeaponA01
End

;Armed with missile

ConditionState       RIDER2 REALLYDAMAGED
Model              RVTopol_D
Animation          RVTopol_D.RVTopol_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
ShowSubObject      WeaponA01
TransitionKey      TRANS_DAMAGED_ARMED_PACKED
End
AliasConditionState  RIDER2 RUBBLE

ConditionState       RIDER2 REALLYDAMAGED UNPACKING
Model              RVTopol_DA2
Animation          RVTopol_DA2.RVTopol_DA2
AnimationMode      MANUAL
ShowSubObject      WeaponA01
End

ConditionState       RIDER2 REALLYDAMAGED PACKING
Model              RVTopol_DA2
Animation          RVTopol_DA2.RVTopol_DA2
AnimationMode      MANUAL
ShowSubObject      WeaponA01
End

ConditionState       RIDER2 REALLYDAMAGED DEPLOYED
Model              RVTopol_DA3
Animation          RVTopol_DA3.RVTopol_DA3
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
ShowSubObject      WeaponA01
TransitionKey      TRANS_DAMAGED_ARMED_UNPACKED
End

ConditionState       RIDER2 REALLYDAMAGED DEPLOYED PREATTACK_B
Model              RVTopol_DA3
Animation          RVTopol_DA3.RVTopol_DA3
AnimationMode      ONCE
ShowSubObject      WeaponA01
End

TrackMarks  EXTireTrack.tga

Dust  ScudLauncherDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
MidLeftFrontTireBone   TIRE03
MidRightFrontTireBone  TIRE04
MidRightRearTireBone   TIRE05
MidLeftRearTireBone    TIRE06

TireRotationMultiplier  0.2   ; this * speed  rotation.

End

Draw  W3DTruckDraw ModuleTag_Wheels01

ConditionState  NONE
Model  RVTopol_B
End

ConditionState  REALLYDAMAGED
Model  RVTopol_BD
End
AliasConditionState  RUBBLE

Dust                     Nada
DirtSpray                Nada
PowerslideSpray          Nada

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
MidLeftFrontTireBone   TIRE03
MidRightFrontTireBone  TIRE04

MidRightRearTireBone   TIRE05
MidLeftRearTireBone    TIRE06
MidRightMidTireBone    TIRE07
MidLeftMidTireBone     TIRE08


TireRotationMultiplier  0.2

End

Draw  W3DModelDraw ModuleTag_Stowage01

DefaultConditionState
Model              NONE
End

ConditionState       UNPACKING
Model              RVTopol_C
Animation          RVTopol_C.RVTopol_C
AnimationMode      MANUAL
End

ConditionState       PACKING
Model              RVTopol_C
Animation          RVTopol_C.RVTopol_C
AnimationMode      MANUAL
End

ConditionState   DEPLOYED
Model              RVTopol_C
Animation          RVTopol_C.RVTopol_C
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
End

End

Draw  W3DModelDraw ModuleTag_FiringBones01

DefaultConditionState
Model              RVTopol_Bone
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   SECONDARY MuzzleFX
End

End

Draw  W3DModelDraw ModuleTag_Headlights01
DefaultConditionState
Model              RVTopol_N
Turret             Turret
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TOPOL
Side  Russia
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  TOPOL

WeaponSet
Conditions  WEAPON_RIDER1
Weapon             SECONDARY  NONE
AutoChooseSources  SECONDARY  NONE
Weapon             TERTIARY   TopolDummyDeployWeapon
AutoChooseSources  TERTIARY   NONE
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon             SECONDARY  TopolMissileWeapon
AutoChooseSources  SECONDARY  NONE
Weapon             TERTIARY   TopolDummyDeployWeapon
AutoChooseSources  TERTIARY   NONE
End

ArmorSet
Conditions       None
Armor            BikeLogicHeavyArtilleryArmor
DamageFX         TankDamageFX
End

BuildCost        1250
BuildTime        30.0          ;in seconds

VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  RussiaWarFactory
Object  RussiaIndustrialSite
Science  SCIENCE_ICBMClearance
End

ExperienceValue     150 150 150 150     ;Experience point value at each level
IsTrainable  No             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            TopolVoiceSelect
VoiceMove              TopolVoiceMove
VoiceGuard             TopolVoiceMove
SoundMoveStart         TopolMoveStart
SoundMoveStartDamaged  TopolMoveStart

UnitSpecificSounds
VoiceFlameLocation   TopolVoiceAttack
VoiceCreate          TopolVoiceCreate
VoiceEnter           TopolVoiceMove
Deploy               TopolLauncherDeploy
Undeploy             TopolLauncherUnDeploy
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE SALVAGER GARRISONABLE_UNTIL_DESTROYED IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0
SubdualDamageCap  500.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_04
Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking ;No they now auto accuire targets set them to hold fire you don't want them to fire
PackTime  6600
UnpackTime  6600
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
End
Locomotor  SET_NORMAL TopolLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  InstantDeathBehavior ModuleTag_06
DeathTypes  ALL -CRUSHED -SPLATTED
FX   FX_GenericTankDeathExplosion
OCL  OCL_VehicleTopolDeathEffect
End

; A crushing defeat
Behavior  FXListDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_09
CrateData  SalvageCrateDataRussiaTier2
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

;Behavior  ProductionUpdate ModuleTag_ShowWeaponRange01
;MaxQueueEntries  1
;End

;Behavior  ObjectCreationUpgrade ModuleTag_ShowWeaponRange02
;UpgradeObject  OCL_TopolRangeIndicator
;TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
;End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_MissileRearm01

Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussiaVehicleTopolCommandSet         SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussiaVehicleTopolUpgradedCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ObjectCreationUpgrade ModuleTag_MissileRearm02
UpgradeObject  OCL_TopolMirvWareheadUpgrade
TriggeredBy    Upgrade_RussiaTopolMIRVMissileUpgrade
End

Behavior  FireWeaponCollide ModuleTag_MissileRearm03
CollideWeapon   ClaymoreHowitzerRevealWeapon
RequiredStatus  STATUS_RIDER2 IS_FIRING_WEAPON DEPLOYED
End

Behavior  FireWeaponUpdate ModuleTag_MissileRearm04
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_MissileRearm05
CollideWeapon   TacticalMissilePreLaunchAlarmWeapon
RequiredStatus  STATUS_RIDER2 IS_FIRING_WEAPON DEPLOYED
End

;This spawns a crate that only bomb trucks can pick up to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
CrateData       TopolWarheadCrateData
End

;************************************
;******Transformation Code End********
;************************************

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ProductionUpdate ModuleTag_12
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_SECONDARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_DeployMarkerDecal01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_DeployMarkerDecal02
CollideWeapon   TopolM1DeployedDecalWeapon
RequiredStatus  DEPLOYED
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  44.0
GeometryMinorRadius  10.0
GeometryHeight  21.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End
;------------------------------------------------------------------------------
Object RussiaTeslaTank

; *** ART Parameters ***
SelectPortrait          SRTeslaTank_L
ButtonImage             SRTeslaTank

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        MANUAL
Turret               Turret
WeaponFireFXBone     PRIMARY Orb
WeaponFireFXBone     SECONDARY Orb
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  PREATTACK_C
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        ONCE
WaitForStateToFinishIfPossible  NONE
End

ConditionState         FIRING_C
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
End

ConditionState  REALLYDAMAGED
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
WaitForStateToFinishIfPossible  TRANS_START_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED PREATTACK_C
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
AnimationMode        ONCE
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  PREATTACK_C RUBBLE

ConditionState         REALLYDAMAGED FIRING_C
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_DAMAGED
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  FIRING_C RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_FireBone01

ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model                RVTslTnk_B
Animation            RVTslTnk_B.RVTslTnk_B
AnimationMode        LOOP
Flags                RANDOMSTART
Turret               Turret
ParticleSysBone      FXBONE01 TeslaTankCoilSparkFlare
ParticleSysBone      FXBONE02 TeslaTankCoilSparkFlare
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState         FIRING_C
Model                RVTslTnk_B
Animation            RVTslTnk_B.RVTslTnk_B
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_FIRING
AnimationSpeedFactorRange  0.5 0.5
End
AliasConditionState  FIRING_C REALLYDAMAGED
AliasConditionState  FIRING_C RUBBLE

ConditionState  PREATTACK_C
Model                NONE
End
AliasConditionState  PREATTACK_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RUBBLE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:TeslaTank
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   3                ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions             None
Weapon                 PRIMARY   TeslaTankBuildingClearerWeapon
Weapon                 SECONDARY TeslaTankWeapon
Weapon                 TERTIARY  TeslaTankMassiveDischargeWeapon
End

WeaponSet
Conditions             HERO
Weapon                 PRIMARY   HeroicTeslaTankBuildingClearerWeapon
Weapon                 SECONDARY HeroicTeslaTankWeapon
Weapon                 TERTIARY  HeroicTeslaTankMassiveDischargeWeapon
End

ArmorSet
Conditions       None
Armor            BuratinoTankArmor
DamageFX         TankDamageFX
End

BuildCost        1300
BuildTime        14.0
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  RussiaWarFactory
Object  RussiaWeaponsBunker
Science  SCIENCE_TeslaTech
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 150 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleTeslaTankCommandSet

; *** AUDIO Parameters ***
VoiceSelect            TeslaTankVoiceSelect
VoiceMove              TeslaTankVoiceMove
VoiceGuard             TeslaTankVoiceMove
VoiceAttack            TeslaTankVoiceAttack
SoundMoveStart         TeslaTankMoveStart
SoundMoveStartDamaged  TeslaTankMoveStart

UnitSpecificSounds
VoiceCreate      TeslaTankVoiceCreate
VoiceCrush       TeslaTankVoiceMove
VoiceEnter       TeslaTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE ATTACK_NEEDS_LINE_OF_SIGHT DONT_AUTO_CRUSH_INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        280.0
InitialHealth    280.0
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  30
End

Locomotor  SET_NORMAL TeslaTankLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_05
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_11
CrateData  SalvageCrateDataRussiaTier1
End

Behavior  SlowDeathBehavior ModuleTag_12
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaTeslaTankDebris
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  11.0
GeometryHeight  10
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length
End
;------------------------------------------------------------------------------
;Russia Supply Truck
Object RussiaVehicleSupplyTruck

; *** ART Parameters ***

SelectPortrait          SRSupplyTruck_L
ButtonImage             SRSupplyTruck

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model            RVSplyTrck
HideSubObject    Cargo01 Turret Lights01
End

ConditionState     REALLYDAMAGED
Model            RVSplyTrck_D
HideSubObject    Cargo01 Turret Lights01
End

ConditionState     RUBBLE
Model            RVSplyTrck_D
HideSubObject    Cargo01 Turret Lights01
End

ConditionState     CARRYING
Model            RVSplyTrck
HideSubObject    Turret Lights01
ShowSubObject    Cargo01
End

ConditionState     REALLYDAMAGED CARRYING
Model            RVSplyTrck_D
HideSubObject    Turret Lights01
ShowSubObject    Cargo01
End

ConditionState     RUBBLE CARRYING
Model            RVSplyTrck_D
HideSubObject    Turret Lights01
ShowSubObject    Cargo01
End

TrackMarks  EXTireTrack.tga

Dust  InvissibleDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone      Wheel01
RightFrontTireBone     Wheel02
MidLeftFrontTireBone   Wheel03
MidRightFrontTireBone  Wheel04
MidLeftRearTireBone    Wheel05
MidRightRearTireBone   Wheel06
LeftRearTireBone       Wheel07
RightRearTireBone      Wheel08

TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.


End

Draw  W3DModelDraw ModuleTag_Gun01

OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     7

ConditionState  NONE
Model            NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState     WEAPONSET_PLAYER_UPGRADE
Model              RVSplyTrck_G
Turret             Turret
TurretPitch        TurretEL
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   SECONDARY Barrel
End

ConditionState     WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model              RVSplyTrck_GD
Turret             Turret
TurretPitch        TurretEL
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   SECONDARY Barrel
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

End

Draw  W3DModelDraw ModuleTag_Headlights01
OkToChangeModelColor  Yes

ConditionState  NONE
Model NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState     NIGHT
Model              RVSplyTrck
HideSubObject      Chassis Turret
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RussiaSupplyTruck
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            900
BuildTime            10.0      ;in seconds
VisionRange          200
ShroudClearingRange  200

WeaponSet
Conditions        None
Weapon            PRIMARY   NONE
Weapon            SECONDARY NONE
End

WeaponSet
Conditions        PLAYER_UPGRADE
Weapon            PRIMARY   RussianSupplyTruckGunDummy
Weapon            SECONDARY RussianSupplyTruckGun
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  RussiaSupplyCenter
End


ExperienceValue         30 30 50  100   ;Experience point value at each level
ExperienceRequired      0  60 120 240   ;Experience points needed to gain each level
IsTrainable             Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet               RussiaVehicleSupplyTruckCommandSet
; *** AUDIO Parameters ***
VoiceSelect              RussianSupplyTruckVoiceSelect
VoiceMove                RussianSupplyTruckVoiceMove
VoiceAttack              RussianSupplyTruckVoiceAttack
SoundMoveStart           MTP4AMoveStart
SoundMoveStartDamaged    MTP4AMoveStart
UnitSpecificSounds
VoiceCreate            RussianSupplyTruckVoiceCreate
TruckLandingSound      NoSound
TruckPowerslideSound   NoSound
VoiceSupply            RussianSupplyTruckVoiceSupply
VoiceCrush             RussianSupplyTruckVoiceAttack
VoiceEnter             RussianSupplyTruckVoiceMove

End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
;@todo lorenzen removed the CAN_ATTACK from the chinasupplytruck... ok?
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HARVESTER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  SupplyTruckAIUpdate ModuleTag_03

MaxBoxes  7
SupplyCenterActionDelay  1200    ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  1050 ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  RussianSupplyTruckVoiceSuppliesDepleted

Turret
TurretTurnRate         180
TurretPitchRate        100
AllowsPitch            Yes
MinPhysicalPitch       -5
NaturalTurretPitch     5
ControlledWeaponSlots  PRIMARY SECONDARY
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
TurretsLinked  Yes

AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33

End
Locomotor  SET_NORMAL RussianSupplyTruckLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RussiaSupplyTruckDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED -SUICIDED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED -SUICIDED
CreationList  OCL_ChinaSupplyTruck_CrushEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED -SUICIDED
End

Behavior  CreateCrateDie ModuleTag_12
CrateData       SalvageCrateData
RequiredStatus  STATUS_RIDER1
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;-------------VERY SPECIAL UPGRADE CODE START-------------------

Behavior                  FireWeaponUpdate ModuleTag_Upgrade01
Weapon                  GLACommandTruckRadarCollisionDummyWeapon
End

;Upgrade to Hideout
Behavior  FireWeaponCollide ModuleTag_Upgrade02
CollideWeapon           SuicideUnresistableWeapon
RequiredStatus          STATUS_RIDER6
End

Behavior                  CreateObjectDie ModuleTag_Upgrade03
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER6
CreationList            OCL_RussiaFieldQuartersUpgrade
TransferPreviousHealth  Yes
End

Behavior  ProductionUpdate ModuleTag_Upgrade04
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_Upgrade05
UnitCreatePoint    X:  0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:  0.0  Y:0.0  Z:0.0
End

Behavior  SlowDeathBehavior ModuleTag_Upgrade06
DeathTypes         NONE +SUICIDED
DestructionDelay   100
End

;-------------VERY SPECIAL UPGRADE CODE END-------------------

Behavior  WeaponSetUpgrade ModuleTag_ArmedRecon01
TriggeredBy  Upgrade_RussiaArmedRecon
End

Behavior  CommandSetUpgrade ModuleTag_ArmedRecon02
CommandSet  RussiaVehicleSupplyTruckUpgradedCommandSet
TriggeredBy  Upgrade_RussiaArmedRecon
End

Behavior  StatusBitsUpgrade ModuleTag_ArmedRecon03
TriggeredBy          Upgrade_RussiaArmedRecon
StatusToSet          STATUS_RIDER1
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  7.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleShilka

; *** ART Parameters ***
SelectPortrait          SRShilka_L
ButtonImage             SRShilka

;UpgradeCameo1

Draw                       W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1
RecoilSettleSpeed     6

ConditionState         NONE
Model                RVShilka
Animation            RVShilka.RVShilka
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.3 2.3
Turret               TURRET
TurretPitch          TURRETEL
WeaponRecoilBone     TERTIARY Barrel
WeaponMuzzleFlash    TERTIARY MuzzleFX
End

ConditionState         USING_WEAPON_A
Model                RVShilka
Animation            RVShilka.RVShilka
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.3 2.3
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
End

ConditionState         USING_WEAPON_B
Model                RVShilka
Animation            RVShilka.RVShilka
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.3 2.3
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
End

ConditionState         REALLYDAMAGED
Model                RVShilka_D
Animation            RVShilka_D.RVShilka_D
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.3 2.3
Turret               TURRET
TurretPitch          TURRETEL
WeaponRecoilBone     TERTIARY Barrel
WeaponMuzzleFlash    TERTIARY MuzzleFX
End
AliasConditionState  RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_A
Model                RVShilka_D
Animation            RVShilka_D.RVShilka_D
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.3 2.3
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
End

ConditionState         REALLYDAMAGED USING_WEAPON_B
Model                RVShilka_D
Animation            RVShilka_D.RVShilka_D
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  2.3 2.3
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName                OBJECT:Shilka
Side                       Russia
EditorSorting              VEHICLE
TransportSlotCount         3            ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions               None
Weapon                   PRIMARY   ShilkaAutoCannon
PreferredAgainst         PRIMARY   STRUCTURE
AutoChooseSources        PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon                   SECONDARY ShilkaAutoCannonAir
AutoChooseSources        SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
End

ArmorSet
Conditions     None
Armor          AntiAirVehicle
DamageFX       TankDamageFX
End

BuildCost        1000
BuildTime        8.0          ;in seconds
VisionRange      230
ShroudClearingRange  255

Prerequisites
Object         RussiaWarFactory
End

ExperienceValue     50 50 100 150   ;Experience point value at each level
ExperienceRequired  0 80 200 300    ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleTunguskaCommandSet


; *** AUDIO Parameters ***
VoiceSelect      ShilkaVoiceSelect
VoiceMove        ShilkaVoiceMove
VoiceGuard       ShilkaVoiceMove
VoiceAttack      ShilkaVoiceAttack
VoiceAttackAir   ShilkaVoiceAttack
SoundMoveStart         TunguskaMoveStart
SoundMoveStartDamaged  TunguskaMoveStart

UnitSpecificSounds
VoiceCrush       ShilkaVoiceMove
VoiceEnter       ShilkaVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
NaturalTurretPitch   15
AllowsPitch          Yes
FiresWhileTurning    Yes
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor        SET_NORMAL CrusaderLocomotor

Behavior           PhysicsBehavior ModuleTag_04
Mass             40.0
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay  1
SinkRate  0.5     ; in Dist/Sec
OCL  FINAL    OCL_RussiaShilkaDebris
FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  CreateCrateDie ModuleTag_06
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_07
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaTankSentinel

; *** ART Parameters ***
SelectPortrait          SRSentinel_L
ButtonImage             SRSentinel

Draw  W3DTankTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              RVSent
Animation          RVSent.RVSent
AnimationMode      ONCE
Flags              START_FRAME_LAST
HideSubObject      Warden01 Arena01 Armor01 Armor02 Armor03
Turret             Turret
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponFireFXBone   SECONDARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
WeaponFireFXBone   TERTIARY  WeaponA
WeaponLaunchBone   TERTIARY  WeaponA
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End

ConditionState REALLYDAMAGED
Model              RVSent_D
Animation          RVSent_D.RVSent_D
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED FIRING_A
Model              RVSent_D
Animation          RVSent_D.RVSent_D
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_DAMAGED
End

;With Missile Pods

ConditionState  WEAPONSET_PLAYER_UPGRADE
ShowSubObject      Warden01
HideSubObject      Arena01 Armor01 Armor02 Armor03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
ShowSubObject      Warden01
HideSubObject      Arena01 Armor01 Armor02 Armor03
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model              RVSent_D
Animation          RVSent_D.RVSent_D
ShowSubObject      Warden01
HideSubObject      Arena01 Armor01 Armor02 Armor03
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED FIRING_A
Model              RVSent_D
Animation          RVSent_D.RVSent_D
Flags              START_FRAME_FIRST
ShowSubObject      Warden01
HideSubObject      Arena01 Armor01 Armor02 Armor03
TransitionKey      TRANS_START_FIRING_DAMAGED
End

;With ERA

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject      Armor01 Armor02 Armor03
HideSubObject      Arena01 Warden01
End

ConditionState  POWER_PLANT_UPGRADED FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
ShowSubObject      Warden01
ShowSubObject      Armor01 Armor02 Armor03
HideSubObject      Arena01 Warden01
End

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model              RVSent_D
Animation          RVSent_D.RVSent_D
ShowSubObject      Armor01 Armor02 Armor03
HideSubObject      Arena01 Warden01
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED FIRING_A
Model              RVSent_D
Animation          RVSent_D.RVSent_D
Flags              START_FRAME_FIRST
ShowSubObject      Armor01 Armor02 Armor03
HideSubObject      Arena01 Warden01
TransitionKey      TRANS_START_FIRING_DAMAGED
End

;With Missile Pods & ERA

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED
ShowSubObject      Armor01 Armor02 Armor03 Warden01
HideSubObject      Arena01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
ShowSubObject      Warden01
ShowSubObject      Armor01 Armor02 Armor03 Warden01
HideSubObject      Arena01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED REALLYDAMAGED
Model              RVSent_D
Animation          RVSent_D.RVSent_D
ShowSubObject      Armor01 Armor02 Armor03 Warden01
HideSubObject      Arena01
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED REALLYDAMAGED FIRING_A
Model              RVSent_D
Animation          RVSent_D.RVSent_D
Flags              START_FRAME_FIRST
ShowSubObject      Armor01 Armor02 Armor03 Warden01
HideSubObject      Arena01
TransitionKey      TRANS_START_FIRING_DAMAGED
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
Dust       Nada
DirtSpray  Nada

LeftFrontTireBone           TREADF01
RightFrontTireBone          TREADF02
TireRotationMultiplier      0   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw  W3DOverlordTankDraw ModuleTag_AttachmentBones01
ExtraPublicBone       FIREPOINT01
DefaultConditionState
Model                RVSent_B
Turret               Turret
End
TreadDebrisLeft     Nada
TreadDebrisRight    Nada
End

Draw  W3DModelDraw ModuleTag_WardenRadar01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NVDeva_U2
Animation            NVDeva_U2.NVDeva_U2
AnimationMode        LOOP
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model                RVSent_R
Animation            RVSent_R.RVSent_R
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                RVSent_RD
Animation            RVSent_RD.RVSent_RD
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Sentinel
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   5                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY SentinelTankGun
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY SentinelTankGun

Weapon             SECONDARY SentinelTankMissiles
PreferredAgainst   SECONDARY INFANTRY

Weapon             TERTIARY SentinelTankMissilesAir
PreferredAgainst   TERTIARY AIRCRAFT
End

ArmorSet
Conditions         None
Armor              SentinelTankArmor
DamageFX           HeavyTankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERASentinelTankArmor
DamageFX         HeavyTankEraDamageFX
End


BuildCost        3000
BuildTime        25.0          ;in seconds

VisionRange      225.0
ShroudClearingRange  250.0

Prerequisites
Object  RussiaWarFactory
Object  RussiaIndustrialSite
End

ExperienceValue     200 200 400 600   ;Experience point value at each level
ExperienceRequired  0   400 600 1200  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            3  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet  RussianTankSentinelCommandSet

; *** AUDIO Parameters ***
VoiceSelect            SentinelTankVoiceSelect
VoiceMove              SentinelTankVoiceMove
VoiceGuard             SentinelTankVoiceMove
VoiceAttack            SentinelTankVoiceAttack
VoiceAttackAir         SentinelTankVoiceAttackAir
SoundMoveLoop          SentinelTankMoveLoop
SoundMoveLoopDamaged   SentinelTankMoveLoop
SoundAmbient           SentinelTankAmbientLoop

UnitSpecificSounds
VoiceCreate          SentinelTankVoiceCreate
TurretMoveLoop       SentinelTankTurretMoveLoop
VoiceCrush           SentinelTankVoiceMove
VoiceEnter           SentinelTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        1800.0
InitialHealth    1800.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  3600
SubdualDamageHealRate  250
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         30
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End
Locomotor  SET_NORMAL SentinelTankLocomotor


Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  PhysicsBehavior ModuleTag_14
Mass  50.0
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_16
DestructionDelay  1800
DestructionDelayVariance  200
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaTankSentinelDebris
FX   FINAL    WeaponFX_SentinelDeathExplosion
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  ArmorUpgrade ModuleTag_ERA01
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  PowerPlantUpgrade ModuleTag_ERA02
TriggeredBy  Upgrade_RussiaTankERA
End

Behavior  PowerPlantUpdate ModuleTag_ERA03
RodsExtendTime  33
End

Behavior  WeaponSetUpgrade ModuleTag_Missiles01
TriggeredBy  Upgrade_RussiaSentinelMissiles
ConflictsWith  Upgrade_RussiaSentinelArenaDefence
End

Behavior  ObjectCreationUpgrade ModuleTag_Arena01
UpgradeObject  OCL_SentinelArenaObject
TriggeredBy    Upgrade_RussiaSentinelArenaDefence
ConflictsWith  Upgrade_RussiaSentinelMissiles
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_Arena02
StartsActive   No
TriggeredBy    Upgrade_RussiaSentinelArenaDefence
ConflictsWith  Upgrade_RussiaSentinelMissiles
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       SentinelTankArenaDecalWeapon
ContinuousWeaponDamaged        SentinelTankArenaDecalWeapon
ContinuousWeaponReallyDamaged  SentinelTankArenaDecalWeapon
;No rubble weapon as this decal should disappear when dead
;ContinuousWeaponRubble
End

Behavior  OverlordContain ModuleTag_Arena03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       Yes
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_RussiaUrsaDivision
End

Behavior  CreateCrateDie ModuleTag_17
CrateData  SalvageCrateDataRussiaTier2
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  AutoHealBehavior ModuleTag_SelfRepair01
HealingAmount  4.0
HealingDelay  500
StartHealingDelay  5000
StartsActive  Yes
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  18.0
GeometryHeight  20.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object RussiaSentinelArenaObject


Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                RVSent_Arn1
Animation            RVSent_Arn1.RVSent_Arn1
AnimationMode        LOOP
Turret               TURRET
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
End

ConditionState  RELOADING_A
Model                NONE
End
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_C

End

Draw                     W3DDependencyModelDraw ModuleTag_0323

AttachToBoneInContainer  FIREPOINT01
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                RVSent_Arn2
Animation            RVSent_Arn2.RVSent_Arn2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      LIGHT SentinelArenaActiveEffect
End

ConditionState  RELOADING_A
Model                RVSent_Arn2
Animation            RVSent_Arn2.RVSent_Arn2
AnimationMode        ONCE
End
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_C

End


Draw                     W3DDependencyModelDraw ModuleTag_0152315

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                RVSent_Arn3
End

ConditionState  REALLYDAMAGED
Model                RVSent_Arn3_D
End

End

; ***DESIGN parameters ***
Side              Russia
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions         None
Weapon             PRIMARY   NONE
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY ArenaAntiMissileCartrigeWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY
TurretTurnRate         720
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         30
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       9.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object RussiaSentinelArenaDecalObject

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXArenaDcl
ShadowSizeX  370
ShadowSizeY  370

End
;------------------------------------------------------------------------------
Object RussiaTankRhino

; *** ART Parameters ***
SelectPortrait          SRRhino_L
ButtonImage             SRRhino

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVRhino
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY Barrel
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponRecoilBone   TERTIARY Barrel2
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  RVRhino_D
End
AliasConditionState  RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Rhino
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None

Weapon              PRIMARY   RhinoTankGun
AutoChooseSources   PRIMARY   NONE

Weapon              SECONDARY RhinoTankGun
AutoChooseSources   SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon              TERTIARY  RhinoTankMissile
AutoChooseSources   TERTIARY  NONE

ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERATankArmor
DamageFX         TankEraDamageFX
End

BuildCost        800
BuildTime        10.0          ;in seconds
VisionRange      250
ShroudClearingRange  275



ExperienceValue     80 80 150 300   ;Experience point value at each level
ExperienceRequired  0 200 300 600   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianTankRhinoCommandSet

; *** AUDIO Parameters ***
VoiceSelect     RhinoVoiceSelect
VoiceMove       RhinoVoiceMove
VoiceGuard      RhinoVoiceMove
VoiceAttack     RhinoVoiceAttack
SoundMoveStart         RhinoTankMoveStart
SoundMoveStartDamaged  RhinoTankMoveStart

UnitSpecificSounds
VoiceCrush   RhinoVoiceMove
VoiceEnter   RhinoVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL RhinoTankLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_RhinoTankDeathEffect
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  SubObjectsUpgrade ModuleTag_ERA01
TriggeredBy     Upgrade_RussiaTankERA
ShowSubObjects  ARMOR01 ARMOR02
End

Behavior  ArmorUpgrade ModuleTag_ERA02
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  SECONDARY
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  CommandSetUpgrade ModuleTag_ArmedReconUpgrade01
CommandSet       RussianTankRhinoUpgradedCommandSet
TriggeredBy      Upgrade_RussiaGuidedWeapons
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleMTP

; *** ART Parameters ***
SelectPortrait          SRMTP4A_L
ButtonImage             SRMTP4A

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVMTP4A
Animation  RVMTP4A.RVMTP4A
AnimationMode  MANUAL
End

ConditionState  REALLYDAMAGED
Model  RVMTP4A_D
Animation  RVMTP4A_D.RVMTP4A_D
AnimationMode  MANUAL
End
AliasConditionState  RUBBLE

;;;;;Repair Hull Animations
ConditionState  PREATTACK_C
Model  RVMTP4A
Animation  RVMTP4A.RVMTP4A
AnimationMode  Once
End

ConditionState  PREATTACK_C REALLYDAMAGED
Model  RVMTP4A_D
Animation  RVMTP4A_D.RVMTP4A_D
AnimationMode  Once
End
AliasConditionState  PREATTACK_C RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      Wheel01
RightFrontTireBone     Wheel02
MidLeftFrontTireBone   Wheel03
MidRightFrontTireBone  Wheel04
MidLeftRearTireBone    Wheel05
MidRightRearTireBone   Wheel06
LeftRearTireBone       Wheel07
RightRearTireBone      Wheel08

TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.


End

; ***DESIGN parameters ***
DisplayName       OBJECT:MTP4A
Side  Russia
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY  SupportVehicleDummyWeapon
Weapon             TERTIARY MTP4AVehicleRecoveryWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TruckDamageFX
End

BuildCost        900
BuildTime        15.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  RussiaWarFactory
Object  RussiaWeaponsBunker
End

ExperienceValue     50 50 50 50 ;Experience point value at each level
IsTrainable      No
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleMTP4ACommandSet

; *** AUDIO Parameters ***
VoiceSelect  MTP4AVoiceSelect
VoiceMove    MTP4AVoiceMove
VoiceGuard   MTP4AVoiceMove
;VoiceAttack  NONE
SoundMoveStart         MTP4AMoveStart
SoundMoveStartDamaged  MTP4AMoveStart

UnitSpecificSounds
VoiceCreate           MTP4AVoiceCreate
VoiceCrush            MTP4AVoiceMove
VoiceEnter            MTP4AVoiceMove
VoiceBombard          MTP4AVoiceRepair
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        410.0
InitialHealth    410.0

SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL MTP4ALocomotor


Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  BoneFXDamage ModuleTag_Repair01
End

Behavior  BoneFXUpdate ModuleTag_Repair02
PristineOCL1       bone:NULL OnlyOnce:No 400 400 OCL:OCL_MTPARepairAura
DamagedOCL1        bone:NULL OnlyOnce:No 400 400 OCL:OCL_MTPARepairAura
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 400 400 OCL:OCL_MTPARepairAura
End

Behavior  FireWeaponUpdate ModuleTag_Repair03
Weapon  MTP4ARepairDecalWeapon
End

;Deathtypes
Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL -EXTRA_7
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_BattleMasterExplosionOneFinal
OCL  MIDPOINT OCL_RussiaMTP4ADeathEffect
End

Behavior  FXListDie ModuleTag_15
DeathTypes  ALL
DeathFX  FX_GenericTankDeathEffect
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateDataRussiaTier1
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Deaths for pilot kill weapons
Behavior  CreateObjectDie ModuleTag_105235
DeathTypes  NONE +EXTRA_7
CreationList  OCL_MTPNerveGasKill
TransferPreviousHealth  Yes
End

Behavior  DestroyDie ModuleTag_115231
DeathTypes  NONE +EXTRA_7
End

;End Deathtypes

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.

End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  8.0
GeometryHeight  14.0  ; height set to allow clear clipping of projectile streams
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object MTPHealingFieldObject

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AutoHealBehavior ModuleTag_Repair01
HealingAmount      14.0
Radius             150.0
HealingDelay       400
StartsActive       Yes
KindOf             VEHICLE
ForbiddenKindOf    AIRCRAFT
SkipSelfForHealing  No
;UnitHealPulseParticleSystemName  MTPVehicleRepairingEffect
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  400
MaxLifetime  400
End

End

;------------------------------------------------------------------------------
Object RussiaMTPRepairDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXMtpRprDcl
ShadowSizeX  310
ShadowSizeY  310

End
;------------------------------------------------------------------------------
Object RussiaVehicleMSTA

; *** ART Parameters ***
SelectPortrait          SRMSTAS_L
ButtonImage             SRMSTAS

Draw                     W3DTankDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model                RVMSTAS
Turret               Turret
TurretPitch          TurretEL
HideSubObject        TurretB ChassisPart03
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponRecoilBone     TERTIARY Barrel_Alt
WeaponMuzzleFlash    TERTIARY MuzzleFXA
WeaponFireFXBone     TERTIARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                RVMSTAS_D
End
AliasConditionState  RUBBLE


;With Koalition System Upgrade
ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                RVMSTAS
TurretPitch          TurretELB
HideSubObject        TurretA ChassisPart02
ShowSubObject        TurretB ChassisPart03
WeaponFireFXBone     PRIMARY MuzzleB
WeaponLaunchBone     PRIMARY MuzzleB
WeaponRecoilBone     SECONDARY BarrelB
WeaponMuzzleFlash    SECONDARY MuzzleFXB
WeaponFireFXBone     SECONDARY MuzzleB
WeaponLaunchBone     SECONDARY MuzzleB
WeaponRecoilBone     TERTIARY BarrelB_Alt
WeaponMuzzleFlash    TERTIARY MuzzleFXAB
WeaponFireFXBone     TERTIARY MuzzleB
WeaponLaunchBone     TERTIARY MuzzleB
End

ConditionState         WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                RVMSTAS_D
TurretPitch          TurretELB
HideSubObject        TurretA ChassisPart02
ShowSubObject        TurretB ChassisPart03
WeaponFireFXBone     PRIMARY MuzzleB
WeaponLaunchBone     PRIMARY MuzzleB
WeaponRecoilBone     SECONDARY BarrelB
WeaponMuzzleFlash    SECONDARY MuzzleFXB
WeaponFireFXBone     SECONDARY MuzzleB
WeaponLaunchBone     SECONDARY MuzzleB
WeaponRecoilBone     TERTIARY BarrelB_Alt
WeaponMuzzleFlash    TERTIARY MuzzleFXAB
WeaponFireFXBone     TERTIARY MuzzleB
WeaponLaunchBone     TERTIARY MuzzleB
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate    2.0  ; amount of tread texture to move per second
End

; ***DESIGN parameters ***
DisplayName         OBJECT:MSTAS
Side                Russia
EditorSorting       VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY   MSTASArtilleryGun
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY MSTASArtilleryGun
Weapon             TERTIARY  MSTASArtilleryGunAreaBombmardment
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End

BuildCost           1800
BuildTime           18.0          ;in seconds
VisionRange         150
ShroudClearingRange  150

Prerequisites
Object  RussiaWarFactory
Object  RussiaIndustrialSite
End

ExperienceValue     75 100 150 200   ;Experience point value at each level
ExperienceRequired  0 200 400 800   ;Experience points needed to gain each levell
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleMSTASCommandSet

; *** AUDIO Parameters ***
VoiceSelect        MSTASVoiceSelect
VoiceMove          MSTASVoiceMove
VoiceGuard         MSTASVoiceMove
VoiceAttack        MSTASVoiceAttack
SoundMoveStart         MSTAMoveStart
SoundMoveStartDamaged  MSTAMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      MSTASVoiceCreate
VoiceCrush       MSTASVoiceMove
VoiceEnter       MSTASVoiceMove
VoicePrimaryWeaponMode    MSTASVoicePrecisionFireMode
VoiceSecondaryWeaponMode  MSTASVoicePrecisionFireMode
VoiceTertiaryWeaponMode   MSTASVoiceScatterFireMode
End


; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate  25
TurretPitchRate  25
AllowsPitch  Yes
FirePitch  60
NaturalTurretPitch  5.5
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL MSTALocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

; A crushing defeat
Behavior                FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior                CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList     OCL_CrusaderTank_CrushEffect
End

Behavior  SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_MSTASDeathEffect
End

Behavior                  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior          CreateCrateDie ModuleTag_10
CrateData  SalvageCrateDataRussiaTier2
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponSetUpgrade ModuleTag_Koalition01
TriggeredBy  Upgrade_RussiaKoalitionGunSystem
End

Behavior  WeaponBonusUpgrade ModuleTag_Koalition02
TriggeredBy  Upgrade_RussiaKoalitionGunSystem
End

Behavior  DestroyDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  SECONDARY
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry             BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaVehicleMishka

; *** ART Parameters ***
SelectPortrait             SRMishka_L
ButtonImage                SRMishka

Draw                       W3DOverlordTankDraw ModuleTag_01

OkToChangeModelColor      Yes
ExtraPublicBone           FIREPOINT01
ParticlesAttachedToAnimatedBones  Yes

ConditionState           NONE
Model                  RVMishka
Animation              RVMishka.RVMishka
Flags                  MAINTAIN_FRAME_ACROSS_STATES
AnimationMode          ONCE_BACKWARDS
HideSubObject          Drill01 Drill02
End

ConditionState           MOVING
Model                  RVMishka
Animation              RVMishka.RVMishka
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        DIRTFX01 DozerDirtFall_Permanent
TransitionKey          TRANS_MOVING
HideSubObject          Drill01 Drill02
End

TransitionState          TRANS_MOVING TRANS_PREATTACK_A
Model                  RVMishka
Animation              RVMishka.RVMishka
AnimationMode          ONCE_BACKWARDS
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        DIRTFX01 DozerDirtFall
HideSubObject          Drill01 Drill02
End

ConditionState           PREATTACK_A
Model                  RVMishka
Animation              RVMishka.RVMishka
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        DIRTFX01 DozerDirtFall
TransitionKey          TRANS_PREATTACK_A
HideSubObject          Drill01 Drill02
End
AliasConditionState      MOVING PREATTACK_A


;;Damaged States
ConditionState           REALLYDAMAGED
Model                  RVMishka_D
Animation              RVMishka_D.RVMishka_D
AnimationMode          ONCE_BACKWARDS
Flags                  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject          Drill01 Drill02
End
AliasConditionState      RUBBLE

ConditionState           REALLYDAMAGED MOVING
Model                  RVMishka_D
Animation              RVMishka_D.RVMishka_D
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        DIRTFX01 DozerDirtFall_Permanent
TransitionKey          TRANS_MOVING_DAMAGED
HideSubObject          Drill01 Drill02
End

TransitionState          TRANS_MOVING_DAMAGED TRANS_PREATTACK_A_DAMAGED
Model                  RVMishka_D
Animation              RVMishka_D.RVMishka_D
AnimationMode          ONCE_BACKWARDS
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        DIRTFX01 DozerDirtFall
HideSubObject          Drill01 Drill02
End

ConditionState           PREATTACK_A REALLYDAMAGED
Model                  RVMishka_D
Animation              RVMishka_D.RVMishka_D
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        DIRTFX01 DozerDirtFall
TransitionKey          TRANS_PREATTACK_A_DAMAGED
HideSubObject          Drill01 Drill02
End
AliasConditionState      MOVING REALLYDAMAGED PREATTACK_A


TrackMarks               EXMshkaTrds.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DTruckDraw ModuleTag_Drills01

ConditionState  NONE
Model          RVMishka_R
End

ConditionState  REALLYDAMAGED
Model          RVMishka_RD
End

Dust  InvissibleDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftRearTireBone       Drill01
RightRearTireBone      Drill02
TireRotationMultiplier      0.13    ; this * speed  rotation.
PowerslideRotationAddition  1.0     ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw Module_OverWater
DefaultConditionState
Model  RVMishka_W
End
AliasConditionState   MOVING
ConditionState        OVER_WATER
ParticleSysBone     TreadFX01 AmphibWaveRest
ParticleSysBone     TreadFX02 AmphibWaveRest
End
ConditionState        OVER_WATER MOVING
ParticleSysBone     TreadFX01 AmphibWave
ParticleSysBone     TreadFX02 AmphibWave
End
End

Draw  W3DModelDraw Module_Hatches01

DefaultConditionState
Model          RVMishka_A
Animation      RVMishka_A.RVMishka_A
AnimationMode  ONCE_BACKWARDS
HideSubObject  NET
Flags          MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED
Model         RVMishka_AD
Animation     RVMishka_AD.RVMishka_AD
End

ConditionState  USER_1
Model  NONE
End
AliasConditionState  USER_1 REALLYDAMAGED

End

Draw  W3DModelDraw Module_Armor01

DefaultConditionState
Model          RVMishka_U
HideSubObject  ARMOR
End

ConditionState  REALLYDAMAGED
Model         RVMishka_U_D
End

End

Draw  W3DModelDraw Module_SmokeLaunchers01

OkToChangeModelColor      Yes

DefaultConditionState
Model          NVDeva_U2
End
AliasConditionState  REALLYDAMAGED

ConditionState  USER_1
Model  RVMishka_SMK
End

ConditionState  USER_1 REALLYDAMAGED
Model  RVMishka_SMKD
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Mishka
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   5 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            400
BuildTime            4.0 ; in seconds
VisionRange          200
ShroudClearingRange  500

WeaponSet
Conditions  None
Weapon      PRIMARY   MishkaMineClearingWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon      PRIMARY   MishkaMineClearingWeapon
Weapon      SECONDARY MishkaVehicleDummyWeapon
End

ArmorSet
Conditions       None
Armor            DozerArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERADozerArmor
DamageFX         TankEraDamageFX
End

ExperienceValue      5 5 5 5     ;Experience point value at each level
CrusherLevel         0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussianVehicleMishkaCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MishkaVoiceSelect
VoiceMove              MishkaVoiceMove
VoiceAttack            MishkaVoiceAttack
SoundMoveStart         MishakScoutMoveStart
SoundMoveStartDamaged  MishakScoutMoveStart

UnitSpecificSounds
VoiceDisarm        MishkaVoiceClearMine
VoiceCreate        MishkaVoiceCreate
VoiceUnload        MishkaVoiceUnload
VoiceCrush         MishkaVoiceMove
VoiceEnter         MishkaVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS CANNOT_RETALIATE TRANSPORT

Body                 ActiveBody ModuleTag_02
MaxHealth          200.0
InitialHealth      200.0

SubdualDamageCap  300
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
MoodAttackCheckRate         100
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL RussiaVehicleMishkaLocomotor RussiaVehicleMishkaWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  75.0
End

Behavior  ModelConditionUpgrade ModuleTag_ArmedRecon01
ConditionFlag  USER_1
TriggeredBy    Upgrade_RussiaArmedRecon
End

Behavior  ObjectCreationUpgrade ModuleTag_ArmedRecon02
UpgradeObject  OCL_MishkaOpenToppedAddon
TriggeredBy    Upgrade_RussiaArmedRecon
End

Behavior  CommandSetUpgrade ModuleTag_ArmedRecon03
CommandSet  RussianVehicleMishkaUpgradedCommandSet
TriggeredBy    Upgrade_RussiaArmedRecon
End

Behavior  OverlordContain ModuleTag_ArmedRecon04
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
End

Behavior  WeaponSetUpgrade ModuleTag_ArmedRecon05
TriggeredBy  Upgrade_RussiaArmedRecon
End

Behavior  SubObjectsUpgrade ModuleTag_ERA01
TriggeredBy     Upgrade_RussiaTankERA
ShowSubObjects  ARMOR
End

Behavior  ArmorUpgrade ModuleTag_ERA02
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  MaxHealthUpgrade ModuleTag_ERA03
TriggeredBy    Upgrade_RussiaTankERA
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; WEAPONSET_PLAYER_UPGRADE means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; WEAPONSET_PLAYER_UPGRADE means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaMishkaExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Geometry             BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  8.0
GeometryHeight       10.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaVehicleMishkaOpenToppedAddon

; *** ART Parameters ***
Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                  RVMishka_A
Animation              RVMishka_A.RVMishka_A
AnimationMode          ONCE_BACKWARDS
HideSubObject          NET
Flags                  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState           REALLYDAMAGED
Model                  RVMishka_AD
Animation              RVMishka_AD.RVMishka_AD
End

ConditionState           LOADED
AnimationMode          ONCE
ShowSubObject          NET
Flags                  START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState           LOADED REALLYDAMAGED
Model                  RVMishka_AD
Animation              RVMishka_AD.RVMishka_AD
AnimationMode          ONCE
Flags                  START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject          NET
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              Russia
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  TransportContain ModuleTag_03
Slots                          4
DamagePercentToUnits           30%
GoAggressiveOnExit             Yes
ScatterNearbyOnExit            Yes
BurnedDeathToUnits             No
PassengersAllowedToFire        Yes
WeaponBonusPassedToPassengers  Yes
NumberOfExitPaths              3
AllowInsideKindOf              INFANTRY
ForbidInsideKindOf             NO_GARRISON
EnterSound                     GarrisonEnter
ExitSound                      GarrisonExit
End

Behavior  WeaponBonusUpgrade ModuleTag_GarrisonBonuses01
TriggeredBy  Upgrade_CostReduction
End

Behavior              DestroyDie ModuleTag_04
DeathTypes  ALL
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaTankKodiak

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVKodiak
End
End

; set cost and time fields here or else they won't work
BuildCost        1400
BuildTime        17.0

Prerequisites
Object  RussiaWarFactory
End

Side  Russia
EditorSorting  VEHICLE
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS SCORE

BuildVariations  RussiaTankKodiak_Var1 RussiaTankKodiak_Var2 RussiaTankKodiak_Var3

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_RussiaUrsaDivision
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaTankKodiak_Var1

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

Draw  W3DOverlordTankDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 FIREPOINT01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY Barrel
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   TERTIARY Barrel2
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  RVKodiak_D
End
AliasConditionState  RUBBLE

;Upgraded with ERA Conditions

ConditionState  POWER_PLANT_UPGRADED
HideSubObject  FIREPOINT01 ARMOR03
ShowSubObject  ARMOR01 ARMOR02
End

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model  RVKodiak_D
HideSubObject  FIREPOINT01 ARMOR03
ShowSubObject  ARMOR01 ARMOR02
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

;Bombtruck Disguised Conditions

ConditionState  DISGUISED
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
ShowSubObject  FIREPOINT01
End

ConditionState  DISGUISED REALLYDAMAGED
Model  RVKodiak_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
ShowSubObject  FIREPOINT01
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Kodiak
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None

Weapon              PRIMARY   KodiakTankGun
AutoChooseSources   PRIMARY   NONE

Weapon              SECONDARY KodiakTankGun
AutoChooseSources   SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon              TERTIARY  KodiakTankMissile
AutoChooseSources   TERTIARY  NONE

ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERATankArmor
DamageFX         TankEraDamageFX
End

BuildCost        1400
BuildTime        17.0          ;in seconds
VisionRange      250
ShroudClearingRange  275

Prerequisites
Object  RussiaWarFactory
End

ExperienceValue     150 150 250 500 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianTankKodiakCommandSet

; *** AUDIO Parameters ***
VoiceSelect     KodiakVoiceSelect
VoiceMove       KodiakVoiceMove
VoiceGuard      KodiakVoiceMove
VoiceAttack     KodiakVoiceAttack
SoundMoveStart         KodiakTankMoveStart
SoundMoveStartDamaged  KodiakTankMoveStart
SoundEnter  HumveeEnter
SoundExit   HumveeExit

UnitSpecificSounds
VoiceCreate  KodiakVoiceCreate
VoiceCrush   KodiakVoiceMove
VoiceEnter   KodiakVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        700.0
InitialHealth    700.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL KodiakTankLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_RussiaUrsaDivision
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  PowerPlantUpgrade ModuleTag_UpgradeShowHide01
TriggeredBy  Upgrade_RussiaTankERA
End

Behavior  PowerPlantUpdate ModuleTag_UpgradeShowHide02
RodsExtendTime  33
End

Behavior  ArmorUpgrade ModuleTag_20
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  OverlordContain ModuleTag_MGTurret01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       Yes
PayloadTemplateName      RussiaTankGolem_MGTurret
ExperienceSinkForRider   Yes ; I get the Exp for things my turret friend kills
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  SECONDARY
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  CommandSetUpgrade ModuleTag_ArmedReconUpgrade01
CommandSet       RussianTankKodiakUpgradedCommandSet
TriggeredBy      Upgrade_RussiaGuidedWeapons
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaTankGolem_MGTurret

Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01
OkToChangeModelColor  Yes
MaxRecoilDistance     0.7
RecoilSettleSpeed     6

DefaultConditionState
Model              RVKodiak_MG
Turret             FIREPOINT01
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState       REALLYDAMAGED
Model              RVKodiak_MGD
End

End

; ***DESIGN parameters ***
Side                Russia
EditorSorting       SYSTEM
TransportSlotCount  1

WeaponSet
Conditions          None
Weapon              PRIMARY  NONE
AutoChooseSources   PRIMARY  NONE

Weapon              SECONDARY  KodiakMachinegun
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY
TurretTurnRate         90
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
ObjectReskin RussiaTankKodiak_Var2 RussiaTankKodiak_Var1

Draw  W3DOverlordTankDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVKodiak2
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 FIREPOINT01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY Barrel
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   TERTIARY Barrel2
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  RVKodiak2_D
End
AliasConditionState  RUBBLE

;Upgraded with ERA Conditions

ConditionState  POWER_PLANT_UPGRADED
HideSubObject  FIREPOINT01
ShowSubObject  ARMOR01 ARMOR02
End

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model  RVKodiak2_D
HideSubObject  FIREPOINT01
ShowSubObject  ARMOR01 ARMOR02
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

;Bombtruck Disguised Conditions

ConditionState  DISGUISED
Model  RVKodiak2
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
ShowSubObject  FIREPOINT01
End

ConditionState  DISGUISED REALLYDAMAGED
Model  RVKodiak2_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
ShowSubObject  FIREPOINT01
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End


;------------------------------------------------------------------------------
ObjectReskin RussiaTankKodiak_Var3 RussiaTankKodiak_Var1

Draw  W3DOverlordTankDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVKodiak3
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 FIREPOINT01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY Barrel
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   TERTIARY Barrel2
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  RVKodiak3_D
End
AliasConditionState  RUBBLE

;Upgraded with ERA Conditions

ConditionState  POWER_PLANT_UPGRADED
HideSubObject  FIREPOINT01
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  ARMOR03
End

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model  RVKodiak3_D
HideSubObject  FIREPOINT01
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  ARMOR03
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

;Bombtruck Disguised Conditions

ConditionState  DISGUISED
Model  RVKodiak3
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
ShowSubObject  FIREPOINT01
End

ConditionState  DISGUISED REALLYDAMAGED
Model  RVKodiak3_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
ShowSubObject  FIREPOINT01
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End
;------------------------------------------------------------------------------
Object RussiaVehicleGrumble

; *** ART Parameters ***
SelectPortrait          SRGrumble_L
ButtonImage             SRGrumble

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVGrumble
Animation                        RVGrumble.RVGrumble
AnimationMode                    ONCE_BACKWARDS
Flags                            START_FRAME_FIRST
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 SECONDARY Muzzle
WeaponLaunchBone                 TERTIARY  WeaponA
WeaponFireFXBone                 TERTIARY  Muzzle
End
AliasConditionState  MOVING
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
AliasConditionState  BETWEEN_FIRING_SHOTS_A

ConditionState                     RUBBLE
Model                            RVGrumble_D
Animation                        RVGrumble_D.RVGrumble_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A

;*** UNPACKING STATE  -- preparing to fire ***
ConditionState     UNPACKING
Model            RVGrumble
Animation        RVGrumble.RVGrumble
AnimationMode    MANUAL
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
;***
ConditionState     REALLYDAMAGED UNPACKING
Model            RVGrumble_D
Animation        RVGrumble_D.RVGrumble_D
AnimationMode    MANUAL
End
AliasConditionState  REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

;*** PACKING STATE -- preparing to move ***
ConditionState     PACKING
Model            RVGrumble
Animation        RVGrumble.RVGrumble
AnimationMode    MANUAL
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

ConditionState     REALLYDAMAGED PACKING
Model            RVGrumble_D
Animation        RVGrumble_D.RVGrumble_D
AnimationMode    MANUAL
End
AliasConditionState  REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

;*** DEPLOYED STATE -- ready to fire ***
ConditionState     DEPLOYED
Model            RVGrumble
AnimationMode    ONCE
Flags            START_FRAME_LAST
End

AliasConditionState  DEPLOYED FIRING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED MOVING

ConditionState   DEPLOYED REALLYDAMAGED
Model            RVGrumble_D
AnimationMode    ONCE
Flags            START_FRAME_LAST
End

AliasConditionState  DEPLOYED REALLYDAMAGED FIRING_A
AliasConditionState  DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED REALLYDAMAGED RELOADING_A
AliasConditionState  DEPLOYED REALLYDAMAGED MOVING

TrackMarks  EXTireTrack.tga
Dust  ScudLauncherDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone      Tire01
RightFrontTireBone     Tire02
MidLeftFrontTireBone   Tire03
MidRightFrontTireBone  Tire04
MidLeftRearTireBone    Tire05
MidRightRearTireBone   Tire06
LeftRearTireBone       Tire07
RightRearTireBone      Tire08

TireRotationMultiplier  0.2
End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model  RVGrumble_N
End
AliasConditionState  MOVING
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  RUBBLE
AliasConditionState  UNPACKING
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED UNPACKING
AliasConditionState  REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  PACKING
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
AliasConditionState  REALLYDAMAGED PACKING
AliasConditionState  REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

;*** DEPLOYED STATE -- ready to fire ***
ConditionState     DEPLOYED
Model            NONE
End
AliasConditionState  DEPLOYED FIRING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED MOVING
AliasConditionState  DEPLOYED REALLYDAMAGED
AliasConditionState  DEPLOYED REALLYDAMAGED FIRING_A
AliasConditionState  DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED REALLYDAMAGED RELOADING_A
AliasConditionState  DEPLOYED REALLYDAMAGED MOVING

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Grumble
Side  Russia
EditorSorting    VEHICLE
TransportSlotCount  4                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None

Weapon             PRIMARY S300GrumbleDummyWeapon
AutoChooseSources  PRIMARY NONE

Weapon             SECONDARY S300GrumbleMissileWeapon
End

ArmorSet
Conditions       None
Armor            HeavyAntiAirArmor
DamageFX         TankDamageFX
End

BuildCost        1800
BuildTime        20.0          ;in seconds
VisionRange      500
ShroudClearingRange  300

Prerequisites
Object  RussiaWarFactory
Object  RussiaIndustrialSite
End

ExperienceValue     100 100 200 400 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     RussianVehicleGrumbleCommandSet

; *** AUDIO Parameters ***
VoiceSelect            GrumbleVoiceSelect
VoiceMove              GrumbleVoiceMove
VoiceGuard             GrumbleVoiceMove
VoiceAttack            GrumbleVoiceAttack
VoiceAttackAir         GrumbleVoiceAttack
SoundMoveStart         ScudLauncherMoveStart
SoundMoveStartDamaged  ScudLauncherMoveStart

UnitSpecificSounds
VoiceCreate          GrumbleVoiceCreate
Deploy               GrumbleDeploy
Undeploy             GrumbleUnDeploy
VoiceEnter           GrumbleVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
SubdualDamageCap  550
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_04
Turret
TurretTurnRate         0
TurretPitchRate        0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed NotWhileAttacking
PackTime  1155
UnpackTime  1155
TurretsFunctionOnlyWhenDeployed  Yes
ManualDeployAnimations  Yes
MoodAttackCheckRate  30
End
Locomotor  SET_NORMAL ScudLauncherLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_CrusaderCatchFire
FX   FINAL  FX_BattleMasterExplosionOneFinal
OCL  FINAL OCL_RussiaGrumbleDeathEffect
End

; A crushing defeat
Behavior  FXListDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_09
CrateData  SalvageCrateDataRussiaTier2
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_DeployMarkerDecal01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_DeployMarkerDecal02
CollideWeapon   S300GrumbleDeployedDecalWeapon
RequiredStatus  DEPLOYED
End

Geometry  BOX
GeometryMajorRadius  32.0
GeometryMinorRadius  10.0
GeometryHeight  17.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleGrizzly

; *** ART Parameters ***
SelectPortrait          SRGrizzly_L
ButtonImage             SRGrizzly

Draw  W3DTankDraw ModuleTag_Chassis01

OkToChangeModelColor  Yes

DefaultConditionState
Model              RVGrizzly
HideSubObject      TURRET_DUM LAUNCHER ARMOR01 LIGHT01
WeaponFireFXBone   TERTIARY WeaponB
WeaponLaunchBone   TERTIARY WeaponB
End

ConditionState       REALLYDAMAGED
Model              RVGrizzly_D
End
AliasConditionState  RUBBLE

ConditionState       USER_1
Model              RVGrizzly
HideSubObject      TURRET_DUM LAUNCHER LIGHT01
ShowSubObject      ARMOR01
End

ConditionState       USER_1 REALLYDAMAGED
Model              RVGrizzly_D
HideSubObject      TURRET_DUM LAUNCHER LIGHT01
ShowSubObject      ARMOR01
End
AliasConditionState  USER_1 RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes

DefaultConditionState
Model              RVGrizzly
Animation          RVGrizzly.RVGrizzly
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             TURRET
TurretPitch        TURRETEL
HideSubObject      LAUNCHER CHASSIS LIGHT01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState       FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End

ConditionState       REALLYDAMAGED
Model              RVGrizzly_D
Animation          RVGrizzly_D.RVGrizzly_D
WaitForStateToFinishIfPossible  TRANS_DAMAGED_START_FIRING
End

ConditionState       REALLYDAMAGED FIRING_A
Model              RVGrizzly_D
Animation          RVGrizzly_D.RVGrizzly_D
Flags              START_FRAME_FIRST
TransitionKey      TRANS_DAMAGED_START_FIRING
End

End

Draw  W3DModelDraw ModuleTag_MissileLauncher01

DefaultConditionState
Model              RVGrizzly
Turret             TURRET
TurretPitch        LAUNCHEREL
HideSubObject      CHASSIS TURRET_DUM LIGHT01 LAUNCHER
WeaponFireFXBone   SECONDARY Dummy01
WeaponLaunchBone   SECONDARY Dummy01
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState       POWER_PLANT_UPGRADED
Model              RVGrizzly
HideSubObject      CHASSIS TURRET_DUM LIGHT01
ShowSubObject      LAUNCHER
WeaponFireFXBone   SECONDARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState       POWER_PLANT_UPGRADED REALLYDAMAGED
Model              RVGrizzly_D
HideSubObject      CHASSIS TURRET_DUM LIGHT01
ShowSubObject      LAUNCHER
WeaponFireFXBone   SECONDARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE
AliasConditionState  POWER_PLANT_UPGRADING REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADING RUBBLE

End

Draw  W3DModelDraw ModuleTag_Headlights01

ConditionState  NONE
Model NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState     NIGHT
Model              RVGrizzly
HideSubObject      CHASSIS TURRET_DUM LAUNCHER
ShowSubObject      LIGHT01
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE

End

Draw  W3DModelDraw Module_ExitBones

DefaultConditionState
Model  RVBMP3_B
End

End

; ***DESIGN parameters ***
DisplayName                OBJECT:Grizzly
Side                       Russia
EditorSorting              VEHICLE
TransportSlotCount         3            ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions               NONE
Weapon                   PRIMARY   RussianGrizzlyAutoCannonWeapon
Weapon                   SECONDARY RussianGrizzlyMissileLauncherWeapon
Weapon                   TERTIARY  RussianGrizzlySmokeScreenLauncherWeapon
AutoChooseSources        TERTIARY  NONE
End

WeaponSet
Conditions               PLAYER_UPGRADE
Weapon                   PRIMARY   RussianGrizzlyAutoCannonUpgradedWeapon
Weapon                   SECONDARY RussianGrizzlyMissileLauncherWeapon
Weapon                   TERTIARY  RussianGrizzlySmokeScreenLauncherWeapon
AutoChooseSources        TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            GrizzlyTankArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            GrizzlyERATankArmor
DamageFX         TankEraDamageFX
End

BuildCost        1000
BuildTime        8.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object         RussiaWarFactory
End

ExperienceValue     100 150 200 300 ;Experience point value at each level
ExperienceRequired  0   100 150 300 ;Experience points needed to gain each level
IsTrainable  Yes           ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet  RussianVehicleGrizzlyCommandSet

; *** AUDIO Parameters ***
VoiceSelect      GrizzlyVoiceSelect
VoiceMove        GrizzlyVoiceMove
VoiceGuard       GrizzlyVoiceMove
VoiceAttack      GrizzlyVoiceAttack
SoundMoveStart         GrizzlyMoveStart
SoundMoveStartDamaged  GrizzlyMoveStart
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
VoiceCreate          GrizzlyVoiceCreate
VoicePoisonLocation  GrizzlyVoiceLaunchSmokeBarrage
VoiceUnload          GrizzlyVoiceUnload
VoiceCrush           GrizzlyVoiceMove
VoiceEnter           GrizzlyVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        650.0
InitialHealth    650.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         90
TurretPitchRate        90
AllowsPitch            Yes
MinPhysicalPitch       -10
NaturalTurretPitch     5
ControlledWeaponSlots  PRIMARY SECONDARY
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33
End
Locomotor        SET_NORMAL GrizzlyLocomotor

Behavior           PhysicsBehavior ModuleTag_04
Mass             50.0
End

Behavior  TransportContain  ModuleTag_Transport01
Slots                 8
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
DamagePercentToUnits  0%
AllowInsideKindOf     INFANTRY
ExitDelay             250
NumberOfExitPaths     3
GoAggressiveOnExit    Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL
DestructionDelay  1
SinkRate  0.5     ; in Dist/Sec
OCL  FINAL    OCL_RussiaGrizzlyDebris
FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CreateCrateDie ModuleTag_06
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_07
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  WeaponSetUpgrade ModuleTag_ReconUpgrade01
TriggeredBy  Upgrade_RussiaGuidedWeapons
End

Behavior  PowerPlantUpgrade ModuleTag_ReconUpgrade02
TriggeredBy  Upgrade_RussiaGuidedWeapons
End

Behavior  PowerPlantUpdate ModuleTag_ReconUpgrade03
RodsExtendTime  1
End

Behavior  CommandSetUpgrade ModuleTag_ReconUpgrade04
CommandSet       RussianVehicleGrizzlyUpgradedCommandSet
TriggeredBy      Upgrade_RussiaGuidedWeapons
End

Behavior  ModelConditionUpgrade ModuleTag_ERA01
TriggeredBy    Upgrade_RussiaTankERA
ConditionFlag  USER_1
End

Behavior  ArmorUpgrade ModuleTag_ERA02
TriggeredBy  Upgrade_RussiaTankERA
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

;Frag grenades
Behavior            OCLSpecialPower ModuleTag_FragGrenade01
SpecialPowerTemplate  SpecialAbilityRussianGrizzlyFragBurst
OCL                   OCL_GrizzlyFragBurstAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_FragGrenade02
CollideWeapon   GrizzlyFragBurstWeapon
RequiredStatus  BOOBY_TRAPPED
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

;These modules is actually science triggered by the conscript reserves generals power and will spawn 2 conscripts inside this vehicle
Behavior  ObjectCreationUpgrade ModuleTag_FreeConscripts01
UpgradeObject  OCL_VehicleFreeConscriptsCrate
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
End

Behavior  FireWeaponCollide ModuleTag_FreeConscripts02
CollideWeapon   FreeConscriptsSpawnWeapon
RequiredStatus  UNDERGOING_REPAIR
End

Behavior  GrantUpgradeCreate ModuleTag_FreeConscripts03
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleGrizon

; *** ART Parameters ***
SelectPortrait          SRGrizon_L
ButtonImage             SRGrizon

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed  100.0
MaxRecoilDistance   0.7
RecoilSettleSpeed   10.0

ConditionState  NONE
Model              RVBTRD
Animation          RVBTRD.RVBTRD
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      UPGRADE01 UPGRADE02 UPGRADE03 SMOKES01
End

ConditionState  REALLYDAMAGED
Model              RVBTRD_D
Animation          RVBTRD_D.RVBTRD_D
AnimationMode      ONCE_BACKWARDS
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      UPGRADE01 UPGRADE02 UPGRADE03 SMOKES01
End
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              RVBTRD
Animation          RVBTRD.RVBTRD
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             UPGRADE01
HideSubObject      UPGRADE03
ShowSubObject      UPGRADE01 UPGRADE02 SMOKES01
WeaponRecoilBone   SECONDARY Barrel
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model              RVBTRD_D
Animation          RVBTRD_D.RVBTRD_D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             UPGRADE01
HideSubObject      UPGRADE03
ShowSubObject      UPGRADE01 UPGRADE02 SMOKES01
WeaponRecoilBone   SECONDARY Barrel
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleMod_OverWater
DefaultConditionState
Model  NVTCrawler_W
End
AliasConditionState   MOVING
ConditionState        OVER_WATER
ParticleSysBone     TreadFX01 AmphibWaveRest
ParticleSysBone     TreadFX02 AmphibWaveRest
End
ConditionState        OVER_WATER MOVING
ParticleSysBone     TreadFX01 AmphibWave
ParticleSysBone     TreadFX02 AmphibWave
End
End

Draw  W3DModelDraw Module_ExitBones

DefaultConditionState
Model  RVBBMP_B
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:GRIZON
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon            PRIMARY   NONE
Weapon            SECONDARY NONE
End

;Upgraded with machinegun
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY   GrizonDummyWeapon
Weapon            SECONDARY GrizonMountedMachineGun
End

ArmorSet
Conditions         None
Armor              BMPTankArmor
DamageFX           TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERATankArmor
DamageFX         TankEraDamageFX
End

BuildCost        500
BuildTime        6.0          ;in seconds
VisionRange      200
ShroudClearingRange  225

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianVehicleGrizonCommandSet

; *** AUDIO Parameters ***
VoiceSelect     BMP3VoiceSelect
VoiceMove       BMP3VoiceMove
VoiceGuard      BMP3VoiceMove
VoiceAttack     BMP3VoiceAttack
SoundMoveStart         BMP3MoveStart
SoundMoveStartDamaged  BMP3MoveStart
SoundEnter  HumveeEnter
SoundExit   HumveeExit

UnitSpecificSounds
VoiceCreate  BMP3VoiceCreate
VoiceCrush   BMP3VoiceMove
VoiceUnload  BMP3VoiceUnload
VoiceEnter   BMP3VoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         90
TurretPitchRate        70
NaturalTurretPitch     5
MinPhysicalPitch       -10
AllowsPitch            Yes
RecenterTime           5000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
TurretsLinked  Yes
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL BMP3Locomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
Slots                 6
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
DamagePercentToUnits  0%
AllowInsideKindOf     INFANTRY
ExitDelay             250
NumberOfExitPaths     3
GoAggressiveOnExit    Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  WeaponSetUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_RussiaArmedRecon
End

Behavior  CommandSetUpgrade ModuleTag_Upgrade02
CommandSet  RussianVehicleGrizonUpgradedCommandSet
TriggeredBy  Upgrade_RussiaArmedRecon
End

Behavior  MaxHealthUpgrade ModuleTag_Upgrade03
TriggeredBy    Upgrade_RussiaArmedRecon
AddMaxHealth   180.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  ArmorUpgrade ModuleTag_Upgrade04
TriggeredBy  Upgrade_RussiaTankERA
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade05
TriggeredBy     Upgrade_RussiaTankERA
ShowSubObjects  UPGRADE03
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade06
TriggeredBy     Upgrade_RussiaTankERA
ShowSubObjects  UPGRADE02
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalGrizonDebris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaTankGolem

; *** ART Parameters ***
SelectPortrait          SRGolem_L
ButtonImage             SRGolem

Draw  W3DOverlordTankDraw ModuleTag_01
OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     10

;Normal Conditions

ConditionState  NONE
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Over Water Conditions

ConditionState  OVER_WATER
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  OVER_WATER FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;ERA Upgraded Conditions

ConditionState  POWER_PLANT_UPGRADED
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  POWER_PLANT_UPGRADED FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;ERA Upgraded Over Water Conditions

ConditionState  POWER_PLANT_UPGRADED OVER_WATER
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  POWER_PLANT_UPGRADED OVER_WATER FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;Gaus Cannon Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Gaus Cannon Over Water Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE OVER_WATER
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  WEAPONSET_PLAYER_UPGRADE OVER_WATER FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;Gaus Cannon ERA Upgraded Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Gaus Cannon ERA Upgraded Over Water Conditions

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED OVER_WATER
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED OVER_WATER FIRING_A
Model              RVGolem
Animation          RVGolem.RVGolem
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;Really damaged Conditions

ConditionState  REALLYDAMAGED
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Really damaged Over Water Conditions

ConditionState  REALLYDAMAGED OVER_WATER
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED OVER_WATER FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;Really damaged ERA Upgraded Conditions

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Really damaged ERA Upgraded Over Water Conditions

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED OVER_WATER
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED POWER_PLANT_UPGRADED OVER_WATER FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR02
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;Really damaged Gaus Cannon Conditions

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Really damaged Gaus Cannon Over Water Conditions

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE OVER_WATER
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE OVER_WATER FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

;Really damaged Gaus Cannon ERA Upgraded Conditions

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
TransitionKey      TRANS_FIRING_A
End

;Really damaged Gaus Cannon ERA Upgraded Over Water Conditions

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED OVER_WATER
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE POWER_PLANT_UPGRADED OVER_WATER FIRING_A
Model              RVGolem_D
Animation          RVGolem_D.RVGolem_D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
Turret             Turret
TurretPitch        TurretEL
HideSubObject      SCOPE REDLIGHT01 HOUSECOLOR02 HOUSECOLOR07
ShowSubObject      TURRET_ARMOR HOUSECOLOR05
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MgBarrel
WeaponFireFXBone   SECONDARY MgMzzl
WeaponLaunchBone   SECONDARY MgMzzl
WeaponMuzzleFlash  SECONDARY MgMzzlFX
WeaponRecoilBone   TERTIARY  MgBarrelB
WeaponFireFXBone   TERTIARY  MgMzzlB
WeaponLaunchBone   TERTIARY  MgMzzlB
WeaponMuzzleFlash  TERTIARY  MgMzzlBFX
ParticleSysBone    WaterFX01 AmphibWaveRest
TransitionKey      TRANS_FIRING_A
End

TrackMarks              EXGolemTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


Draw  W3DModelDraw ModuleTag_GausGunCapacitors
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  RVGolem
Animation  RVGolem.RVGolem
AnimationMode  LOOP_PINGPONG
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  TURRET_DUM CHASSIS SCOPE HOUSECOLOR02 HOUSECOLOR05
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  RVGolem_D
Animation  RVGolem_D.RVGolem_D
AnimationMode  LOOP_PINGPONG
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  TURRET_DUM CHASSIS SCOPE HOUSECOLOR02 HOUSECOLOR05
End

End


Draw  W3DModelDraw ModuleTag_Scope01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVGolem
Animation  RVGolem.RVGolem
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  Turret
HideSubObject  TURRET_DUM CHASSIS HOUSECOLOR02 HOUSECOLOR05 HOUSECOLOR07
End
AliasConditionState  NIGHT

ConditionState  REALLYDAMAGED
Model  RVGolem_D
Animation  RVGolem_D.RVGolem_D
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  Turret
HideSubObject  TURRET_DUM CHASSIS HOUSECOLOR02 HOUSECOLOR05 HOUSECOLOR07
End
AliasConditionState  RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE

;Over Water Conditions

ConditionState  OVER_WATER
Model  RVGolem
Animation  RVGolem.RVGolem
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  Turret
HideSubObject  TURRET_DUM CHASSIS HOUSECOLOR02 HOUSECOLOR05 HOUSECOLOR07
End
AliasConditionState  OVER_WATER NIGHT

ConditionState  OVER_WATER REALLYDAMAGED
Model  RVGolem_D
Animation  RVGolem_D.RVGolem_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  Turret
HideSubObject  TURRET_DUM CHASSIS HOUSECOLOR02 HOUSECOLOR05 HOUSECOLOR07
End
AliasConditionState  OVER_WATER RUBBLE
AliasConditionState  OVER_WATER NIGHT REALLYDAMAGED
AliasConditionState  OVER_WATER NIGHT RUBBLE

End

Draw  W3DModelDraw ModuleTag_BallastTank01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NONE
TransitionKey  TRANS_ON_LAND
End
AliasConditionState  NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE

;Over Water Conditions

TransitionState  TRANS_ON_WATER TRANS_ON_LAND
Model  RVGolem_A5
Animation  RVGolem_A5.RVGolem_A5
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  OVER_WATER
Model  RVGolem_A5
Animation  RVGolem_A5.RVGolem_A5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
TransitionKey  TRANS_ON_WATER
End
AliasConditionState  OVER_WATER NIGHT

TransitionState  TRANS_DAMAGED_ON_WATER TRANS_ON_LAND
Model  RVGolem_DA5
Animation  RVGolem_DA5.RVGolem_DA5
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  OVER_WATER REALLYDAMAGED
Model  RVGolem_DA5
Animation  RVGolem_DA5.RVGolem_DA5
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
TransitionKey  TRANS_DAMAGED_ON_WATER
End
AliasConditionState  OVER_WATER RUBBLE
AliasConditionState  OVER_WATER NIGHT REALLYDAMAGED
AliasConditionState  OVER_WATER NIGHT RUBBLE

End

Draw  W3DModelDraw ModuleTag_Radar01

OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGolem_A3
Animation  RVGolem_A3.RVGolem_A3
AnimationMode  LOOP
Turret  Turret
End
AliasConditionState  DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_OPEN
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

ConditionState  DOOR_1_CLOSING
Model  RVGolem_A4
Animation  RVGolem_A4.RVGolem_A4
AnimationMode  LOOP
Turret  Turret
End

ConditionState  REALLYDAMAGED
Model  RVGolem_DA3
Animation  RVGolem_DA3.RVGolem_DA3
AnimationMode  LOOP
Turret  Turret
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model  RVGolem_DA4
Animation  RVGolem_DA4.RVGolem_DA4
AnimationMode  LOOP
Turret  Turret
End

End

Draw  W3DModelDraw ModuleTag_Headlight01
ConditionState  NONE
Model  RVGolem_N
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model  NONE
End
End

Draw  W3DModelDraw ModuleTag_ShtoraEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  RVGolem_A1
Animation  RVGolem_A1.RVGolem_A1
AnimationMode  LOOP
Turret  Turret
HideSubObject  REDLIGHT01
End
AliasConditionState  DOOR_1_OPENING

ConditionState  DOOR_1_WAITING_OPEN
Model  RVGolem_A1
Animation  RVGolem_A1.RVGolem_A1
AnimationMode  LOOP
Turret  Turret
ShowSubObject  REDLIGHT01
End

ConditionState  DOOR_1_CLOSING
Model  RVGolem_A2
Animation  RVGolem_A2.RVGolem_A2
AnimationMode  ONCE
Turret  Turret
ParticleSysBone  REDEYE01 GolemShtoraActiveEffect
ParticleSysBone  REDEYE02 GolemShtoraActiveEffect
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Golem
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     4                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon            PRIMARY   GolemTankGun
Weapon            SECONDARY GolemHeavyMachineGun
Weapon            TERTIARY  GolemHeavyMachineGunAir
PreferredAgainst  TERTIARY  AIRCRAFT
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY   GolemTankGausGun
Weapon            SECONDARY GolemHeavyMachineGunUpgraged
Weapon            TERTIARY  GolemHeavyMachineGunAirUpgraged
PreferredAgainst  TERTIARY  AIRCRAFT
End

ArmorSet
Conditions       None
Armor            GolemTankArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            GolemERATankArmor
DamageFX         TankEraDamageFX
End

BuildCost        2000
BuildTime        20.0          ;in seconds
VisionRange      250
ShroudClearingRange  275

Prerequisites
Object  RussiaWarFactory
Object  RussiaIndustrialSite
End

ExperienceValue     200 200 400 600  ;Experience point value at each level
ExperienceRequired  0   400 600 1200 ;Experience points needed to gain each level

IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianTankGolemCommandSet

; *** AUDIO Parameters ***
VoiceSelect     GolemVoiceSelect
VoiceMove       GolemVoiceMove
VoiceGuard      GolemVoiceMove
VoiceAttack     GolemVoiceAttack
VoiceAttackAir  GolemVoiceAttackAir

SoundMoveStart         GolemTankMoveStart
SoundMoveStartDamaged  GolemTankMoveStart

UnitSpecificSounds
VoiceCreate  GolemVoiceCreate
VoiceCrush   GolemVoiceMove
VoiceEnter   GolemVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE GARRISONABLE_UNTIL_DESTROYED

Body  ActiveBody ModuleTag_02
MaxHealth        950.0
InitialHealth    950.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         50
TurretPitchRate        250
MinIdleScanAngle       10
MaxIdleScanAngle       40
AllowsPitch            Yes
NaturalTurretPitch     20
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL GolemLocomotor GolemLocomotorWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  2500
DestructionDelayVariance  1000
FX   INITIAL  FX_CrusaderCatchFire
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_GolemTankDeathEffect
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateDataRussiaTier2
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  PowerPlantUpgrade ModuleTag_UpgradeShowHide01
TriggeredBy  Upgrade_RussiaTankERA
End

Behavior  PowerPlantUpdate ModuleTag_UpgradeShowHide02
RodsExtendTime  33
End

Behavior  ArmorUpgrade ModuleTag_20
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_RussiaUrsaDivision
End

;Shtora Active defence
Behavior            OCLSpecialPower ModuleTag_Shtora01
SpecialPowerTemplate  SpecialAbilityRussianShtora
OCL                   OCL_GolemShtoraTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_Shtora02
CollideWeapon   GolemInvulnerabilityActivationWeapon
RequiredStatus  USING_ABILITY
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_Shtora03
SpecialPowerTemplate  SpecialAbilityRussianShtora
DoorOpenTime          1650
DoorWaitOpenTime      1650
DoorCloseTime         7000
End

Behavior  ProductionUpdate ModuleTag_GausCannon01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  WeaponSetUpgrade ModuleTag_GausCannon02
TriggeredBy  Upgrade_RussiaCoilGuns
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  24.0
GeometryMinorRadius  14.0
GeometryHeight  11.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleFieldQuaters

; *** ART Parameters ***

SelectPortrait          SRFieldQuarters_L
ButtonImage             SRFieldQuarters

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              RVSplyTrck
HideSubObject      Cargo01 Turret Lights01 CHASSISPART01
End
AliasConditionState  RIDER1

ConditionState     RIDER1 REALLYDAMAGED
Model            RVSplyTrck_D
End

ConditionState  RIDER2
Model              NONE
End
AliasConditionState  RIDER2 REALLYDAMAGED

ConditionState     RUBBLE
Model            RVSplyTrck_D
End
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE

TrackMarks  EXTireTrack.tga

Dust  nada
DirtSpray  Nada
PowerslideSpray  Nada

LeftFrontTireBone      Wheel01
RightFrontTireBone     Wheel02
MidLeftFrontTireBone   Wheel03
MidRightFrontTireBone  Wheel04
MidLeftRearTireBone    Wheel05
MidRightRearTireBone   Wheel06
LeftRearTireBone       Wheel07
RightRearTireBone      Wheel08

TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_Rider2

OkToChangeModelColor  Yes

DefaultConditionState
Model              RVSplyTrck
HideSubObject      Cargo01 Turret Lights01 CHASSISPART01
End

ConditionState  RIDER1
Model              NONE
End
AliasConditionState  RIDER1 REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE

ConditionState     RIDER2
Model            RVSplyTrck
End

ConditionState     RIDER2 REALLYDAMAGED
Model            RVSplyTrck_D
End

Dust  nada
DirtSpray  Nada
PowerslideSpray  Nada

LeftFrontTireBone      Wheel01
RightFrontTireBone     Wheel02
MidLeftFrontTireBone   Wheel03
MidRightFrontTireBone  Wheel04
MidLeftRearTireBone    Wheel05
MidRightRearTireBone   Wheel06
LeftRearTireBone       Wheel07
RightRearTireBone      Wheel08

TireRotationMultiplier  0.0        ; this * speed  rotation.
PowerslideRotationAddition  0.0

End

Draw  W3DModelDraw ModuleTag_NewBits01
OkToChangeModelColor  Yes

ConditionState       NONE
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
TransitionKey      TRANS_MOBILE
End
AliasConditionState  RIDER1

TransitionState  TRANS_MOBILE TRANS_DEPLOYED
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState RIDER2
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_DEPLOYED
ParticleSysBone    ANTENNA07 GLAVanRadarEffect
End

TransitionState  TRANS_DEPLOYED TRANS_MOBILE
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState       RIDER1 REALLYDAMAGED
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
TransitionKey      TRANS_DAMAGED_MOBILE
End

TransitionState  TRANS_DAMAGED_MOBILE TRANS_DAMAGED_DEPLOYED
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState RIDER2 REALLYDAMAGED
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_DAMAGED_DEPLOYED
ParticleSysBone    ANTENNA07 GLAVanRadarEffect
End

TransitionState  TRANS_DAMAGED_DEPLOYED TRANS_DAMAGED_MOBILE
Model              RVQuarters
Animation          RVQuarters.RVQuarters
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
AnimationSpeedFactorRange  1.5 1.5
End

End

Draw  W3DModelDraw ModuleTag_Headlights01
OkToChangeModelColor  Yes

ConditionState  NONE
Model NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState     NIGHT
Model              RVSplyTrck
HideSubObject      Chassis Turret
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:FieldQuarters
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            900
BuildTime            15.0      ;in seconds
VisionRange          200
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  RussiaSupplyCenter
Science  SCIENCE_ConscriptParadrop
End

ExperienceValue         50 50 50 50    ;Experience point value at each level
IsTrainable             No             ;Can gain experience
CrusherLevel            2              ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2              ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect              FieldQuatersVoiceSelect
VoiceMove                RussianSupplyTruckVoiceMove
SoundMoveStart           MTP4AMoveStart
SoundMoveStartDamaged    MTP4AMoveStart

UnitSpecificSounds
VoiceCreate            FieldQuatersVoiceCreate
VoiceEnter             RussianSupplyTruckVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL RussianSupplyTruckLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;Standard mode
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussiaVehicleFieldQuartersMobileCommandSet   SET_NORMAL

;Dugin mode
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussiaVehicleFieldQuartersDeployedCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform03
End

Behavior  GrantUpgradeCreate ModuleTag_Transform04
UpgradeToGrant      Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_Transform05
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  QueueProductionExitUpdate ModuleTag_Transform06
UnitCreatePoint    X: -8.0   Y: 0.0  Z:0.0
NaturalRallyPoint  X: -25.0  Y: 0.0  Z:0.0
End

Behavior  FireWeaponUpdate ModuleTag_Transform07
Weapon  GenericCollisionDummyWeapon
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_FieldQuartersSwitchModeDelayObject
TriggeredBy      Upgrade_ChinaOverlordGattlingCannon
End

;Primary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_FieldQuartersMobileMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
ConflictsWith    Upgrade_ChinaOverlordGattlingCannon
End

;Secondary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform10
UpgradeObject    OCL_FieldQuartersDeployedMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponCollide ModuleTag_Transform11
CollideWeapon   FieldQuartersDeployedCollisionDummyWeapon
RequiredStatus  STATUS_RIDER2
End

Behavior  FireWeaponCollide ModuleTag_Transform12
CollideWeapon   FieldQuartersDeployedDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED +EXTRA_7
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_RussiaSupplyTruckDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
CreationList  OCL_ChinaSupplyTruck_CrushEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
End

Behavior         CreateCrateDie ModuleTag_12
CrateData      SalvageCrateData
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  7.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object FieldQuartersDeployedStructureDummyCollision

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableArmorAll
DamageFX           DamageFX_Empty
End
; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD IMMOBILE VEHICLE STICK_TO_TERRAIN_SLOPE UNATTACKABLE NO_COLLIDE

Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0
End

Behavior  DeletionUpdate ModuleTag_032512
MinLifetime  150
MaxLifetime  150
End

Behavior  DestroyDie ModuleTag_11
End

Geometry              BOX
GeometryMajorRadius   25.0
GeometryMinorRadius   17.0
GeometryHeight        5.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object RussiaVehicleDozer

; *** ART Parameters ***
SelectPortrait             SRDozer_L
ButtonImage                SRDozer

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor      Yes

ConditionState           NONE
Model                  RVCrane
Animation              RVCrane.RVCrane
AnimationMode          ONCE_BACKWARDS
Flags                  START_FRAME_FIRST
ParticleSysBone        EXHAUST01 DozerSmokeLight
TransitionKey          TRANS_IDLE
HideSubObject          LIGHT01
End
AliasConditionState      MOVING

ConditionState           ACTIVELY_CONSTRUCTING
Model                  RVCrane_A1
Animation              RVCrane_A1.RVCrane_A1
AnimationMode          LOOP
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
TransitionKey          TRANS_CONSTRUCTING
HideSubObject          LIGHT01
End
AliasConditionState      ACTIVELY_CONSTRUCTING MOVING

TransitionState          TRANS_IDLE TRANS_CONSTRUCTING
Model                  RVCrane
Animation              RVCrane.RVCrane
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

TransitionState          TRANS_CONSTRUCTING TRANS_IDLE
Model                  RVCrane
Animation              RVCrane.RVCrane
AnimationMode          ONCE_BACKWARDS
Flags                  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.8 1.8
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

;Damaged

ConditionState           REALLYDAMAGED
Model                  RVCrane_D
Animation              RVCrane_D.RVCrane_D
AnimationMode          ONCE_BACKWARDS
Flags                  START_FRAME_FIRST
ParticleSysBone        EXHAUST01 DozerSmokeLight
TransitionKey          TRANS_DAMAGED_IDLE
HideSubObject          LIGHT01
End
AliasConditionState      REALLYDAMAGED MOVING

ConditionState           REALLYDAMAGED ACTIVELY_CONSTRUCTING
Model                  RVCrane_DA1
Animation              RVCrane_DA1.RVCrane_DA1
AnimationMode          LOOP
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
TransitionKey          TRANS_DAMAGED_CONSTRUCTING
HideSubObject          LIGHT01
End
AliasConditionState      REALLYDAMAGED ACTIVELY_CONSTRUCTING MOVING

TransitionState          TRANS_DAMAGED_IDLE TRANS_DAMAGED_CONSTRUCTING
Model                  RVCrane_D
Animation              RVCrane_D.RVCrane_D
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

TransitionState          TRANS_DAMAGED_CONSTRUCTING TRANS_DAMAGED_IDLE
Model                  RVCrane_D
Animation              RVCrane_D.RVCrane_D
AnimationMode          ONCE_BACKWARDS
AnimationSpeedFactorRange  1.8 1.8
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

LeftFrontTireBone      Tire01
RightFrontTireBone     Tire02
MidLeftFrontTireBone   Tire03
MidRightFrontTireBone  Tire04
LeftRearTireBone       Tire05
RightRearTireBone      Tire06
MidLeftRearTireBone    Tire07
MidRightRearTireBone   Tire08

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

End

Draw  W3DModelDraw ModuleTag_HeadLIGHT01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE

ConditionState  NIGHT
Model  RVCrane
HideSubObject  CHASSIS TIRE01 TIRE02 TIRE03 TIRE04 TIRE05 TIRE06 TIRE07 TIRE08
End
AliasConditionState  NIGHT REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ConstructCrane
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   3 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ; in seconds
VisionRange          200
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  PRIMARY   None
End

ArmorSet
Conditions         None
Armor              RussianDozerArmor ;Special Explosion-Proof Armor
DamageFX           TankDamageFX
End

ExperienceValue      5 5 5 5     ;Experience point value at each level

CrusherLevel         2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussiaDozerCommandSet

; *** AUDIO Parameters ***
VoiceSelect          DozerRussiaVoiceSelect
VoiceMove            DozerRussiaVoiceMove
VoiceEnter           DozerRussiaVoiceMove
VoiceAttack          DozerRussiaVoiceMove
VoiceTaskComplete    DozerRussiaVoiceBuildComplete
SoundMoveStart       RussianDozerMoveStart
SoundMoveStartDamaged  RussianDozerMoveStart

UnitSpecificSounds
VoiceCreate        DozerRussiaVoiceCreate
VoiceCrush         DozerRussiaVoiceMove
VoiceNoBuild       DozerRussiaVoiceCannotBuild
VoiceRepair        DozerRussiaVoiceRepair
VoiceDisarm        DozerRussiaVoiceMove
VoiceEnter         DozerRussiaVoiceMove
VoiceBuildResponse  DozerRussiaVoiceBuild
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

SubdualDamageCap  400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor  SET_NORMAL RussianVehicleDozerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  75.0
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_22
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  ProductionUpdate ModuleTag_CommandSetUpgrade01
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       RussiaDozerCommandSet ; AmericaDozerCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
StatusToClear        STATUS_RIDER2
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade04
CommandSet       RussiaDozerDefenceCommandSet ; AmericaDozerDefenceCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER2
StatusToClear        STATUS_RIDER1
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade06
TriggeredBy          Upgrade_CostReduction
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
End

;This module fires a weapon with a dummy collision object that ensures that we always have collision
Behavior  FireWeaponUpdate ModuleTag_CommandSetUpgrade07
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade08
CollideWeapon   EuropeExcavatorStandardBuildingDecalWeapon
RequiredStatus  STATUS_RIDER1
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade09
CollideWeapon   EuropeExcavatorDefenceBuildingDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Geometry             BOX
GeometryMajorRadius  24.0
GeometryMinorRadius  8.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaVehicleDozer_AI

; *** ART Parameters ***
SelectPortrait             SRDozer_L
ButtonImage                SRDozer

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor      Yes

ConditionState           NONE
Model                  RVCrane
Animation              RVCrane.RVCrane
AnimationMode          ONCE_BACKWARDS
Flags                  START_FRAME_FIRST
ParticleSysBone        EXHAUST01 DozerSmokeLight
TransitionKey          TRANS_IDLE
HideSubObject          LIGHT01
End
AliasConditionState      MOVING

ConditionState           ACTIVELY_CONSTRUCTING
Model                  RVCrane_A1
Animation              RVCrane_A1.RVCrane_A1
AnimationMode          LOOP
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
TransitionKey          TRANS_CONSTRUCTING
HideSubObject          LIGHT01
End
AliasConditionState      ACTIVELY_CONSTRUCTING MOVING

TransitionState          TRANS_IDLE TRANS_CONSTRUCTING
Model                  RVCrane
Animation              RVCrane.RVCrane
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

TransitionState          TRANS_CONSTRUCTING TRANS_IDLE
Model                  RVCrane
Animation              RVCrane.RVCrane
AnimationMode          ONCE_BACKWARDS
Flags                  MAINTAIN_FRAME_ACROSS_STATES
AnimationSpeedFactorRange  1.8 1.8
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

;Damaged

ConditionState           REALLYDAMAGED
Model                  RVCrane_D
Animation              RVCrane_D.RVCrane_D
AnimationMode          ONCE_BACKWARDS
Flags                  START_FRAME_FIRST
ParticleSysBone        EXHAUST01 DozerSmokeLight
TransitionKey          TRANS_DAMAGED_IDLE
HideSubObject          LIGHT01
End
AliasConditionState      REALLYDAMAGED MOVING

ConditionState           REALLYDAMAGED ACTIVELY_CONSTRUCTING
Model                  RVCrane_DA1
Animation              RVCrane_DA1.RVCrane_DA1
AnimationMode          LOOP
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
TransitionKey          TRANS_DAMAGED_CONSTRUCTING
HideSubObject          LIGHT01
End
AliasConditionState      REALLYDAMAGED ACTIVELY_CONSTRUCTING MOVING

TransitionState          TRANS_DAMAGED_IDLE TRANS_DAMAGED_CONSTRUCTING
Model                  RVCrane_D
Animation              RVCrane_D.RVCrane_D
AnimationMode          ONCE
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

TransitionState          TRANS_DAMAGED_CONSTRUCTING TRANS_DAMAGED_IDLE
Model                  RVCrane_D
Animation              RVCrane_D.RVCrane_D
AnimationMode          ONCE_BACKWARDS
AnimationSpeedFactorRange  1.8 1.8
Flags                  MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone        EXHAUST01 DozerSmokeHeavy
HideSubObject          LIGHT01
End

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

LeftFrontTireBone      Tire01
RightFrontTireBone     Tire02
MidLeftFrontTireBone   Tire03
MidRightFrontTireBone  Tire04
LeftRearTireBone       Tire05
RightRearTireBone      Tire06
MidLeftRearTireBone    Tire07
MidRightRearTireBone   Tire08

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

End

Draw  W3DModelDraw ModuleTag_HeadLIGHT01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE

ConditionState  NIGHT
Model  RVCrane
HideSubObject  CHASSIS TIRE01 TIRE02 TIRE03 TIRE04 TIRE05 TIRE06 TIRE07 TIRE08
End
AliasConditionState  NIGHT REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ConstructCrane
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   3 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ; in seconds
VisionRange          200
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  PRIMARY   None
End

ArmorSet
Conditions         None
Armor              RussianDozerArmor ;Special Explosion-Proof Armor
DamageFX           TankDamageFX
End

ExperienceValue      5 5 5 5     ;Experience point value at each level

CrusherLevel         2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussiaDozerCommandSet_AI

; *** AUDIO Parameters ***
VoiceSelect          DozerRussiaVoiceSelect
VoiceMove            DozerRussiaVoiceMove
VoiceEnter           DozerRussiaVoiceMove
VoiceAttack          DozerRussiaVoiceMove
VoiceTaskComplete    DozerRussiaVoiceBuildComplete
SoundMoveStart       RussianDozerMoveStart
SoundMoveStartDamaged  RussianDozerMoveStart

UnitSpecificSounds
VoiceCreate        DozerRussiaVoiceCreate
VoiceCrush         DozerRussiaVoiceMove
VoiceNoBuild       DozerRussiaVoiceCannotBuild
VoiceRepair        DozerRussiaVoiceRepair
VoiceDisarm        DozerRussiaVoiceMove
VoiceEnter         DozerRussiaVoiceMove
VoiceBuildResponse  DozerRussiaVoiceBuild
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

SubdualDamageCap  400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor  SET_NORMAL RussianVehicleDozerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  75.0
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_22
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry             BOX
GeometryMajorRadius  24.0
GeometryMinorRadius  8.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleBuratino

; *** ART Parameters ***
SelectPortrait          SRBuratino_L
ButtonImage             SRBuratino

Draw  W3DTankDraw ModuleTag_01

DefaultConditionState
Model                RVTOS1
Animation            RVTOS1.RVTOS1
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret
TurretPitch          TurretEL
WeaponFireFXBone     PRIMARY   FireFX
WeaponLaunchBone     PRIMARY   Firepoint
WeaponFireFXBone     SECONDARY FireFX
WeaponLaunchBone     SECONDARY Firepoint
AnimationSpeedFactorRange  2.2 2.6
End
AliasConditionState  MOVING
AliasConditionState  MOVING ATTACKING

ConditionState  ATTACKING
AnimationMode        ONCE
End

ConditionState  REALLYDAMAGED
Model                RVTOS1_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING ATTACKING

ConditionState  REALLYDAMAGED ATTACKING
Model                RVTOS1_D
Animation            RVTOS1_D.RVTOS1_D
AnimationMode        ONCE
End

ConditionState  RUBBLE
Model                RVTOS1_D
Animation            RVTOS1_D.RVTOS1_D
AnimationMode        MANUAL
End

OkToChangeModelColor  Yes
TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Buratino
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   3                ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY BuratinoRocketWeapon
Weapon  SECONDARY BuratinoBurstFireWeapon
AutoChooseSources  SECONDARY None
ShareWeaponReloadTime  Yes
End

;WeaponSet
;Conditions  PLAYER_UPGRADE
;Weapon  PRIMARY HeroicBuratinoRocketWeapon
;Weapon  SECONDARY HeroicBuratinoBurstFireWeapon
;AutoChooseSources  SECONDARY None
;ShareWeaponReloadTime  Yes
;End

ArmorSet
Conditions       None
Armor            BuratinoTankArmor
DamageFX         TankDamageFX
End

BuildCost        1200
BuildTime        10.0
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  RussiaWarFactory
Object  RussiaWeaponsBunker
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 150 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleBuratinoCommandSet

; *** AUDIO Parameters ***
VoiceSelect        BuratinoVoiceSelect
VoiceMove          BuratinoVoiceMove
VoiceGuard         BuratinoVoiceMove
VoiceAttack        BuratinoVoiceAttack
SoundMoveStart         BuratinoMoveStart
SoundMoveStartDamaged  BuratinoMoveStart

UnitSpecificSounds
VoiceCreate      BuratinoVoiceCreate
VoiceCrush       BuratinoVoiceMove
VoiceEnter       BuratinoVoiceMove
VoiceFlameLocation        BuratinoVoiceAttack
VoicePrimaryWeaponMode    BuratinoVoiceBurstFireMode
VoiceSecondaryWeaponMode  BuratinoVoiceBarrageFireMode
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE DONT_AUTO_CRUSH_INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  40
TurretPitchRate 40
AllowsPitch  Yes
FirePitch  25
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL BuratinoLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_11
CrateData  SalvageCrateDataRussiaTier1
End

Behavior  SlowDeathBehavior ModuleTag_12
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  1
OCL  FINAL    OCL_RussiaTankTOS1Debris
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

;Behavior  WeaponSetUpgrade ModuleTag_Heroic01
;TriggeredBy  Upgrade_Veterancy_HEROIC
;End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  11.0
GeometryHeight  10
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length
End
;------------------------------------------------------------------------------
Object RussiaVehicleBRDM

; *** ART Parameters ***
SelectPortrait          SRBrdm_L
ButtonImage             SRBrdm

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVBRDM
Turret  TURRET
WeaponFireFXBone   SECONDARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
WeaponMuzzleFlash  SECONDARY WeaponAMuzzle
End

ConditionState  REALLYDAMAGED
Model  RVBRDM_D
Turret  TURRET
WeaponFireFXBone   SECONDARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
WeaponMuzzleFlash  SECONDARY WeaponAMuzzle
End

ConditionState  RUBBLE
Model  RVBRDM_D
Turret  TURRET
WeaponFireFXBone   SECONDARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
WeaponMuzzleFlash  SECONDARY WeaponAMuzzle
End

TrackMarks  EXTireTrack.tga

Dust                         RocketBuggyDust
DirtSpray                    RocketBuggyDirtSpray
PowerslideSpray              RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
LeftRearTireBone             Tire03
RightRearTireBone            Tire04
TireRotationMultiplier       0.2   ; this * speed  rotation.
End

Draw  W3DModelDraw ModuleMod_OverWater
DefaultConditionState
Model  NVTCrawler_W
End
AliasConditionState   MOVING
ConditionState        OVER_WATER
ParticleSysBone     TreadFX01 AmphibWaveRest
ParticleSysBone     TreadFX02 AmphibWaveRest
End
ConditionState        OVER_WATER MOVING
ParticleSysBone     TreadFX01 AmphibWave
ParticleSysBone     TreadFX02 AmphibWave
End
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleMod_ExitBones

DefaultConditionState
Model  RVBMP3_B
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BRDM
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY   BRDMRocketWeaponDummyWeapon
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY BRDMRocketWeapon
End

ArmorSet
Conditions         None
Armor              TruckArmor
DamageFX           TankDamageFX
End

BuildCost        800
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

ExperienceValue     50 50 100 150   ;Experience point value at each level
ExperienceRequired  0 100 200 400   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianVehicleBRDMCommandSet

; *** AUDIO Parameters ***
VoiceSelect     BRDMVoiceSelect
VoiceMove       BRDMVoiceMove
VoiceGuard      BRDMVoiceMove
VoiceAttack     BRDMVoiceAttack
SoundMoveStart         BRDMMoveStart
SoundMoveStartDamaged  BRDMMoveStart
SoundEnter  HumveeEnter
SoundExit   HumveeExit

UnitSpecificSounds
VoiceCrush   BRDMVoiceMove
VoiceEnter   BRDMVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90
RecenterTime  5000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
TurretsLinked  Yes
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL BRDMLocomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
Slots                 4
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
DamagePercentToUnits  0%
AllowInsideKindOf     INFANTRY
ExitDelay             250
NumberOfExitPaths     3
GoAggressiveOnExit    Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalBrdmDebris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  LockWeaponCreate ModuleTag_WeaponLock01
SlotToLock  SECONDARY
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleBMP

; *** ART Parameters ***
SelectPortrait          SRBMP3_L
ButtonImage             SRBMP3

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
MaxRecoilDistance     4
RecoilSettleSpeed     6

ConditionState  NONE
Model  RVBMP3
Turret  TURRET_DUM
TurretPitch  TURRETEL01
HideSubObject  LAUNCHER ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  RVBMP3_D
Turret  TURRET_DUM
TurretPitch  TURRETEL01
HideSubObject  LAUNCHER ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState  RUBBLE

;ERA
ConditionState  USER_1
Model  RVBMP3
Turret  TURRET_DUM
TurretPitch  TURRETEL01
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  LAUNCHER TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState  USER_1 REALLYDAMAGED
Model  RVBMP3_D
Turret  TURRET_DUM
TurretPitch  TURRETEL01
ShowSubObject  ARMOR01 ARMOR02
HideSubObject  LAUNCHER TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;Missile Launchers
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  RVBMP3
Turret  TURRET_DUM
TurretPitch  TURRETEL01
ShowSubObject  LAUNCHER
HideSubObject  ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  RVBMP3_D
Turret  TURRET_DUM
TurretPitch  TURRETEL01
ShowSubObject  LAUNCHER
HideSubObject  ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

;Missile Launchers & ERA
ConditionState  WEAPONSET_PLAYER_UPGRADE USER_1
Model  RVBMP3
Turret  TURRET_DUM
TurretPitch  TURRETEL01
ShowSubObject  LAUNCHER ARMOR01 ARMOR02
HideSubObject  TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE USER_1 REALLYDAMAGED
Model  RVBMP3_D
Turret  TURRET_DUM
TurretPitch  TURRETEL01
ShowSubObject  LAUNCHER ARMOR01 ARMOR02
HideSubObject  TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USER_1 RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_AutoCannonBarrel01

MaxRecoilDistance     1
RecoilSettleSpeed     6

ConditionState  NONE
Model  RVBMP3
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
WeaponMuzzleFlash  SECONDARY MuzzleMGFX
End

ConditionState         USING_WEAPON_A
Model  RVBMP3
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
WeaponRecoilBone     PRIMARY BarrelMG
WeaponMuzzleFlash    PRIMARY MuzzleMGFX
WeaponFireFXBone     PRIMARY MuzzleMG
WeaponLaunchBone     PRIMARY MuzzleMG
End

ConditionState  REALLYDAMAGED
Model  RVBMP3_D
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model  RVBMP3_D
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
WeaponRecoilBone     PRIMARY BarrelMG
WeaponMuzzleFlash    PRIMARY MuzzleMGFX
WeaponFireFXBone     PRIMARY MuzzleMG
WeaponLaunchBone     PRIMARY MuzzleMG
End

End

Draw  W3DModelDraw ModuleTag_HeadLights01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE

ConditionState  NIGHT
Model  RVBMP3
Turret  TURRET_DUM
HideSubObject  CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 TURRETEL02 BARREL01 HOUSECOLOR03 MUZZLEFX01 BARRELMG01 MUZZLEMGFX01
End
AliasConditionState  NIGHT REALLYDAMAGED

End

Draw  W3DModelDraw ModuleMod_OverWater
DefaultConditionState
Model  NVTCrawler_W
End
AliasConditionState   MOVING
ConditionState        OVER_WATER
ParticleSysBone     TreadFX01 AmphibWaveRest
ParticleSysBone     TreadFX02 AmphibWaveRest
End
ConditionState        OVER_WATER MOVING
ParticleSysBone     TreadFX01 AmphibWave
ParticleSysBone     TreadFX02 AmphibWave
End
End

Draw  W3DModelDraw Module_ExitBones

DefaultConditionState
Model  RVBMP3_B
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BMP3
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon            PRIMARY   BMP3Autocannon
PreferredAgainst  PRIMARY   INFANTRY
Weapon            SECONDARY BMP3AntiTankGun
End

;Upgraded with rockets

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY   BMP3Autocannon
PreferredAgainst  PRIMARY   INFANTRY
Weapon            SECONDARY BMP3AntiTankGun
Weapon            TERTIARY  BMP3MissileLauncherWeapon
End

ArmorSet
Conditions         None
Armor              BMPTankArmor
DamageFX           TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERATankArmor
DamageFX         TankEraDamageFX
End

BuildCost        800
BuildTime        9.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  RussiaWarFactory
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianVehicleBMP3CommandSet

; *** AUDIO Parameters ***
VoiceSelect     BMP3VoiceSelect
VoiceMove       BMP3VoiceMove
VoiceGuard      BMP3VoiceMove
VoiceAttack     BMP3VoiceAttack
SoundMoveStart         BMP3MoveStart
SoundMoveStartDamaged  BMP3MoveStart
SoundEnter  HumveeEnter
SoundExit   HumveeExit

UnitSpecificSounds
VoiceCreate  BMP3VoiceCreate
VoiceCrush   BMP3VoiceMove
VoiceUnload  BMP3VoiceUnload
VoiceEnter   BMP3VoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         90
TurretPitchRate        70
NaturalTurretPitch     5
MinPhysicalPitch       -10
AllowsPitch            Yes
RecenterTime           5000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL BMP3Locomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
Slots                 6
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
DamagePercentToUnits  0%
AllowInsideKindOf     INFANTRY
ExitDelay             250
NumberOfExitPaths     3
GoAggressiveOnExit    Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  WeaponSetUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_RussiaArmedRecon
End

Behavior  ArmorUpgrade ModuleTag_Upgrade02
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  ModelConditionUpgrade ModuleTag_Upgrade03
ConditionFlag  USER_1
TriggeredBy  Upgrade_RussiaTankERA
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalBMP3Debris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleBMD

; *** ART Parameters ***
SelectPortrait          SRBMD4_L
ButtonImage             SRBMD4

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
MaxRecoilDistance     4
RecoilSettleSpeed     6

ConditionState  NONE
Model  RVBMD4
Turret  TURRET_DUM
TurretPitch  TURRETEL01
HideSubObject  SPRTTRRT SPRTBRL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState  FIRING_A

ConditionState  REALLYDAMAGED
Model  RVBMD4_D
Turret  TURRET_DUM
TurretPitch  TURRETEL01
HideSubObject  SPRTTRRT SPRTBRL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState  FIRING_A REALLYDAMAGED
AliasConditionState  RUBBLE

;Sprut Tank Destroyer
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  RVBMD4
Animation  RVBMD4.RVBMD4
AnimationMode  ONCE
Flags  START_FRAME_LAST
Turret  TURRET_DUM
TurretPitch  SPRTTRRTEL
ShowSubObject  SPRTTRRT SPRTBRL01
HideSubObject  TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
WeaponRecoilBone     PRIMARY None
WeaponMuzzleFlash    PRIMARY None
WeaponFireFXBone     PRIMARY SprtMzl
WeaponLaunchBone     PRIMARY SprtMzl
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End

ConditionState  FIRING_A WEAPONSET_PLAYER_UPGRADE
Model  RVBMD4
Animation  RVBMD4.RVBMD4
AnimationMode  ONCE
Flags  START_FRAME_FIRST
TransitionKey  TRANS_FIRING_A
Turret  TURRET_DUM
TurretPitch  SPRTTRRTEL
ShowSubObject  SPRTTRRT SPRTBRL01
HideSubObject  TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
WeaponRecoilBone     PRIMARY None
WeaponMuzzleFlash    PRIMARY None
WeaponFireFXBone     PRIMARY SprtMzl
WeaponLaunchBone     PRIMARY SprtMzl
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  RVBMD4_D
Animation  RVBMD4_D.RVBMD4_D
AnimationMode  ONCE
Flags  START_FRAME_LAST
Turret  TURRET_DUM
TurretPitch  SPRTTRRTEL
ShowSubObject  SPRTTRRT SPRTBRL01
HideSubObject  TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
WeaponRecoilBone     PRIMARY None
WeaponMuzzleFlash    PRIMARY None
WeaponFireFXBone     PRIMARY SprtMzl
WeaponLaunchBone     PRIMARY SprtMzl
WaitForStateToFinishIfPossible  TRANS_FIRING_DAMAGED_A
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

ConditionState  FIRING_A WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  RVBMD4_D
Animation  RVBMD4_D.RVBMD4_D
AnimationMode  ONCE
Flags  START_FRAME_FIRST
TransitionKey  TRANS_FIRING_DAMAGED_A
Turret  TURRET_DUM
TurretPitch  SPRTTRRTEL
ShowSubObject  SPRTTRRT SPRTBRL01
HideSubObject  TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
WeaponRecoilBone     PRIMARY None
WeaponMuzzleFlash    PRIMARY None
WeaponFireFXBone     PRIMARY SprtMzl
WeaponLaunchBone     PRIMARY SprtMzl
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_AutoCannonBarrel01

MaxRecoilDistance     1
RecoilSettleSpeed     6

ConditionState  NONE
Model  RVBMD4
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
WeaponMuzzleFlash  SECONDARY MuzzleMGFX
End

ConditionState  USING_WEAPON_A
Model  RVBMD4
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
WeaponRecoilBone     PRIMARY BarrelMG
WeaponMuzzleFlash    PRIMARY MuzzleMGFX
WeaponFireFXBone     PRIMARY MuzzleMG
WeaponLaunchBone     PRIMARY MuzzleMG
End

ConditionState  REALLYDAMAGED
Model  RVBMD4_D
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model  RVBMD4_D
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
WeaponRecoilBone     PRIMARY BarrelMG
WeaponMuzzleFlash    PRIMARY MuzzleMGFX
WeaponFireFXBone     PRIMARY MuzzleMG
WeaponLaunchBone     PRIMARY MuzzleMG
End

;Sprut Tank Destroyer
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED USING_WEAPON_A

End

Draw  W3DModelDraw ModuleTag_TurretLights01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT RUBBLE

ConditionState  NIGHT
Model  RVBMD4
Turret  TURRET_DUM
HideSubObject  CHASSIS TURRET SPRTTRRT HOUSECOLOR02 BARREL01 BARRELMG01 SPRTTRRT SPRTBRL01 LIGHT03
End
AliasConditionState  NIGHT REALLYDAMAGED

;Sprut Tank Destroyer
ConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT
Model  RVBMD4
Turret  TURRET_DUM
ShowSubObject  LIGHT03
HideSubObject  CHASSIS TURRET SPRTTRRT HOUSECOLOR02 BARREL01 BARRELMG01 SPRTTRRT SPRTBRL01 LIGHT02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED

End

Draw  W3DModelDraw ModuleMod_OverWater
DefaultConditionState
Model  NVTCrawler_W
End
AliasConditionState   MOVING
ConditionState        OVER_WATER
ParticleSysBone     TreadFX01 AmphibWaveRest
ParticleSysBone     TreadFX02 AmphibWaveRest
End
ConditionState        OVER_WATER MOVING
ParticleSysBone     TreadFX01 AmphibWave
ParticleSysBone     TreadFX02 AmphibWave
End
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              RVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleMod_ExitBones01

DefaultConditionState
Model  RVBMP3_B
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BMD3
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon            PRIMARY   BMP3Autocannon
PreferredAgainst  PRIMARY   INFANTRY
Weapon            SECONDARY BMD1AntiTankGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY   SprutTankGun
End

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

BuildCost        700
BuildTime        9.0          ;in seconds
VisionRange      250
ShroudClearingRange  275

Prerequisites
Object  RussiaWarFactory
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianVehicleBMD4CommandSet

; *** AUDIO Parameters ***
VoiceSelect     BMDVoiceSelect
VoiceMove       BMDVoiceMove
VoiceGuard      BMDVoiceMove
VoiceAttack     BMDVoiceAttack
SoundMoveStart         BMP3MoveStart
SoundMoveStartDamaged  BMP3MoveStart
SoundEnter  HumveeEnter
SoundExit   HumveeExit

UnitSpecificSounds
VoiceCreate  BMDVoiceCreate
VoiceCrush   BMDVoiceMove
VoiceUnload  BMDVoiceUnload
VoiceEnter   BMDVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         90
TurretPitchRate        70
NaturalTurretPitch     5
MinPhysicalPitch       -10
AllowsPitch            Yes
RecenterTime           5000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL BMD4Locomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
Slots                 5
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
DamagePercentToUnits  0%
AllowInsideKindOf     INFANTRY
ExitDelay             250
NumberOfExitPaths     3
GoAggressiveOnExit    Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  WeaponSetUpgrade ModuleTag_SprutSD02
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
FXListUpgrade  FX_UpgradeOrExpansionComplete
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalBMD4Debris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaVehicleBMD1

; *** ART Parameters ***
SelectPortrait          SRBMD1_L
ButtonImage             SRBMD1

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
MaxRecoilDistance     3
RecoilSettleSpeed     4

ConditionState  NONE
Model  RVBMD1
Turret  TURRET_DUM
TurretPitch  TURRETEL01
HideSubObject  TURRETUP BARRELMG01 LIGHT01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState  REALLYDAMAGED
Model  RVBMD1_D
Turret  TURRET_DUM
TurretPitch  TURRETEL01
HideSubObject  TURRETUP BARRELMG01 LIGHT01
WeaponRecoilBone     SECONDARY Barrel
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState  RUBBLE

;Mortar Turret
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  RVBMD1
HideSubObject  TURRET TURRETUP TURRETEL01 BARRELMG01 LIGHT01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  RVBMD1_D
HideSubObject  TURRET TURRETUP TURRETEL01 BARRELMG01 LIGHT01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE


TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_MachineGunBarrel01

MaxRecoilDistance     0.5
RecoilSettleSpeed     6

ConditionState  NONE
Model  RVBMD1
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET TURRETUP TURRETEL01
WeaponMuzzleFlash  SECONDARY MuzzleMGFX
End

ConditionState         USING_WEAPON_A
Model  RVBMD1
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET TURRETUP TURRETEL01
WeaponRecoilBone     PRIMARY BarrelMG
WeaponMuzzleFlash    PRIMARY MuzzleMGFX
WeaponFireFXBone     PRIMARY MuzzleMG
WeaponLaunchBone     PRIMARY MuzzleMG
End

ConditionState  REALLYDAMAGED
Model  RVBMD1_D
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET TURRETUP TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model  RVBMD1_D
Turret  TURRET_DUM
TurretPitch  TURRETEL02
HideSubObject  CHASSIS TURRET TURRETUP TURRETEL01
WeaponRecoilBone     PRIMARY BarrelMG
WeaponMuzzleFlash    PRIMARY MuzzleMGFX
WeaponFireFXBone     PRIMARY MuzzleMG
WeaponLaunchBone     PRIMARY MuzzleMG
End

;Mortar Turret
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NONE
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

End

Draw  W3DModelDraw ModuleTag_MortarTurret01

OkToChangeModelColor  Yes
MaxRecoilDistance     3
RecoilSettleSpeed     4

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  ATTACKING
AliasConditionState  ATTACKING REALLYDAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT
AliasConditionState  NIGHT ATTACKING
AliasConditionState  NIGHT ATTACKING REALLYDAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE
AliasConditionState  SNOW
AliasConditionState  SNOW ATTACKING
AliasConditionState  SNOW ATTACKING REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW NIGHT ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING REALLYDAMAGED
AliasConditionState  SNOW NIGHT REALLYDAMAGED
AliasConditionState  SNOW NIGHT RUBBLE

;Mortar Turret
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
TransitionKey  TRANS_MORTAR_NORMAL
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone   PRIMARY BarrelUp
WeaponFireFXBone   PRIMARY MuzzleUp
WeaponLaunchBone   PRIMARY MuzzleUp
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW NIGHT

TransitionState  TRANS_MORTAR_NORMAL TRANS_MORTAR_FIRING
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone   PRIMARY BarrelUp
WeaponFireFXBone   PRIMARY MuzzleUp
WeaponLaunchBone   PRIMARY MuzzleUp
End

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_MORTAR_FIRING
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone  PRIMARY BarrelUp
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING NIGHT
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW NIGHT

TransitionState  TRANS_MORTAR_FIRING TRANS_MORTAR_NORMAL
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone   PRIMARY BarrelUp
WeaponFireFXBone   PRIMARY MuzzleUp
WeaponLaunchBone   PRIMARY MuzzleUp
End

;Damaged Conditions

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
TransitionKey  TRANS_DAMAGED_MORTAR_NORMAL
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone   PRIMARY BarrelUp
WeaponFireFXBone   PRIMARY MuzzleUp
WeaponLaunchBone   PRIMARY MuzzleUp
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE NIGHT
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE SNOW
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE SNOW NIGHT

TransitionState  TRANS_DAMAGED_MORTAR_NORMAL TRANS_DAMAGED_MORTAR_FIRING
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone   PRIMARY BarrelUp
WeaponFireFXBone   PRIMARY MuzzleUp
WeaponLaunchBone   PRIMARY MuzzleUp
End

ConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_DAMAGED_MORTAR_FIRING
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone  PRIMARY BarrelUp
WeaponFireFXBone  PRIMARY MuzzleUp
WeaponLaunchBone  PRIMARY MuzzleUp
End
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING NIGHT
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW
AliasConditionState  REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW NIGHT

TransitionState  TRANS_DAMAGED_MORTAR_FIRING TRANS_DAMAGED_MORTAR_NORMAL
Model  RVBMD1
Animation  RVBMD1.RVBMD1
AnimationMode  ONCE_BACKWARDS
Flags  MAINTAIN_FRAME_ACROSS_STATES
Turret  TURRETUP
TurretPitch  TURRETUPEL
HideSubObject  CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
WeaponRecoilBone   PRIMARY BarrelUp
WeaponFireFXBone   PRIMARY MuzzleUp
WeaponLaunchBone   PRIMARY MuzzleUp
End

End

Draw  W3DModelDraw ModuleTag_TurretLights01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE NIGHT RUBBLE

ConditionState  NIGHT
Model  RVBMD1
Turret  TURRET_DUM
HideSubObject  CHASSIS TURRET TURRETUP TURRETEL01 BARRELMG01
End
AliasConditionState  NIGHT REALLYDAMAGED

End

Draw  W3DModelDraw ModuleMod_OverWater
DefaultConditionState
Model  NVTCrawler_W
End
AliasConditionState   MOVING
ConditionState        OVER_WATER
ParticleSysBone     TreadFX01 AmphibWaveRest
ParticleSysBone     TreadFX02 AmphibWaveRest
End
ConditionState        OVER_WATER MOVING
ParticleSysBone     TreadFX01 AmphibWave
ParticleSysBone     TreadFX02 AmphibWave
End
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              RVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleMod_ExitBones

DefaultConditionState
Model  RVBMP3_B
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BMD1
Side                   Russia
EditorSorting          VEHICLE
TransportSlotCount     5

WeaponSet
Conditions  None
Weapon            PRIMARY BMDMachineGunWeapon
PreferredAgainst  PRIMARY INFANTRY
Weapon            SECONDARY BMD1AntiTankGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY BMDMortarCannonGun
End

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

BuildCost        700
BuildTime        9.0          ;in seconds
VisionRange      200
ShroudClearingRange  225

Prerequisites
Object  RussiaWarFactory
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       RussianVehicleBMD1CommandSet

; *** AUDIO Parameters ***
VoiceSelect     BMDVoiceSelect
VoiceMove       BMDVoiceMove
VoiceGuard      BMDVoiceMove
VoiceAttack     BMDVoiceAttack
SoundMoveStart         BMP3MoveStart
SoundMoveStartDamaged  BMP3MoveStart
SoundEnter  HumveeEnter
SoundExit   HumveeExit

UnitSpecificSounds
VoiceCreate  BMDVoiceCreate
VoiceCrush   BMDVoiceMove
VoiceUnload  BMDVoiceUnload
VoiceEnter   BMDVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         75
TurretPitchRate        75
NaturalTurretPitch     5
MinPhysicalPitch       -10
AllowsPitch            Yes
RecenterTime           5000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End

Locomotor  SET_NORMAL BMD4Locomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
Slots                 5
EnterSound            GarrisonEnter
ExitSound             GarrisonExit
DamagePercentToUnits  0%
AllowInsideKindOf     INFANTRY
ExitDelay             250
NumberOfExitPaths     3
GoAggressiveOnExit    Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  WeaponSetUpgrade ModuleTag_Mortar01
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
FXListUpgrade  FX_UpgradeOrExpansionComplete
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalBMD1Debris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  USING_ABILITY
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object RussiaTankBlackBear

; *** ART Parameters ***
SelectPortrait          SRBlackBear_L
ButtonImage             SRBlackBear

Draw  W3DTankTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model             RVBlckBr
Animation         RVBlckBr.RVBlckBr
AnimationMode     ONCE
Flags             START_FRAME_LAST
HideSubObject     Armor01 Armor02 Armor03
Turret            Turret
WeaponFireFXBone  PRIMARY   Muzzle
WeaponLaunchBone  PRIMARY   Muzzle
WeaponFireFXBone  SECONDARY Muzzle
WeaponLaunchBone  SECONDARY Muzzle
WeaponFireFXBone  TERTIARY  WeaponA
WeaponLaunchBone  TERTIARY  WeaponA
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  FIRING_B

ConditionState  REALLYDAMAGED
Model              RVBlckBr_D
Animation          RVBlckBr_D.RVBlckBr_D
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED FIRING_A
Model              RVBlckBr_D
Animation          RVBlckBr_D.RVBlckBr_D
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_DAMAGED
End
AliasConditionState  REALLYDAMAGED  FIRING_B

;Upgraded with ERA Conditions

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject      Armor01 Armor02 Armor03
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  POWER_PLANT_UPGRADED FIRING_A
ShowSubObject      Armor01 Armor02 Armor03
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  POWER_PLANT_UPGRADED FIRING_B

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model              RVBlckBr_D
Animation          RVBlckBr_D.RVBlckBr_D
ShowSubObject      Armor01 Armor02 Armor03
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED FIRING_A
Model              RVBlckBr_D
Animation          RVBlckBr_D.RVBlckBr_D
Flags              START_FRAME_FIRST
ShowSubObject      Armor01 Armor02 Armor03
TransitionKey      TRANS_START_FIRING_DAMAGED
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED FIRING_B

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
Dust       Nada
DirtSpray  Nada

LeftFrontTireBone           TREADF01
RightFrontTireBone          TREADF02
TireRotationMultiplier      0   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw  W3DOverlordTankDraw ModuleTag_AttachmentBones01
ExtraPublicBone       FIREPOINT01
DefaultConditionState
Model                RVSent_B
Turret               Turret
End
TreadDebrisLeft     Nada
TreadDebrisRight    Nada
End

Draw  W3DModelDraw ModuleTag_ShtoraEffect01

ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  RVBlckBr_A1
Animation  RVBlckBr_A1.RVBlckBr_A1
AnimationMode  LOOP
Turret  Turret
HideSubObject  REDLIGHT01 REDEYE01 REDEYE02
End
AliasConditionState  DOOR_1_OPENING

ConditionState  DOOR_1_WAITING_OPEN
Model  RVBlckBr_A1
Animation  RVBlckBr_A1.RVBlckBr_A1
AnimationMode  LOOP
Turret  Turret
ShowSubObject  REDLIGHT01
HideSubObject  REDEYE01 REDEYE02
End

ConditionState  DOOR_1_CLOSING
Model  RVBlckBr_A1
Animation  RVBlckBr_A1.RVBlckBr_A1
AnimationMode  ONCE
Turret  Turret
ShowSubObject  REDLIGHT01 REDEYE01 REDEYE02
ParticleSysBone  REDEYE01 BlackbearShtoraActiveEffect
ParticleSysBone  REDEYE02 BlackbearShtoraActiveEffect
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Blackbear
Side                 Russia
EditorSorting        VEHICLE
TransportSlotCount   5                 ;how many "slots" we take in a transport (0 == not transportable)
MaxSimultaneousOfType  1
MaxSimultaneousLinkKey  Blackbear

WeaponSet
Conditions         None
Weapon             PRIMARY   BlackBearTankGun

Weapon             SECONDARY BlackBearTankThermobaricGun
AutoChooseSources  SECONDARY NONE

Weapon             TERTIARY  BlackBearTankAntiAirMissiles
PreferredAgainst   TERTIARY  AIRCRAFT
End

ArmorSet
Conditions         None
Armor              SentinelTankArmor
DamageFX           HeavyTankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ERASentinelTankArmor
DamageFX         HeavyTankEraDamageFX
End


BuildCost        5000
BuildTime        40.0          ;in seconds

VisionRange      250.0
ShroudClearingRange  275.0

Prerequisites
Object  RussiaWarFactory
Object  RussiaIndustrialSite
Science  SCIENCE_RussiaUrsaDivision
End

ExperienceValue     500 500 700  900  ;Experience point value at each level
ExperienceRequired  0   600 1200 1800 ;Experience points needed to gain each level
IsTrainable  Yes           ;Can gain experience
CrusherLevel            3  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet  RussianTankBlackBearCommandSet

; *** AUDIO Parameters ***
VoiceSelect            BlackBearTankVoiceSelect
VoiceMove              BlackBearTankVoiceMove
VoiceGuard             BlackBearTankVoiceMove
VoiceAttack            BlackBearTankVoiceAttack
VoiceAttackAir         BlackBearTankVoiceAttackAir
SoundMoveLoop          SentinelTankMoveLoop
SoundMoveLoopDamaged   SentinelTankMoveLoop
SoundAmbient           SentinelTankAmbientLoop

UnitSpecificSounds
VoiceCreate          BlackBearTankVoiceCreate
TurretMoveLoop       SentinelTankTurretMoveLoop
VoiceCrush           BlackBearTankVoiceMove
VoiceEnter           BlackBearTankVoiceMove
VoiceFlameLocation   BlackBearTankVoiceUseThermobaricShell
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE IMMUNE_TO_CAPTURE HERO GARRISONABLE_UNTIL_DESTROYED SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        2500.0
InitialHealth    2500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  5000
SubdualDamageHealRate  250
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         40
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End
Locomotor  SET_NORMAL SentinelTankLocomotor

Behavior  PhysicsBehavior ModuleTag_14
Mass  50.0
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_16
DestructionDelay  1800
DestructionDelayVariance  200
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaTankBlackbearDebris
FX   FINAL    WeaponFX_SentinelDeathExplosion
End

Behavior  ObjectCreationUpgrade ModuleTag_Arena01
UpgradeObject  OCL_SentinelArenaObject
TriggeredBy    Upgrade_RussiaSentinelArenaDefence
ConflictsWith  Upgrade_RussiaSentinelMissiles
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_Arena02
StartsActive   Yes
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       SentinelTankArenaDecalWeapon
ContinuousWeaponDamaged        SentinelTankArenaDecalWeapon
ContinuousWeaponReallyDamaged  SentinelTankArenaDecalWeapon
;No rubble weapon as this decal should disapear when dead
;ContinuousWeaponRubble
End

Behavior  OverlordContain ModuleTag_Arena03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       Yes
PayloadTemplateName      RussiaBlackbearArenaObject
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_Decal01
StartsActive   Yes
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       BlackBearDecalWeapon
ContinuousWeaponDamaged        BlackBearDecalWeapon
ContinuousWeaponReallyDamaged  BlackBearDecalWeapon
;No rubble weapon as this decal should disapear when dead
;ContinuousWeaponRubble
End

Behavior  CreateCrateDie ModuleTag_17
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
End

Behavior  ArmorUpgrade ModuleTag_20
TriggeredBy   Upgrade_RussiaTankERA
End

Behavior  PowerPlantUpgrade ModuleTag_UpgradeShowHide01
TriggeredBy  Upgrade_RussiaTankERA
End

Behavior  PowerPlantUpdate ModuleTag_UpgradeShowHide02
RodsExtendTime  33
End

;Smoke grenades
Behavior            OCLSpecialPower ModuleTag_SmokeGrenade01
SpecialPowerTemplate  SpecialAbilityRussianSmokeGrenades
OCL                   OCL_GrizzlyFragBurstAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_SmokeGrenade02
CollideWeapon   RussianSmokeGrenadeLaunchWeapon
RequiredStatus  BOOBY_TRAPPED
End

;Shtora Active defence
Behavior            OCLSpecialPower ModuleTag_Shtora01
SpecialPowerTemplate  SpecialAbilityRussianShtora
OCL                   OCL_BlackbearShtoraTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_Shtora02
CollideWeapon   GolemInvulnerabilityActivationWeapon
RequiredStatus  USING_ABILITY
End

Behavior  MissileLauncherBuildingUpdate ModuleTag_Shtora03
SpecialPowerTemplate  SpecialAbilityRussianShtora
DoorOpenTime          1650
DoorWaitOpenTime      1650
DoorCloseTime         7000
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Behavior  AutoHealBehavior ModuleTag_SelfRepair01
HealingAmount  4.0
HealingDelay  500
StartHealingDelay  5000
StartsActive  Yes
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  18.0
GeometryHeight  20.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object RussiaBlackbearArenaObject


Draw                     W3DDependencyModelDraw ModuleTag_01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                RVSent_Arn1
Animation            RVSent_Arn1.RVSent_Arn1
AnimationMode        LOOP
Turret               TURRET
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
End

ConditionState  RELOADING_A
Model                NONE
End
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_C

End

Draw                     W3DDependencyModelDraw ModuleTag_0323

AttachToBoneInContainer  FIREPOINT01
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                RVSent_Arn2
Animation            RVSent_Arn2.RVSent_Arn2
AnimationMode        ONCE_BACKWARDS
ParticleSysBone      LIGHT SentinelArenaActiveEffect
End

ConditionState  RELOADING_A
Model                RVSent_Arn2
Animation            RVSent_Arn2.RVSent_Arn2
AnimationMode        ONCE
End
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_C

End

; ***DESIGN parameters ***
Side              Russia
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions         None
Weapon             PRIMARY   NONE
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY ArenaAntiMissileCartrigeWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY
TurretTurnRate         720
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         30
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       9.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object RussiaBlackBearDecalObject

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCBlackbear
ShadowSizeX  120
ShadowSizeY  120

End
;------------------------------------------------------------------------------
Object RussiaVehicleArmsSupplier

; *** ART Parameters ***
SelectPortrait          SRArmsSupplier_L
ButtonImage             SRArmsSupplier

Draw  W3DTruckDraw ModuleTag_01

ConditionState  NONE
Model          RVArmsSup
Animation      RVArmsSup.RVArmsSup
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
ShowSubObject  CLOTH02
HideSubObject  WEAPONS01 WEAPONS06
End

ConditionState  UNPACKING
Model          RVArmsSup
Animation      RVArmsSup.RVArmsSup
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  CLOTH02 WEAPONS01 WEAPONS06
End

ConditionState  FIRING_A
Model          RVArmsSup
Animation      RVArmsSup.RVArmsSup
AnimationMode  ONCE
Flags          START_FRAME_LAST
ShowSubObject  WEAPONS01 WEAPONS06
HideSubObject  CLOTH02
End

ConditionState  PACKING
Model          RVArmsSup
Animation      RVArmsSup.RVArmsSup
AnimationMode  ONCE_BACKWARDS
Flags          MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  CLOTH02 WEAPONS01 WEAPONS06
End

ConditionState  REALLYDAMAGED
Model          RVArmsSup_D
Animation      RVArmsSup_D.RVArmsSup_D
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
ShowSubObject  CLOTH02
HideSubObject  WEAPONS01 WEAPONS06
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED UNPACKING
Model          RVArmsSup_D
Animation      RVArmsSup_D.RVArmsSup_D
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  CLOTH02 WEAPONS01 WEAPONS06
End

ConditionState  REALLYDAMAGED FIRING_A
Model          RVArmsSup_D
Animation      RVArmsSup_D.RVArmsSup_D
AnimationMode  ONCE
Flags          START_FRAME_LAST
ShowSubObject  WEAPONS01 WEAPONS06
HideSubObject  CLOTH02
End

ConditionState  REALLYDAMAGED PACKING
Model          RVArmsSup_D
Animation      RVArmsSup_D.RVArmsSup_D
AnimationMode  ONCE_BACKWARDS
Flags          MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  CLOTH02 WEAPONS01 WEAPONS06
End

TrackMarks  EXTireTrack.tga
OkToChangeModelColor  Yes

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
MidLeftRearTireBone    TIRE03
MidRightRearTireBone   TIRE04
LeftRearTireBone       TIRE05
RightRearTireBone      TIRE06

TireRotationMultiplier  0.2        ; this * speed  rotation.

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              RVArmsSup_B
Animation          RVArmsSup_B.RVArmsSup_B
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  PACKING
AliasConditionState  UNPACKING
AliasConditionState  MOVING
AliasConditionState  MOVING PACKING
AliasConditionState  MOVING UNPACKING

ConditionState       FIRING_A
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
End
AliasConditionState  MOVING FIRING_A

End

; ***DESIGN parameters ***
DisplayName       OBJECT:ArmsSupplier
Side  Russia
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TruckDamageFX
End

BuildCost        1900
BuildTime        20.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object  RussiaIndustrialSite
End

ExperienceValue     100 100 100 100 ;Experience point value at each level
IsTrainable      No
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianVehicleArmsSupplierCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ArmsSupplierVoiceSelect
VoiceMove    ArmsSupplierVoiceMove
VoiceGuard   ArmsSupplierVoiceMove
SoundMoveStart         ArmsSupplierMoveStart
SoundMoveStartDamaged  ArmsSupplierMoveStart

UnitSpecificSounds
VoiceCreate           ArmsSupplierVoiceCreate
VoiceCrush            ArmsSupplierVoiceMove
VoiceEnter            ArmsSupplierVoiceMove
VoiceGarrison         ArmsSupplierVoiceGarrison
VoiceHackInternet     ArmsSupplierVoiceDeploy
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE IGNORES_SELECT_ALL MONEY_HACKER

Body  ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0

SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  HackInternetAIUpdate ModuleTag_05
UnpackTime           1800
PackTime             1800
CashUpdateDelay      2500
CashUpdateDelayFast  2500
RegularCashAmount    20
VeteranCashAmount    20
EliteCashAmount      20
HeroicCashAmount     20
XpPerCashUpdate      0
PackUnpackVariationFactor  0.3
End
Locomotor  SET_NORMAL ArmsSupplierLocomotor

Behavior  InstantDeathBehavior ModuleTag_06
DeathTypes  ALL -CRUSHED -SPLATTED
FX   FX_BattleMasterExplosionOneFinal
OCL  OCL_RussiaArmsSupplierDeathEffect
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FXListDie ModuleTag_15
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_GenericTankDeathEffect
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  OverlordContain ModuleTag_DeployMarkerDecal01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      RussianArmsSupplierDeployedDecal
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.0
GeometryHeight  10.0  ; height set to allow clear clipping of projectile streams
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RussianArmsSupplierDeployedDecal

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                2.0
ShadowTexture  SCCDplyMrkr; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  45
ShadowSizeY  45

End
;------------------------------------------------------------------------------
Object RussiaJetFulcrum

; *** ART Parameters ***
SelectPortrait           RUSFulcrum
ButtonImage              RUSFulcrum

Draw   W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones   Yes
ProjectileBoneFeedbackEnabledSlots   PRIMARY SECONDARY
;ExtraPublicBone   ROOT


ConditionState   NONE
Model             CWCruMiG29
Flags             MAINTAIN_FRAME_ACROSS_STATES
WeaponLaunchBone   PRIMARY WEAPONA
WeaponLaunchBone   SECONDARY WEAPONB
End

ConditionState   MOVING
Model             CWCruMiG29
ParticleSysBone   WingTip01 JetContrailThin
ParticleSysBone   WingTip02 JetContrailThin
ParticleSysBone   Engine01 RussiaEngineFlare
ParticleSysBone   Engine02 RussiaEngineFlare
WeaponLaunchBone   PRIMARY WEAPONA
WeaponLaunchBone   SECONDARY WEAPONB
End

ConditionState   DAMAGED
Model   CWCruMiG29_d
Flags             MAINTAIN_FRAME_ACROSS_STATES
HideSubObject     BARREL01
End
AliasConditionState   REALLYDAMAGED
AliasConditionState   RUBBLE

ConditionState   DAMAGED MOVING
Model   CWCruMiG29_d
ParticleSysBone   WingTip01 JetContrailThin
ParticleSysBone   WingTip02 JetContrailThin
ParticleSysBone   Engine01 RussiaEngineFlare
ParticleSysBone   Engine02 RussiaEngineFlare
HideSubObject     BARREL01
End
AliasConditionState   REALLYDAMAGED MOVING
AliasConditionState   RUBBLE MOVING

End

Draw                      W3DModelDraw ModuleTag_GoliathBits01
OkToChangeModelColor    Yes

DefaultConditionState
Model                 NVDeva_U2
Turret                CHASSIS
End
AliasConditionState   REALLYDAMAGED
AliasConditionState   RUBBLE
AliasConditionState   RUBBLE SPECIAL_DAMAGED

End

Draw   W3DModelDraw ModuleTag_GoliathEffect01

ParticlesAttachedToAnimatedBones   Yes

DefaultConditionState
Model   EXGolthAura
Animation   EXGolthAura.EXGolthAura
AnimationMode   LOOP
HideSubObject   Plane01
End
AliasConditionState   DOOR_1_OPENING
AliasConditionState   DOOR_1_WAITING_OPEN

ConditionState   DOOR_1_CLOSING
Model   EXGolthAura
Animation   EXGolthAura.EXGolthAura
AnimationMode   ONCE
ShowSubObject   Plane01
End
AliasConditionState   DOOR_1_WAITING_TO_CLOSE

End

; ***DESIGN parameters ***
DisplayName               OBJECT:Fulcrum
EditorSorting             VEHICLE
Side                      Russia
TransportSlotCount        0 ;how many "slots" we take in a transport (0    not transportable)
VisionRange               400.0
ShroudClearingRange       400.0

WeaponSet
Conditions None
Weapon PRIMARY  R27_MRAAM_Fulcrum
PreferredAgainst PRIMARY AIRCRAFT
AutoChooseSources PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon SECONDARY R73_SRAAM_Fulcrum
Weapon TERTIARY BerkutCannonWeaponaAir
End

ArmorSet
Conditions              None
Armor                   AirplaneArmor
DamageFX                None
End


BuildCost                 1500
BuildTime                 30
ExperienceValue           50 50 100 150  ;Experience point value at each level
ExperienceRequired        0 50 100 200   ;Experience points needed to gain each level
IsTrainable               Yes             ;Can gain experience
CrusherLevel              1  ;What can I crush?: 1   infantry, 2   trees, 3   vehicles
CrushableLevel            2  ;What am I?:        0   for infantry, 1   for trees, 2   general vehicles
CommandSet                RussianJetFulcrumCommandSet

; *** AUDIO Parameters ***
VoiceSelect              GenericRusAircraftVoiceSelect
VoiceMove                GenericRusAircraftVoiceMove
VoiceAttack              GenericRusAircraftVoiceAttack
VoiceAttackAir           GenericRusAircraftVoiceAttack
VoiceGuard               GenericRusAircraftVoiceMove
SoundAmbient             BerkutAmbientLoop
SoundAmbientRubble       NoSound

UnitSpecificSounds
VoiceCreate            GenericRusAircraftVoiceCreate
Afterburner            RaptorAfterburner
VoiceGarrison          GenericRusAircraftVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority            UNIT
KindOf                   PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                     ActiveBody ModuleTag_02
MaxHealth              200.0
InitialHealth          200.0
SubdualDamageCap         900
SubdualDamageHealRate    500
SubdualDamageHealAmount   50
End

Behavior                            JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                   FX_JetOnGroundDeath
OCLOnGroundDeath                  OCL_FulcrumDeathFinalBlowUp
DestructionDelay                  99999999; destruction will happen when we
RollRate                          0.2
RollRateDelta                     100% ;each frame, rollrate   rollrate * rollrateDelta
PitchRate                         0.0
FallHowFast                       110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                    FX_BerkutDeathInitial
OCLInitialDeath                   OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath    500  ; in milliseconds
FXSecondary                       FX_JetDeathSecondary
OCLSecondary                      OCL_RaptorDeathSecondary
FXHitGround                       FX_JetDeathHitGround
OCLHitGround                      OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround     200 ; in milliseconds
FXFinalBlowUp                     FX_JetDeathFinalBlowUp
OCLFinalBlowUp                    OCL_FulcrumDeathFinalBlowUp
End

Behavior                 PhysicsBehavior ModuleTag_07
Mass                   500.0
End

Behavior                   TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1           Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior   JetAIUpdate ModuleTag_09

Turret
TurretTurnRate   0
ControlledWeaponSlots PRIMARY SECONDARY
End

OutOfAmmoDamagePerSecond    10%
TakeoffDistForMaxLift       0%
TakeoffPause                500
MinHeight                   5
ParkingOffset               3
ReturnToBaseIdleTime        10000
End

Locomotor   SET_NORMAL RussiaFulcrumJetLocomotor
Locomotor   SET_TAXIING BasicJetTaxiLocomotor

Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior   FireWeaponCollide ModuleTag_AircraftCrateCollide01
CollideWeapon     AircraftCratePickupDummySpawner
RequiredStatus    IS_CARBOMB
End

Behavior             OCLSpecialPower ModuleTag_GoliathUpgrade01
SpecialPowerTemplate   SpecialAbilityRussiaGoliathSystem
OCL                    OCL_UniversalAbbilityTriggerAircraft
CreateLocation         USE_OWNER_OBJECT
End

Behavior   FireWeaponCollide ModuleTag_GoliathUpgrade02
CollideWeapon    GoliathInvulnerabilityWeapon
RequiredStatus   USING_ABILITY
End

Behavior   FireWeaponUpdate ModuleTag_GoliathUpgrade03
Weapon   GenericCollisionDummyWeapon
End

Behavior   ModelConditionUpgrade ModuleTag_GoliathUpgrade04
ConditionFlag   USER_1
TriggeredBy   Upgrade_RussiaGoliathDefence
End

Behavior   CommandSetUpgrade ModuleTag_GoliathUpgrade05
CommandSet   RussianJetFulcrumGoliathCommandSet
TriggeredBy     Upgrade_RussiaGoliathDefence
End

Behavior   MaxHealthUpgrade ModuleTag_GoliathUpgrade07
TriggeredBy     Upgrade_RussiaGoliathDefence
AddMaxHealth    35.0
ChangeType      ADD_CURRENT_HEALTH_TOO
End

Behavior   MissileLauncherBuildingUpdate ModuleTag_GoliathUpgrade08
SpecialPowerTemplate   SpecialAbilityRussiaGoliathSystem
End

Behavior    ArmorUpgrade ModuleTag_ArmorCountermeasures01
TriggeredBy    Upgrade_RussiaGoliathDefence
End


Behavior                  CountermeasuresBehavior ModuleTag_ArmorCountermeasures03
TriggeredBy             Upgrade_RussiaGoliathDefence
FlareTemplateName       CountermeasureFlare
FlareBoneBaseName       Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize              1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle          60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor    0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys     200    ; Time between flare volleys
NumberOfVolleys         24     ; Number of times the volleys will fire before reloading
ReloadTime              0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate             30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency   0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay       200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranPilotAirplaneSpecialists
End

Geometry                   Box
GeometryIsSmall            Yes
GeometryMajorRadius        14.0
GeometryMinorRadius        7.0
GeometryHeight             5.0
Shadow                     SHADOW_VOLUME
ShadowSizeX   89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;------------------------------------------------------------------------------
; Ударный вертолет Оборотень
;------------------------------------------------------------------------------
Object RussiaVehicleWereWolf

; *** ART Parameters ***
SelectPortrait         = SRWereWolf
ButtonImage            = SRWereWolf


Draw = W3DModelDraw ModuleTag_01

OkToChangeModelColor = Yes

DefaultConditionState
Model                           = RVHokum
Animation                       = RVHokum.RVHokum
AnimationMode                   = LOOP
Turret                          = CHASSIS
TurretPitch                     = TURRETEL
WeaponFireFXBone                = PRIMARY   Muzzle
WeaponLaunchBone                = PRIMARY   Muzzle
WeaponFireFXBone                = SECONDARY WeaponA
WeaponLaunchBone                = SECONDARY WeaponA
End

ConditionState                    = REALLYDAMAGED
Model                           = RVHokum_d
Animation                       = RVHokum_d.RVHokum_d
End


;Crashing Conditions

ConditionState = RUBBLE
Model                           = RVHokum_d
Animation                       = RVHokum_d.RVHokum_d
AnimationMode                   = LOOP
End

ConditionState = RUBBLE SPECIAL_DAMAGED
Model                           = RVHokum_d
AnimationMode                   = MANUAL
HideSubObject                   = Prop02 Props01
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:WereWolf
EditorSorting       = VEHICLE
Side                = Russia
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 300.0
ShroudClearingRange = 300.0

Prerequisites
Object  = RussiaHelipad
End

WeaponSet
Conditions          = None
Weapon              = PRIMARY   WereWolf30mmCannonWeapon
PreferredAgainst    = PRIMARY   INFANTRY
Weapon              = SECONDARY WereWolfAntiTankMissileWeapon
End

ArmorSet
Conditions      = None
Armor           = ComancheArmor
DamageFX        = None
End

BuildCost           = 1800

BuildTime           = 20              ; in seconds
ExperienceValue     = 50 50 100 200   ; Experience point value at each level
ExperienceRequired  = 0 200 400 600   ; Experience points needed to gain each level
IsTrainable         = Yes             ; Can gain experience
CommandSet          = RussianVehicleHellionCommandSet

; *** AUDIO Parameters ***
VoiceSelect           = WereWolfVoiceSelect
VoiceMove             = WereWolfVoiceMove
VoiceGuard            = WereWolfVoiceMove
VoiceAttack           = WereWolfVoiceAttack
SoundAmbient          = BlackSharkAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate         = WereWolfVoiceCreate
VoiceGarrison       = WereWolfVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority   = UNIT
KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Body = ActiveBody ModuleTag_04
MaxHealth       = 225.0
InitialHealth   = 225.0

SubdualDamageCap       = 900
SubdualDamageHealRate  = 500
SubdualDamageHealAmount = 50
End

Behavior = FXListDie ModuleTag_05
DeathFX = FX_HokumStartDeath
End

Behavior = ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate        = 110
TurretPitchRate       = 180
AllowsPitch           = No
ControlledWeaponSlots = PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle = Yes
TurretsLinked              = Yes
End

Locomotor = SET_NORMAL  KA50Locomotor
Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior = PhysicsBehavior ModuleTag_07
Mass = 150.0
End

Behavior = HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                = 99999999        ; the destruction delay
SpiralOrbitTurnRate             = 100.0           ; in degrees per second, bigger # = tighter spiral
SpiralOrbitForwardSpeed         = 180.0           ; bigger # = larger spiral
SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
MaxBraking                      = 500   ; max braking we can use during death spiral (lower num = wilder spiral)
SoundDeathLoop                  = ComancheDamagedLoop
MinSelfSpin                     = 60                     ; in degrees per second
MaxSelfSpin                     = 120                     ; in degrees per second
SelfSpinUpdateDelay             = 100             ; in milliseconds
SelfSpinUpdateAmount            = 25             ; in degrees
FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
MinBladeFlyOffDelay             = 1500            ; in milliseconds
MaxBladeFlyOffDelay             = 1500            ; in milliseconds
AttachParticle                  = SootySmokeTrail
AttachParticleBone              = Propeller02
BladeObjectName                 = ComancheBlades
BladeBoneName                   = Propeller01
FXHitGround                     = FX_HelicopterHitGround
OCLHitGround                    = OCL_HelicopterHitGround
FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath     = 0
FinalRubbleObject               = RussiaWereWolfRubbleHull
End

Behavior = TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

;Behavior = WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
;TriggeredBy = Upgrade_PercentageParameterOfTheWeapon
;End
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranPilotHelicopter
End

Geometry = BOX
GeometryMajorRadius = 20.0
GeometryMinorRadius = 5.0
GeometryHeight = 25.0
GeometryIsSmall = No
Shadow = SHADOW_VOLUME
ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; Тяжелый Транспортный вертолет Хало
;------------------------------------------------------------------------------
Object RussiaVehicleHalo

; *** ART Parameters ***
SelectPortrait SRHalo
ButtonImage    SRHalo

Draw   W3DModelDraw ModuleTag_01
DefaultConditionState
Model             RVHalo
Animation         RVHalo.RVHalo
AnimationMode     LOOP
HideSubObject     Door01 Door02
ParticleSysBone   ENGINE01 HelixExhaust
ParticleSysBone   ENGINE02 HelixExhaust
End

ConditionState   DAMAGED
Model             RVHalo_D
Animation         RVHalo_D.RVHalo_D
AnimationMode     LOOP
HideSubObject     Door01 Door02
ParticleSysBone   ENGINE01 HelixExhaust
ParticleSysBone   ENGINE02 HelixExhaust
ParticleSysBone   ENGINE01 JetSmokeLarge
End

ConditionState   REALLYDAMAGED
Model             RVHalo_D
Animation         RVHalo_D.RVHalo_D
AnimationMode     LOOP
HideSubObject     Door01 Door02
ParticleSysBone   ENGINE01 HelixExhaust
ParticleSysBone   ENGINE02 HelixExhaust
ParticleSysBone   ENGINE01 JetSmokeLarge
ParticleSysBone   ENGINE02 JetSmokeLarge
End

ConditionState   RUBBLE
Model             RVHalo_D
Animation         RVHalo_D.RVHalo_D
AnimationMode     LOOP
HideSubObject     Door01 Door02
ParticleSysBone   ENGINE01 HelixExhaust
ParticleSysBone   ENGINE02 HelixExhaust
ParticleSysBone   ENGINE01 JetSmokeLarge
ParticleSysBone   ENGINE02 JetSmokeLarge
End

OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones   Yes

End

Draw   W3DModelDraw ModuleTag_02
DefaultConditionState
Model             RVHalo
Animation         RVHalo.RVHalo
AnimationMode     MANUAL
HideSubObject     Chassis
Flags             START_FRAME_FIRST
End
ConditionState   DOOR_1_OPENING
Model             RVHalo
Animation         RVHalo.RVHalo
AnimationMode     ONCE
HideSubObject     Chassis
Flags             START_FRAME_FIRST
End
ConditionState   DOOR_1_CLOSING
Model             RVHalo
Animation         RVHalo.RVHalo
AnimationMode     ONCE_BACKWARDS
HideSubObject     Chassis
Flags             START_FRAME_LAST
End

ConditionState   DAMAGED
Model             RVHalo_D
Animation         RVHalo_D.RVHalo_D
AnimationMode     MANUAL
HideSubObject     Chassis
Flags             START_FRAME_FIRST
End
AliasConditionState   REALLYDAMAGED
AliasConditionState   RUBBLE

ConditionState   DAMAGED DOOR_1_OPENING
Model             RVHalo_D
Animation         RVHalo_D.RVHalo_D
AnimationMode     ONCE
HideSubObject     Chassis
Flags             START_FRAME_FIRST
End
AliasConditionState   REALLYDAMAGED DOOR_1_OPENING
AliasConditionState   RUBBLE DOOR_1_OPENING

ConditionState   DAMAGED DOOR_1_CLOSING
Model             RVHalo_D
Animation         RVHalo_D.RVHalo_D
AnimationMode     ONCE_BACKWARDS
HideSubObject     Chassis
Flags             START_FRAME_LAST
End
AliasConditionState   REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState   RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName           OBJECT:Halo
EditorSorting         VEHICLE
Side                  Russia
TransportSlotCount    0                 ;how many "slots" we take in a transport (0    not transportable)
VisionRange           200.0
ShroudClearingRange   200.0

Prerequisites
Object RussiaHelipad
Object RussiaWeaponsBunker
End

ArmorSet
Conditions        None
Armor             ComancheArmor
DamageFX          None
End

BuildCost             1500

BuildTime             20              ; in seconds
ExperienceValue       80 80  150 300  ; Experience point value at each level
ExperienceRequired    0  50 125 200  ; Experience points needed to gain each leve
IsTrainable           Yes             ; Can gain experience
CommandSet            RussiaVehicleHaloCommandSet

; *** AUDIO Parameters ***
VoiceSelect             HunchbackVoiceSelect
VoiceMove               HunchbackVoiceMove
VoiceGuard              HunchbackVoiceMove
VoiceAttack             HunchbackVoiceAttack
VoiceAttackAir          HunchbackVoiceAttack
SoundAmbient            HunchbackAmbientLoop
SoundEnter              HumveeEnter
SoundExit               HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode   SomeNameSomewhereInLookupINIs
VoiceCreate           HunchbackVoiceCreate
VoiceUnload           HunchbackVoiceUnload
End


; *** ENGINEERING Parameters ***
RadarPriority     UNIT
KindOf            PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD TRANSPORT

Body   ActiveBody ModuleTag_03
MaxHealth         600.0
InitialHealth     600.0

SubdualDamageCap         900
SubdualDamageHealRate    500
SubdualDamageHealAmount   50
End

Behavior   FXListDie ModuleTag_04
DeathFX   FX_HunchbackStartDeath
End

Behavior   ChinookAIUpdate ModuleTag_05
Turret
TurretTurnRate          0
TurretPitchRate         180
MinPhysicalPitch        -90
AllowsPitch             Yes
ControlledWeaponSlots   PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle   Yes NOTWHILEATTACKING
RotorWashParticleSystem      HelixRotorWashRing
End

Locomotor   SET_NORMAL  HunchbackLocomotor
Locomotor   SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior   PhysicsBehavior ModuleTag_06
Mass   50.0
End

Behavior   CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

;Behavior   LockWeaponCreate ModuleTag_WeaponLock01
;SlotToLock   SECONDARY
;End

;Behavior             OCLSpecialPower ModuleTag_GoliathUpgrade01
;SpecialPowerTemplate   SpecialAbilityRussiaGoliathSystem
;OCL                    OCL_UniversalAbbilityTriggerAircraft
;CreateLocation         USE_OWNER_OBJECT
;End

;Behavior   FireWeaponCollide ModuleTag_GoliathUpgrade02
;CollideWeapon    GoliathInvulnerabilityWeapon
;RequiredStatus   USING_ABILITY
;End

;Behavior   FireWeaponUpdate ModuleTag_GoliathUpgrade03
;Weapon   GenericCollisionDummyWeapon
;End

;Behavior   ModelConditionUpgrade ModuleTag_GoliathUpgrade04
;ConditionFlag   USER_1
;TriggeredBy   Upgrade_RussiaGoliathDefence
;End

;Behavior   CommandSetUpgrade ModuleTag_GoliathUpgrade06
;CommandSet   RussianVehicleBoltCommandSet_Goliath
;TriggeredBy   Upgrade_RussiaGoliathDefence
;RequiresAllTriggers   Yes
;End

;Behavior   MaxHealthUpgrade ModuleTag_GoliathUpgrade07
;TriggeredBy     Upgrade_RussiaGoliathDefence
;AddMaxHealth    100.0
;ChangeType      ADD_CURRENT_HEALTH_TOO
;End

;Behavior   MissileLauncherBuildingUpdate ModuleTag_GoliathUpgrade08
;SpecialPowerTemplate   SpecialAbilityRussiaGoliathSystem
;End

Behavior   HelicopterSlowDeathBehavior ModuleTag_07
DestructionDelay                  99999999        ; the destruction delay
SpiralOrbitTurnRate               100.0           ; in degrees per second, bigger #   tighter spiral
SpiralOrbitForwardSpeed           180.0           ; bigger #   larger spiral
SpiralOrbitForwardSpeedDamping    .9999           ; smaller #'s   slow down faster
MaxBraking                        500   ; max braking we can use during death spiral (lower num   wilder spiral)
SoundDeathLoop                    HelixDamagedLoop
MinSelfSpin                       60                     ; in degrees per second
MaxSelfSpin                       120                     ; in degrees per second
SelfSpinUpdateDelay               100             ; in milliseconds
SelfSpinUpdateAmount              25             ; in degrees
FallHowFast                       12.0%  ; fraction of gravity, lower   take longer to fall
MinBladeFlyOffDelay               1500            ; in milliseconds
MaxBladeFlyOffDelay               1500            ; in milliseconds
AttachParticle                    SootySmokeTrail
AttachParticleBone                Propeller02
BladeObjectName                   ComancheBlades
BladeBoneName                     Propeller01
FXHitGround                       FX_HelicopterHitGround
OCLHitGround                      OCL_HindHitGround
FXFinalBlowUp                     FX_GroundedHindBlowUp
OCLFinalBlowUp                    OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath       0
FinalRubbleObject                 RussiaHaloRubbleHull
End

Behavior   HelixContain ModuleTag_08
Slots                   18
DamagePercentToUnits    100%
AllowInsideKindOf       INFANTRY VEHICLE
ExitDelay               250
NumberOfExitPaths       1
End

Behavior   TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1           Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

;Behavior   FireWeaponCollide ModuleTag_AircraftCrateCollide01
;CollideWeapon     AircraftCratePickupDummySpawner
;RequiredStatus    IS_CARBOMB
;End

;Behavior    ArmorUpgrade ModuleTag_ArmorCountermeasures01
;TriggeredBy    Upgrade_RussiaGoliathDefence
;End


;Behavior                  CountermeasuresBehavior ModuleTag_ArmorCountermeasures03
;TriggeredBy             Upgrade_RussiaGoliathDefence
;FlareTemplateName       CountermeasureFlare
;FlareBoneBaseName       Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
;VolleySize              1      ; Number of flares launched per volley (requires bones)
;VolleyArcAngle          60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
;VolleyVelocityFactor    0.45   ; Shoots out flares at a stronger velocity with a higher value.
;DelayBetweenVolleys     200    ; Time between flare volleys
;NumberOfVolleys         24     ; Number of times the volleys will fire before reloading
;ReloadTime              0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
;EvasionRate             30%    ; With active flares, the specified percentage will be diverted.
;ReactionLaunchLatency   0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
;MissileDecoyDelay       200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
;End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranPilotHelicopter
End

Geometry = BOX
GeometryMajorRadius = 20.0
GeometryMinorRadius = 5.0
GeometryHeight = 25.0
GeometryIsSmall = No
Shadow = SHADOW_VOLUME
ShadowSizeX = 89  ;

End
;------------------------------------------------------------------------------
; Зенитная Самаходная Установка Грейхаунд
;------------------------------------------------------------------------------
Object RussiaVehicleGreyhound

; *** ART Parameters ***
SelectPortrait         = RVGreyhound
ButtonImage            = RVGreyhound

Draw = W3DTruckDraw ModuleTag_01
OkToChangeModelColor = Yes


DefaultConditionState
Model            = RVPantsir
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE_BACKWARDS
Turret           = TURRET01
TurretPitch      = TURRETEL01
Flags            = START_FRAME_FIRST
WeaponLaunchBone = PRIMARY WEAPONA
WeaponFireFXBone = PRIMARY WEAPONA
WeaponLaunchBone = SECONDARY WEAPONB
WeaponFireFXBone = SECONDARY WEAPONBFX
WeaponLaunchBone = TERTIARY WEAPONA
WeaponFireFXBone = TERTIARY WEAPONA
HideSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = REALLYDAMAGED
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE_BACKWARDS
Turret           = TURRET01
TurretPitch      = TURRETEL01
Flags            = START_FRAME_FIRST
WeaponLaunchBone = PRIMARY WEAPONA
WeaponFireFXBone = PRIMARY WEAPONA
WeaponLaunchBone = SECONDARY WEAPONB
WeaponFireFXBone = SECONDARY WEAPONBFX
WeaponLaunchBone = TERTIARY WEAPONA
WeaponFireFXBone = TERTIARY WEAPONA
HideSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = RUBBLE
Model            = RVPantsir_E
Turret           = TURRET
End

;*** PACKED STATE -- ready to move ***
ConditionState = MOVING
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_FIRST
HideSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = REALLYDAMAGED MOVING
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_FIRST
HideSubObject    = LIGHT01 BACKLIGHT01
End

;*** UNPACKING STATE  -- preparing to fire ***
ConditionState = UNPACKING
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE
HideSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = REALLYDAMAGED UNPACKING
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE
HideSubObject    = LIGHT01 BACKLIGHT01
End

;*** PACKING STATE -- preparing to move ***
ConditionState = PACKING
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_LAST
HideSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = REALLYDAMAGED PACKING
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_LAST
HideSubObject    = LIGHT01 BACKLIGHT01
End

;*** DEPLOYED STATE -- ready to fire ***
ConditionState  = DEPLOYED
Model            = RVPantsir_a
Animation        = RVPantsir_a.RVPantsir_a
AnimationMode    = LOOP
Flags            = START_FRAME_LAST
HideSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = DEPLOYED REALLYDAMAGED
Model            = RVPantsir_aD
Animation        = RVPantsir_aD.RVPantsir_aD
AnimationMode    = LOOP
Flags            = START_FRAME_LAST
HideSubObject    = LIGHT01 BACKLIGHT01
End


;NIGHT

ConditionState = NIGHT
Model            = RVPantsir
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE_BACKWARDS
Turret           = TURRET
Flags            = START_FRAME_FIRST
WeaponLaunchBone = PRIMARY LAUNCH
WeaponFireFXBone = PRIMARY FIREFXA
WeaponLaunchBone = SECONDARY LAUNCH
WeaponFireFXBone = SECONDARY FIREFXA
WeaponLaunchBone = TERTIARY WEAPONB
WeaponFireFXBone = TERTIARY FIREFXB
ShowSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = NIGHT REALLYDAMAGED
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE_BACKWARDS
Turret           = TURRET
Flags            = START_FRAME_FIRST
WeaponLaunchBone = PRIMARY LAUNCH
WeaponFireFXBone = PRIMARY FIREFXA
WeaponLaunchBone = SECONDARY LAUNCH
WeaponFireFXBone = SECONDARY FIREFXA
WeaponLaunchBone = TERTIARY WEAPONB
WeaponFireFXBone = TERTIARY FIREFXB
ShowSubObject    = LIGHT01 BACKLIGHT01
End

;*** PACKED STATE -- ready to move ***
ConditionState = NIGHT MOVING
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_FIRST
ShowSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = NIGHT REALLYDAMAGED MOVING
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_FIRST
ShowSubObject    = LIGHT01 BACKLIGHT01
End

;*** UNPACKING STATE  -- preparing to fire ***
ConditionState = NIGHT UNPACKING
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE
ShowSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = NIGHT REALLYDAMAGED UNPACKING
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE
ShowSubObject    = LIGHT01 BACKLIGHT01
End

;*** PACKING STATE -- preparing to move ***
ConditionState = NIGHT PACKING
Animation        = RVPantsir.RVPantsir
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_LAST
ShowSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = NIGHT REALLYDAMAGED PACKING
Model            = RVPantsir_D
Animation        = RVPantsir_D.RVPantsir_D
AnimationMode    = ONCE_BACKWARDS
Flags            = START_FRAME_LAST
ShowSubObject    = LIGHT01 BACKLIGHT01
End

;*** DEPLOYED STATE -- ready to fire ***
ConditionState  = NIGHT DEPLOYED
Model            = RVPantsir_a
Animation        = RVPantsir_a.RVPantsir_a
AnimationMode    = ONCE
Flags            = START_FRAME_LAST
ShowSubObject    = LIGHT01 BACKLIGHT01
End

ConditionState = NIGHT DEPLOYED REALLYDAMAGED
Model            = RVPantsir_aD
Animation        = RVPantsir_aD.RVPantsir_aD
AnimationMode    = ONCE
Flags            = START_FRAME_LAST
ShowSubObject    = LIGHT01 BACKLIGHT01
End


TrackMarks = EXTireTrack.tga

Dust = ScudLauncherDust
DirtSpray = RocketBuggyDirtSpray
PowerslideSpray = RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension = Yes.
LeftFrontTireBone = WHEEL01
RightFrontTireBone = WHEEL03
LeftRearTireBone = WHEEL06
RightRearTireBone = WHEEL08
MidLeftFrontTireBone = WHEEL02
MidRightFrontTireBone = WHEEL04
MidLeftRearTireBone = WHEEL05
MidRightRearTireBone = WHEEL07

TireRotationMultiplier = 0.2   ; this * speed = rotation.
;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

End


; ***DESIGN parameters ***
DisplayName         OBJECT:Greyhound
Side                Russia
EditorSorting       VEHICLE
TransportSlotCount  20            ;how many "slots" we take in a transport (0 == not transportable)
BuildCost           1400
BuildTime           14
VisionRange         = 200
ShroudClearingRange = 250

WeaponSet
Conditions = None
Weapon                  = PRIMARY   TunguskaAutoCannon
PreferredAgainst        = PRIMARY   STRUCTURE
AutoChooseSources       = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon                  = SECONDARY TunguskaMissiles
AutoChooseSources       = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon                  = TERTIARY  TunguskaAutoCannonAir
AutoChooseSources       = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
End

ArmorSet
Conditions = None
Armor             = TruckArmor
DamageFX          = TankDamageFX
End


Prerequisites
Object RussiaWarFactory
End

ExperienceValue     = 50 50 100 150  ;Experience point value at each level
ExperienceRequired  = 0 100 200 300  ;Experience points needed to gain each level
IsTrainable         = Yes             ;Can gain experience
CrusherLevel        = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

CommandSet          = RussianVehicleGreyhoundCommandSet

; *** AUDIO Parameters ***
VoiceSelect       GenericAntiAirRusVoiceSelect
VoiceMove         GenericAntiAirRusVoiceMove
VoiceGuard        GenericAntiAirRusVoiceMove
VoiceAttack       GenericAntiAirRusVoiceAttack
SoundMoveStart    ScudLauncherMoveStart
SoundMoveStartDamaged ScudLauncherMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate     GenericAntiAirRusVoiceCreate
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound
VoiceCrush          = InfernoCannonVoiceCrush
VoiceEnter         GenericAntiAirRusVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER FS_TECHNOLOGY SCORE

Body = ActiveBody ModuleTag_02
MaxHealth       = 350.0
InitialHealth   = 350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 480
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = DeployStyleAIUpdate ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
NaturalTurretAngle  = 180
TurretTurnRate      = 150   // turn rate, in degrees per sec
TurretPitchRate     = 120
AllowsPitch         = Yes
FiresWhileTurning   = Yes
NaturalTurretPitch  = 0 ; this keeps it aimed half way between land and sky
End
AutoAcquireEnemiesWhenIdle = Yes
PackTime = 1000
UnpackTime = 1000
ManualDeployAnimations = Yes
; MoodAttackCheckRate        = 1
End

Behavior = CommandButtonHuntUpdate  ModuleTag_13 ; allows use of command button hunt script with this unit.
End

Locomotor = SET_NORMAL ScudLauncherLocomotor

Behavior = PhysicsBehavior ModuleTag_07
Mass = 100.0
End


;--------------------------------DEATH MODULES----------------------------------
; Catch fire, and explode death
Behavior = SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -EXTRA_7
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_BattleMasterExplosionOneFinal
OCL  MIDPOINT OCL_RussiaGreyhoundDeathEffect
End
Behavior = CreateCrateDie ModuleTag_09
CrateData = SalvageCrateData
End

Behavior = TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior = FlammableUpdate ModuleTag_12
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End
;---------------------------------------------------------------------------------------

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry            = BOX
GeometryMajorRadius = 34.0
GeometryMinorRadius = 9.0
GeometryHeight      = 15.0
GeometryIsSmall     = Yes
Shadow              = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End


;---------------
; Системные коды
;---------------
;------------------------------------------------------------------------------
Object RussiaVehicleGreyhound_Unmanned

; *** ART Parameters ***
SelectPortrait         = RVGreyhound
ButtonImage            = RVGreyhound

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOIONT01

DefaultConditionState
Model  RVPantsir
Animation  RVPantsir.RVPantsir
AnimationMode  MANUAL
End

ConditionState  REALLYDAMAGED
Model  RVPantsir_D
Animation  RVPantsir_D.RVPantsir_D
AnimationMode  MANUAL
End

ConditionState  RUBBLE
Model  RVPantsir_E
End

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone = WHEEL01
RightFrontTireBone = WHEEL03
LeftRearTireBone = WHEEL06
RightRearTireBone = WHEEL08
MidLeftFrontTireBone = WHEEL02
MidRightFrontTireBone = WHEEL04
MidLeftRearTireBone = WHEEL05
MidRightRearTireBone = WHEEL07

TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.


End

; ***DESIGN parameters ***
DisplayName            OBJECT:Greyhound
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0
End

Behavior  TransportAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;DestructionDelay   500
;DestructionDelayVariance   100
;FX   INITIAL  FX_BattleMasterExplosionOneFinal
;OCL  MIDPOINT OCL_RussiaMTP4ADeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_GreyhoundRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaVeteranAirplaneSpecialists

; *** ART Parameters ***
ButtonImage  RusVeteranAirplaneSpecialists

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

BuildCost          1500
BuildTime          45.0           ; in seconds
MaxSimultaneousOfType   1

Prerequisites
Science  SCIENCE_VeteranPilotHelicopter
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  RussiaAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_VeteranPilotAirplaneSpecialists
End

End

Object RussiaWereWolfRubbleHull

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes

DefaultConditionState
Model = RVHokum_D1
End
End
; *** ENGINEERING Parameters ***
KindOf = IMMOBILE NO_COLLIDE HULK

Behavior = PhysicsBehavior ModuleTag_02
Mass           = 25.0
AllowBouncing  = Yes
End

Behavior = LifetimeUpdate ModuleTag_03
MinLifetime    = 3000   ; min lifetime in msec
MaxLifetime    = 3000   ; max lifetime in msec
End

Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay        = 3000
SinkRate         = 4     ; in Dist/Sec
DestructionDelay = 10000
End


End

Object RussiaHaloRubbleHull

; *** ART Parameters ***
Draw   W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model   RVHalo_D1
End
End

; *** ENGINEERING Parameters ***
KindOf   IMMOBILE NO_COLLIDE HULK

Behavior   PhysicsBehavior ModuleTag_02
Mass             25.0
AllowBouncing    Yes
End

Behavior   LifetimeUpdate ModuleTag_03
MinLifetime      3000   ; min lifetime in msec
MaxLifetime      3000   ; max lifetime in msec
End

Behavior   SlowDeathBehavior ModuleTag_05
SinkDelay          3000
SinkRate           4     ; in Dist/Sec
DestructionDelay   10000
End


End

;------------------------------------------------------------------------------
Object R73Missile

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = No
DefaultConditionState
Model = CWCruSu27_m2
End
End

; ***DESIGN parameters ***
DisplayName = OBJECT:Missile
Side = Russia
EditorSorting = SYSTEM
VisionRange = 0.0

; *** ENGINEERING Parameters ***
KindOf = PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth = 100.0
InitialHealth = 100.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 400
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 100
End

; *** AUDIO Parameters ***
SoundMoveLoop RocketEngineLoop

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_07
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_08
DetonateOnNoFuel = Yes
UseWeaponSpeed = No
IgnitionFX = FX_BuggyMissileIgnition
;DistanceToTargetForLock =
;DistanceToTargetBeforeDiving =
DistanceToTravelBeforeTurning = 50
InitialVelocity = 50
IgnitionDelay = 100
FuelLifetime = 10000
TryToFollowTarget = Yes
DistanceScatterWhenJammed = 250
End
Locomotor = SET_NORMAL R73MissileLocomotor

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 45

End
;------------------------------------------------------------------------------
Object R27Missile

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = No
DefaultConditionState
Model = CWCruSu27_m1
End
End

; ***DESIGN parameters ***
DisplayName = OBJECT:Missile
Side = Russia
EditorSorting = SYSTEM
VisionRange = 0.0

; *** ENGINEERING Parameters ***
KindOf = PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth = 100.0
InitialHealth = 100.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 400
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 100
End

; *** AUDIO Parameters ***
SoundMoveLoop RocketEngineLoop

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_07
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_08
DetonateOnNoFuel = Yes
UseWeaponSpeed = No
IgnitionFX = FX_BuggyMissileIgnition
;DistanceToTargetForLock =
;DistanceToTargetBeforeDiving =
DistanceToTravelBeforeTurning = 50
InitialVelocity = 50
IgnitionDelay = 100
FuelLifetime = 10000
TryToFollowTarget = Yes
DistanceScatterWhenJammed = 250
End
Locomotor = SET_NORMAL R27MissileLocomotor

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 45

End
;------------------------------------------------------------------------------
Object RussianSmokeGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
Flags  RANDOMSTART
AnimationSpeedFactorRange  1.0 1.8
ParticleSysBone  None TigerGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          110                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    RussianSmokeGrenadeSmokeFieldSpawnWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1500   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.1

End

;------------------------------------------------------------------------------
Object ComponentTowerAntiTankGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXTwrRpg
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; *** ENGINEERING Parameters ***
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  100
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  3000
IgnitionDelay  300
InitialVelocity  150                ; in dist/sec
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving  180 ; When I hit this close to target, I ignore PreferredHeight.
IgnitionFX  WeaponFX_GenericRPGIgnite
End

Locomotor  SET_NORMAL RPGComponentMissileLocomotor

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object FOAB

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  EXFoab
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  Russia
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               RussianFoabDroped

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  50.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  ALL
CreationList  OCL_FOABExplosionEffect
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  FXListDie ModuleTag_045
DeathFX  FX_FOABIgnite
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponRussiaFOAB
End

End

;------------------------------------------------------------------------------
Object FOABGas

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    DefaultConditionState
;      Model  avbomber
;    End
; End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE
Body                   ActiveBody ModuleTag_01
MaxHealth            1.0
InitialHealth        1.0
End

Behavior  PhysicsBehavior ModuleTag_02
Mass                 150.0
AerodynamicFriction  7  ; this is now friction-per-sec
ForwardFriction      200   ; this is now friction-per-sec
End

Behavior  HeightDieUpdate ModuleTag_03
TargetHeight                      40.0
TargetHeightIncludesStructures    Yes
DestroyAttachedParticlesAtHeight  41.0   ; Hack, todo remove this
End

Behavior  SlowDeathBehavior ModuleTag_04
DestructionDelay         1000
DestructionDelayVariance  100
;FX                   INITIAL  FX_DaisyCutterIgnite;FX_FOABIgnite
Weapon               MIDPOINT DaisyCutterFlameWeapon    ; Just a spot of flame to light trees on fire
Weapon               FINAL    FOABDetonationWeapon
FX                   FINAL    WeaponFX_FOAB_Blast
End

End

;------------------------------------------------------------------------------
Object MSTASArtilleryShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  310  ; Height of Bezier control points above highest intervening terrain
SecondHeight  410
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object TremorArtilleryShell
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  TremorShell
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Shell
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TremorCannonShellIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        9999999999999.0
InitialHealth    9999999999999.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  No
FuelLifetime  99999
IgnitionDelay  0
InitialVelocity  150                ; in dist/sec
DistanceToTravelBeforeTurning  600
DistanceToTargetBeforeDiving  350.0
End
Locomotor  SET_NORMAL TremorCannonShellLocomotor

Behavior  SpecialPowerCompletionDie ModuleTag_09
SpecialPowerTemplate  SuperweaponTremorAGAS
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     50
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End

End

;------------------------------------------------------------------------------
Object TU22WeaponPayloadDummy
; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  Russia
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
SubdualDamageCap  200
SubdualDamageHealRate  100
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          FX_GenericMissileDeath
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_09
TryToFollowTarget  No
FuelLifetime  0
InitialVelocity  10
IgnitionDelay  1000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponBackfireCruiseMissileStrike
End

Locomotor  SET_NORMAL B52Locomotor

Geometry  Cylinder
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object Tu22BackfireMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXTu22Missl
ParticleSysBone  NONE CINE_U06_JetExhaust
ParticleSysBone  NONE CINE_U06_SteamRocketFuselage
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop
SoundEnter    RussianTu22BackfireStrikeMissilesLaunched

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        140.0
InitialHealth    140.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -DETONATED
Weapon  BackfireCruiseMissileDetonationWeapon
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
DetonateCallsKill  No
FuelLifetime  0
IgnitionDelay  200
InitialVelocity  135
DistanceToTravelBeforeTurning  200
DistanceToTargetBeforeDiving  400
IgnitionFX  FX_S300MissileIgnition
End
Locomotor  SET_NORMAL TU22CruiseMissileLocomotor

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponBackfireCruiseMissileStrike
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object BMDMortarProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVMortar
Animation  NVMortar.NVMortar
AnimationMode  LOOP
ParticleSysBone  None BMDMortarSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  120
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    BMDMortarCannonGunSecondaryDamage
StartsActive   Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.15

End

;------------------------------------------------------------------------------
Object ShockTrooperGuidedMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXShkDrt
Animation  EXShkDrt.EXShkDrt
AnimationMode  LOOP
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  50
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  200                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    3
End
Locomotor  SET_NORMAL ShocktrooperRocketRifleLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ShockTrooperGuidedMissile_Electric

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXShkDrt2
Animation  EXShkDrt2.EXShkDrt2
AnimationMode  LOOP
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  50
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  200                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    3
End
Locomotor  SET_NORMAL ShocktrooperRocketRifleLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object RPGConscriptMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVRockBug_m
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes;;;;;;;;;;;;No
FuelLifetime  1250
InitialVelocity  250                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object RPGConscriptDummyMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXStinger01
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
RequiredStatus  STATUS_RIDER2
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
ExemptStatus  STATUS_RIDER2
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  1250
InitialVelocity  320                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
End
Locomotor  SET_NORMAL RPGConscriptDummyMissileLocomotor

Behavior  FireWeaponCollide ModuleTag_OnlyWorkAfterUpgrade01
CollideWeapon    SuicideWeapon
ForbiddenStatus  STATUS_RIDER2
End

Behavior  StatusBitsUpgrade ModuleTag_OnlyWorkAfterUpgrade02
TriggeredBy    Upgrade_RussiaLargerClips
StatusToSet    STATUS_RIDER2
End

Behavior  FireWeaponUpdate ModuleTag_OnlyWorkAfterUpgrade03
Weapon  GenericCollisionDummyWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ShmelTrooperRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXShmell
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
DetonateCallsKill  Yes
FuelLifetime  1250
InitialVelocity  250                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
GarrisonHitKillRequiredKindOf   INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount            3
GarrisonHitKillFX               FX_DragonFlameGarrisonBuildingHit
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_MoreBoom01
DeathWeapon   RussiaShmellTrooperExtraDamageWithInfantryMunitionUpgrade
TriggeredBy   Upgrade_RussiaLargerClips
StartsActive  No
End

Locomotor  SET_NORMAL ShmelRocketLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object VDVRPGTrooperThermobaricRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXShmell
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  1250
InitialVelocity  250                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
GarrisonHitKillRequiredKindOf   INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount            3
GarrisonHitKillFX               FX_DragonFlameGarrisonBuildingHit
End

Locomotor  SET_NORMAL ShmelRocketLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object TunguskaMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVTngska_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End


; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  150                ; in dist/sec
IgnitionDelay                    0
DistanceToTargetBeforeDiving     100000
IgnitionFX                       FX_BuggyMissileIgnition
DistanceScatterWhenJammed        100
End
Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object TunguskaMissileUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVTngska_M
ParticleSysBone  EXHAUSTBONE EMissileLenzflareSmall
ParticleSysBone  EXHAUSTBONE EMissileFlameSmall
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End


; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  200                ; in dist/sec
IgnitionDelay                    0
DistanceToTargetBeforeDiving     100000
IgnitionFX                       FX_BuggyMissileIgnition
DistanceScatterWhenJammed        100
End
Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object S300GrumbleMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXS300Missile
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
FX           WeaponFX_S300MissileDetonation
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_10
DeathTypes     ALL -LASERED
DeathWeapon    S300GrumbleMissileSecondaryDamageWeapon
StartsActive   Yes
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  500
InitialVelocity  150                ; in dist/sec
DistanceToTargetBeforeDiving  50
IgnitionFX  FX_S300MissileIgnition
End
Locomotor  SET_NORMAL S300GrumbleMissileLocomotor


Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  10.0
Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object BuratinoRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            RVTOS1_M
ParticleSysBone  NONE ShmelRocketExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  DestroyDie ModuleTag_03
DeathTypes  ALL -LASERED
End

Behavior  PhysicsBehavior ModuleTag_10
Mass  10
End

Behavior  DumbProjectileBehavior ModuleTag_09
FirstHeight  40  ; Height of Bezier control points above highest intervening terrain
SecondHeight  40
FirstPercentIndent  33%
SecondPercentIndent  66%
FlightPathAdjustDistPerSecond  0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
DetonateCallsKill      Yes

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             10 ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_BuratinoClearGarrison
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_1032
DeathWeapon    BuratinoRocketExtraDamageWeapon
StartsActive   Yes
End

Scale  1.0
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
End

;------------------------------------------------------------------------------
ObjectReskin HeroicBuratinoRocket BuratinoRocket
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState     NONE
Model            RVTOS1_M
ParticleSysBone  NONE HeroicShmelRocketExhaust
End
End
End

;------------------------------------------------------------------------------
Object VikhrMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model          EXVikhr
Animation      EXVikhr.EXVikhr
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  Object03 SheridanMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
InitialVelocity  150                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicVikhrMissile VikhrMissile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model          EXVikhr
Animation      EXVikhr.EXVikhr
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  Object03 HeroicSheridanMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End
End
End

;------------------------------------------------------------------------------
Object HindAirToGroundRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model          UVRockBug_m
ParticleSysBone  Object03 TunnelDefenderMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicHindAirToGroundRocket HindAirToGroundRocket
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model          UVRockBug_m
ParticleSysBone  Object03 TunnelDefenderHeroicMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End
End
End

;------------------------------------------------------------------------------
Object HindAirToAirMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXStinger01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateOnNoFuel         Yes
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          200                ; in dist/sec
IgnitionDelay            0
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_HindAirToAirMissileIgnition
DistanceToTargetForLock  100  ; If it gets within 100 of the target, it kills the target.
End

Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BerkutJetMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVBerkut_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:Missile
EditorSorting      SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_07
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_08
TryToFollowTarget      Yes
FuelLifetime           10000
InitialVelocity        75                ; in dist/sec
IgnitionDelay          30
IgnitionFX             FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL RaptorJetMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object SentinelTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None SentinelShellTrail
ParticleSysBone      None SentinelShellTrailSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponUpdate ModuleTag_ShellCasing01
Weapon  SentinelTankGunShellCasingDummyWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.2

End


;------------------------------------------------------------------------------
Object SentinelWardenMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            RVTngska_M
ParticleSysBone  NONE TunnelDefenderMissileExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  DestroyDie ModuleTag_03
DeathTypes  ALL -LASERED
End

Behavior  PhysicsBehavior ModuleTag_10
Mass  10
End

Behavior  DumbProjectileBehavior ModuleTag_09
FirstHeight  40  ; Height of Bezier control points above highest intervening terrain
SecondHeight  40
FirstPercentIndent  33%
SecondPercentIndent  66%
FlightPathAdjustDistPerSecond  0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
DetonateCallsKill      Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_1032
DeathWeapon    SentinelTankMissileFlameDamage
StartsActive   Yes
End

Scale  1.0
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
End

;------------------------------------------------------------------------------
ObjectReskin HeroicSentinelWardenMissile SentinelWardenMissile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState     NONE
Model            RVTngska_M
ParticleSysBone  NONE TunnelDefenderHeroicMissileExhaust
End
End
End

;------------------------------------------------------------------------------
Object SentinelWardenMissileAir

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVTngska_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
End

; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget                Yes
FuelLifetime                     2800
InitialVelocity                  150                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    50
DistanceToTargetBeforeDiving     100000 ; When I hit this close to target, I ignore PreferredHeight.
IgnitionFX                       FX_BuggyMissileIgnition
DistanceScatterWhenJammed        100
End
Locomotor  SET_NORMAL SentinelMissileLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object SurveillanceMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model            RVTU143
ParticleSysBone  Exhaust01 SAMissileExhaust
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SCUDMissile
EditorSorting    SYSTEM

VisionRange          180.0
ShroudClearingRange  180.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

SubdualDamageCap  20
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  DestroyDie ModuleTag_03
DeathTypes  ALL
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_10
DeathTypes     ALL
DeathWeapon    SurveillanceMissileDetonationWeapon
StartsActive   Yes
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  HeightDieUpdate ModuleTag_08
TargetHeight                     1.0
TargetHeightIncludesStructures   Yes
OnlyWhenMovingDown               Yes
SnapToGroundOnDeath              Yes
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
DetonateCallsKill  Yes
FuelLifetime       0
IgnitionDelay      0
InitialVelocity    200
IgnitionFX         FX_S300MissileIgnition
DistanceToTravelBeforeTurning  400
DistanceToTargetBeforeDiving   600
End

Locomotor  SET_NORMAL SurveillanceMissileLocomotor


Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponRussiaSurveillanceMissile
End


Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL

End


;------------------------------------------------------------------------------
Object BRDMAntiTankMissileProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVBRDM_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED -DETONATED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
;FX          FX_GenericMissileDeath
End


; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes
FuelLifetime                     2800
InitialVelocity                  30                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    50
DistanceToTargetBeforeDiving     100000 ; When I hit this close to target, I ignore PreferredHeight.
IgnitionFX                       FX_BuggyMissileIgnition
DistanceScatterWhenJammed        100
DetonateCallsKill                Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    BRDMRocketInfantryDamageWeapon
StartsActive   Yes
End

Locomotor  SET_NORMAL BRDMMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object IglaAntiAirMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE RussianIglaPreIgnitionMissilleExhaust
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          WeaponFX_StingerMissileDetonation
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            550
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_IglaMissileIgnitionSound
DistanceToTargetForLock  100
End

Locomotor  SET_NORMAL StingerMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
ObjectReskin IglaAntiAirMissileHeroic IglaAntiAirMissile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE HeroicInfantryStingerPreIgnitionExhaust
End
End
End


;------------------------------------------------------------------------------
Object IglaLockonAntiAirMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE RussianIglaPreIgnitionMissilleExhaust
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:StingerMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            StingerMissileProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          WeaponFX_StingerMissileDetonation
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
FuelLifetime             5000
InitialVelocity          100
IgnitionDelay            550
DistanceToTravelBeforeTurning  5
IgnitionFX               FX_IglaMissileIgnitionSound
DistanceToTargetForLock  100
End

Locomotor  SET_NORMAL StingerMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin IglaLockonAntiAirMissileHeroic IglaLockonAntiAirMissile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXStinger01
HideSubObject  Flame
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
End

ConditionState  JAMMED
Model  EXStinger01
HideSubObject  Flame
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  JAMMED POWER_PLANT_UPGRADED
Model  EXStinger01
ShowSubObject  Flame
ParticleSysBone  None SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_SmokeTrail01
DefaultConditionState
Model  None
ParticleSysBone  NONE HeroicInfantryStingerPreIgnitionExhaust
End
End
End


;------------------------------------------------------------------------------
Object GolemTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellLargeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  DeletionUpdate ModuleTag_305
MinLifetime  2000   ; min lifetime in msec
MaxLifetime  2000   ; max lifetime in msec
End

Behavior  FireWeaponUpdate ModuleTag_ViewShake01
Weapon  GolemTankViewShakeDummyWeapon
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object HunchbackThermobaricBombs

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVHnchBck_B
Animation  RVHnchBck_B.RVHnchBck_B
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE;
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_04
End

Behavior  PhysicsBehavior ModuleTag_06
Mass                 5.0
AerodynamicFriction  0.1   ; this is now friction-per-sec
ForwardFriction      0.1   ; this is now friction-per-sec
CenterOfMassOffset   0.0   ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_10
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    HunchbackThermobaricBombWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_052
DeathWeapon    HunchbackThermobaricBombWeapon_InfantryKiller
StartsActive   Yes
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_BorisMigBomb
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object RussianArenaAntiMissileCartrige

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  EXArnaGrnd
ParticleSysBone  None TigerGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          400                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FXListDie ModuleTag_045
DeathFX  WeaponFX_ArenaCartrigeDetonation
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Shrapnel01
DeathWeapon    ArenaAntiMissileCartrigeShrapnelWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  250   ; min lifetime in msec
MaxLifetime  250   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
;Scale  2.0

End

;------------------------------------------------------------------------------
Object RussianArenaAntiMissileKillerObjectMarker

; ***DESIGN parameters ***
VisionRange      220.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  200
MaxLifetime  200
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  ALL
CreationList  OCL_ArenaAntiMissileKillerObject
End

End

;------------------------------------------------------------------------------
Object ArenaMissileDiverterOrKillerRandomizer

Side  Russia
EditorSorting  SYSTEM
BuildVariations  RussianArenaAntiMissileKillerObject RussianArenaAntiMissileKillerObject RussianArenaAntiMissileDiverterObject

End

;------------------------------------------------------------------------------
Object RussianArenaAntiMissileKillerObject


; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  220.0
ShroudClearingRange  220.0

WeaponSet
Conditions           None
Weapon               SECONDARY   ArenaAntiMissileCartrigeMissileKillerWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RussianArenaAntiMissileDiverterObject


; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  220.0
ShroudClearingRange  220.0

WeaponSet
Conditions           None
Weapon               SECONDARY   ArenaAntiMissileCartrigeMissileDiverterWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End


;------------------------------------------------------------------------------
Object ArenaShrapnelProjectile

; *** ART Parameters ***
;  Draw  W3DModelDraw ModuleTag_01
;    ConditionState  NONE
;      Model  NVGrndFlcht
;      Animation  NVGrndFlcht.NVGrndFlcht
;      AnimationMode  LOOP
;      ParticleSysBone  None SkyShieldProjectileTrail
;    End
;  End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  1
DistanceToTravelBeforeTurning  0.1
DistanceToTargetBeforeDiving  150
DetonateCallsKill      Yes
End
Locomotor  SET_NORMAL ArenaShrapnelLocomotor

Behavior  DestroyDie ModuleTag_054545
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TopolMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ConditionState
Model  RVTopol_M
Animation  RVTopol_M.RVTopol_M
AnimationMode  ONCE
ParticleSysBone  EXHAUST01 BaikonurRocketFlare
ParticleSysBone  EXHAUST01 BaikonurRocketFlare
ParticleSysBone  EXHAUST01 BaikonurRocketTrail
ParticleSysBone  EXHAUST01 TopolRocketIgnitionDust
ParticleSysBone  EXHAUST02 TopolRocketDust
ParticleSysBone  EXHAUST03 TopolRocketIgnitionDust
ParticleSysBone  EXHAUST04 TopolRocketDust
End
ConditionState  POWER_PLANT_UPGRADED
Model  NONE
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SCUDMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  No
FuelLifetime  0
IgnitionDelay  1000
InitialVelocity  120                ; in dist/sec
DistanceToTravelBeforeTurning  500
DistanceToTargetBeforeDiving  700 ; When I hit this close to target, I ignore PreferredHeight.
IgnitionFX  WeaponFX_RussianTacticalNuclearMissileIgnition
End
Locomotor  SET_NORMAL TopolMissileLocomotor


Behavior  CreateObjectDie ModuleTag_10
DeathTypes  ALL
CreationList  OCL_TopolWareheadsReentry
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  ALL
CreationList  OCL_RussianTacticalNuclearStrikeDecal
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  5000
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound02
Weapon  TopolNuclearWarheadLauchingBitsPopOff
InitialDelay  400
End

Behavior  FireWeaponUpdate ModuleTag_RocketEngineLoop
Weapon  RussianTacticalNuclearMissileLoopSoundWeapon
InitialDelay  1200
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TopolWarheadReentryProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  RVTopol_WH
ParticleSysBone  None TigerRocketPodMissileFlame
ParticleSysBone  None TigerRocketLenzflare
ParticleSysBone  None TigerRocketExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    TopolNuclearWarheadReentryAircraftDamageWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_07
DeathWeapon    TopolNuclearWarheadDamageWeapon
StartsActive   Yes
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     80
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object SiloNuclearMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ConditionState
Model  RBMslSlo_M
Animation  RBMslSlo_M.RBMslSlo_M
AnimationMode  ONCE
ParticleSysBone  EXHAUST01 BaikonurRocketFlare
ParticleSysBone  EXHAUST01 BaikonurRocketTrail
ParticleSysBone  EXHAUST01 TopolRocketIgnitionDust
ParticleSysBone  EXHAUST01 TopolRocketDust
End
ConditionState  POWER_PLANT_UPGRADED
Model  NONE
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SCUDMissile
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  No
FuelLifetime  0
IgnitionDelay  1000
InitialVelocity  120                ; in dist/sec
DistanceToTravelBeforeTurning  500
DistanceToTargetBeforeDiving  700 ; When I hit this close to target, I ignore PreferredHeight.
IgnitionFX  WeaponFX_RussianTacticalNuclearMissileIgnition
End
Locomotor  SET_NORMAL TopolMissileLocomotor

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  ALL
CreationList  OCL_MissileSiloWareheadsReentry
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  ALL
CreationList  OCL_RussianTacticalNuclearStrikeDecal
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  5000
End

Behavior  FireWeaponUpdate ModuleTag_RocketEngineLoop
Weapon  RussianTacticalNuclearMissileLoopSoundWeapon
InitialDelay  1200
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object SiloWarheadReentryProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  RVTopol_WH
ParticleSysBone  None TigerRocketPodMissileFlame
ParticleSysBone  None TigerRocketLenzflare
ParticleSysBone  None TigerRocketExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    TopolNuclearWarheadReentryAircraftDamageWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_07
DeathWeapon    MissileSiloNuclearWarheadDamageWeapon
StartsActive   Yes
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     80
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object RussianComponentTowerArenaAntiMissileCartrige

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  EXArnaGrnd
ParticleSysBone  None TigerGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          450                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FXListDie ModuleTag_045
DeathFX  WeaponFX_ArenaCartrigeDetonation
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Shrapnel01
DeathWeapon    ArenaAntiMissileCartrigeShrapnelWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  250   ; min lifetime in msec
MaxLifetime  250   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
;Scale  2.0

End

;------------------------------------------------------------------------------
Object RussianComponentArenaAntiMissileKillerObjectMarker

; ***DESIGN parameters ***
VisionRange      220.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  200
MaxLifetime  200
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  ALL
CreationList  OCL_ComponentArenaAntiMissileKillerObject
End

End

;------------------------------------------------------------------------------
Object ComponentArenaMissileDiverterOrKillerRandomizer

Side  Russia
EditorSorting  SYSTEM
BuildVariations  RussianComponentArenaAntiMissileKillerObject RussianComponentArenaAntiMissileKillerObject RussianComponentArenaAntiMissileDiverterObject

End

;------------------------------------------------------------------------------
Object RussianComponentArenaAntiMissileKillerObject


; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   ComponentArenaAntiMissileCartrigeMissileKillerWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RussianComponentArenaAntiMissileDiverterObject


; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   ComponentArenaAntiMissileCartrigeMissileDiverterWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RussianGolemShtoraBlindingGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
Flags  RANDOMSTART
AnimationSpeedFactorRange  1.0 1.8
ParticleSysBone  None TigerGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  FXListDie ModuleTag_045
DeathFX  WeaponFX_ShtoraBlindingGrenadeDetonation
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          140                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  400   ; min lifetime in msec
MaxLifetime  600  ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.1

End

;------------------------------------------------------------------------------
Object GoliathCounterMeasureFlare

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          100                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_GoliathSystemFlare
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_MuleFlareActivationFX
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  300   ; min lifetime in msec
MaxLifetime  300   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object BorisAirstrikeProjectile

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  SlowDeathBehavior ModuleTag_0423141413
DeathTypes  ALL
DestructionDelay  6468
OCL  INITIAL OCL_RussiaBorisMigAirstrikeDelayedSpawn
Weapon  FINAL RussiaMigBomberDamageWeapon
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill    Yes
FirstHeight  330  ; Height of Bezier control points above highest intervening terrain
SecondHeight  420
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  10
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MiGBomberBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  RVMig_M
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  Russia
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileNoECMArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_CAST_REFLECTIONS PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    No
DetonateCallsKill    Yes
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      0                ; in dist/sec
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End
Locomotor  SET_NORMAL TechAirstrikeBombLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.1

End


;------------------------------------------------------------------------------
Object ShmelTrooperSmokeRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXShmell
ParticleSysBone  None SheridanMissileExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  20  ; Height of Bezier control points above highest intervening terrain
SecondHeight  100
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  20
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
InitialDelay  2000
SnapToGroundOnDeath  No
End

Behavior  FXListDie ModuleTag_082325
DeathFX  FX_SmokeGrenadeActivationFX
End

Behavior  CreateObjectDie ModuleTag_10232
DeathTypes  ALL
CreationList  OCL_ShmelTrooperSmokeScreen
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_CanisterPellet01
DeathWeapon    RussiaShmellTrooperSmokeMissilePellets
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_CanisterPellet02
DeathWeapon    RussiaShmellTrooperSmokeMissilePellets
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_CanisterPellet03
DeathWeapon    RussiaShmellTrooperSmokeMissilePellets
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_CanisterPellet04
DeathWeapon    RussiaShmellTrooperSmokeMissilePellets
StartsActive   Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
ObjectReskin ShmelTrooperSmokeRocketHeroicProjectile ShmelTrooperSmokeRocketProjectile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXShmell
ParticleSysBone  None HeroicSheridanMissileExhaust
End
End
End

;------------------------------------------------------------------------------
Object BorisRPGMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBorisM
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes;;;;;;;;;;;;No
FuelLifetime  1250
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
;Scale  1.1

End

;------------------------------------------------------------------------------
Object BorisAimedShotRPGMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBorisM
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions  None
Armor       ProjectileArmor
DamageFX    None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
Weapon  RussiaBorisMissileLauncherAimedShotStunWeapon
End

Behavior  FireWeaponWhenDeadBehavior DeathModuleTag_04
DeathTypes     ALL -LASERED
StartsActive   Yes
DeathWeapon    RussiaBorisMissileLauncherAimedShotDamageWeapon
End

; ---- end Projectile death behaviors


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_0
TryToFollowTarget  Yes
DetonateCallsKill  Yes
FuelLifetime  1250
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BorisAimedShotRPGVeteranMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBorisM
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions  None
Armor       ProjectileArmor
DamageFX    None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
Weapon  RussiaBorisMissileLauncherAimedShotStunWeapon
End

Behavior  FireWeaponWhenDeadBehavior DeathModuleTag_04
DeathTypes     ALL -LASERED
StartsActive   Yes
DeathWeapon    RussiaBorisMissileLauncherAimedShotVeteranDamageWeapon
End

; ---- end Projectile death behaviors


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_0
TryToFollowTarget  Yes
DetonateCallsKill  Yes
FuelLifetime  1250
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BorisAimedShotRPGEliteMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBorisM
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions  None
Armor       ProjectileArmor
DamageFX    None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
Weapon  RussiaBorisMissileLauncherAimedShotStunWeapon
End

Behavior  FireWeaponWhenDeadBehavior DeathModuleTag_04
DeathTypes     ALL -LASERED
StartsActive   Yes
DeathWeapon    RussiaBorisMissileLauncherAimedShotEliteDamageWeapon
End

; ---- end Projectile death behaviors


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_0
TryToFollowTarget  Yes
DetonateCallsKill  Yes
FuelLifetime  1250
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BorisAimedShotRPGHeroicMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBorisM
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions  None
Armor       ProjectileArmor
DamageFX    None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
Weapon  RussiaBorisMissileLauncherAimedShotStunWeapon
End

Behavior  FireWeaponWhenDeadBehavior DeathModuleTag_04
DeathTypes     ALL -LASERED
StartsActive   Yes
DeathWeapon    RussiaBorisMissileLauncherAimedShotHeroicDamageWeapon
End

; ---- end Projectile death behaviors


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_0
TryToFollowTarget  Yes
DetonateCallsKill  Yes
FuelLifetime  1250
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object HellionThermobaricRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model          UVRockBug_m
ParticleSysBone  Object03 ShmelRocketExhaust
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HellionThermobaricRocketHeroic HellionThermobaricRocket
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model          UVRockBug_m
ParticleSysBone  Object03 HeroicShmelRocketExhaust
End
End
End

;------------------------------------------------------------------------------
Object ShmelTrooperAntiToxinRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXShmell
ParticleSysBone  None ShmelAntiToxinRocketExhaust
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  20  ; Height of Bezier control points above highest intervening terrain
SecondHeight  100
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  20
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
InitialDelay  2000
SnapToGroundOnDeath  No
End

Behavior  CreateObjectDie ModuleTag_10232
DeathTypes  ALL
CreationList  OCL_ShmelTrooperAntiToxinFoam
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
ObjectReskin ShmelTrooperAntiToxinRocketHeroicProjectile ShmelTrooperAntiToxinRocketProjectile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXShmell
ParticleSysBone  None HeroicSheridanMissileExhaust
End
End
End

;------------------------------------------------------------------------------
Object GrizzlyRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVRockBug_m
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  1250
InitialVelocity  250                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Behavior  DeletionUpdate ModuleTag_305
MinLifetime  3000   ; min lifetime in msec
MaxLifetime  3000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GrizzlySmokeGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
Flags  RANDOMSTART
AnimationSpeedFactorRange  1.0 1.8
ParticleSysBone  None TigerGrenadeSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  120
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.1

End

;------------------------------------------------------------------------------
Object RussiaGrizzlyFragBurstGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  EXClstrMine
ParticleSysBone  None SkyShieldProjectileTrail
ParticleSysBone  None BMDMortarSmokeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          120                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FXListDie ModuleTag_083241
DeathFX  WeaponFX_GrizzlyFragGrenadeDetonation
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_FragShrapnelPellet01
DeathWeapon    GrizzlyFragBurstGrenadeShrapnel
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  600
MaxLifetime  800
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object BlackBearAntiAirMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVTngska_M
ParticleSysBone  None TigerRocketPodMissileFlame
ParticleSysBone  None TigerRocketLenzflare
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End


; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  150                ; in dist/sec
IgnitionDelay                    0
DistanceToTargetBeforeDiving     100000
IgnitionFX                       FX_BuggyMissileIgnition
DistanceScatterWhenJammed        100
End
Locomotor  SET_NORMAL StingerMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object BlackBearGarrisonClearingProjectile

; ***DESIGN parameters ***
EditorSorting  SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             10
GarrisonHitKillFX                FX_BuratinoClearGarrison
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;------------------------------------------------------------------------------
Object BorisFlareGunProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          200                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_BorisFlare
End

Behavior  CreateObjectDie ModuleTag_10
DeathTypes  ALL
CreationList  OCL_BorisFlareRevealPing
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_MuleFlareActivationFX
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1000   ; min lifetime in msec
MaxLifetime  1000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object Boris40mmGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None RifleGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
FirstHeight                      50  ; Height of Bezier control points above highest intervening terrain
SecondHeight                     100
FirstPercentIndent               30% ; Percentage of shot distance control points are placed
SecondPercentIndent              70%
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End



;------------------------------------------------------------------------------
Object BombardierRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            EXShmell
ParticleSysBone  Object03 TunnelDefenderMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  DestroyDie ModuleTag_03
DeathTypes  ALL -LASERED
End

Behavior  PhysicsBehavior ModuleTag_10
Mass  10
End

Behavior  DumbProjectileBehavior ModuleTag_09
FirstHeight  40  ; Height of Bezier control points above highest intervening terrain
SecondHeight  40
FirstPercentIndent  33%
SecondPercentIndent  66%
FlightPathAdjustDistPerSecond  0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
DetonateCallsKill      Yes
End

Scale  1.0
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
End

;------------------------------------------------------------------------------
ObjectReskin HeroicBombardierRocket BombardierRocket
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState     NONE
Model            EXShmell
ParticleSysBone  Object03 TunnelDefenderHeroicMissileExhaust
ParticleSysBone  Object03 EMissileFlame
End
End
End

;------------------------------------------------------------------------------
Object RussiaTeslaOverchargeArcObject

Side  Russia
EditorSorting  SYSTEM
BuildVariations  RussiaTeslaOverchargeArcObject_Var1 RussiaTeslaOverchargeArcObject_Var1 RussiaTeslaOverchargeArcObject_Var1 RussiaTeslaOverchargeArcObject_Var1 RussiaTeslaOverchargeArcObject_Var1 RussiaTeslaOverchargeArcObject_Var2

End

;------------------------------------------------------------------------------
Object RussiaTeslaOverchargeArcObject_Var1

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState     NONE
Model  RBCTowerU3_A3
ParticleSysBone  TURRET TeslaCoilOverchargeFlare
ParticleSysBone  FXBONE01 TeslaCoilOverchargeEffect
End
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting    SYSTEM
VisionRange  220.0
EnergyProduction   -2

WeaponSet
Conditions           None
Weapon               SECONDARY TeslaCoilOverchargeWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  132
MaxLifetime  132
End

End

;------------------------------------------------------------------------------
;This variant will shoot a random bolt of electricity in a random direction with no real damage its just visual
Object RussiaTeslaOverchargeArcObject_Var2

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState     NONE
Model  RBCTowerU3_A3
ParticleSysBone  TURRET TeslaCoilOverchargeFlare
ParticleSysBone  FXBONE01 TeslaCoilOverchargeEffect
End
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting    SYSTEM
VisionRange  220.0
EnergyProduction   -2

WeaponSet
Conditions           None
Weapon               SECONDARY TeslaCoilOverchargeWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  132
MaxLifetime  132
End

Behavior  FireWeaponUpdate ModuleTag_Shockeryshock01
Weapon  TeslaCoilOverchargeRandomDischargeEffectWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Shockeryshock02
Weapon  TeslaCoilOverchargeRandomDischargeEffectWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Shockeryshock03
Weapon  TeslaCoilOverchargeRandomDischargeEffectWeapon
End

End

;-------------------------------------------------------------------------------
Object GrizzlyAutoCannonProjectile

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE ALWAYS_VISIBLE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  330  ; Height of Bezier control points above highest intervening terrain
SecondHeight  420
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_0325
DeathWeapon    RussianGrizzlyAutoCannonInfantryWeapon
StartsActive   Yes
ConflictsWith  Upgrade_RussiaArmedRecon
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_0325325
DeathWeapon    RussianGrizzlyAutoCannonInfantryUpgradedWeapon
StartsActive   No
TriggeredBy    Upgrade_RussiaArmedRecon
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;-----------------------------------------------------------------------------------------------------------
;--The objects blow are the dummy objects that hold the cost and settings for the component tower upgrades--
;-----------------------------------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object RussiaUpgradeRPGComponentTower

; *** ART Parameters ***
ButtonImage             SRRPGComponent

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

BuildCost          700
BuildTime          12.0           ; in seconds

Prerequisites
Object  RussiaWeaponsBunker
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  FortificationUpgradeMedicOutpostWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RussiaUpgradeArenaComponentTower

; *** ART Parameters ***
ButtonImage             SRArenaComponent

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

BuildCost          700
BuildTime          12.0           ; in seconds

Prerequisites
Object  RussiaWeaponsBunker
;    Object  RussiaIndustrialSite
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  FortificationUpgradeEngineeringOutpostWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RussiaUpgradeTeslaComponentTower

; *** ART Parameters ***
ButtonImage             SRTeslaComponent

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          20.0           ; in seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

Prerequisites
Object  RussiaWeaponsBunker
;    Object  RussiaIndustrialSite
Science  SCIENCE_TeslaTech
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  FortificationUpgradeOpenTopWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;-------------------------------------------------------------------------------------------------------
;--The objects blow are the dummy objects that trigger the transition from uprading to upgraded towers--
;-------------------------------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object RussiaComponentTowerUpgradingToAntiTankAddon

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End
; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD PORTABLE_STRUCTURE IMMOBILE FS_BASE_DEFENSE
Body               StructureBody ModuleTag_05
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100

End


Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_ComponentTowerRPG
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaComponentTowerUpgradingToArenaAddon

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End
; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD PORTABLE_STRUCTURE IMMOBILE FS_BASE_DEFENSE
Body               StructureBody ModuleTag_05
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100

End


Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_ComponentTowerArena
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaComponentTowerUpgradingToTeslaAddon

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBCTower
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState         SNOW
Model                RBCTower_S
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End
; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD PORTABLE_STRUCTURE IMMOBILE FS_BASE_DEFENSE
Body               StructureBody ModuleTag_05
MaxHealth      1500.0
InitialHealth  1500.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100

End


Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_ComponentTowerTesla
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;-----------------------------------------------------------------------------------------------------------
;--The objects blow are the dummy objects that hold the cost and settings for the component tower upgrades--
;-----------------------------------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Object RussiaRadarStationUpgradePassivemode

; *** ART Parameters ***
ButtonImage             SSRadarPassiveMode

; ***DESIGN parameters ***
DisplayName  Object:MedicOutpost
Side  Russia
EditorSorting      SYSTEM

BuildCost          400
BuildTime          15.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

Prerequisites
Object  RussiaWeaponsBunker
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  RussianRadarTowerPassiveModeTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RussiaRadarStationUpgradeAirraidMode

; *** ART Parameters ***
ButtonImage             SSAirraidMode

; ***DESIGN parameters ***
DisplayName  Object:MedicOutpost
Side  Russia
EditorSorting      SYSTEM

BuildCost          600
BuildTime          15.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

Prerequisites
Object  RussiaIndustrialSite
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  RussianRadarTowerAirraidModeTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;-------------------------------------------------------------------------------------------------------
;--The objects blow are the dummy objects that trigger the transition from uprading to upgraded towers--
;-------------------------------------------------------------------------------------------------------

Object RussiaRadarStationUpgradingToPassivemode

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBRdrOpst
HideSubObject        MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState         SNOW
Model                RBRdrOpst_S
HideSubObject        MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE MP_COUNT_FOR_VICTORY
Body               StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_RussianRadarTowerPassive
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

Object RussiaRadarStationUpgradingToAirraidmode

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ExtraPublicBone       HOUSECOLOR01

ConditionState         None
Model                RBRdrOpst
HideSubObject        MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState         SNOW
Model                RBRdrOpst_S
HideSubObject        MODE01 MODE02 MODE03 NIGHTLIGHT
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE MP_COUNT_FOR_VICTORY
Body               StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_RussianRadarTowerAirraid
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object RussiaVehicleFieldQuartersUpgrade

; *** ART Parameters ***
ButtonImage             SRFieldQuarters

; ***DESIGN parameters ***
Side  Europe
EditorSorting      SYSTEM

BuildCost          0
BuildTime          5.0 ;seconds

Prerequisites
Science  SCIENCE_ConscriptParadrop
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianSupplyTruckVoiceUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  RussianRadarTowerPassiveModeTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object TopolWarheadUpgradeRemovalObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_RussiaTopolMIRVMissileUpgrade ModuleTag_MissileRearm02
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  100
MaxLifetime  100
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RussiaRearmICBMUpgradeSiloOne

; *** ART Parameters ***
ButtonImage             SSMirvMissile

; ***DESIGN parameters ***
DisplayName  OBJECT:MirvICBM
Side  Russia
EditorSorting      SYSTEM

BuildCost          2000
BuildTime          180.0

Prerequisites
Object  RussiaWeaponsBunkerNuclearStockpileBuildDummyObject
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          MissileSiloVoiceRearmed
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  TacticalMissileRearmTriggerWeaponOne
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RussiaRearmICBMUpgradeSiloTwo

; *** ART Parameters ***
ButtonImage             SSMirvMissile

; ***DESIGN parameters ***
DisplayName  OBJECT:MirvICBM
Side  Russia
EditorSorting      SYSTEM

BuildCost          2000
BuildTime          180.0

Prerequisites
Object  RussiaWeaponsBunkerNuclearStockpileBuildDummyObject
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          MissileSiloVoiceRearmed
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  TacticalMissileRearmTriggerWeaponTwo
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_063
DeathWeapon    TacticalMissileRearmTriggerWeaponThree
StartsActive   Yes
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RussiaWeaponsBunkerNuclearStockpileUpgrade

; *** ART Parameters ***
ButtonImage             SSNuclearStockpile

; ***DESIGN parameters ***
Side  Russia
EditorSorting      SYSTEM

BuildCost          2000
BuildTime          60.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  WeaponsBunkerNuclearStockpile

Prerequisites
Object  RussiaIndustrialSite
Science  SCIENCE_ICBMClearance
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  RussiaAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_NuclearStockpile
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RussiaTopolLimitObject

; ***DESIGN parameters ***
Side                   Russia
EditorSorting          SYSTEM
MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  TOPOL

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_RussiaTopolLimitCrateObject
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_RussiaTopolLimitCrateObject
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_RussiaTopolLimitCrateObject
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

; -----------------------------------------------------------------------------
Object RussiaTopolLimitCrateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf  UNATTACKABLE
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED
PickupScience  SCIENCE_NuclearStockpile
UnitCount  1
UnitName  GLAAirfieldLimitKillerObject
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300
MaxLifetime  300
End

Shadow  SHADOW_VOLUME
Geometry  BOX
GeometryMajorRadius  4.0
GeometryMinorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object FactionRussia

; ***DESIGN parameters ***
Side                 Russia
DisplayName          FACTION:Russia
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ComancheLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

End

;------------------------------------------------------------------------------
Object RussianSmokeGrenadeLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  RVSmoke
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY RussianSmokeGrenadeWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      33
MaxDelay      33
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object RussianArenaComponentSmokeGrenadeLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model              RBCTowerU2
HideSubObject      BASE01 ARENA HOUSECOLOR02 REDLIGHT01
WeaponFireFXBone   PRIMARY WeaponB
WeaponLaunchBone   PRIMARY WeaponB
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY RussianArenaComponentSmokeGrenadeWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object TeslaLaserBeam

EditorSorting  SYSTEM
BuildVariations   TeslaElectricBolt1 TeslaElectricBolt2 TeslaElectricBolt3 TeslaElectricBolt4 TeslaElectricBolt5 TeslaElectricBolt6 TeslaElectricBolt7 TeslaElectricBolt8

End

;------------------------------------------------------------------------------
Object TeslaElectricBolt1
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla1.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt2
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla2.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt3
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla3.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt4
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla4.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt5
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla5.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt6
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla6.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt7
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla7.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaElectricBolt8
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla8.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  40                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankLaserBeam

EditorSorting  SYSTEM
BuildVariations   TeslaTankElectricBolt1 TeslaTankElectricBolt2 TeslaTankElectricBolt3 TeslaTankElectricBolt4 TeslaTankElectricBolt5 TeslaTankElectricBolt6 TeslaTankElectricBolt7 TeslaTankElectricBolt8

End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt1
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla1.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt2
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla2.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt3
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla3.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt4
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla4.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt5
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla5.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt6
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla6.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt7
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla7.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTankElectricBolt8
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla8.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  TeslaFlare
TargetParticleSystem  TeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankLaserBeam

EditorSorting  SYSTEM
BuildVariations   HeroicTeslaTankElectricBolt1 HeroicTeslaTankElectricBolt2 HeroicTeslaTankElectricBolt3 HeroicTeslaTankElectricBolt4 HeroicTeslaTankElectricBolt5 HeroicTeslaTankElectricBolt6 HeroicTeslaTankElectricBolt7 HeroicTeslaTankElectricBolt8

End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt1
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic1.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt2
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic2.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt3
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic3.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt4
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic4.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt5
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic5.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt6
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic6.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt7
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic7.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTankElectricBolt8
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic8.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  30                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
;MuzzleParticleSystem  HeroicTeslaFlare
TargetParticleSystem  HeroicTeslaFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperLaserBeam

EditorSorting  SYSTEM
BuildVariations   TeslaTrooperElectricBolt1 TeslaTrooperElectricBolt2 TeslaTrooperElectricBolt3 TeslaTrooperElectricBolt4 TeslaTrooperElectricBolt5 TeslaTrooperElectricBolt6 TeslaTrooperElectricBolt7 TeslaTrooperElectricBolt8

End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt1
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla1.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt2
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla2.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt3
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla3.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt4
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla4.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt5
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla5.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt6
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla6.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt7
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla7.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object TeslaTrooperElectricBolt8
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  Tesla8.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TeslaTrooperFlare
TargetParticleSystem  TeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperLaserBeam

EditorSorting  SYSTEM
BuildVariations   HeroicTeslaTrooperElectricBolt1 HeroicTeslaTrooperElectricBolt2 HeroicTeslaTrooperElectricBolt3 HeroicTeslaTrooperElectricBolt4 HeroicTeslaTrooperElectricBolt5 HeroicTeslaTrooperElectricBolt6 HeroicTeslaTrooperElectricBolt7 HeroicTeslaTrooperElectricBolt8

End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt1
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic1.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt2
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic2.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt3
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic3.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt4
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic4.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt5
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic5.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt6
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic6.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt7
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic7.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object HeroicTeslaTrooperElectricBolt8
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  TeslaHeroic8.tga

ScrollRate  0                            ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  15                       ;The total width of beam
InnerColor  R:255 G:255 B:255 A:200 ;The inside color of the laser (hot)
End

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  HeroicTeslaTrooperFlare
TargetParticleSystem  HeroicTeslaTrooperFlare
End

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
;nothing
End
Behavior  DeletionUpdate ModuleTag_04
MinLifetime  60   ; min lifetime in msec
MaxLifetime  90   ; max lifetime in msec
End
End

;------------------------------------------------------------------------------
Object RussianSmokeGrenadeSmokeScreen

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000000000000.0
InitialHealth     1000000000000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  RussianSmokeGrenadeSmokeScreenWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  3500;6500
MaxLifetime  3500;6500
End

Behavior  DestroyDie ModuleTag_06
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object RussianShmelRocketSmokeScreen

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000000000000.0
InitialHealth     1000000000000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  RussianSmokeGrenadeSmokeScreenWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  13000
MaxLifetime  13000
End

Behavior  DestroyDie ModuleTag_06
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object ConscriptIRGoggleDetectorObject

; ***DESIGN parameters ***
Side              Russia
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

VisionRange          300

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100  ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130  ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes  ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes  ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100  ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130  ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes  ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes  ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500  ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200  ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes  ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes  ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500  ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200  ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes  ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes  ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500  ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200  ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes  ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes  ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500  ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200  ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes  ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes  ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End


Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  0.0
GeometryMinorRadius  0.0
GeometryHeight       0.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object IfantryBezerker_Object

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM


KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  10.0
InitialHealth  10.0
End

Behavior  WeaponBonusUpdate ModuleTag_03
RequiredAffectKindOf  INFANTRY                                 ; Must be set
ForbiddenAffectKindOf  UNATTACKABLE DONT_AUTO_CRUSH_INFANTRY   ; Does not effect these kindoffs
BonusDuration  10000                                           ; How long effect lasts
BonusDelay  100000                                             ; How often to pulse (short lifetime will trump, of course)
BonusRange  90                                                 ; Keep in line with radius cursor size in special power template
BonusConditionType  VETERAN                                    ; And which bonus to give
End

Behavior  FireWeaponUpdate ModuleTag_04
Weapon  RussianCamaraderieEffectWeapon
End

Behavior  DeletionUpdate ModuleTag_05 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1 ;one pulse
MaxLifetime  1
End
End

;------------------------------------------------------------------------------
Object RussianVehicleHullUnmanningObject ; this object gets spawned when a russian vehicle is repaired to make it unmanned
; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1.0
InitialHealth  1.0
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Behavior  InstantDeathBehavior ModuleTag_05
DeathTypes  ALL
Weapon   RussianRepairedVehicleHullSecondaryUnmanWeapon
End

End

;------------------------------------------------------------------------------
Object RussianVehicleNeutralHullKillObject ;this object gets spawned when a russian vehicle is destroyed to kill it after having become neutral

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1.0
InitialHealth  1.0
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  50
MaxLifetime  50
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    RussianRepairedVehicleHullTertiaryUnmanWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_06
End

End

;------------------------------------------------------------------------------
Object TargetingSatelliteDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE CLICK_THROUGH NO_COLLIDE FS_FAKE

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  33
MaxLifetime  33
End

Behavior  DestroyDie ModuleTag_0622
End

Scale  50.0
ShadowTexture  SatTargetDecal; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  440
ShadowSizeY  440

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingComingDownLevel1

Draw                       W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  EXTargetSat
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM


ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteComingDownLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5000.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaTargetingSatelliteScanningLevel1
End

Behavior  HeightDieUpdate ModuleTag_082
TargetHeight  121.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  6000
MaxLifetime  6000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponRussiaTargetingSatellite
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior  BoneFXDamage ModuleTag_Decal01
End

Behavior  BoneFXUpdate ModuleTag_Decal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingScanningLevel1

; *** ART Parameters ***
SelectPortrait          SSTargetingSatellite
ButtonImage             SSTargetingSatellite

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model            EXTargetSat_A1
Animation        EXTargetSat_A1.EXTargetSat_A1
AnimationMode    LOOP
End
ConditionState  POWER_PLANT_UPGRADED
ParticleSysBone  None TargetingSatelliteAreaEffectPing
ParticleSysBone  None TargetingSatelliteAreaEffectReturnPing
ParticleSysBone  None TargetingSatelliteAreaEffectGrid
End
ConditionState  POWER_PLANT_UPGRADING
Model            EXTargetSat
Animation        EXTargetSat.EXTargetSat
AnimationMode    ONCE
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

WeaponSet
Conditions           None
Weapon               PRIMARY RussianTargetSatelliteMoveWeaponDummy
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** AUDIO Parameters ***
VoiceSelect           TargetingSataliteSelect
VoiceMove             TargetingSataliteCommand
VoiceAttack           TargetingSataliteCommand
;  SoundAmbient          TargetingSataliteAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE SELECTABLE CAN_ATTACK UNATTACKABLE

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  FireWeaponUpdate ModuleTag_04
Weapon  RussianTargetSatelliteDesignator
End

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaTargetingSatelliteGoingBackUpLevel
End

Behavior  LifetimeUpdate ModuleTag_043
MinLifetime  31320
MaxLifetime  31320
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior        OCLUpdate ModuleTag_Timer01
OCL           OCL_RussiaTargetingSatelliteTimerDummy
MinDelay      31320
MaxDelay      31320
End

Behavior  BoneFXDamage ModuleTag_Decal01
End

Behavior  BoneFXUpdate ModuleTag_Decal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
End

Behavior  FireWeaponUpdate ModuleTag_AmbientEffect01
Weapon  RussianTargetSatelliteAmbientLoopSpawnWeapon
InitialDelay  1320
End

Behavior  PowerPlantUpgrade ModuleTag_DeployingAnimation01
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_DeployingAnimation02
RodsExtendTime  1320
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingComingDownLevel2

Draw                       W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                  EXTargetSat
HideSubObject          CONE01
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteComingDownLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5000.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaTargetingSatelliteScanningLevel2
End

Behavior  HeightDieUpdate ModuleTag_082
TargetHeight  121.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  6000
MaxLifetime  6000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponRussiaTargetingSatellite
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior  BoneFXDamage ModuleTag_Decal01
End

Behavior  BoneFXUpdate ModuleTag_Decal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingScanningLevel2

; *** ART Parameters ***
SelectPortrait          SSTargetingSatellite
ButtonImage             SSTargetingSatellite

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model            EXTargetSat_A1
Animation        EXTargetSat_A1.EXTargetSat_A1
AnimationMode    LOOP
End
ConditionState  POWER_PLANT_UPGRADED
ParticleSysBone  None TargetingSatelliteAreaEffectPing
ParticleSysBone  None TargetingSatelliteAreaEffectReturnPing
ParticleSysBone  None TargetingSatelliteAreaEffectGrid
End
ConditionState  POWER_PLANT_UPGRADING
Model            EXTargetSat
Animation        EXTargetSat.EXTargetSat
AnimationMode    ONCE
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

WeaponSet
Conditions           None
Weapon               PRIMARY RussianTargetSatelliteMoveWeaponDummy
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** AUDIO Parameters ***
VoiceSelect           TargetingSataliteSelect
VoiceMove             TargetingSataliteCommand
VoiceAttack           TargetingSataliteCommand
;  SoundAmbient          TargetingSataliteAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE SELECTABLE CAN_ATTACK UNATTACKABLE

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        DEMOTRAP;UNATTACKABLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  FireWeaponUpdate ModuleTag_04
Weapon  RussianTargetSatelliteDesignator
End

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaTargetingSatelliteGoingBackUpLevel
End

Behavior  LifetimeUpdate ModuleTag_043
MinLifetime  61320
MaxLifetime  61320
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior        OCLUpdate ModuleTag_Timer01
OCL           OCL_RussiaTargetingSatelliteTimerDummy
MinDelay      61320
MaxDelay      61320
End

Behavior  BoneFXDamage ModuleTag_Decal01
End

Behavior  BoneFXUpdate ModuleTag_Decal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
End

Behavior  FireWeaponUpdate ModuleTag_AmbientEffect01
Weapon  RussianTargetSatelliteAmbientLoopSpawnWeapon
InitialDelay  1320
End

Behavior  PowerPlantUpgrade ModuleTag_DeployingAnimation01
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_DeployingAnimation02
RodsExtendTime  1320
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingComingDownLevel3

Draw                       W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                  EXTargetSat
HideSubObject          CONE01
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteComingDownLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5000.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaTargetingSatelliteScanningLevel3
End

Behavior  HeightDieUpdate ModuleTag_082
TargetHeight  121.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  6000
MaxLifetime  6000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponRussiaTargetingSatellite
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior  BoneFXDamage ModuleTag_Decal01
End

Behavior  BoneFXUpdate ModuleTag_Decal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingScanningLevel3

; *** ART Parameters ***
SelectPortrait          SSTargetingSatellite
ButtonImage             SSTargetingSatellite

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model            EXTargetSat_A1
Animation        EXTargetSat_A1.EXTargetSat_A1
AnimationMode    LOOP
End
ConditionState  POWER_PLANT_UPGRADED
ParticleSysBone  None TargetingSatelliteAreaEffectPing
ParticleSysBone  None TargetingSatelliteAreaEffectReturnPing
ParticleSysBone  None TargetingSatelliteAreaEffectGrid
End
ConditionState  POWER_PLANT_UPGRADING
Model            EXTargetSat
Animation        EXTargetSat.EXTargetSat
AnimationMode    ONCE
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

WeaponSet
Conditions           None
Weapon               PRIMARY RussianTargetSatelliteMoveWeaponDummy
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** AUDIO Parameters ***
VoiceSelect           TargetingSataliteSelect
VoiceMove             TargetingSataliteCommand
VoiceAttack           TargetingSataliteCommand
;  SoundAmbient          TargetingSataliteAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE SELECTABLE CAN_ATTACK UNATTACKABLE

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  FireWeaponUpdate ModuleTag_04
Weapon  RussianTargetSatelliteDesignator
End

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaTargetingSatelliteGoingBackUpLevel
End

Behavior  LifetimeUpdate ModuleTag_043
MinLifetime  121320
MaxLifetime  121320
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior        OCLUpdate ModuleTag_Timer01
OCL           OCL_RussiaTargetingSatelliteTimerDummy
MinDelay      121320
MaxDelay      121320
End

Behavior  BoneFXDamage ModuleTag_Decal01
End

Behavior  BoneFXUpdate ModuleTag_Decal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_RussiaTargetingSatelliteDecal
End

Behavior  FireWeaponUpdate ModuleTag_AmbientEffect01
Weapon  RussianTargetSatelliteAmbientLoopSpawnWeapon
InitialDelay  1320
End

Behavior  PowerPlantUpgrade ModuleTag_DeployingAnimation01
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_DeployingAnimation02
RodsExtendTime  1320
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussiaTargetingSatelliteAmbientSoundEffectObject

;  Draw  W3DModelDraw ModuleTag_012
;    DefaultConditionState
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundAmbient  TargetingSataliteAmbientLoop

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

End

;------------------------------------------------------------------------------
Object RussianSataliteTargetingGoingBackUp

Draw                       W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model          EXTargetSat
Animation      EXTargetSat.EXTargetSat
AnimationMode  ONCE_BACKWARDS
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TargetingSatellite
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  9999999
InitialHealth  9999999
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  TargetingSatelliteLocomotorGoingBackUp

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  LifetimeUpdate ModuleTag_043
MinLifetime  10000
MaxLifetime  10000
End

Behavior  DestroyDie ModuleTag_06222
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RussianEmergencyRecoveryMarkerObject

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    EmergencyRecoveryWeapon
StartsActive   Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes  ALL
DestructionDelay  100
Weapon  INITIAL EmergencyRecoveryWeapon
FX      INITIAL FX_EmergencyRecoveryEffect
End

End

;------------------------------------------------------------------------------
Object RussianEmergencyRecoveryDecalObject

Draw  W3DModelDraw ModuleTag_ShadowDraw01
DefaultConditionState
Model  NVDeva_U2
End
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  160;
ShadowSizeY  160;
ShadowTexture  SCCRecovery;

End


;------------------------------------------------------------------------------
Object BerkutBarrelRollMissileDodgeObject

;  Draw  W3DModelDraw ModuleTag_01
;    DefaultConditionState
;      Model          AVBomber
;    End
;  End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  HeightDieUpdate ModuleTag_082 ;Can't barrel roll on the ground
TargetHeight  10.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  4000
MaxLifetime  4000
End

Behavior  FireWeaponUpdate ModuleTag_032233
Weapon  BerkutMissileDodgeWeapon
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object TeslaTankOverloadDamageObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL TeslaTankOverchargeObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_05
StayOnSameLayerAsMaster  Yes
End

Behavior  FireWeaponUpdate ModuleTag_07
Weapon  TeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_08
Weapon  TeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  TeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_10
Weapon  TeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_11
Weapon  TeslaTankMassiveDischargeWeaponTwo
End

Behavior  FireWeaponUpdate ModuleTag_15
Weapon  TeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_16
Weapon  TeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_17
Weapon  TeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_18
Weapon  TeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_19
Weapon  TeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  DestroyDie ModuleTag_31
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6200
MaxLifetime  6200
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object HeroicTeslaTankOverloadDamageObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL TeslaTankOverchargeObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_05
StayOnSameLayerAsMaster  Yes
End

Behavior  FireWeaponUpdate ModuleTag_07
Weapon  HeroicTeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_08
Weapon  HeroicTeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  HeroicTeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_10
Weapon  HeroicTeslaTankMassiveDischargeWeaponOne
End

Behavior  FireWeaponUpdate ModuleTag_11
Weapon  HeroicTeslaTankMassiveDischargeWeaponTwo
End

Behavior  FireWeaponUpdate ModuleTag_15
Weapon  HeroicTeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_16
Weapon  HeroicTeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_17
Weapon  HeroicTeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_18
Weapon  HeroicTeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_19
Weapon  HeroicTeslaTankMassiveDischargeIfantryKillerWeapon
End

Behavior  DestroyDie ModuleTag_31
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6200
MaxLifetime  6200
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TeslaTankOverloadDissableObject

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     6300
Lifetime             100
StartFadeTime        100
StartScale           0.01
TargetScaleMin       3.00
TargetScaleMax       4.00
StartColor           R:0 G:0 B:0
EndColor             R:0 G:0 B:0
EffectRadius         0.1
DoesNotAffect        ENEMIES NEUTRALS
VictimForbiddenKindOf  STRUCTURE
VictimRequiredKindOf   VEHICLE
DisableFXParticleSystem  EMPSparks
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object ThermobaricExplosionBurningFieldObject


; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

;   ***AUDIO parameters ***
SoundAmbient NapalmPuddleFireLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  IgnitedNapalmPuddleFireSpawnerWeapon
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  500
MaxLifetime  1000
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object SmallThermobaricExplosionBurningFieldObject


; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE NO_HEAL_ICON
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

;   ***AUDIO parameters ***
SoundAmbient NapalmPuddleFireLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  SmallIgnitedNapalmPuddleFireSpawnerWeapon
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  300
MaxLifetime  600
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object AirRaidTowerDummyLaser

KindOf  IMMOBILE

Behavior  DestroyDie ModuleTag_03
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime 1
End
End

;------------------------------------------------------------------------------
Object TopolWarheadReentryObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  RVTopol_M
HideSubObject  Missile
WeaponLaunchBone  SECONDARY WeaponA
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  250.0
ShroudClearingRange  250.0

WeaponSet
Conditions           None
Weapon               SECONDARY TopolNuclearWarheadReentryWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Warhead01
MinDelay      5500
MaxDelay      5500
OCL           OCL_TopolWareheadsReentryLaunch
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  15000
MaxLifetime  15000
End

Behavior  FireWeaponUpdate ModuleTag_Geiger01
Weapon  TopolNuclearWarheadReentryWhooshSoundWeapon
InitialDelay  30
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       800.0
GeometryMinorRadius       800.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RussianTopolNukeStrikeWarningDecal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  EXTplStrk
Animation  EXTplStrk.EXTplStrk
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE PORTABLE_STRUCTURE

Body  InactiveBody ModuleTag_02
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  12500
MaxLifetime  12500
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  TacticalNukeStrikeWarningSirenWeapon
InitialDelay  100
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       800.0
GeometryMinorRadius       800.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object RussianTacticalNukeStrikeWarningDecal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  EXMirvStrk
Animation  EXMirvStrk.EXMirvStrk
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE PORTABLE_STRUCTURE

Body  InactiveBody ModuleTag_02
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  12500
MaxLifetime  12500
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  TacticalNukeStrikeWarningSirenWeapon
InitialDelay  100
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       800.0
GeometryMinorRadius       800.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End


;------------------------------------------------------------------------------
Object TacticalStrikeNuclearExplosion

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_01
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    TacticalStrikeNuclearExplosionWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_04
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End


;------------------------------------------------------------------------------
Object RussianTacticalNuclearMissileLoopSoundObject

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_042
End

; *** AUDIO Parameters ***
SoundAmbient          RussianTacticalNuclearMissileRocketEngine

Behavior  DeletionUpdate ModuleTag_02
MinLifetime  800
MaxLifetime  800
End

Behavior  DestroyDie ModuleTag_04
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object MissileSiloWarheadReentryObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  RVTopol_M
HideSubObject  Missile
WeaponLaunchBone  SECONDARY WeaponA
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  250.0
ShroudClearingRange  250.0

WeaponSet
Conditions           None
Weapon               SECONDARY MissileSiloNuclearWarheadReentryWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Warhead01
MinDelay      5500
MaxDelay      5500
OCL           OCL_TopolWareheadsReentryLaunch
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  15000
MaxLifetime  15000
End

Behavior  FireWeaponUpdate ModuleTag_Geiger01
Weapon  TopolNuclearWarheadReentryWhooshSoundWeapon
InitialDelay  30
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       800.0
GeometryMinorRadius       800.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object TacticalNukeRadiationField

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
; srj asks: should this also be STICK_TO_TERRAIN_SLOPE?
KindOf  IMMOBILE CLEANUP_HAZARD INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; ***AUDIO parameters ***
SoundAmbient       RadiationPoolAmbientLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  TacticalNukeRadiationFieldWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  12000
MaxLifetime  12000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  HazardFieldCoreWeapon ; Prevents stacking of fields with a small blast of cleaning at the core at startup
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_RadiationPoolDie
End

Behavior  FireWeaponUpdate ModuleTag_Geiger01
Weapon  TacticalNukeRadiationFieldGeigerWeapon
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object RussiaTopolRangeIndicatorDecalObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  100
MaxLifetime  100
End

Behavior        OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
OCL           OCL_RussiaTopolRangeIndicatorDecal_Decal
MinDelay      60
MaxDelay      60
CreateAtEdge  Yes
End

End

;------------------------------------------------------------------------------
Object RussiaMissileSiloRangeIndicatorDecalObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  100
MaxLifetime  100
End

Behavior        OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
OCL           OCL_RussiaMissileSiloRangeIndicatorDecal_Decal
MinDelay      60
MaxDelay      60
CreateAtEdge  Yes
End

End

;------------------------------------------------------------------------------
Object RussianSmokeGrenadeLoseTargetingObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  FireWeaponUpdate ModuleTag_0324
Weapon  GolemInvulnerabilityWeapon
InitialDelay  1450
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  1600
MaxLifetime  1600
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object RussianGolemShtoraActiveDefenceObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  FireWeaponUpdate ModuleTag_03234
Weapon  GolemInvulnerabilityWeapon
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  8000
MaxLifetime  8000
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object RussianGolemShtoraActiveDefenceBlindingGrenadeLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  RVGolem_A1
HideSubObject  Redlight01 Redlight02
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY RussianGolemShtoraBlindingGrenadeWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object BuratinoRocketDetonationEffect

Behavior  LifetimeUpdate ModuleTag_01
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_02
DeathTypes  ALL
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    BuratinoDetonationWeaponEffect
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
;This object is used to trigger the "USING_ABBILITY" status for some units with unique abbilities such as smoke grenades
Object RussianGoliathActiveDefenceSystemTriggerObject

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_01
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  GoliathAbbilityStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  66
MaxLifetime  66
End

End

;------------------------------------------------------------------------------
Object RussianGoliathActiveDefenceFlareLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXGoliath
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY GoliathCounterMeasureFlareWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object RussianGoliathActiveDefenceMissileLockBreakerObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GoliathDefenceDummyLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  FireWeaponUpdate ModuleTag_03234
Weapon  GoliathMissileLockBreakingWeapon
End

Behavior  DestroyDie ModuleTag_Die01
End

;This controls for how long missile locks will be broken in helicopters
Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1200
MaxLifetime  1200
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object GoliathSystemFlare

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT CAN_ATTACK

Body  ActiveBody ModuleTag_0468
MaxHealth        5000.0
InitialHealth    5000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  2.0
End
Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL MuleCountermeasureFlareLocomotor

Behavior  OCLUpdate ModuleTag_05
OCL           OCL_SuicideSelfKill
MinDelay      2000
MaxDelay      2000
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
DestructionDelay  2000
DestructionDelayVariance  1000
FX  FINAL FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End


;------------------------------------------------------------------------------
Object RussiaComponentTowerUpgradeDummy

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY ConscriptMachineGun
AutoChooseSources  PRIMARY NONE
Weapon             SECONDARY SuicideUnresistableWeapon
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

; --- begin Death modules ---
Behavior  DestroyDie ModuleTag_0824
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  100
MaxLifetime  100
End

End

;------------------------------------------------------------------------------
Object SurveilanceMissileStealthDetectObject

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         TankDamageFX
End

VisionRange      250

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime        5000
MaxLifetime        5000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  -1.0

End

;------------------------------------------------------------------------------
Object ShockTrooperRemoveUpgradeRocketRifleObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform06
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1000
MaxLifetime  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ShockTrooperRemoveUpgradeTeslaGunObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1000
MaxLifetime  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ShmellBurningEmbersFireField

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None NapalmPoolSmoke
ParticleSysBone  None NapalmPoolSmoke
ParticleSysBone  None ShmelPoolFire
ParticleSysBone  None ShmelPoolFire
ParticleSysBone  None ShmelPoolFire
ParticleSysBone  None ShmelPoolFire
ParticleSysBone  None ShmelPoolFire
ParticleSysBone  None ShmelPoolFireMainRing
ParticleSysBone  None ShmelPoolFireMainRing
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE

; *** AUDIO Parameters ***
SoundAmbient  GenericFireMediumLoop

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  PyroFireWalFieldWeapon
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2500
MaxLifetime  3000
End

End

;------------------------------------------------------------------------------
Object S300GrumbleDeployedDecal

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  50
MaxLifetime  50
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                50.0
ShadowTexture  SCCDplyMrkr; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  85
ShadowSizeY  85

End

;------------------------------------------------------------------------------
Object TopolDeployedDecal

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  50
MaxLifetime  50
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                50.0
ShadowTexture  SCCDplyMrkr; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  110
ShadowSizeY  110

End

;------------------------------------------------------------------------------
Object RussiaArenaDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXArenaDcl
ShadowSizeX  370
ShadowSizeY  370

End


;------------------------------------------------------------------------------
Object RussiaArenaTowerDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE FS_FAKE

Body             StructureBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXArenaDcl
ShadowSizeX  370
ShadowSizeY  370

End

;------------------------------------------------------------------------------
Object BorisAirstrikeVoiceObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone  NONE BorisAirstrikeSmokeFlare
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End


; *** AUDIO Parameters ***
SoundAmbient          BorisMiGVoiceirstrikeConfirmed

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_043
MinLifetime  1000
MaxLifetime  1000
End

Behavior  SlowDeathBehavior ModuleTag_0423141413
DeathTypes  ALL
DestructionDelay  5000
End

End

;------------------------------------------------------------------------------
Object BorisAirstrikeMiGDelayedSpawningObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_RussiaBorisMigAirstrikeRegulair
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  3234
MaxLifetime  3234
End

Behavior  DestroyDie ModuleTag_0622
End

End

;------------------------------------------------------------------------------
Object FieldQuartersRemoveMobileUpgradeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform06
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object FieldQuartersRemoveDeployedUpgradeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  UpgradeDie  ModuleTag_1234
DeathTypes  ALL
UpgradeToRemove      Upgrade_300_10 ModuleTag_Transform02
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object FieldQuartersRemoveUpgradeModesInitialDelayObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_ChinaOverlordGattlingCannon ModuleTag_Transform11
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RussianAirRaidIconObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          EXAirWrng
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  5049
MaxLifetime  5049
End

Behavior  DestroyDie ModuleTag_06
End

End

;------------------------------------------------------------------------------
Object RussianBorisStimpackEffectObject

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE OBSTACLE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  200
MaxLifetime  200
End

Behavior  StealthUpdate ModuleTag_043
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100%
FriendlyOpacityMax  100%
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  RussiaBorisStimPackHealVissualEffectDummyWeapon
InitialDelay  66
End

Behavior  StatusBitsUpgrade ModuleTag_NoAttack01
TriggeredBy     Upgrade_CostReduction
StatusToSet     MASKED
End

Behavior  DestroyDie ModuleTag_06
DeathTypes  ALL
End

End

;------------------------------------------------------------------------------
Object RussianBorisStimpackHealingObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor
Locomotor  SET_PANIC GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
RepairRange  1         ;How far I can zip around while repair (only moves when he stops welding)
RepairMinAltitude  3.0   ;My minimum repair hover altitude.
RepairMaxAltitude  3.0   ;My maximum repair hover altitude.
RepairRatePerSecond  280.0 ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  1
RepairMaxReadyTime  1
RepairMinWeldTime  1
RepairMaxWeldTime  1
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  1500
MaxLifetime  1500
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object RussianRadarOutpostRadarDummyObject

;  Draw  W3DModelDraw ModuleTag_Test01
;    ConditionState  None
;      Model  AVBomber
;    End
;  End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON NO_COLLIDE UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior          RadarUpgrade ModuleTag_15
TriggeredBy    Upgrade_CostReduction
DisableProof   Yes
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL KA50Locomotor

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_09
MinLifetime  1000
MaxLifetime  1000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RussianShmelTrooperSmokeScreen

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  INERT NO_COLLIDE

ArmorSet
Conditions       None
Armor            InvulnerableArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         1000000000000.0
InitialHealth     1000000000000.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  RussianSmokeGrenadeSmokeScreenWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  5500
MaxLifetime  6000
End

Behavior  DestroyDie ModuleTag_06
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object RussianShmelTrooperAntiToxinFoam

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  INERT NO_COLLIDE UNATTACKABLE NO_HEAL_ICON

ArmorSet
Conditions       None
Armor            InvulnerableArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  RussianShmelTrooperAntiToxinSmokeWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  3000
MaxLifetime  3500
End

Behavior  DestroyDie ModuleTag_06
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
;This object is used to trigger the "BOOBY_TRAPPED" status for the Grizzly to make it fire its Frag burst abbility
Object GrizzlyFragBurstTriggerObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponUpdate ModuleTag_wedawl01
Weapon  GrizzlyFragBurstAbbilityStatusWeapon
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  66
MaxLifetime  66
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GrizzlyFragBurstLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EVSplyTrck_B
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY GrizzlyFragBurstGrenadeWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1200
MaxLifetime  1200
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object GrizzlyFragBurstDamageObject

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    GrizzlyFragBurstGrenadeDamageWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  700
MaxLifetime  800
End

End

;------------------------------------------------------------------------------
Object GolemShtoraActivateVoiceActivateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE PORTABLE_STRUCTURE

; *** AUDIO Parameters ***
SoundEnter               GolemVoiceActivateShtora

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  LifetimeUpdate ModuleTag_remove03
MinLifetime        100
MaxLifetime        100
End

Behavior              DestroyDie ModuleTag_23205
End

End

;------------------------------------------------------------------------------
Object BlackbearShtoraActivateVoiceActivateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE PORTABLE_STRUCTURE

; *** AUDIO Parameters ***
SoundEnter               BlackBearTankVoiceActivateShtora

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  LifetimeUpdate ModuleTag_remove03
MinLifetime        100
MaxLifetime        100
End

Behavior              DestroyDie ModuleTag_23205
End

End

;------------------------------------------------------------------------------
Object BlackbearThermobaricShellDetonationEffect

Behavior  LifetimeUpdate ModuleTag_01
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_02
DeathTypes  ALL
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    BlackBearThermobaricShellDetonationWeaponEffect
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object BlackbearThermobaricShellDetonationGarrisonClearingObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0

;  WeaponSet
;    Conditions           None
;    Weapon               SECONDARY
;  End

; *** ENGINEERING Parameters ***
KindOf  CAN_ATTACK NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  AIUpdateInterface ModuleTag_03232
;     AutoAcquireEnemiesWhenIdle  Yes STEALTHED
;     MoodAttackCheckRate  1
End

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         BlackBearThermobaricShellKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               33
ScanRange              100.0
PredictTargetVelocityFactor  3.0
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  500
MaxLifetime  500
End

Behavior  DestroyDie ModuleTag_Die01
End

End

;------------------------------------------------------------------------------
Object BlackbearRebuildTimerObject

; ***DESIGN parameters ***
Side                    Russia
EditorSorting           SYSTEM
TransportSlotCount      0
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  Blackbear

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS PRODUCED_AT_HELIPAD IMMOBILE

Body  ActiveBody ModuleTag_04
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  60000
MaxLifetime  60000
End

End

;------------------------------------------------------------------------------
Object RussianBorisAimShotFiringDelayObject

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1.0
InitialHealth  1.0
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    RussiaBorisMissileLauncherAimedShotDelayWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_06
End

End

;------------------------------------------------------------------------------
Object BorisFlareGunBurningFlare

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None BorisFlaregunLensflare
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT UNATTACKABLE

Body  ActiveBody ModuleTag_0468
MaxHealth        5000.0
InitialHealth    5000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  2.0
End
Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL MuleCountermeasureFlareLocomotor

Behavior  OCLUpdate ModuleTag_05
OCL           OCL_SuicideSelfKill
MinDelay      8000
MaxDelay      9000
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object BorisFlarePing

; ***DESIGN parameters ***
VisionRange      700.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  DynamicShroudClearingRangeUpdate ModuleTag_02
FinalVision  0.0
ShrinkDelay  10000
ShrinkTime  5000
GrowDelay  0
GrowTime  1000
GrowInterval  10 ; Faster than most
ChangeInterval  80 ; Faster than most
GridDecalTemplate
Texture            EXGrid
Style              SHADOW_ADDITIVE_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   500
Color              R:255 G:0 B:0 A:0 //dim blue, additive
End
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  8000   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  8000
End

End

;------------------------------------------------------------------------------
Object BorisInspireObject

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM


KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  10.0
InitialHealth  10.0
End

Behavior  WeaponBonusUpdate ModuleTag_03
RequiredAffectKindOf  INFANTRY                                     ; Must be set
ForbiddenAffectKindOf  UNATTACKABLE DONT_AUTO_CRUSH_INFANTRY HERO  ; Does not effect these kindoffs
BonusDuration  10000                                               ; How long effect lasts
BonusDelay  100000                                                 ; How often to pulse (short lifetime will trump, of course)
BonusRange  90                                                     ; Keep in line with radius cursor size in special power template
BonusConditionType  VETERAN                                        ; And which bonus to give
End

Behavior  FireWeaponUpdate ModuleTag_04
Weapon  RussianCamaraderieEffectWeapon
End

Behavior  FireWeaponUpdate ModuleTag_0465489469
Weapon  GenericStealthRevealWeapon
End

Behavior  DeletionUpdate ModuleTag_05 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  100 ;one pulse
MaxLifetime  100
End
End


;------------------------------------------------------------------------------
Object RussiaCargoHelicopterVehicleDropDecal

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE IMMOBILE

Behavior        OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
MinDelay      1200
MaxDelay      1200
CreateAtEdge  Yes
OCL    OCL_AirDroppingHelicopterDecal
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1300
MaxLifetime  1300
End

Behavior  DestroyDie ModuleTag_0622
End

End


;------------------------------------------------------------------------------
Object RussiaCargoHelicopterVehicleDropFlare

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone  NONE HelicopterAirDropSmoke
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE IMMOBILE

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  7000
MaxLifetime  7000
End

Behavior  DestroyDie ModuleTag_0622
End

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterVehicleDropCountdownObject

Draw  W3DModelDraw ModuleTag_CountDown01
ConditionState  NONE
Model                NONE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  BmbCntr08
Animation  BmbCntr08.BmbCntr08
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***

EditorSorting    SYSTEM
VisionRange  10.0
ShroudClearingRange  10.0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100%
FriendlyOpacityMax  100%
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  7600
MaxLifetime  7600
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  33
End

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterVehicleDropDecalDummyDeliveryObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor  SET_NORMAL A10ThunderboltLocomotor

Behavior  DeletionUpdate ModuleTag_removeme03
MinLifetime  7600
MaxLifetime  7600
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterDroppingCable

Draw                     W3DModelDraw ModuleTag_01
ConditionState         NONE
Model                RVBTRD_B
HideSubObject    Chassis
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  HeightDieUpdate ModuleTag_Selfkill01
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_0622
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterDroppingSoundEffectObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  HeightDieUpdate ModuleTag_Selfkill01
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_PadardroppedVehicleHitGround
End

End

;------------------------------------------------------------------------------
Object TeslaCoilDissableAttackEffect

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM


KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  10.0
InitialHealth  10.0
End

Behavior  WeaponBonusUpdate ModuleTag_03
RequiredAffectKindOf  FS_BASE_DEFENSE  ; Must be set
BonusDuration  1                       ; How long effect lasts
BonusDelay  1                          ; How often to pulse (short lifetime will trump, of course)
BonusRange  1                          ; Keep in line with radius cursor size in special power template
BonusConditionType  VETERAN            ; And which bonus to give
End

Behavior  DeletionUpdate ModuleTag_05 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1
MaxLifetime  1
End

End

;------------------------------------------------------------------------------
Object TeslaCoilOverchargeRemoveUpgradesObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove  Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform02
End

Behavior  UpgradeDie  ModuleTag_1234
DeathTypes  ALL
UpgradeToRemove  Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform05
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  5000
MaxLifetime  5000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

; -----------------------------------------------------------------------------
Object ConscriptsReserveSpawnCrate

; ***DESIGN parameters ***
Side             Russia
DisplayName      OBJECT:Crate
EditorSorting    MISC_MAN_MADE

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
PickupScience  SCIENCE_ConscriptParadrop
RequiredKindOf  VEHICLE
HumanOnly  Yes
BuildingPickup  No
ForbidOwnerPlayer  No
UnitName  ConscriptsReserveSpawnTriggerObject
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  100
MaxLifetime  100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ConscriptsReserveSpawnTriggerObject

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon  FreeConscriptsStatusTriggerWeapon
StartsActive  Yes
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the detention camp constantly but will only activate once a Intelligence Office has been constructed
Object WeaponsBunkerNuclearStockpileUpgradeCrate

; ***DESIGN parameters ***
Side             Russia
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  WeaponsBunkerNuclearStockpileUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_NuclearStockpile
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object WeaponsBunkerNuclearStockpileUpgradePurchasedObject

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  WeaponsBunkerNuclearStockpileUpgradeStatusWeapon
End

End

;------------------------------------------------------------------------------
Object RussiaWeaponsBunkerNuclearStockpileBuildDummyObject

; ***DESIGN parameters ***
Side                 Russia
DisplayName          OBJECT:NuclearStockpile
EditorSorting        SYSTEM
TransportSlotCount   1
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  WeaponsBunkerNuclearStockpile

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

;  Behavior  CreateCrateDie ModuleTag_NukeCrate01
;    ExemptStatus    UNDER_CONSTRUCTION
;    CrateData       SiloWarheadCrateData
;  End

;  Behavior  FXListDie ModuleTag_08
;    DeathFX  FX_TOPOLNuqExplosion
;  End

;  Behavior  FireWeaponWhenDeadBehavior ModuleTag_082
;    DeathWeapon    TopolNuclearWarheadDamageWeapon
;    StartsActive   Yes
;  End

Behavior  DestroyDie ModuleTag_Die01
End

End

;------------------------------------------------------------------------------
Object RussiaJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVCargoPln
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  WINGTIP01 JetContrailThin
ParticleSysBone  WINGTIP02 JetContrailThin
End

ConditionState  DAMAGED
Model            RVCargoPln_D
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVCargoPln_D
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVCargoPln_D
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVCargoPln_A2
Animation        RVCargoPln_A2.RVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            RVCargoPln_A2
Animation        RVCargoPln_A2.RVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVCargoPln_A2
Animation        RVCargoPln_A2.RVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  RussianCargoPlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponVDVParadrop
UpgradeOCL            SCIENCE_VDVParadrop3 SUPERWEAPON_VDVParadrop3
UpgradeOCL            SCIENCE_VDVParadrop2 SUPERWEAPON_VDVParadrop2
OCL                   SUPERWEAPON_VDVParadrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponArmorReserves
OCL                   SUPERWEAPON_VehicleReserveDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopter

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  CargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower08
SpecialPowerTemplate  SuperweaponConscriptReinforcementsParadrop
OCL                   SUPERWEAPON_ConscriptReinforcementsParadrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_11
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60              ; in degrees per second
MaxSelfSpin                      120             ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25              ; in degrees
FallHowFast                      12.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaCargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaTU160

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVTU160
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  WINGTIP01 JetContrailThin
ParticleSysBone  WINGTIP02 JetContrailThin
End

ConditionState  DAMAGED
Model            RVTU160_D
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVTU160_D
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVTU160_D1
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:RussiaTU160
EditorSorting           VEHICLE
Side                           Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange            0.0
ShroudClearingRange  300.0
ArmorSet
Conditions             None
Armor                      GenPowerAirplaneArmor
DamageFX            None
End
CommandSet         RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  Tu160AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          750 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponRussiaFOAB
OCL                   SUPERWEAPON_RussiaFOAB
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End


Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End


Behavior  TransitionDamageFX ModuleTag_15
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End


Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object RussiaJetTU22BackFire

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model            RVBckFre
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Wingtip01 JetContrailThin
ParticleSysBone  Wingtip02 JetContrailThin
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState     REALLYDAMAGED
Model            RVBckFre_D
End

ConditionState     RUBBLE
Model            RVBckFre_D1
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:A10Thunderbolt
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
;VisionRange          300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               PRIMARY BackfireCruiseMissileWeapon
End

ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End

ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience

CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  Tu22BackfireAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_02
MaxHealth        600.0
InitialHealth    600.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  TransportContain ModuleTag_092
Slots  100
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA
AllowInsideKindOf  PROJECTILE
DoorOpenTime  0
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponBackfireCruiseMissileStrike
UpgradeOCL            SCIENCE_BackfireCruiseMissileStrike3 SUPERWEAPON_BackfireCruiseMissileStrike3
UpgradeOCL            SCIENCE_BackfireCruiseMissileStrike2 SUPERWEAPON_BackfireCruiseMissileStrike2
OCL                   SUPERWEAPON_BackfireCruiseMissileStrike1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor  SET_NORMAL TU22BackfireLocomotor

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaCargoAircraftRandomizer_TechDrop

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                RVCargoPln
End
End

Side  Russia
EditorSorting  SYSTEM
BuildVariations  RussiaJetCargoPlane_TechDrop RussiaCargoHelicopter_TechDrop

End

;------------------------------------------------------------------------------
Object RussiaJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVCargoPln
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  WINGTIP01 JetContrailThin
ParticleSysBone  WINGTIP02 JetContrailThin
End

ConditionState  DAMAGED
Model            RVCargoPln_D
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVCargoPln_D
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVCargoPln_D
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVCargoPln_A2
Animation        RVCargoPln_A2.RVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            RVCargoPln_A2
Animation        RVCargoPln_A2.RVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVCargoPln_A2
Animation        RVCargoPln_A2.RVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  RussianCargoPlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponVDVParadrop
UpgradeOCL            SCIENCE_VDVParadrop3 SUPERWEAPON_VDVParadrop3
UpgradeOCL            SCIENCE_VDVParadrop2 SUPERWEAPON_VDVParadrop2
OCL                   SUPERWEAPON_VDVParadrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponArmorReserves
OCL                   SUPERWEAPON_VehicleReserveDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopter_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  CargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponArmorReserves
OCL                   SUPERWEAPON_VehicleReserveDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_11
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60              ; in degrees per second
MaxSelfSpin                      120             ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25              ; in degrees
FallHowFast                      12.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaCargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaJetHeavyCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  WINGTIP01 JetContrailThin
ParticleSysBone  WINGTIP02 JetContrailThin
End

ConditionState  DAMAGED
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    LOOP
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVRuslan_D1
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_OPENING
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
ConditionState  DAMAGED DOOR_1_OPENING
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
ConditionState  DAMAGED DOOR_1_CLOSING
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  AN124AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL AntonovLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponArmorReserves
OCL                   SUPERWEAPON_VehicleReserveDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object RussiaJetHeavyCargoPlaneSlow

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  WINGTIP01 JetContrailThin
ParticleSysBone  WINGTIP02 JetContrailThin
End

ConditionState  DAMAGED
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    LOOP
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVRuslan_D1
ParticleSysBone  SMOKE01 JetFireLarge
ParticleSysBone  SMOKE02 JetFireLarge
ParticleSysBone  SMOKE01 JetSmokeLarge
ParticleSysBone  SMOKE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_OPENING
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVRuslan
Animation        RVRuslan.RVRuslan
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
ConditionState  DAMAGED DOOR_1_OPENING
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
ConditionState  DAMAGED DOOR_1_CLOSING
Model            RVRuslan_D
Animation        RVRuslan_D.RVRuslan_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  AN124AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL AntonovSlowLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponArmorReserves
OCL                   SUPERWEAPON_VehicleReserveDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterGrizonAirDropSpawnObject

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE IMMOBILE

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_GrizonAirDroppingHelicopter
End

Behavior  DestroyDie ModuleTag_0622
End

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterAirdropTakingOff

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  CargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterDroppingVehicleTakeOffLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_11
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60              ; in degrees per second
MaxSelfSpin                      120             ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25              ; in degrees
FallHowFast                      12.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaCargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  DeletionUpdate ModuleTag_032413
MinLifetime  15000
MaxLifetime  15000
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterDroppingGrizon

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            RVHalo
Animation        RVHalo.RVHalo
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            RVHalo_D
Animation        RVHalo_D.RVHalo_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_Vehicle01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                RVBTRD_B
End

ConditionState REALLYDAMAGED
Model                RVBTRD_BD
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           RussiaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  CargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     RussianParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterDroppingVehicleLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

;Now uses a timer instead to prevent terrain from dropping its payload on the mark
;  Behavior  HeightDieUpdate ModuleTag_Selfkill01
;    TargetHeight  50.0
;    TargetHeightIncludesStructures  No
;  End

Behavior  LifetimeUpdate ModuleTag_Selfkill01
MinLifetime  8000   ; min lifetime in msec
MaxLifetime  8000   ; max lifetime in msec
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_GrizonAirDropped
End

Behavior  DestroyDie ModuleTag_0622
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_HaloHelicopterVehicleCableRelease
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object RussianParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMRChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMRChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMRChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  PMRChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1800
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes

End

Object RussianVehicleParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMRVChute_A
Animation  PMRVChute_A.PMRVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMRVChute_B
Animation  PMRVChute_B.PMRVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_RussianPadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

Object RussianArmorReservesParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMRVChute_A
Animation  PMRVChute_A.PMRVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMRVChute_B
Animation  PMRVChute_B.PMRVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ArmorReservesParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_RussianPadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RussiaPadadropedVehicleWoodenPlate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  RVParaPlate
End
End

; ***DESIGN parameters ***
Side             Russia
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  No
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  4000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           1     ; in Dist/Sec
DestructionDelay   4000
End

End

Object RussianGenericVehicleParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMRVChute_A
Animation  PMRVChute_A.PMRVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMRVChute_B
Animation  PMRVChute_B.PMRVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    15.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.3
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object DeadShockTrooperCorpse

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  RIDeadShckTrpr
End
End

; *** DESIGN parameters ***
Side              Russia
EditorSorting     SYSTEM
KindOf            IMMOBILE

; *** ENGINEERING Parameters ***
Shadow           SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object RussianCrateParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMRVChute_A
Animation  PMRVChute_A.PMRVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMRVChute_B
Animation  PMRVChute_B.PMRVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMRVChute_C
Animation  PMRVChute_C.PMRVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.1
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RussiaTechAirstrikeObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  RVMigBmbRn
Animation  RVMigBmbRn.RVMigBmbRn
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

ConditionState  SNOW
Model  RVMigBmbRn_S
Animation  RVMigBmbRn_S.RVMigBmbRn_S
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   TechAirstrikeBombRussiaWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      2240
MaxDelay      2240
OCL           OCL_CreateRealFortress
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  4800
MaxLifetime  4800
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect01
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon01
InitialDelay  1
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect02
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon02
InitialDelay  1800
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

Object RussiaCrashedAntonovCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVRuslan_R
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke03 SparksLarge
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke06 SparksLarge
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire01 FireFactionLarge
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire02 SparksLarge
ParticleSysBone  Fire02 FireFactionLarge
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire03 FireFactionLarge
ParticleSysBone  Fire04 SmolderingSmoke
ParticleSysBone  Fire04 FireFactionLarge
End
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting  MISC_MAN_MADE

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf         UNATTACKABLE NO_SELECT IMMOBILE

Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

Behavior  DestroyDie ModuleTag_03
End

Geometry               BOX
GeometryMajorRadius    90.0
GeometryMinorRadius    50.0
GeometryHeight         25.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME

End

Object RussiaNuclearWarheads

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXRusNks
End
End

; ***DESIGN parameters ***
Side  Russia
EditorSorting  MISC_MAN_MADE

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf         UNATTACKABLE NO_SELECT IMMOBILE

Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

Behavior  DestroyDie ModuleTag_03
End

Geometry               BOX
GeometryMajorRadius    11.7
GeometryMinorRadius    11.7
GeometryHeight         7.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object GreyhoundHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVPantsir_E
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVPantsir_E
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TruckArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        410.0
InitialHealth    205.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_GreyhoundRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End
;------------------------------------------------------------------------------
Object DeadRussiaGreyhoundHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVPantsir_E
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVPantsir_E
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_GreyhoundBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End
;------------------------------------------------------------------------------
Object DeadRussiaGreyhoundHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVPantsir_E
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_GreyhoundRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End
;------------------------------------------------------------------------------
Object DeadRussiaSupplyTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVSplyTrck_D1
HideSubObject    Turret
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_SupplyWarTruckRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaSupplyTruckHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVSplyTrck_D1
HideSubObject  Turret
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVSplyTrck_D1
HideSubObject  Turret
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_SupplyWarTruckBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object SupplyTruckHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVSplyTrck_D1
HideSubObject  Turret
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVSplyTrck_D1
HideSubObject  Turret
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TruckArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        400.0
InitialHealth    200.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_SupplyWarTruckRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleSupplyTruck_Unmanned

; *** ART Parameters ***
SelectPortrait          SRSupplyTruck_L
ButtonImage             SRSupplyTruck

UpgradeCameo1  Upgrade_RussiaArmedRecon

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVSplyTrck
HideSubObject  Cargo01 Turret Lights01
End

ConditionState  REALLYDAMAGED
Model  RVSplyTrck_D
HideSubObject  Cargo01 Turret Lights01
End

ConditionState  RUBBLE
Model  RVSplyTrck_D1
HideSubObject  Turret
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:RussiaSupplyTruck
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  100
TurretPitchRate  70
AllowsPitch  Yes
FirePitch  60
NaturalTurretPitch  5.5
ControlledWeaponSlots  SECONDARY
End
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  200
;    DestructionDelayVariance  100
;    FX   FINAL    FX_SupplyTruckExplosionOneFinal
;    OCL  FINAL    OCL_RussiaSupplyTruckDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_SupplyWarTruckFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  7.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaDeadMihskaHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMishka_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_MihskaRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaDeadMihskaHulkFinal

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVMishka_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVMishka_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_MishkaBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object MishkaHulkRecovery

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVMishka_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVMishka_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              DozerArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        200.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_MishkaRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleMishka_Unmanned

; *** ART Parameters ***
SelectPortrait             SRMishka_L
ButtonImage                SRMishka

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon

Draw                       W3DTankDraw ModuleTag_01
ConditionState           NONE
Model                  RVMishka
Animation              RVMishka.RVMishka
Flags                  START_FRAME_FIRST
AnimationMode          ONCE_BACKWARDS
HideSubObject          Drill01 Drill02
End

;;Damaged States
ConditionState           REALLYDAMAGED
Model                  RVMishka_D
Animation              RVMishka_D.RVMishka_D
AnimationMode          ONCE_BACKWARDS
Flags                  START_FRAME_FIRST
HideSubObject          Drill01 Drill02
End

ConditionState  RUBBLE
Model                  RVMishka_D1
End

TrackMarks               EXMshkaTrds.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

Draw  W3DTruckDraw ModuleTag_Drills01
ConditionState  NONE
Model          RVMishka
HideSubObject  Chassis
End

ConditionState  REALLYDAMAGED
Model          RVMishka_D
HideSubObject  Chassis
End

Dust  InvissibleDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftRearTireBone       Drill01
RightRearTireBone      Drill02
TireRotationMultiplier      0.13    ; this * speed  rotation.
PowerslideRotationAddition  1.0     ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleMod_Hatches01
DefaultConditionState
Model                  RVMishka_A
Animation              RVMishka_A.RVMishka_A
AnimationMode          ONCE_BACKWARDS
HideSubObject          NET
Flags                  START_FRAME_FIRST
End
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Mishka
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            DozerArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;ProbabilityModifier  100
;DestructionDelay  1500
;DestructionDelayVariance  600
;FX   INITIAL  FX_CrusaderCatchFire
;OCL  FINAL    OCL_RussiaMishkaExplode
;FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_MishkaRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry             BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  8.0
GeometryHeight       10.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaMTP4AHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMTP4A_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_MTP4RepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaMTP4AHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMTP4A_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVMTP4A_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_MTP4BeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object MTP4AHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMTP4A_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVMTP4A_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TruckArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        410.0
InitialHealth    205.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_MTP4ARepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleMTP_Unmanned

; *** ART Parameters ***
SelectPortrait          SRMTP4A_L
ButtonImage             SRMTP4A

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOIONT01

DefaultConditionState
Model  RVMTP4A
Animation  RVMTP4A.RVMTP4A
AnimationMode  MANUAL
End

ConditionState  REALLYDAMAGED
Model  RVMTP4A_D
Animation  RVMTP4A_D.RVMTP4A_D
AnimationMode  MANUAL
End

ConditionState  RUBBLE
Model  RVMTP4A_D1
End

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      Wheel01
RightFrontTireBone     Wheel02
MidLeftFrontTireBone   Wheel03
MidRightFrontTireBone  Wheel04
MidLeftRearTireBone    Wheel05
MidRightRearTireBone   Wheel06
LeftRearTireBone       Wheel07
RightRearTireBone      Wheel08

TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.


End

; ***DESIGN parameters ***
DisplayName            OBJECT:MTP4A
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        410.0
InitialHealth    410.0
End

Behavior  TransportAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;DestructionDelay   500
;DestructionDelayVariance   100
;FX   INITIAL  FX_BattleMasterExplosionOneFinal
;OCL  MIDPOINT OCL_RussiaMTP4ADeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_MTP4ARespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaGrumbleHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGrumble_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_GrumbleRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaGrumbleHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGrumble_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVGrumble_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_GrumbleBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object GrumbleHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGrumble_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVGrumble_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              HeavyAntiAirArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      400.0
InitialHealth  200.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_GrumbleRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaGrumble_Unmanned

; *** ART Parameters ***
SelectPortrait          SRGrumble_L
ButtonImage             SRGrumble

UpgradeCameo1  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  RVGrumble
End

ConditionState  REALLYDAMAGED
Model  RVGrumble_D
End

ConditionState  RUBBLE
Model  RVGrumble_D1
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Grumble
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            HeavyAntiAirArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth      400.0
InitialHealth  400.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_RhinoTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_GrumbleRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  32.0
GeometryMinorRadius  10.0
GeometryHeight  17.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadKodiakHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVKodiak_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_KodiakRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadKodiakHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVKodiak_D1
ParticleSysBone  NONE SteamVent_Black
End

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_KodiakBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object KodiakHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVKodiak_D1
ParticleSysBone  NONE SteamVent_Black
End

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        700.0
InitialHealth    350.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_KodiakRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaTankKodiak_Unmanned

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVKodiak
End
End


Side  Russia
EditorSorting  SYSTEM

BuildVariations  RussiaTankKodiak_Unmanned_Var1 RussiaTankKodiak_Unmanned_Var2 RussiaTankKodiak_Unmanned_Var3

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaTankKodiak_Unmanned_Var1

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MuzzleFX01 MGMzzlFX01
End

ConditionState  REALLYDAMAGED
Model  RVKodiak_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MuzzleFX01 MGMzzlFX01
End

ConditionState  RUBBLE
Model  RVKodiak_D1
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Kodiak
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        700.0
InitialHealth    700.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  500
;    DestructionDelayVariance  100
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_KodiakRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaTankKodiak_Unmanned_Var2

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak2
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MuzzleFX01 MGMzzlFX01
End

ConditionState  REALLYDAMAGED
Model  RVKodiak2_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MuzzleFX01 MGMzzlFX01
End

ConditionState  RUBBLE
Model  RVKodiak2_D1
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Kodiak
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        700.0
InitialHealth    700.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  500
;    DestructionDelayVariance  100
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_KodiakRespawnFromHull_Var2
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaTankKodiak_Unmanned_Var3

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak3
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MuzzleFX01 MGMzzlFX01
End

ConditionState  REALLYDAMAGED
Model  RVKodiak3_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 MuzzleFX01 MGMzzlFX01
End

ConditionState  RUBBLE
Model  RVKodiak3_D1
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Kodiak
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        700.0
InitialHealth    700.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  500
;    DestructionDelayVariance  100
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_KodiakRespawnFromHull_Var3
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadGolemHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGolem_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_GolemRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadGolemHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVGolem_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVGolem_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_GolemBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object GolemHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVGolem_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVGolem_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              GolemTankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        950.0
InitialHealth    475.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_GolemRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaTankGolem_Unmanned

; *** ART Parameters ***
SelectPortrait          SRGolem_L
ButtonImage             SRGolem

UpgradeCameo1  Upgrade_RussiaTankERA

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
RecoilSettleSpeed     5

ConditionState  NONE
Model              RVGolem
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07 MgMzzlBFX01 MgMzzlBFX02 MgMzzlFX01 MgMzzlFX02 MuzzleFX01 MuzzleFX02
End

ConditionState  REALLYDAMAGED
Model              RVGolem_D
TurretPitch        TurretEL
HideSubObject      TURRET_ARMOR REDLIGHT01 HOUSECOLOR05 HOUSECOLOR07 MgMzzlBFX01 MgMzzlBFX02 MgMzzlFX01 MgMzzlFX02 MuzzleFX01 MuzzleFX02
End

ConditionState  RUBBLE
Model              RVGolem_D1
End

TrackMarks              EXGolemTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

;Radar
Draw  W3DModelDraw ModuleTag_Radar01

OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGolem_A3
End

ConditionState  REALLYDAMAGED
Model  RVGolem_DA3
End

End


; ***DESIGN parameters ***
DisplayName            OBJECT:Golem
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            GolemTankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        950.0
InitialHealth    950.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         100
TurretPitchRate        250
AllowsPitch            Yes
NaturalTurretPitch     20
ControlledWeaponSlots  SECONDARY TERTIARY
End
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  2500
;    DestructionDelayVariance  1000
;    FX   INITIAL  FX_CrusaderCatchFire
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_GolemTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_GolemRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  24.0
GeometryMinorRadius  14.0
GeometryHeight  11.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MSTASDeathHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMSTAS_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_MSTARepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object MSTASDeathHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMSTAS_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVMSTAS_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_MSTABeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object MSTAHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVMSTAS_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVMSTAS_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        240.0
InitialHealth    120.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_MSTARepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleMSTA_Unmanned

; *** ART Parameters ***
SelectPortrait          SRMSTAS_L
ButtonImage             SRMSTAS

UpgradeCameo1  Upgrade_RussiaKoalitionGunSystem

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model                RVMSTAS
Turret               Turret
TurretPitch          TurretEL
HideSubObject        TurretB ChassisPart03 MuzzleFXA01 MuzzleFX01
End

ConditionState  REALLYDAMAGED
Model                RVMSTAS_D
Turret               Turret
TurretPitch          TurretEL
HideSubObject        TurretB ChassisPart03 MuzzleFXA01 MuzzleFX01
End

ConditionState  RUBBLE
Model  RVMSTAS_D1
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:MSTAS
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  100
TurretPitchRate  70
AllowsPitch  Yes
FirePitch  60
NaturalTurretPitch  5.5
ControlledWeaponSlots  SECONDARY
End
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  2000
;    DestructionDelayVariance  300
;    FX   INITIAL  FX_CrusaderCatchFire
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_MSTASDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_MSTARespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry             BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object BMD1DeathHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMD1_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_BMD1RepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BMD1DeathHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMD1_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBMD1_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_BMD1BeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BMD1HulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMD1_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBMD1_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        300.0
InitialHealth    150.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_BMD1RepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleBMD1_Unmanned

; *** ART Parameters ***
SelectPortrait          SRBMD1_L
ButtonImage             SRBMD1

Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model  RVBMD1
HideSubObject  TURRETUP MuzzleFX01 MuzzleMGFX01 LIGHT01
End

ConditionState  REALLYDAMAGED
Model  RVBMD1_D
HideSubObject  TURRETUP MuzzleFX01 MuzzleMGFX01 LIGHT01
End

ConditionState  RUBBLE
Model  RVBMD1_D1
End

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BMD1
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    OCL  FINAL    OCL_RussiaShilkaDebris
;    FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_BMD1RespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object BMD4DeathHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMD4_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_BMD4RepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BMD4DeathHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMD4_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBMD4_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_BMD4BeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BMD4HulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMD4_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBMD4_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        300.0
InitialHealth    150.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_BMDRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleBMD4_Unmanned

; *** ART Parameters ***
SelectPortrait          SRBMD4_L
ButtonImage             SRBMD4

Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model  RVBMD4
HideSubObject  SPRTTRRT SPRTBRL01 MuzzleFX01 MuzzleMGFX01 LIGHT01 LIGHT02 LIGHT03
End

ConditionState  REALLYDAMAGED
Model  RVBMD4_D
HideSubObject  SPRTTRRT SPRTBRL01 MuzzleFX01 MuzzleMGFX01 LIGHT01 LIGHT02 LIGHT03
End

ConditionState  RUBBLE
Model  RVBMD4_D1
End

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BMD3
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    OCL  FINAL    OCL_RussiaShilkaDebris
;    FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_BMD4RespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object BMP3DeathHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMP3_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_BMP3RepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BMP3DeathHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMP3_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBMP3_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_BMPBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BMPHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBMP3_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBMP3_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        300.0
InitialHealth    150.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_BMPRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleBMP_Unmanned

; *** ART Parameters ***
SelectPortrait          SRBMP3_L
ButtonImage             SRBMP3

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVBMP3
Turret  Turret
HideSubObject  MUZZLEFX01 MUZZLEMGFX01 LIGHT01 LIGHT02 ARMOR01 ARMOR02 ARMOR03 LAUNCHER
End

ConditionState  REALLYDAMAGED
Model  RVBMP3_D
Turret  Turret
HideSubObject  MUZZLEFX01 MUZZLEMGFX01 LIGHT01 LIGHT02 ARMOR01 ARMOR02 ARMOR03 LAUNCHER
End

ConditionState  RUBBLE
Model  RVBMP3_D1
End

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:BMP3
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   FINAL    FX_BattleMasterExplosionOneFinal
;    OCL  FINAL    OCL_FinalBMP3Debris
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_BMPRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaTunguskaHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTngska_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_TunguskaRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaTunguskaHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTngska_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVTngska_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_TunguskaBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object TunguskaHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTngska_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVTngska_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              AntiAirVehicle
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        420.0
InitialHealth    210.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_TunguskaRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleTunguska_Unmanned

; *** ART Parameters ***
SelectPortrait          SRTunguska_L
ButtonImage             SRTunguska

UpgradeCameo1  Upgrade_RussiaArmedRecon
UpgradeCameo2  Upgrade_RussiaAdvancedMissileEngines

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes

DefaultConditionState
Model                RVTngska
HideSubObject        MISSILEUP FRNTRDRUP MuzzleFX01 MuzzleFX02 MuzzleFX201 MuzzleFX202
End

ConditionState         REALLYDAMAGED
Model                RVTngska_D
HideSubObject        MISSILEUP FRNTRDRUP MuzzleFX01 MuzzleFX02 MuzzleFX201 MuzzleFX202
End

ConditionState  RUBBLE
Model                RVTngska_D1
End


TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Tunguska
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            AntiAirVehicle
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        420.0
InitialHealth    420.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    SinkRate  0.5     ; in Dist/Sec
;    OCL  FINAL    OCL_RussiaTunguskaDebris
;    FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_TunguskaRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaBuratinoHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTOS1_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_BuratinoRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaBuratinoHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTOS1_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVTOS1_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_BuratinoBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BuratinoHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTOS1_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVTOS1_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              BuratinoTankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      250.0
InitialHealth  125.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_BuratinoRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaBuratino_Unmanned

; *** ART Parameters ***
SelectPortrait          SRBuratino_L
ButtonImage             SRBuratino

UpgradeCameo1  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  RVTOS1
End

ConditionState  REALLYDAMAGED
Model  RVTOS1_D
End

ConditionState  RUBBLE
Model  RVTOS1_D1
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Buratino
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            BuratinoTankArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth      250.0
InitialHealth  250.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_RhinoTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_BuratinoRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  11.0
GeometryHeight  10
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaTeslaTankHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTslTnk_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_TeslaTankRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaTeslaTankHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTslTnk_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVTslTnk_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_TeslaTankBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object TeslaTankHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTslTnk_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVTslTnk_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        280.0
InitialHealth    140.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_TeslaTankRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaTeslaTank_Unmanned

; *** ART Parameters ***
SelectPortrait          SRTeslaTank_L
ButtonImage             SRTeslaTank

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  RVTslTnk
End

ConditionState  REALLYDAMAGED
Model  RVTslTnk_D
End

ConditionState  RUBBLE
Model  RVTslTnk_D1
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:TeslaTank
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        280.0
InitialHealth    280.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_RhinoTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_TeslaTankRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  11.0
GeometryHeight  10
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaDeadRhinoHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVRhino_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_RhinoRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaDeadRhinoHulkFinal

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVRhino_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVRhino_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_RhinoBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RhinoHulkRecovery

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVRhino_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVRhino_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        500.0
InitialHealth    250.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_RhinoRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaTankRhino_Unmanned

; *** ART Parameters ***
SelectPortrait          SRRhino_L
ButtonImage             SRRhino

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  RVRhino
HideSubObject  MuzzleFX01 ARMOR01 ARMOR02
End

ConditionState  REALLYDAMAGED
Model  RVRhino_D
Turret  Turret
HideSubObject  MuzzleFX01 ARMOR01 ARMOR02
End

ConditionState  RUBBLE
Model  RVRhino_D1
End

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Rhino
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   INITIAL  FX_GenericTankDeathEffect
;    FX   FINAL    FX_GenericTankDeathExplosion
;    OCL  FINAL    OCL_RhinoTankDeathEffect
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_RhinoRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  SubObjectsUpgrade ModuleTag_ERA01
TriggeredBy     Upgrade_RussiaTankERA
ShowSubObjects  ARMOR01 ARMOR02
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object RussiaDeadBrdmHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBRDM_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_BrdmRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaDeadBrdmHulkFinal

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVBRDM_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBRDM_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_BrdmBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object BrdmHulkRecovery

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVBRDM_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBRDM_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        300.0
InitialHealth    150.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_BRDMRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleBRDM_Unmanned

; *** ART Parameters ***
SelectPortrait          SRBrdm_L
ButtonImage             SRBrdm

UpgradeCameo1  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  RVBRDM
HideSubObject  WeaponAMuzzle01 WeaponAMuzzle02 WeaponAMuzzle03 WeaponAMuzzle04
End

ConditionState  REALLYDAMAGED
Model  RVBRDM_D
HideSubObject  WeaponAMuzzle01 WeaponAMuzzle02 WeaponAMuzzle03 WeaponAMuzzle04
End

ConditionState  RUBBLE
Model  RVBRDM_D1
End

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:BRDM
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111521
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   FINAL    FX_BattleMasterExplosionOneFinal
;    OCL  FINAL    OCL_FinalBrdmDebris
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_BrdmRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaShilkaHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVShilka_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_ShilkaRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaShilkaHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVShilka_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVShilka_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_ShilkaBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object ShilkaHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVShilka_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVShilka_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              AntiAirVehicle
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        400.0
InitialHealth    200.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_ShilkaRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleShilka_Unmanned

; *** ART Parameters ***
SelectPortrait          SRShilka_L
ButtonImage             SRShilka

Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model  RVShilka
HideSubObject  MuzzleFX01 MuzzleFX02 MuzzleFX03 MuzzleFX04
End

ConditionState  REALLYDAMAGED
Model  RVShilka_D
HideSubObject  MuzzleFX01 MuzzleFX02 MuzzleFX03 MuzzleFX04
End

ConditionState  RUBBLE
Model  RVShilka_D1
End

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Shilka
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            AntiAirVehicle
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    OCL  FINAL    OCL_RussiaShilkaDebris
;    FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_ShilkaRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DeadRussiaGrizzlyHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGrizzly_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_GrizzlyRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object DeadRussiaGrizzlyHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGrizzly_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVGrizzly_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL OCL_GrizzlyBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object GrizzlyHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVGrizzly_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVGrizzly_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              GrizzlyTankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth        650.0
InitialHealth    325.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_GrizzlyRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleGrizzly_Unmanned

; *** ART Parameters ***
SelectPortrait          SRGrizzly_L
ButtonImage             SRGrizzly

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes

DefaultConditionState
Model                RVGrizzly
HideSubObject        LAUNCHER ARMOR01 LIGHT01 MUZZLEFX01
End

ConditionState         REALLYDAMAGED
Model                RVGrizzly_D
HideSubObject        LAUNCHER ARMOR01 LIGHT01 MUZZLEFX01
End

ConditionState  RUBBLE
Model                RVGrizzly_D1
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Grizzly
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            GrizzlyTankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        650.0
InitialHealth    650.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    SinkRate  0.5     ; in Dist/Sec
;    OCL  FINAL    OCL_RussiaGrizzlyDebris
;    FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_GrizzlyRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.5
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GrizonDeathHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBTRD_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK VEHICLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      1.0
InitialHealth  1.0
End

Behavior  FireWeaponUpdate ModuleTag_MakeMeNeutral01
Weapon        RussianRepairedVehicleHullPrimaryUnmanWeapon
;    InitialDelay  30
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  No
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DestructionDelay  1
OCL  FINAL OCL_GrizonRepariableHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object GrizonDeathHulkFinal

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBTRD_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBTRD_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DScienceModelDraw ModuleTag_RepairSymbol01
RequiredScience  SCIENCE_RussiaEmergencyRecovery ; Only Russian players and observers can see this.
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
HideSubObject  Icon01
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              RussianVehicleHulkArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Body  ActiveBody ModuleTag_Health01
MaxHealth      100.0
InitialHealth  100.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000   ; min lifetime in msec
MaxLifetime  40000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -EXTRA_6
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SlowDeathBehavior ModuleTag_Death02 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  FINAL   OCL_GrizonBeeingRecoverdHull
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object GrizonHulkRecovery

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVBTRD_D1
ParticleSysBone  NONE SteamVent_Black
End

ConditionState  REALLYDAMAGED
Model  RVBTRD_D1
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_RepairSymbol01
AnimationsRequirePower   No
ConditionState
Model  EXRubbleRpr
Animation  EXRubbleRpr.EXRubbleRpr
AnimationMode  LOOP
HideSubObject  Icon02
Flags  RANDOMSTART
End

ConditionState  REALLYDAMAGED
Model  NONE
End
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
DisplayName      SYSTEM:VEHICLEWRECKRECOVERING
EditorSorting    DEBRIS

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK SELECTABLE

Body  ActiveBody ModuleTag_Health01
MaxHealth      300.0
InitialHealth  150.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
ExemptStatus      KILLING_SELF
FX                INITIAL  FX_BattleMasterExplosionOneFinal
SinkDelay         0
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  CreateObjectDie ModuleTag_Death02 ;this is actualy not a death but recreated a unmanned version of the parrent vehicle =)
DeathTypes              NONE +SUICIDED
CreationList            OCL_GrizonRepairedFromHull
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death03 ;and this makes sure it becomes unmanned after spawning
DeathTypes           NONE +SUICIDED
DestructionDelay     0
FX                   INITIAL FX_RussianVehicleRecovered
OCL                  INITIAL OCL_RussiaVehicleHusksUnmanning
End

Behavior  FireWeaponUpdate ModuleTag_KillSelf01
Weapon  SuicideWeapon
InitialDelay  10033   ; max lifetime in msec
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object RussiaVehicleGrizon_Unmanned

; *** ART Parameters ***
SelectPortrait          SRGrizon_L
ButtonImage             SRGrizon

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model              RVBTRD
Animation          RVBTRD.RVBTRD
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      UPGRADE01 SMOKES01
End

ConditionState  REALLYDAMAGED
Model              RVBTRD_D
Animation          RVBTRD_D.RVBTRD_D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
HideSubObject      UPGRADE01 SMOKES01
End
AliasConditionState  RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName            OBJECT:Grizon
Side                   Russia
EditorSorting          SYSTEM
TransportSlotCount     1

WeaponSet
Conditions       None
Weapon           PRIMARY SuicideWeapon
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         EmptyDamageFX
End

VisionRange      200
ShroudClearingRange  500

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  RussianVehicleAirDropUnmanWeapon
End

Behavior        OCLUpdate ModuleTag_KillSelf01
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_111214
DeathTypes        ALL -SUICIDED
SinkDelay         1000
SinkRate          2     ; in Dist/Sec
DestructionDelay  9000
FX                INITIAL  FX_BattleMasterExplosionOneFinal
OCL               INITIAL  OCL_GenericVehicleDestructionDebris
;    DestructionDelay  1
;    FX   FINAL    FX_BattleMasterExplosionOneFinal
;    OCL  FINAL    OCL_FinalGrizonDebris
End

Behavior  SlowDeathBehavior ModuleTag_11121
DeathTypes  NONE +SUICIDED
DestructionDelay  1
End

Behavior  CreateObjectDie ModuleTag_11145156
DeathTypes  NONE +SUICIDED
CreationList  OCL_GrizonRespawnFromHull
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  15.5
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;--------------------------------------------------------------
Object RussiaJetFulcrumHulk
; *** ART Parameters ***
Draw                  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model             CWCruMiG29_k
End
End

; ***DESIGN parameters ***
EditorSorting         DEBRIS

; *** ENGINEERING Parameters ***
KindOf                 NO_COLLIDE HULK

Behavior                    PhysicsBehavior ModuleTag_03
Mass                      2.0
AllowBouncing             No
KillWhenRestingOnGround   Yes
End

Behavior   LifetimeUpdate ModuleTag_04
MinLifetime   1500   ; min lifetime in msec
MaxLifetime   1600   ; max lifetime in msec
End

Behavior   SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate              2     ; in Dist/Sec
DestructionDelay   8000
End

End
;------------------------------------------------------------------------------
Object DeadRussiaArmsSupplierHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVArmsSup_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          4000
SinkRate           2     ; in Dist/Sec
DestructionDelay   12000
End

End

;------------------------------------------------------------------------------
Object RussiaTankSentinelDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVSent_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Overlord
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000   ; min lifetime in msec
MaxLifetime  20000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes        ALL
SinkDelay         1500
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object RussiaHindRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVHind_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object RussiaHokumRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVHellion_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object RussiaJetBerkutHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model            RVBerkut_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object RussiaCargoHelicopterRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVHalo_D1
Animation  RVHalo_D1.RVHalo_D1
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End

End

;------------------------------------------------------------------------------
Object RussiaHunchbackRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVHnchBck_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object DeadRussiaVehicleTopol

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RVTopol_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End

End

;------------------------------------------------------------------------------
Object RussiaJetPakfaHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model            RVPakFa_D1
End

ConditionState  SNOW
Model            RVPakFa_SD1
End

End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object RussiaDeadDozerHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model  RVCrane_D1
ParticleSysBone  NONE SteamVent_Black
End

End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          4000
SinkRate           2     ; in Dist/Sec
DestructionDelay   12000
End

End

;------------------------------------------------------------------------------
Object RussiaTankBlackbearDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVBlckBr_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Overlord
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000   ; min lifetime in msec
MaxLifetime  20000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes        ALL
SinkDelay         1500
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object CINE_RussianInfantryRPGConscript

; *** ART Parameters ***
SelectPortrait          SRRPGConscript_L
ButtonImage             SRRPGConscript

UpgradeCameo1  Upgrade_RussiaMedPack
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


DefaultConditionState
Model              RIRpgCcrpt_SKN
IdleAnimation      NIMSST_SKL.NIMSST_STA 0 30
IdleAnimation      NIMSST_SKL.NIMSST_IDA
IdleAnimation      NIMSST_SKL.NIMSST_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
HideSubObject      UPGRADE01
TransitionKey      TRANS_Stand
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
End
AliasConditionState  REALLYDAMAGED

ConditionState       MOVING
Animation          NIMSST_SKL.NIMSST_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  MOVING ATTACKING
AliasConditionState  MOVING ATTACKING REALLYDAMAGED
ConditionState       FIRING_A
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED FIRING_A

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A

ConditionState       RELOADING_A
Animation          NIMSST_SKL.NIMSST_ATA 10
AnimationMode      ONCE
;WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  MOVING RELOADING_A
AliasConditionState  REALLYDAMAGED MOVING RELOADING_A

ConditionState       DYING
Animation          NIMSST_SKL.NIMSST_DTA
Animation          NIMSST_SKL.NIMSST_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

ConditionState       FIRING_B
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

ConditionState       RELOADING_B
Animation          NIMSST_SKL.NIMSST_ATA 10
AnimationMode      ONCE
End
AliasConditionState  MOVING RELOADING_B
AliasConditionState  REALLYDAMAGED MOVING RELOADING_B

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NIMSST_SKL.NIMSST_ADTD1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NIMSST_SKL.NIMSST_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NIMSST_SKL.NIMSST_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

;PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          NIMSST_SKL.NIMSST_POP
AnimationMode      ONCE
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIMSST_SKL.NIMSST_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING



TransitionState      TRANS_Chute TRANS_Stand
Animation          NIMSST_SKL.NIMSST_PDN
AnimationMode      ONCE
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:RPGConscript
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   RussiaRPGConscriptMissileLauncher
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildCost  350
BuildTime  6.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryRPGConscriptCommandSet

; *** AUDIO Parameters ***
VoiceSelect        RPGConscriptVoiceSelect
VoiceMove          RPGConscriptVoiceMove
VoiceAttack        RPGConscriptVoiceAttack
VoiceGuard         RPGConscriptVoiceMove
VoiceFear          RPGConscriptVoiceFear
UnitSpecificSounds
VoiceCreate        RPGConscriptVoiceCreate
VoiceGarrison      RPGConscriptVoiceMove
VoiceEnter         RPGConscriptVoiceMove
VoiceEnterHostile  RPGConscriptVoiceMove
VoiceGetHealed     RPGConscriptVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_ConscriptTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_ConscriptFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL ConscriptVoiceToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinGLA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_ConscriptSurrender
OCL                  INITIAL OCL_ConscriptSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object CINE_RussiaInfantryConscript

; *** ART Parameters ***
SelectPortrait          SRConscript_L
ButtonImage             SRConscript

UpgradeCameo1  Upgrade_RussiaMedPack
UpgradeCameo2  Upgrade_RussiaLargerClips
UpgradeCameo3  Upgrade_RussiaIRGoggles

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; ---- standing
DefaultConditionState
Model                RICnscrpt_SKN
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
HideSubObject        UPGRADE01 UPGRADE02
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Standing
End

ConditionState         REALLYDAMAGED
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        TRANS_StandingHurt
End

; ---- moving
ConditionState       MOVING
Model              RICnscrpt_SKNB
Animation          NICNSCI_SKL.NICNSCI_RNA2 13
Animation          NICNSCI_SKL.NICNSCI_RNA3 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState         MOVING REALLYDAMAGED
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         DYING
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USING_WEAPON_A
Model  RICnscrpt_SKNB
Animation  NICNSCI_SKL.NICNSCI_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USING_WEAPON_A REALLYDAMAGED
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  TRANS_FiringHurt
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState       RAISING_FLAG
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Raising TRANS_Packing
Model              RICnscrpt_SKNE
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     FREEFALL
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Standing
Model            RICnscrpt_SKNB
Animation        NICNSCI_SKL.NICNSCI_PTD
AnimationMode    ONCE
End





;;;;;Upgraded with IR Goggles

ConditionState         USER_1
Model                RICnscrpt_SKNC
IdleAnimation        UIRGrd_SKL.UIRGrd_STN 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDA
IdleAnimation        UIRGrd_SKL.UIRGrd_IDB
AnimationMode        ONCE
TransitionKey        USER1TRANS_Standing
End

ConditionState         USER_1 REALLYDAMAGED
Model                RICnscrpt_SKNC
IdleAnimation        UIRGrd_SKL.UIRGrd_STB 0 35
IdleAnimation        UIRGrd_SKL.UIRGrd_IDC
IdleAnimation        UIRGrd_SKL.UIRGrd_IDD
AnimationMode        ONCE
TransitionKey        USER1TRANS_StandingHurt
End

ConditionState       USER_1 MOVING
Model              RICnscrpt_SKND
Animation          NICNSCI_SKL.NICNSCI_RNA2 13
Animation          NICNSCI_SKL.NICNSCI_RNA3 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  USER_1 MOVING ATTACKING

ConditionState         USER_1 MOVING REALLYDAMAGED
Model                RICnscrpt_SKNC
Animation            UIRGrd_SKL.UIRGrd_RNB 25
AnimationMode        LOOP
TransitionKey        USER1TRANS_WalkingHurt
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState    USER_1 MOVING ATTACKING REALLYDAMAGED

; ---- dying
ConditionState         USER_1 DYING
Model                RICnscrpt_SKNC
Animation            UIRGrd_SKL.UIRGrd_DTA
Animation            UIRGrd_SKL.UIRGrd_DTB
AnimationMode        ONCE
TransitionKey        USER1TRANS_Dying
End

TransitionState  USER1TRANS_Dying USER1TRANS_Flailing
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ADTE1
AnimationMode  ONCE
End

ConditionState  USER_1 DYING EXPLODED_FLAILING
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ADTE2
AnimationMode  LOOP
TransitionKey  USER1TRANS_Flailing
End

ConditionState  USER_1 DYING EXPLODED_BOUNCING
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  USER_1 SPECIAL_CHEERING
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_IDB
End

; ---- firing
ConditionState  USER_1 USING_WEAPON_A
Model  RICnscrpt_SKND
Animation  NICNSCI_SKL.NICNSCI_ATA
AnimationMode  LOOP
TransitionKey  TRANS_Firing
End

ConditionState  USER_1 USING_WEAPON_A REALLYDAMAGED
Model                RICnscrpt_SKNC
Animation  UIRGrd_SKL.UIRGrd_ATA2
AnimationMode  LOOP
TransitionKey  USER1TRANS_FiringHurt
End


; ------- Bldg-capture

ConditionState  USER_1 UNPACKING
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  USER_1 UNPACKING REALLYDAMAGED

ConditionState  USER_1 RAISING_FLAG
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      USER1TRANS_Raising
End
AliasConditionState  USER_1 RAISING_FLAG REALLYDAMAGED

ConditionState  USER_1 PACKING
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      USER1TRANS_Packing
End
AliasConditionState  USER_1 PACKING REALLYDAMAGED

TransitionState  USER_1 USER1TRANS_Raising USER1TRANS_Packing
Model              RICnscrpt_SKNF
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     USER_1 FREEFALL
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling_USER_1
End
AliasConditionState  USER_1 FREEFALL REALLYDAMAGED
AliasConditionState  USER_1 FREEFALL DYING

ConditionState     USER_1 PARACHUTING
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute_USER_1
End
AliasConditionState  USER_1 PARACHUTING REALLYDAMAGED
AliasConditionState  USER_1 PARACHUTING DYING

TransitionState    TRANS_Falling_USER_1 TRANS_Chute_USER_1
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute_USER_1 USER1TRANS_Standing
Model            RICnscrpt_SKND
Animation        NICNSCI_SKL.NICNSCI_PTD
AnimationMode    ONCE
End


End

; ***DESIGN parameters ***
DisplayName          OBJECT:Conscript
Side                 Russia
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY ConscriptMachineGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY ConscriptMachineGun_Upgraded
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange          220
ShroudClearingRange  220

BuildCost  100
BuildTime  4.0          ;in seconds

ExperienceValue      15 15 30 40     ;Experience point value at each level
ExperienceRequired   0 40 60 120     ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           RussianInfantryConscriptCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ConscriptVoiceSelect
VoiceMove              ConscriptVoiceMove
VoiceGuard             ConscriptVoiceMove
VoiceAttack            ConscriptVoiceAttack
VoiceFear              ConscriptVoiceFear
VoiceTaskComplete      ConscriptVoiceCaptureComplete

UnitSpecificSounds
VoiceCreate          ConscriptVoiceCreate
VoiceGarrison        ConscriptVoiceGarrison
VoiceEnter           ConscriptVoiceMove
VoiceEnterHostile    ConscriptVoiceMove
VoiceGetHealed       ConscriptVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptDieToxins
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RPGConscriptDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_RPGConscriptDieToxins
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RPGConscriptSurrender
OCL                  INITIAL OCL_RPGConscriptSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_17
SpecialPowerTemplate       SpecialAbilityRebelCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound              ConscriptVoiceCapture
End

Behavior  SpecialAbilityUpdate ModuleTag_18
SpecialPowerTemplate   SpecialAbilityRebelCaptureBuilding
StartAbilityRange      5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   12
End

Behavior  CommandButtonHuntUpdate  ModuleTag_035
; allows use of command button hunt script with this unit.
End

Behavior  WeaponSetUpgrade ModuleTag_20
TriggeredBy  Upgrade_RussiaLargerClips
End

Behavior  ModelConditionUpgrade ModuleTag_IRGoggles01
ConditionFlag  USER_1
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior  OverlordContain ModuleTag_IRGoggles02
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
End

Behavior  ObjectCreationUpgrade ModuleTag_IRGoggles03
UpgradeObject  OCL_RussiaConscriptIRGoggles
TriggeredBy    Upgrade_RussiaIRGoggles
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object CINE_RussianInfantryIglaTrooper

; *** ART Parameters ***
SelectPortrait          SRIglaTrooper_L
ButtonImage             SRIglaTrooper

UpgradeCameo1  Upgrade_RussiaMedPack
UpgradeCameo2  Upgrade_RussiaAdvancedMissileEngines
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  RIIglaTrpr_SKN
IdleAnimation  UISmsd_SKL.UISmsd_STA 0 45
IdleAnimation  UISmsd_SKL.UISmsd_IDA
IdleAnimation  UISmsd_SKL.UISmsd_IDB
IdleAnimation  UISmsd_SKL.UISmsd_IDC
IdleAnimation  UISmsd_SKL.UISmsd_IDD
AnimationMode  ONCE
HideSubObject  LAUNCHERUP
WeaponFireFXBone  PRIMARY   Muzzle01
WeaponLaunchBone  PRIMARY   Muzzle01
WeaponFireFXBone  SECONDARY Muzzle01
WeaponLaunchBone  SECONDARY Muzzle01
End

ConditionState  MOVING
Animation  UISmsd_SKL.UISmsd_WKB 25
Animation  UISmsd_SKL.UISmsd_WKA 25
AnimationMode  LOOP
Flags  RANDOMSTART
WaitForStateToFinishIfPossible  NONE
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING RELOADING_B
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED MOVING FIRING_A
AliasConditionState  REALLYDAMAGED MOVING RELOADING_A
AliasConditionState  REALLYDAMAGED MOVING FIRING_B
AliasConditionState  REALLYDAMAGED MOVING RELOADING_B

ConditionState  DYING
Animation  UISmsd_SKL.UISmsd_DTA
Animation  UISmsd_SKL.UISmsd_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UISmsd_SKL.UISmsd_ADTF1
Animation  UISmsd_SKL.UISmsd_ADTG21
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UISmsd_SKL.UISmsd_ADTF2
Animation  UISmsd_SKL.UISmsd_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UISmsd_SKL.UISmsd_ADTF3
Animation  UISmsd_SKL.UISmsd_ADTG23
AnimationMode  ONCE
TransitionKey  None
WaitForStateToFinishIfPossible  NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
End


;Machine Pistol Attack
ConditionState  PREATTACK_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
AnimationMode  ONCE
End

ConditionState  FIRING_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1 ; looping firing
AnimationMode  ONCE
TransitionKey  TRANS_FIRING_A
WeaponFireFXBone   PRIMARY Muzzle
AnimationSpeedFactorRange  2.0 3.0
End

ConditionState   RELOADING_A
Model  RIIglaTrpr_SKB
Animation  UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
AnimationMode  ONCE
TransitionKey  TRANS_RELOADING_A
WaitForStateToFinishIfPossible  TRANS_FIRING_A
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A

;Firing Igla Missile
ConditionState  FIRING_B
Animation  UISmsd_SKL.UISmsd_ATA
AnimationMode  ONCE
AnimationSpeedFactorRange  2.2 2.2
Flags  START_FRAME_FIRST
TransitionKey  TRANS_START_FIRING_B
End

ConditionState  BETWEEN_FIRING_SHOTS_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  LOOP
Flags  START_FRAME_LAST
TransitionKey  TRANS_RELOADING_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  RELOADING_B

ConditionState  PREATTACK_B
Animation  UISmsd_SKL.UISmsd_STA
AnimationMode  ONCE
Flags  START_FRAME_LAST
TransitionKey  TRANS_PREATTACK_B
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End

ConditionState  SPECIAL_CHEERING
Animation  UISMSD_SKL.UISMSD_CHA
AnimationMode  LOOP
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:IglaTrooper
Side  Russia
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   IGLATrooperMachinePistolWeapon
AutoChooseSources    PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon               SECONDARY IGLATrooperMissileWeapon
PreferredAgainst     SECONDARY AIRCRAFT
AutoChooseSources    SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  280
ShroudClearingRange  220

BuildCost  200
BuildTime  6.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       RussianInfantryIglaTrooperCommandSet

; *** AUDIO Parameters ***
VoiceSelect        IGLATrooperVoiceSelect
VoiceMove          IGLATrooperVoiceMove
VoiceAttack        IGLATrooperVoiceAttack
VoiceAttackAir     IGLATrooperVoiceAttack
VoiceGuard         IGLATrooperVoiceMove
VoiceFear          IGLATrooperVoiceFear
UnitSpecificSounds
VoiceCreate        IGLATrooperVoiceCreate
VoiceGarrison      IGLATrooperVoiceMove
VoiceEnter         IGLATrooperVoiceMove
VoiceEnterHostile  IGLATrooperVoiceMove
VoiceGetHealed     IGLATrooperVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED +TOPPLED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL IglaTrooperVoiceToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_IglaTrooperDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   IglaTrooperVoiceToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_IglaTrooperSurrender
OCL                  INITIAL OCL_IglaTrooperSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_Medkit01
HealingAmount  2
HealingDelay   1000 ; msec
TriggeredBy    Upgrade_RussiaMedPack
End

Behavior  CreateObjectDie ModuleTag_RussiaInfantryBeserker01
DeathTypes  ALL
CreationList  OCL_InfantryBeserkerObject
End

Behavior  WeaponBonusUpgrade ModuleTag_MissileRangeUpgrade01
TriggeredBy  Upgrade_RussiaAdvancedMissileEngines
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_RussiaTankKodiak

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02 FIREPOINT01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY Barrel
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   TERTIARY Barrel2
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
End
End

; set cost and time fields here or else they won't work
BuildCost        1400
BuildTime        14.0

Prerequisites
Object  RussiaWarFactory
End

Side  Russia
EditorSorting  VEHICLE
KindOf  PRELOAD SELECTABLE VEHICLE HUGE_VEHICLE CAN_ATTACK CAN_CAST_REFLECTIONS SCORE

BuildVariations   CINE_RussiaTankKodiak_Var1  CINE_RussiaTankKodiak_Var2  CINE_RussiaTankKodiak_Var3

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_RussiaTankKodiak_Var1

; *** ART Parameters ***
SelectPortrait          SRKodiak_L
ButtonImage             SRKodiak

UpgradeCameo1  Upgrade_RussiaTankERA
UpgradeCameo2  Upgrade_RussiaArmedRecon
UpgradeCameo3  Upgrade_RussiaAdvancedMissileEngines

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  REALLYDAMAGED
Model  RVKodiak_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  RUBBLE
Model  RVKodiak_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

End


; ***DESIGN parameters ***

DisplayName        OBJECT:Kodiak
Side               Russia
EditorSorting      VEHICLE


WeaponSet
Conditions           None
Weapon               PRIMARY KodiakTankGun
Weapon               SECONDARY  KodiakMachinegun
End

VisionRange     360.0
ShroudClearingRange  360.0

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

CommandSet         StopOnlyGenericCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_04
MaxHealth        550.0
InitialHealth    550.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         50
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin CINE_RussiaTankKodiak_Var2 CINE_RussiaTankKodiak_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak2
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  REALLYDAMAGED
Model  RVKodiak2_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  RUBBLE
Model  RVKodiak2_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

End

End

;------------------------------------------------------------------------------
ObjectReskin CINE_RussiaTankKodiak_Var3 CINE_RussiaTankKodiak_Var1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  RVKodiak3
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  REALLYDAMAGED
Model  RVKodiak3_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

ConditionState  RUBBLE
Model  RVKodiak3_D
Turret  Turret
HideSubObject  ARMOR01 ARMOR02
WeaponRecoilBone   PRIMARY Barrel
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponRecoilBone   SECONDARY MGBrrl
WeaponMuzzleFlash  SECONDARY MGMzzlFX
WeaponFireFXBone   SECONDARY MGMzzl
WeaponLaunchBone   SECONDARY MGMzzl
End

End

End

;------------------------------------------------------------------------------
Object CINE_RussiaTankSentinel

; *** ART Parameters ***
SelectPortrait          SRSentinel_L
ButtonImage             SRSentinel

UpgradeCameo1  Upgrade_RussiaSentinelMissiles
UpgradeCameo2  Upgrade_RussiaAdvancedMissileEngines
UpgradeCameo3  Upgrade_RussiaTankERA

Draw  W3DTankTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVSent
Animation            RVSent.RVSent
AnimationMode        ONCE
Flags                START_FRAME_LAST
HideSubObject        Arena01 Armor01 Armor02 Armor03
Turret               Turret
AltTurret            Dish
WeaponMuzzleFlash    PRIMARY   MuzzleFX
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  RIDER2 FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End

ConditionState         REALLYDAMAGED
Model                RVSent_D
TransitionKey      Nada
End
AliasConditionState         RUBBLE

TrackMarks              EXTnkTrack.tga
TreadAnimationRate       2.0  ;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
Dust       Nada
DirtSpray  Nada

LeftFrontTireBone           TREADF01
RightFrontTireBone          TREADF02
TireRotationMultiplier      0   ; this * speed  rotation.
PowerslideRotationAddition  0   ; This unit doesn't powerslide.
End

Draw  W3DModelDraw ModuleTag_WardenRadar01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVSent_R
Animation            RVSent_R.RVSent_R
End

ConditionState  REALLYDAMAGED
Model                RVSent_RD
Animation            RVSent_RD.RVSent_RD
End
AliasConditionState  RUBBLE

End


; ***DESIGN parameters ***

DisplayName        OBJECT:Sentinel
Side               Russia
EditorSorting      VEHICLE

WeaponSet
Conditions         None
Weapon             PRIMARY SentinelTankGun

Weapon             SECONDARY SentinelTankMissiles
PreferredAgainst   SECONDARY AIRCRAFT
End

VisionRange     360.0
ShroudClearingRange  360.0

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

CommandSet           StopOnlyGenericCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_04
MaxHealth        550.0
InitialHealth    550.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_AI03
Turret
TurretTurnRate         60
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_KodiakTankDeathEffect
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Geometry  BOX
GeometryMajorRadius  30.0
GeometryMinorRadius  18.0
GeometryHeight  20.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_RussiaTeslaTank

; *** ART Parameters ***
SelectPortrait          SRTeslaTank_L
ButtonImage             SRTeslaTank

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        MANUAL
Turret               Turret
WeaponFireFXBone     PRIMARY Orb
WeaponFireFXBone     SECONDARY Orb
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState  PREATTACK_C
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        ONCE
WaitForStateToFinishIfPossible  NONE
End

ConditionState         FIRING_C
Model                RVTslTnk
Animation            RVTslTnk.RVTslTnk
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
End

ConditionState  REALLYDAMAGED
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
WaitForStateToFinishIfPossible  TRANS_START_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED PREATTACK_C
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
AnimationMode        ONCE
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  PREATTACK_C RUBBLE

ConditionState         REALLYDAMAGED FIRING_C
Model                RVTslTnk_D
Animation            RVTslTnk_D.RVTslTnk_D
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_DAMAGED
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  FIRING_C RUBBLE

End

Draw  W3DModelDraw ModuleTag_FireBone01

ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model                RVTslTnk_B
Animation            RVTslTnk_B.RVTslTnk_B
AnimationMode        LOOP
Flags                RANDOMSTART
Turret               Turret
ParticleSysBone      FXBONE01 TeslaTankCoilSparkFlare
ParticleSysBone      FXBONE02 TeslaTankCoilSparkFlare
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState         FIRING_C
Model                RVTslTnk_B
Animation            RVTslTnk_B.RVTslTnk_B
AnimationMode        ONCE_BACKWARDS
TransitionKey        TRANS_START_FIRING
AnimationSpeedFactorRange  0.5 0.5
End
AliasConditionState  FIRING_C REALLYDAMAGED
AliasConditionState  FIRING_C RUBBLE

ConditionState  PREATTACK_C
Model                NONE
End
AliasConditionState  PREATTACK_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RUBBLE

End


; ***DESIGN parameters ***

DisplayName        OBJECT:TeslaTank
Side               Russia
EditorSorting      VEHICLE

WeaponSet
Conditions             None
Weapon                 PRIMARY   TeslaTankWeapon
End

VisionRange     360.0
ShroudClearingRange  360.0

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           TankDamageFX
End

CommandSet         StopOnlyGenericCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level


; *** AUDIO Parameters ***
VoiceSelect            ComponentTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
UnderConstruction  UnderConstructionLoop
TurretMoveStart  NoSound
TurretMoveLoop  NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

Body                  StructureBody ModuleTag_04
MaxHealth        550.0
InitialHealth    550.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1300.0
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         30
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_RussiaTeslaTankDebris
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Geometry  BOX
GeometryMajorRadius  16.1
GeometryMinorRadius  8.5
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object TeslaTankTrainCar
;-Train stuff put in for Art to review, this will need an engineer's touch. -GB

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState   NONE
Model          CVBaikFlat
End
End

Draw  W3DModelDraw ModuleTag_0222
OkToChangeModelColor  Yes
ConditionState   NONE
Model          CINE_NVTTNK
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TrainCar
EditorSorting    VEHICLE

ArmorSet
Armor            TruckArmor
DamageFX         CrushableCarDamageFX
End

VisionRange             300
ShroudClearingRange     300
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CrusherLevel            4  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
KindOf           SELECTABLE CAN_ATTACK VEHICLE


Body             ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior               RailroadBehavior ModuleTag_04
IsLocomotive    No
PathPrefixName     Railroad

;=== PARAMETERS FOR ALL CARRIAGES ===
RunningGarrisonSpeedMax  1
KillSpeedMin             1
Friction                 0.995
BigMetalBounceSound      BuildingFallingMetal
SmallMetalBounceSound    VehicleImpactHeavy
MeatyBounceSound         InfantryCrush
ClicketyClackSound       TrainClicketyClack

End

Behavior  DestroyDie ModuleTag_05
;nothing
End
Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TankerTruckExplode
End
Behavior  FXListDie ModuleTag_07
DeathFX  FX_RailroadWoodenCarExplode
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry         BOX
GeometryIsSmall  No
GeometryMajorRadius  32
GeometryMinorRadius  10.0
GeometryHeight   20.0
Shadow           SHADOW_VOLUME
ShadowSizeX  42  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object SpecialKodiakTankTrainCar
;-Train stuff put in for Art to review, this will need an engineer's touch. -GB

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState   NONE
Model          CVBaikFlat
End
End

Draw  W3DModelDraw ModuleTag_0222
OkToChangeModelColor  Yes
ConditionState   NONE
Model          CINE_NVT80
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TrainCar
EditorSorting    VEHICLE

ArmorSet
Armor            TruckArmor
DamageFX         CrushableCarDamageFX
End

VisionRange             300
ShroudClearingRange     300
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CrusherLevel            4  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
KindOf           SELECTABLE CAN_ATTACK VEHICLE


Body             ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior               RailroadBehavior ModuleTag_04
IsLocomotive    No
PathPrefixName     Railroad

;=== PARAMETERS FOR ALL CARRIAGES ===
RunningGarrisonSpeedMax  1
KillSpeedMin             1
Friction                 0.995
BigMetalBounceSound      BuildingFallingMetal
SmallMetalBounceSound    VehicleImpactHeavy
MeatyBounceSound         InfantryCrush
ClicketyClackSound       TrainClicketyClack

End

Behavior  DestroyDie ModuleTag_05
;nothing
End
Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TankerTruckExplode
End
Behavior  FXListDie ModuleTag_07
DeathFX  FX_RailroadWoodenCarExplode
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry         BOX
GeometryIsSmall  No
GeometryMajorRadius  32
GeometryMinorRadius  10.0
GeometryHeight   20.0
Shadow           SHADOW_VOLUME
ShadowSizeX  42  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Cine_RussiaDebrisBunker_Respawn

; *** ART Parameters ***
SelectPortrait          SRDebrisBunker_L
ButtonImage             SRDebrisBunker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End

ConditionState  DAMAGED
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke01 SmolderingFlameCore
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFlameCore
End

ConditionState  REALLYDAMAGED RUBBLE
Model            RBRubbleBunker
Animation        RBRubbleBunker.RBRubbleBunker
AnimationMode    LOOP
WeaponFireFXBone  PRIMARY Muzzle
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke01 SmolderingFlameCore
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFlameCore
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFlameCore
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFlameCore
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFlameCore
End

;**************************************************************************************************************************
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              RBRubbleBunker
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Bunker
Side  Russia
EditorSorting      STRUCTURE

VisionRange          200.0
ShroudClearingRange  200.0

WeaponSet
Conditions          None
Weapon              PRIMARY   RubbleBunkerMachineGun
Weapon              TERTIARY  SuicideWeapon ;Rubble Bunkers cannot be sold so they have a self kill function
AutoChooseSources   TERTIARY  NONE
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

CommandSet        RussiaRubbleBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect            RussianDebrisBunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE CAN_ATTACK FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

ExperienceValue      20 20 20 20  ; Experience point value at each level

Behavior  ProductionUpdate ModuleTag_10
End

Behavior  AIUpdateInterface ModuleTag_0622
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         50
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior  SlowDeathBehavior ModuleTag_Collapse02
DeathTypes  ALL
DestructionDelay  1
OCL  INITIAL OCL_LargeStructureDebris
FX  INITIAL FX_StructureSmallDeath
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_CINE_RussiaDebrisBunkerConscripts
End

Scale  1.0
Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  16.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
Object Cine_RussiaDebrisBunker_Respawner

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE PORTABLE_STRUCTURE NO_COLLIDE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         10000000000000.0
InitialHealth     10000000000000.0
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40000
MaxLifetime  40000
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_CINE_RussiaDebrisBunkerRespawn
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             CYLINDER
GeometryMajorRadius  70.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object CINE_RussiaVehicleHokum

; *** ART Parameters ***
SelectPortrait          SRHokum_L
ButtonImage             SRHokum

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            RVKA68_Cin
Animation                        RVKA68_Cin.RVKA68_Cin
AnimationMode                    LOOP
End


End


; ***DESIGN parameters ***
DisplayName          OBJECT:Hokum
EditorSorting        VEHICLE
Side                 Russia
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            1800

BuildTime            20              ; in seconds
ExperienceValue      50 50 100 200   ; Experience point value at each level
ExperienceRequired   0 200 400 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           GenericCommandSet


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE

Body  ActiveBody ModuleTag_04
MaxHealth        170.0
InitialHealth    170.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HokumStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End

Locomotor  SET_NORMAL  KA50Locomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                RussiaHokumRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End