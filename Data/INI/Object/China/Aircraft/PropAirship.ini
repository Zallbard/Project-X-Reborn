;------------------------------------------------------------------------------
Object ChinaVehiclePropagandaAirship

; *** ART Parameters ***
SelectPortrait          SNPropAirship_L
ButtonImage             SNPropAirship

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NVAirship
End
End

; set cost and time fields here or else they won't work
BuildCost        1200
BuildTime        20.0          ;in seconds

Prerequisites
Object                 ChinaBreederReactor
End

Side  China
EditorSorting  VEHICLE
BuildVariations  ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var2

KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED PRODUCED_AT_HELIPAD

End

;------------------------------------------------------------------------------
Object ChinaVehiclePropagandaAirship_Var1

; *** ART Parameters ***
SelectPortrait          SNPropAirship_L
ButtonImage             SNPropAirship

UpgradeCameo1  Upgrade_ChinaAircraftArmor
UpgradeCameo2  Upgrade_ChinaSubliminalMessaging
UpgradeCameo3  Upgrade_ChinaChainGuns

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship
End


ConditionState         USER_1
Model                NVAirship
HideSubObject        ChassisPart01
End

ConditionState         REALLYDAMAGED
Model                NVAirship_D
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE
Model                NVAirship_D
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

End

Draw  W3DModelDraw ModuleTag_Engines01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A1
Animation            NVAirship_A1.NVAirship_A1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE
End

TransitionState        TRANS_IDLE TRANS_MOVING
Model                NVAirship_A2
Animation            NVAirship_A2.NVAirship_A2
AnimationMode        ONCE
End

ConditionState         MOVING
Model                NVAirship_A3
Animation            NVAirship_A3.NVAirship_A3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING
End

TransitionState        TRANS_MOVING TRANS_IDLE
Model                NVAirship_A4
Animation            NVAirship_A4.NVAirship_A4
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA1
Animation            NVAirship_DA1.NVAirship_DA1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE_DAMAGED
End
AliasConditionState    RUBBLE

TransitionState        TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
Model                NVAirship_DA2
Animation            NVAirship_DA2.NVAirship_DA2
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED MOVING
Model                NVAirship_DA3
Animation            NVAirship_DA3.NVAirship_DA3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING_DAMAGED
End
AliasConditionState    RUBBLE MOVING

TransitionState        TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
Model                NVAirship_DA4
Animation            NVAirship_DA4.NVAirship_DA4
AnimationMode        ONCE
End

End

Draw  W3DModelDraw ModuleTag_Screens01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE

ConditionState         USER_1
Model                NVAirship_A5
Animation            NVAirship_A5.NVAirship_A5
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_DA5
Animation            NVAirship_DA5.NVAirship_DA5
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End
AliasConditionState    RUBBLE USER_1

End

Draw  W3DModelDraw ModuleTag_GunTop01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    USING_WEAPON_A

ConditionState         USING_WEAPON_B
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_B
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_B

End

Draw  W3DModelDraw ModuleTag_GunBottom01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    USING_WEAPON_B

ConditionState         USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_B
AliasConditionState    RUBBLE USING_WEAPON_B
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_A

End

Draw  W3DModelDraw ModuleTag_NightLights

ConditionState         NONE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        LOOP
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    USING_WEAPON_B
AliasConditionState    USING_WEAPON_A
AliasConditionState    REALLYDAMAGED
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    REALLYDAMAGED USING_WEAPON_B

ConditionState         RUBBLE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        MANUAL
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_B

End


; ***DESIGN parameters ***
DisplayName          OBJECT:PropAirship
EditorSorting        SYSTEM
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object                 ChinaPropagandaCenter
End

WeaponSet
Conditions           None
Weapon               PRIMARY   PropagandaAirshipGattlingGun
Weapon               SECONDARY PropagandaAirshipGattlingGunAir
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   PropagandaAirshipUpgradedGattlingGun
Weapon               SECONDARY PropagandaAirshipUpgradedGattlingGunAir
End

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

BuildCost            1200

Prerequisites
Object                 ChinaBreederReactor
End

BuildTime            20              ; in seconds
ExperienceValue      300 300 500 800 ; Experience point value at each level
ExperienceRequired   0 200 400 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience

CommandSet           ChinaVehiclePropagandaAirshipCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PropagandaAirshipVoiceSelect
VoiceMove              PropagandaAirshipVoiceMove
VoiceGuard             PropagandaAirshipVoiceMove
VoiceAttack            PropagandaAirshipVoiceAttack
SoundAmbient           PropagandaAirshipGunshipAmbientLoop

UnitSpecificSounds
VoiceCreate          PropagandaAirshipVoiceCreate
VoiceGarrison        PropagandaAirshipVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_04
MaxHealth        640.0
InitialHealth    640.0

SubdualDamageCap        2000
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior         MaxHealthUpgrade ModuleTag_Armor10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   160.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_PropagandaAirshipStartDeath
End

Behavior  JetAIUpdate ModuleTag_06
MinHeight                      5
NeedsRunway                    No
KeepsParkingSpaceWhenAirborne  No

;;;;Top Turret
Turret
TurretTurnRate         180
TurretPitchRate        180
NaturalTurretPitch     6.0
AllowsPitch            Yes
ControlledWeaponSlots  SECONDARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

;;;;Botom Turret
AltTurret
TurretTurnRate         180
TurretPitchRate        180
MinPhysicalPitch       -90
NaturalTurretPitch     -15.0
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL  PropagandaAirshipLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              80.0            ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          10.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       210             ; max braking we can use during death spiral (lower num  wilder spiral)
MinSelfSpin                      10              ; in degrees per second
MaxSelfSpin                      30              ; in degrees per second
SelfSpinUpdateDelay              600             ; in milliseconds
SelfSpinUpdateAmount             5               ; in degrees
FallHowFast                      10.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_PropagandaAirshipFireExplosion
DelayFromGroundToFinalDeath      0
FinalRubbleObject                ChinaPropagandaAirshipRubbleHull
End

Behavior         PropagandaTowerBehavior ModuleTag_09
Radius                         200.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
PulseFX                        FX_PropagandaAirShipPropagandaPulse     ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
UpgradedPulseFX                FX_PropagandaAirShipSubliminalPulse     ;plays as often as DelayBetweenUpdates
AffectsSelf                    Yes                                     ; Needs this since Tower is not seperate object
End

Behavior  ModelConditionUpgrade ModuleTag_10
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  OverlordContain ModuleTag_SpeakerDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    PropagandaAirshipDecalObject
End

Behavior  WeaponBonusUpgrade ModuleTag_22
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_23
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior            OCLSpecialPower ModuleTag_BattleCry01
SpecialPowerTemplate  SpecialAbilityPropagandaAirshipBattleCry
OCL                   OCL_PropagandaBattleCry
CreateLocation        USE_OWNER_OBJECT
End

Behavior  TransitionDamageFX ModuleTag_20
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  48.0
GeometryMinorRadius  22.0
GeometryHeight  35.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object ChinaVehiclePropagandaAirship_Var2

; *** ART Parameters ***
SelectPortrait          SNPropAirship_L
ButtonImage             SNPropAirship

UpgradeCameo1  Upgrade_ChinaAircraftArmor
UpgradeCameo2  Upgrade_ChinaSubliminalMessaging
UpgradeCameo3  Upgrade_ChinaChainGuns

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship
End


ConditionState         USER_1
Model                NVAirship
HideSubObject        ChassisPart01
End

ConditionState         REALLYDAMAGED
Model                NVAirship_D
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE
Model                NVAirship_D
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

End

Draw  W3DModelDraw ModuleTag_Engines01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A1
Animation            NVAirship_A1.NVAirship_A1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE
End

TransitionState        TRANS_IDLE TRANS_MOVING
Model                NVAirship_A2
Animation            NVAirship_A2.NVAirship_A2
AnimationMode        ONCE
End

ConditionState         MOVING
Model                NVAirship_A3
Animation            NVAirship_A3.NVAirship_A3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING
End

TransitionState        TRANS_MOVING TRANS_IDLE
Model                NVAirship_A4
Animation            NVAirship_A4.NVAirship_A4
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA1
Animation            NVAirship_DA1.NVAirship_DA1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE_DAMAGED
End
AliasConditionState    RUBBLE

TransitionState        TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
Model                NVAirship_DA2
Animation            NVAirship_DA2.NVAirship_DA2
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED MOVING
Model                NVAirship_DA3
Animation            NVAirship_DA3.NVAirship_DA3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING_DAMAGED
End
AliasConditionState    RUBBLE MOVING

TransitionState        TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
Model                NVAirship_DA4
Animation            NVAirship_DA4.NVAirship_DA4
AnimationMode        ONCE
End

End

Draw  W3DModelDraw ModuleTag_Screens01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE

ConditionState         USER_1
Model                NVAirship_C1
Animation            NVAirship_C1.NVAirship_C1
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_C1
Animation            NVAirship_C1.NVAirship_C1
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End
AliasConditionState    RUBBLE USER_1

End

Draw  W3DModelDraw ModuleTag_GunTop01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    USING_WEAPON_A

ConditionState         USING_WEAPON_B
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_B
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_B

End

Draw  W3DModelDraw ModuleTag_GunBottom01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    USING_WEAPON_B

ConditionState         USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_B
AliasConditionState    RUBBLE USING_WEAPON_B
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_A

End

Draw  W3DModelDraw ModuleTag_NightLights

ConditionState         NONE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        LOOP
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    USING_WEAPON_B
AliasConditionState    USING_WEAPON_A
AliasConditionState    REALLYDAMAGED
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    REALLYDAMAGED USING_WEAPON_B

ConditionState         RUBBLE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        MANUAL
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_B

End


; ***DESIGN parameters ***
DisplayName          OBJECT:PropAirship
EditorSorting        SYSTEM
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object                 ChinaPropagandaCenter
End

WeaponSet
Conditions           None
Weapon               PRIMARY   PropagandaAirshipGattlingGun
Weapon               SECONDARY PropagandaAirshipGattlingGunAir
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   PropagandaAirshipUpgradedGattlingGun
Weapon               SECONDARY PropagandaAirshipUpgradedGattlingGunAir
End

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

BuildCost            1200

Prerequisites
Object                 ChinaBreederReactor
End

BuildTime            20              ; in seconds
ExperienceValue      300 300 500 800 ; Experience point value at each level
ExperienceRequired   0 200 400 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience

CommandSet           ChinaVehiclePropagandaAirshipCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PropagandaAirshipVoiceSelect
VoiceMove              PropagandaAirshipVoiceMove
VoiceGuard             PropagandaAirshipVoiceMove
VoiceAttack            PropagandaAirshipVoiceAttack
SoundAmbient           PropagandaAirshipGunshipAmbientLoop

UnitSpecificSounds
VoiceCreate          PropagandaAirshipVoiceCreate
VoiceGarrison        PropagandaAirshipVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_04
MaxHealth        640.0
InitialHealth    640.0

SubdualDamageCap        2000
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior         MaxHealthUpgrade ModuleTag_Armor10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   160.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_PropagandaAirshipStartDeath
End

Behavior  JetAIUpdate ModuleTag_06
MinHeight                      5
NeedsRunway                    No
KeepsParkingSpaceWhenAirborne  No

;;;;Top Turret
Turret
TurretTurnRate         180
TurretPitchRate        180
NaturalTurretPitch     6.0
AllowsPitch            Yes
ControlledWeaponSlots  SECONDARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

;;;;Botom Turret
AltTurret
TurretTurnRate         180
TurretPitchRate        180
MinPhysicalPitch       -90
NaturalTurretPitch     -15.0
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL  PropagandaAirshipLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              80.0            ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          10.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       210             ; max braking we can use during death spiral (lower num  wilder spiral)
MinSelfSpin                      10              ; in degrees per second
MaxSelfSpin                      30              ; in degrees per second
SelfSpinUpdateDelay              600             ; in milliseconds
SelfSpinUpdateAmount             5               ; in degrees
FallHowFast                      10.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_PropagandaAirshipFireExplosion
DelayFromGroundToFinalDeath      0
FinalRubbleObject                ChinaPropagandaAirshipRubbleHull
End

Behavior         PropagandaTowerBehavior ModuleTag_09
Radius                         200.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
PulseFX                        FX_PropagandaAirShipPropagandaPulse     ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
UpgradedPulseFX                FX_PropagandaAirShipSubliminalPulse     ;plays as often as DelayBetweenUpdates
AffectsSelf                    Yes                                     ; Needs this since Tower is not seperate object
End

Behavior  ModelConditionUpgrade ModuleTag_10
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  OverlordContain ModuleTag_SpeakerDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    PropagandaAirshipDecalObject
End

Behavior  WeaponBonusUpgrade ModuleTag_22
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_23
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior            OCLSpecialPower ModuleTag_BattleCry01
SpecialPowerTemplate  SpecialAbilityPropagandaAirshipBattleCry
OCL                   OCL_PropagandaBattleCryVarriation
CreateLocation        USE_OWNER_OBJECT
End

Behavior  TransitionDamageFX ModuleTag_20
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  48.0
GeometryMinorRadius  22.0
GeometryHeight  35.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object PropagandaAirshipDecalObject

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  NADA

ConditionState  NONE
Model          NVDeva_U2
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                30.0
ShadowTexture  SCC_Propaganda
ShadowSizeX  415
ShadowSizeY  415

End