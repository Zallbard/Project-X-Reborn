;------------------------------------------------------------------------------
Object ChinaPropagandaCenter

; *** ART Parameters ***
SelectPortrait          SNPropCentr_L
ButtonImage             SNPropCentr

UpgradeCameo1            Upgrade_ChinaSubliminalMessaging

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
;day
ConditionState        NONE
Model               NBPCenter
Animation           NBPCenter.NBPCenter
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               NBPCenter_D
Animation           NBPCenter_D.NBPCenter_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBPCenter_E
Animation           NBPCenter_E.NBPCenter_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;     ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT
Model               NBPCenter_N
Animation           NBPCenter_N.NBPCenter_N
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT
Model               NBPCenter_DN
Animation           NBPCenter_DN.NBPCenter_DN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               NBPCenter_EN
Animation           NBPCenter_EN.NBPCenter_EN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

ConditionState        SNOW
Model               NBPCenter_S
Animation           NBPCenter_S.NBPCenter_S
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED SNOW
Model               NBPCenter_DS
Animation           NBPCenter_DS.NBPCenter_DS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBPCenter_ES
Animation           NBPCenter_ES.NBPCenter_ES
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT SNOW
Model               NBPCenter_NS
Animation           NBPCenter_NS.NBPCenter_NS
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT SNOW
Model               NBPCenter_DNS
Animation           NBPCenter_DNS.NBPCenter_DNS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               NBPCenter_ENS
Animation           NBPCenter_ENS.NBPCenter_ENS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBPCenter
Animation           NBPCenter.NBPCenter
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBPCenter_D
Animation           NBPCenter_D.NBPCenter_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBPCenter_E
Animation           NBPCenter_E.NBPCenter_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBPCenter_N
Animation           NBPCenter_N.NBPCenter_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBPCenter_DN
Animation           NBPCenter_DN.NBPCenter_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBPCenter_EN
Animation           NBPCenter_EN.NBPCenter_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBPCenter_S
Animation           NBPCenter_S.NBPCenter_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBPCenter_DS
Animation           NBPCenter_DS.NBPCenter_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBPCenter_ES
Animation           NBPCenter_ES.NBPCenter_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBPCenter_NS
Animation           NBPCenter_NS.NBPCenter_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBPCenter_DNS
Animation           NBPCenter_DNS.NBPCenter_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBPCenter_ENS
Animation           NBPCenter_ENS.NBPCenter_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NBPCenter_A1
Animation        NBPCenter_A1.NBPCenter_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED RUBBLE
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED RUBBLE
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED RUBBLE
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4
Animation        NBPCenter_A4.NBPCenter_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4N
Animation        NBPCenter_A4N.NBPCenter_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4S
Animation        NBPCenter_A4S.NBPCenter_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4SN
Animation        NBPCenter_A4SN.NBPCenter_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPCenter_A4
Animation        NBPCenter_A4.NBPCenter_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPCenter_A4N
Animation        NBPCenter_A4N.NBPCenter_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPCenter_A4S
Animation        NBPCenter_A4S.NBPCenter_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPCenter_A4SN
Animation        NBPCenter_A4SN.NBPCenter_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPCenter_A4
Animation        NBPCenter_A4.NBPCenter_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPCenter_A4N
Animation        NBPCenter_A4N.NBPCenter_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPCenter_A4S
Animation        NBPCenter_A4S.NBPCenter_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPCenter_A4SN
Animation        NBPCenter_A4SN.NBPCenter_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6
Animation        NBPCenter_A6.NBPCenter_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6N
Animation        NBPCenter_A6N.NBPCenter_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6S
Animation        NBPCenter_A6S.NBPCenter_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6SN
Animation        NBPCenter_A6SN.NBPCenter_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPCenter_A6
Animation        NBPCenter_A6.NBPCenter_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPCenter_A6N
Animation        NBPCenter_A6N.NBPCenter_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPCenter_A6S
Animation        NBPCenter_A6S.NBPCenter_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPCenter_A6SN
Animation        NBPCenter_A6SN.NBPCenter_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPCenter_A6
Animation        NBPCenter_A6.NBPCenter_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPCenter_A6N
Animation        NBPCenter_A6N.NBPCenter_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPCenter_A6S
Animation        NBPCenter_A6S.NBPCenter_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPCenter_A6SN
Animation        NBPCenter_A6SN.NBPCenter_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5
Animation        NBPCenter_A5.NBPCenter_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5N
Animation        NBPCenter_A5N.NBPCenter_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5S
Animation        NBPCenter_A5S.NBPCenter_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5SN
Animation        NBPCenter_A5SN.NBPCenter_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPCenter_AB
Animation        NBPCenter_AB.NBPCenter_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPCenter_ABN
Animation        NBPCenter_ABN.NBPCenter_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPCenter_ABSN
Animation        NBPCenter_ABSN.NBPCenter_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBPCenter_AB
Animation        NBPCenter_AB.NBPCenter_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBPCenter_ABN
Animation        NBPCenter_ABN.NBPCenter_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBPCenter_ABSN
Animation        NBPCenter_ABSN.NBPCenter_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ subliminal effect bones -----------------
Draw                    W3DModelDraw ModuleTag_NightLights01

ConditionState        NONE
Model               NBPCenter_B
Animation           NBPCenter_B.NBPCenter_B
AnimationMode       LOOP
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState        REALLYDAMAGED
Model               NBPCenter_BE
Animation           NBPCenter_BE.NBPCenter_BE
AnimationMode       LOOP
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState        USER_1
Model               NBPCenter_B
Animation           NBPCenter_B.NBPCenter_B
AnimationMode       LOOP
ParticleSysBone     FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone     FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone     FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 SNOW
AliasConditionState  USER_1 NIGHT SNOW
AliasConditionState  USER_1 DAMAGED
AliasConditionState  USER_1 DAMAGED NIGHT
AliasConditionState  USER_1 DAMAGED SNOW
AliasConditionState  USER_1 DAMAGED NIGHT SNOW

ConditionState        USER_1 REALLYDAMAGED
Model               NBPCenter_BE
Animation           NBPCenter_BE.NBPCenter_BE
AnimationMode       LOOP
ParticleSysBone     FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone     FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 REALLYDAMAGED NIGHT
AliasConditionState  USER_1 REALLYDAMAGED SNOW
AliasConditionState  USER_1 REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION
AliasConditionState  USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState  USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  USER_1 SOLD
AliasConditionState  USER_1 SOLD DAMAGED
AliasConditionState  USER_1 SOLD REALLYDAMAGED
AliasConditionState  USER_1 SOLD NIGHT
AliasConditionState  USER_1 SOLD NIGHT DAMAGED
AliasConditionState  USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState  USER_1 SOLD SNOW
AliasConditionState  USER_1 SOLD SNOW DAMAGED
AliasConditionState  USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState  USER_1 SOLD NIGHT SNOW
AliasConditionState  USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState  USER_1 SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

End

; ------------ global broadcast array -----------------
Draw                    W3DModelDraw ModuleTag_Array01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               NBPropBrd
Animation           NBPropBrd.NBPropBrd
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               NBPropBrd_D
Animation           NBPropBrd_D.NBPropBrd_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               NBPropBrd_E
Animation           NBPropBrd_E.NBPropBrd_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               NBPropBrd_S
Animation           NBPropBrd_S.NBPropBrd_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               NBPropBrd_SD
Animation           NBPropBrd_SD.NBPropBrd_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               NBPropBrd_SE
Animation           NBPropBrd_SE.NBPropBrd_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBPropBrd
Animation          NBPropBrd.NBPropBrd
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBPropBrd_D
Animation          NBPropBrd_D.NBPropBrd_D
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NBPropBrd_E
Animation          NBPropBrd_E.NBPropBrd_E
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              NBPropBrd_S
Animation          NBPropBrd_S.NBPropBrd_S
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              NBPropBrd_SD
Animation          NBPropBrd_SD.NBPropBrd_SD
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              NBPropBrd_SE
Animation          NBPropBrd_SE.NBPropBrd_SE
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName          OBJECT:PropagandaCenter
Side                 China
EditorSorting        STRUCTURE

Prerequisites
Object  ChinaWarFactory
Object  FactionRadarActive
End

BuildCost            1500
BuildTime            30.0           ; in seconds
EnergyProduction     -15
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions         None
Armor              PropagandaStructureArmor
DamageFX           StructureDamageFXNoShake
End
CommandSet           ChinaPropagandaCenterCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level

MaxSimultaneousOfType  1


; *** AUDIO Parameters ***
VoiceSelect          PropagandaCenterSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_ADVANCED_TECH POWERED
Body             StructureBody ModuleTag_07
MaxHealth      5000.0
InitialHealth  5000.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior                 GenerateMinefieldBehavior ModuleTag_15
TriggeredBy            Upgrade_ChinaMines
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  ModelConditionUpgrade ModuleTag_Upgrade04
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior         PropagandaTowerBehavior ModuleTag_16
Radius                         200.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
PulseFX                        FX_PropagandaCenterPulse                ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
UpgradedPulseFX                FX_PropagandaCenterSubliminalPulse      ;plays as often as DelayBetweenUpdates
AffectsSelf                    Yes                                     ; Needs this since Tower is not seperate object
End

Behavior  FireWeaponUpdate ModuleTag_SpeakerDecal01
Weapon  PropagandaCenterDecalWeapon
End

Behavior              FlammableUpdate ModuleTag_17
AflameDuration      5000    ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay   500     ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End


Behavior  ProductionUpdate ModuleTag_19
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_PropagandaCenterCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior        CostModifierUpgrade ModuleTag_CostReduction01
TriggeredBy   Upgrade_CostReduction
EffectKindOf  INFANTRY
Percentage    -20%
End

;This module ensures that troop crawlers get a bit cheaper too since the red guards inside them also get a reduction
Behavior        CostModifierUpgrade ModuleTag_CostReduction02
TriggeredBy   Upgrade_CostReduction
EffectKindOf  FS_FAKE
Percentage    -7.5%
End

;Global Propaganda Broadcast
Behavior  OCLSpecialPower ModuleTag_PropagandaBroadcast01
SpecialPowerTemplate  SuperweaponGlobalPropagandaBroadcast
OCL                   SUPERWEAPON_GlobalPropagandaBroadcast
UpgradeOCL            SCIENCE_SubliminalMesseging SUPERWEAPON_GlobalPropagandaBroadcastSubliminal
CreateLocation        USE_OWNER_OBJECT
End

Behavior  SpecialPowerCreate ModuleTag_PropagandaBroadcast02
End

Behavior  AIUpdateInterface ModuleTag_PropagandaBroadcast03
End

Behavior  HelixContain ModuleTag_PropagandaBroadcast04
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_PropagandaBroadcast05
CollideWeapon  PropagandaCenterBroadCastArrayDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
;General collision effect
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy

;This triggers the broadcast array to appear after the "upgrade" is purchased
PristineOCL2       bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_PropagandaCenterBroadcastArrayCrate
End

Behavior GrantScienceUpgrade ModuleTag_PropagandaBroadcast08
GrantScience  SCIENCE_SubliminalMesseging
TriggeredBy  Upgrade_ChinaSubliminalMessaging
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponCollide ModuleTag_RemoveDummies01
CollideWeapon   PropagandaCenterBroadCastUpgradeRemoveDummyObjectsWeapon
RequiredStatus  SOLD
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponWhenDeadBehavior ModuleTag_RemoveDummies02
DeathWeapon   PropagandaCenterBroadCastUpgradeRemoveDummyObjectsWeapon
StartsActive  Yes
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  33.0
GeometryMinorRadius  57.0
GeometryHeight       40.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaPropagandaCenter_CollapseObject

; *** ART Parameters ***

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
;day
ConditionState        NONE
Model               NBPCenter
Animation           NBPCenter.NBPCenter
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               NBPCenter_D
Animation           NBPCenter_D.NBPCenter_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBPCenter_E
Animation           NBPCenter_E.NBPCenter_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;     ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT
Model               NBPCenter_N
Animation           NBPCenter_N.NBPCenter_N
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT
Model               NBPCenter_DN
Animation           NBPCenter_DN.NBPCenter_DN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               NBPCenter_EN
Animation           NBPCenter_EN.NBPCenter_EN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

ConditionState        SNOW
Model               NBPCenter_S
Animation           NBPCenter_S.NBPCenter_S
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED SNOW
Model               NBPCenter_DS
Animation           NBPCenter_DS.NBPCenter_DS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBPCenter_ES
Animation           NBPCenter_ES.NBPCenter_ES
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT SNOW
Model               NBPCenter_NS
Animation           NBPCenter_NS.NBPCenter_NS
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT SNOW
Model               NBPCenter_DNS
Animation           NBPCenter_DNS.NBPCenter_DNS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               NBPCenter_ENS
Animation           NBPCenter_ENS.NBPCenter_ENS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NBPCenter_A1
Animation        NBPCenter_A1.NBPCenter_A1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED
End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName       OBJECT:PropagandaCenter
Side  China
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            PropagandaStructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  33.0
GeometryMinorRadius  57.0
GeometryHeight       40.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End