;------------------------------------------------------------------------------
Object ChinaCommandCenter

; *** ART Parameters ***
SelectPortrait          SNComCentr_L
ButtonImage             SNComCentr

UpgradeCameo1            Upgrade_ChinaRadar

; ------------ the main building itself -----------------
Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               NBConYard
Animation           NBConYard.NBConYard
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               NBConYard_D
Animation           NBConYard_D.NBConYard_D
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBConYard_E
Animation           NBConYard_E.NBConYard_E
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire06 SmolderingFire
ParticleSysBone     Fire07 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End


;NIGHT ***********************************
ConditionState        NIGHT
Model               NBConYard_N
Animation           NBConYard_N.NBConYard_N
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT
Model               NBConYard_DN
Animation           NBConYard_DN.NBConYard_DN
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT
Model            NBConYard_EN
Animation        NBConYard_EN.NBConYard_EN
AnimationMode    LOOP
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire05 SmolderingFire
ParticleSysBone  Fire06 SmolderingFire
ParticleSysBone  Fire07 SmolderingFire
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End


;SNOW *************************************
ConditionState        SNOW
Model               NBConYard_S
Animation           NBConYard_S.NBConYard_S
AnimationMode       LOOP
End
ConditionState        DAMAGED SNOW
Model               NBConYard_DS
Animation           NBConYard_DS.NBConYard_DS
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBConYard_ES
Animation           NBConYard_ES.NBConYard_ES
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire06 SmolderingFire
ParticleSysBone     Fire07 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End

;NIGHT SNOW *****************************
ConditionState        NIGHT SNOW
Model               NBConYard_NS
Animation           NBConYard_NS.NBConYard_NS
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT SNOW
Model               NBConYard_DNS
Animation           NBConYard_DNS.NBConYard_DNS
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT SNOW
Model            NBConYard_ENS
Animation        NBConYard_ENS.NBConYard_ENS
AnimationMode    LOOP
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire05 SmolderingFire
ParticleSysBone  Fire06 SmolderingFire
ParticleSysBone  Fire07 SmolderingFire
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBConYard
Animation           NBConYard.NBConYard
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBConYard_D
Animation           NBConYard_D.NBConYard_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBConYard_E
Animation           NBConYard_E.NBConYard_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBConYard_N
Animation           NBConYard_N.NBConYard_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBConYard_DN
Animation           NBConYard_DN.NBConYard_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBConYard_EN
Animation           NBConYard_EN.NBConYard_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBConYard_S
Animation           NBConYard_S.NBConYard_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBConYard_DS
Animation           NBConYard_DS.NBConYard_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBConYard_ES
Animation           NBConYard_ES.NBConYard_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBConYard_NS
Animation           NBConYard_NS.NBConYard_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBConYard_DNS
Animation           NBConYard_DNS.NBConYard_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBConYard_ENS
Animation           NBConYard_ENS.NBConYard_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ Radar Extending -----------------
Draw                 W3DModelDraw ModuleTag_02

DefaultConditionState
Model              None
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE

ConditionState       RADAR_EXTENDING RADAR_UPGRADED
Model              NBConYard_A2
Animation          NBConYard_A2.NBConYard_A2
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState       RADAR_EXTENDING DAMAGED RADAR_UPGRADED
Model              NBConYard_A2D
Animation          NBConYard_A2D.NBConYard_A2D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState       RADAR_EXTENDING REALLYDAMAGED RUBBLE RADAR_UPGRADED
Model              NBConYard_A2E
Animation          NBConYard_A2E.NBConYard_A2E
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState       RADAR_UPGRADED
Model              NBConYard_A2
Animation          NBConYard_A2.NBConYard_A2
AnimationMode      MANUAL
Flags              START_FRAME_LAST
End

ConditionState       RADAR_UPGRADED DAMAGED
Model              NBConYard_A2D
Animation          NBConYard_A2D.NBConYard_A2D
AnimationMode      MANUAL
Flags              START_FRAME_LAST
End

ConditionState       RADAR_UPGRADED REALLYDAMAGED RUBBLE
Model              NBConYard_A2E
Animation          NBConYard_A2E.NBConYard_A2E
AnimationMode      MANUAL
Flags              START_FRAME_LAST
End

ConditionState       RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBConYard_A2
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBConYard_A2D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model              NBConYard_A2E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

End
PlacementViewAngle  -135

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4
Animation        NBConYard_A4.NBConYard_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4N
Animation        NBConYard_A4N.NBConYard_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4S
Animation        NBConYard_A4S.NBConYard_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4SN
Animation        NBConYard_A4SN.NBConYard_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBConYard_A4
Animation        NBConYard_A4.NBConYard_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBConYard_A4N
Animation        NBConYard_A4N.NBConYard_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBConYard_A4S
Animation        NBConYard_A4S.NBConYard_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBConYard_A4SN
Animation        NBConYard_A4SN.NBConYard_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBConYard_A4
Animation        NBConYard_A4.NBConYard_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBConYard_A4N
Animation        NBConYard_A4N.NBConYard_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBConYard_A4S
Animation        NBConYard_A4S.NBConYard_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBConYard_A4SN
Animation        NBConYard_A4SN.NBConYard_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBConYard_A6
Animation        NBConYard_A6.NBConYard_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  SmokeM01 BuildUpSmokeChina
ParticleSysBone  SmokeS02 BuildUpSmokeChina
ParticleSysBone  SparksM01 BuildUpSmokeChina
ParticleSysBone  SparksM02 BuildUpSmokeChina
ParticleSysBone  SparksS01 BuildUpSmokeChina
ParticleSysBone  SparksS02 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBConYard_A6N
Animation        NBConYard_A6N.NBConYard_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT

ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  SmokeM01 BuildUpSmokeChina
ParticleSysBone  SmokeS02 BuildUpSmokeChina
ParticleSysBone  SparksM01 BuildUpSmokeChina
ParticleSysBone  SparksM02 BuildUpSmokeChina
ParticleSysBone  SparksS01 BuildUpSmokeChina
ParticleSysBone  SparksS02 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBConYard_A6S
Animation        NBConYard_A6S.NBConYard_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  SmokeM01 BuildUpSnowSmoke
ParticleSysBone  SmokeS02 BuildUpSnowSmoke
ParticleSysBone  SparksM01 BuildUpSnowSmoke
ParticleSysBone  SparksM02 BuildUpSnowSmoke
ParticleSysBone  SparksS01 BuildUpSnowSmoke
ParticleSysBone  SparksS02 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBConYard_A6SN
Animation        NBConYard_A6SN.NBConYard_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  SmokeM01 BuildUpNightSnowSmoke
ParticleSysBone  SmokeS02 BuildUpNightSnowSmoke
ParticleSysBone  SparksM01 BuildUpNightSnowSmoke
ParticleSysBone  SparksM02 BuildUpNightSnowSmoke
ParticleSysBone  SparksS01 BuildUpNightSnowSmoke
ParticleSysBone  SparksS02 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBConYard_A6
Animation        NBConYard_A6.NBConYard_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBConYard_A6N
Animation        NBConYard_A6N.NBConYard_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBConYard_A6S
Animation        NBConYard_A6S.NBConYard_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBConYard_A6SN
Animation        NBConYard_A6SN.NBConYard_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBConYard_A6
Animation        NBConYard_A6.NBConYard_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBConYard_A6N
Animation        NBConYard_A6N.NBConYard_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBConYard_A6S
Animation        NBConYard_A6S.NBConYard_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBConYard_A6SN
Animation        NBConYard_A6SN.NBConYard_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5
Animation        NBConYard_A5.NBConYard_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5N
Animation        NBConYard_A5N.NBConYard_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5S
Animation        NBConYard_A5S.NBConYard_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5SN
Animation        NBConYard_A5SN.NBConYard_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBConYard_AB
Animation        NBConYard_AB.NBConYard_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBConYard_ABN
Animation        NBConYard_ABN.NBConYard_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBConYard_ABS
Animation        NBConYard_ABS.NBConYard_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBConYard_ABSN
Animation        NBConYard_ABSN.NBConYard_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBConYard_AB
Animation        NBConYard_AB.NBConYard_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBConYard_ABN
Animation        NBConYard_ABN.NBConYard_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBConYard_ABS
Animation        NBConYard_ABS.NBConYard_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBConYard_ABSN
Animation        NBConYard_ABSN.NBConYard_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_06
DefaultConditionState
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState     DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_OPENING DAMAGED

ConditionState     DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING DAMAGED

ConditionState     DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED

ConditionState     DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBConYard_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBConYard_A7D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBConYard_A7D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; Officers club flag
Draw  W3DModelDraw ModuleTag_OfficersClub
OkToChangeModelColor  No

ConditionState        NONE
Model               None
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED
AliasConditionState   RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE
ConditionState        PREORDER
Model               OCFlagCHA
Animation           OCFlagCHA.OCFlagCHA
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
;    ConditionState        PREORDER DAMAGED
;      Model               OCFlagCHA_D
;      Animation           OCFlagCHA_D.OCFlagCHA_D
;      AnimationMode       LOOP
;      Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
;    End
;    ConditionState        PREORDER REALLYDAMAGED
;      Model               OCFlagCHA_E
;      Animation           OCFlagCHA_E.OCFlagCHA_E
;      AnimationMode       LOOP
;      Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
;    End
End

; ------------ radio intercepts array -----------------
Draw                    W3DModelDraw ModuleTag_Array01

OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               NBRdioRdr
Animation           NBRdioRdr.NBRdioRdr
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               NBRdioRdr_D
Animation           NBRdioRdr_D.NBRdioRdr_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               NBRdioRdr_E
Animation           NBRdioRdr_E.NBRdioRdr_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               NBRdioRdr_S
Animation           NBRdioRdr_S.NBRdioRdr_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               NBRdioRdr_SD
Animation           NBRdioRdr_SD.NBRdioRdr_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               NBRdioRdr_SE
Animation           NBRdioRdr_SE.NBRdioRdr_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBRdioRdr
Animation          NBRdioRdr.NBRdioRdr
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBRdioRdr_D
Animation          NBRdioRdr_D.NBRdioRdr_D
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NBRdioRdr_E
Animation          NBRdioRdr_E.NBRdioRdr_E
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              NBRdioRdr_S
Animation          NBRdioRdr_S.NBRdioRdr_S
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              NBRdioRdr_SD
Animation          NBRdioRdr_SD.NBRdioRdr_SD
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              NBRdioRdr_SE
Animation          NBRdioRdr_SE.NBRdioRdr_SE
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName        OBJECT:CommandCenter
Side               China
EditorSorting      STRUCTURE
BuildCost          2000
RefundValue        1000 ; With nothing (or zero) listed, we sell for no money at all
BuildTime          45.0           ; in seconds
EnergyProduction   0  ;Command center should be free
VisionRange        300.0           ; Shroud clearing distance
ShroudClearingRange  300
MaxSimultaneousOfType  1

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

Prerequisites
Object  FactionChina
End

ExperienceValue      200 200 200 200  ; Experience point value at each level
CommandSet         ChinaCommandCenterCommandSet

; *** AUDIO Parameters ***
VoiceSelect        CommandCenterChinaSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY

Body               StructureBody ModuleTag_07
MaxHealth        5000.0
InitialHealth    5000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  5200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  PreorderCreate ModuleTag_PreorderCreate
End

Behavior  ProductionUpdate ModuleTag_08
NumDoorAnimations             1
DoorOpeningTime               3000  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 3000  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End
Behavior  DefaultProductionExitUpdate ModuleTag_09
UnitCreatePoint    X:-18.0  Y: 40.0   Z:0.0
NaturalRallyPoint  X: 60.0  Y: 40.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
End

Behavior  RadarUpdate ModuleTag_10
RadarExtendTime    4950     ;in mSeconds
End

Behavior  RadarUpgrade ModuleTag_14
TriggeredBy  Upgrade_ChinaRadar
End

Behavior  ObjectCreationUpgrade ModuleTag_RadarActive01
TriggeredBy  Upgrade_ChinaRadar
UpgradeObject  OCL_ChinaRadarActiveObject
End

Behavior  GenerateMinefieldBehavior     ModuleTag_15
TriggeredBy            Upgrade_ChinaMines
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
CommandSet       ChinaCommandCenterCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       ChinaCommandCenterPowersCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior            OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponNapalmStrike
OCL                   SUPERWEAPON_NapalmStrike
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior  GrantScienceUpgrade ModuleTag_GenPowerUpgrade01
GrantScience  SCIENCE_BlackNapalmStrike
TriggeredBy   Upgrade_ChinaBlackNapalm
End

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponParaBombs
UpgradeOCL            SCIENCE_ParaBombs3 SUPERWEAPON_ParaBombs3
UpgradeOCL            SCIENCE_ParaBombs2 SUPERWEAPON_ParaBombs2
OCL                   SUPERWEAPON_ParaBombs1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

;  Behavior            OCLSpecialPower ModuleTag_GenPower02
;    SpecialPowerTemplate  SuperweaponArtilleryBarrage
;    UpgradeOCL            SCIENCE_ArtilleryBarrage3 SUPERWEAPON_ArtilleryBarrage3
;    UpgradeOCL            SCIENCE_ArtilleryBarrage2 SUPERWEAPON_ArtilleryBarrage2
;    OCL                   SUPERWEAPON_ArtilleryBarrage1
;    CreateLocation        CREATE_AT_EDGE_FARTHEST_FROM_TARGET
;  End

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponClusterMines
OCL                   SUPERWEAPON_ClusterMines
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower05
SpecialPowerTemplate  SuperweaponEMPPulse
OCL                   SUPERWEAPON_EMPPulse
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            CashHackSpecialPower ModuleTag_GenPower06
SpecialPowerTemplate  SuperweaponCashHack
MoneyAmount           2000  ; amount of money to steal
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponFrenzy
UpgradeOCL            SCIENCE_Frenzy3 SUPERWEAPON_Frenzy3
UpgradeOCL            SCIENCE_Frenzy2 SUPERWEAPON_Frenzy2
OCL                   SUPERWEAPON_Frenzy1
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower11
SpecialPowerTemplate  SuperweaponECMBomb
UpgradeOCL            SCIENCE_ECMBomb3 SUPERWEAPON_ECMBomb3
UpgradeOCL            SCIENCE_ECMBomb2 SUPERWEAPON_ECMBomb2
OCL                   SUPERWEAPON_ECMBomb1
CreateLocation        CREATE_AT_LOCATION
End

;Radio Intercepts modules
Behavior  HelixContain ModuleTag_RadioIntercepts01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_RadioIntercepts02
CollideWeapon  CommandCenterRadioInterceptsUpgradeWeapon
RequiredStatus  IS_BRAKING
End

Behavior  BoneFXDamage ModuleTag_RadioIntercepts03
End

Behavior  BoneFXUpdate ModuleTag_RadioIntercepts04
;General collision effect
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponCollide ModuleTag_RemoveDummies01
CollideWeapon   CommandCenterRadioInterceptDummyObjectRemovalWeapon
RequiredStatus  SOLD
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponWhenDeadBehavior ModuleTag_RemoveDummies02
DeathWeapon   CommandCenterRadioInterceptDummyObjectRemovalWeapon
StartsActive  Yes
End

Behavior  FlammableUpdate ModuleTag_23
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_24
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior             SpawnBehavior ModuleTag_FreeDozer01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   ChinaVehicleDozer
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
FactoryExitWidth     25
GeometryMajorRadius  60.0
GeometryMinorRadius  63.0
GeometryHeight       36.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaActiveRadarObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButHack
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD IMMOBILE NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  BoneFXDamage ModuleTag_RadarActive01
End

Behavior  BoneFXUpdate ModuleTag_RadarActive02
PristineOCL1       bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
DamagedOCL1        bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
End

End