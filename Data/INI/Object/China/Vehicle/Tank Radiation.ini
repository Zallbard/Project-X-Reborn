Object ChinaRadTank
; *** ART Parameters ***
SelectPortrait = SNRadTank
ButtonImage = SNRadTank

Draw = W3DTankDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = NVRadTank ;nvnukedragon
Animation = NVRadTank.NVRadTank
AnimationMode = MANUAL
Flags = START_FRAME_FIRST ;LAST
Turret = Turret
HideSubObject = REACTOR
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
WeaponFireFXBone = SECONDARY REACTORGLOW
WeaponLaunchBone = SECONDARY REACTORGLOW
TransitionKey = CLOSED
End
ConditionState = USING_WEAPON_B
Animation = NVRadTank.NVRadTank
AnimationMode = MANUAL
Flags = START_FRAME_LAST
TransitionKey = OPEN
ShowSubObject = REACTOR
ParticleSysBone = REACTORGLOW MicrowaveLenzflare
End
ConditionState = USING_WEAPON_B REALLYDAMAGED
Model = NVRadTank_d
Animation = NVRadTank.NVRadTank
AnimationMode = MANUAL
Flags = START_FRAME_LAST
TransitionKey = OPEN_D
ShowSubObject = REACTOR
ParticleSysBone = REACTORGLOW MicrowaveLenzflare
End
;AliasConditionState = USING_WEAPON_B REALLYDAMAGED

ConditionState = REALLYDAMAGED
Model = NVRadTank_d
Animation = NVRadTank.NVRadTank
AnimationMode = MANUAL
Flags = START_FRAME_FIRST ;LAST
TransitionKey = CLOSED_D
End
ConditionState = RUBBLE
Model = NVRadTank_d
Animation = NVRadTank.NVRadTank
AnimationMode = MANUAL
Flags = START_FRAME_FIRST ;LAST
TransitionKey = CLOSED_D
End

TransitionState = OPEN CLOSED
Model = NVRadTank
Animation = NVRadTank.NVRadTank
AnimationMode = ONCE_BACKWARDS
Flags = START_FRAME_LAST
ShowSubObject = REACTOR
ParticleSysBone = REACTORGLOW MicrowaveLenzflare
End
TransitionState = CLOSED OPEN
Model = NVRadTank
Animation = NVRadTank.NVRadTank
AnimationMode = ONCE
Flags = START_FRAME_FIRST
ShowSubObject = REACTOR
ParticleSysBone = REACTORGLOW MicrowaveLenzflare
End
TransitionState = OPEN_D CLOSED_D
Model = NVRadTank_d
Animation = NVRadTank.NVRadTank
AnimationMode = ONCE_BACKWARDS
Flags = START_FRAME_LAST
ShowSubObject = REACTOR
ParticleSysBone = REACTORGLOW MicrowaveLenzflare
End
TransitionState = CLOSED_D OPEN_D
Model = NVRadTank_d
Animation = NVRadTank.NVRadTank
AnimationMode = ONCE
Flags = START_FRAME_FIRST
ShowSubObject = REACTOR
ParticleSysBone = REACTORGLOW MicrowaveLenzflare
End

TrackMarks = EXTnkTrack.tga
TreadAnimationRate = 2.0     ; amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3     ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6     ; fraction of locomotor speed below which we allow pivoting.
End
; ***DESIGN parameters ***
DisplayName = OBJECT:RadTank
Side = China
EditorSorting = VEHICLE
TransportSlotCount = 3     ; how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions = None
Weapon = PRIMARY NukeRadiationTankGun
;Weapon = SECONDARY Z_Nuke_RadTankDesolatorWeapon
;AutoChooseSources = SECONDARY NONE
End
;  WeaponSet
;    Conditions = PLAYER_UPGRADE
;    Weapon = PRIMARY Z_Nuke_RadiationTankGun_Gamma
;    Weapon = SECONDARY Z_Nuke_RadTankDesolatorWeapon_Gamma
;    AutoChooseSources = SECONDARY NONE
;  End
ArmorSet
Conditions = None
Armor = RadTankArmor
DamageFX = TankDamageFX
End
BuildCost = 800
BuildTime = 10.0     ; in seconds
VisionRange 200
ShroudClearingRange 250
Prerequisites
Object ChinaWarFactory
End
ExperienceValue = 50 50 100 150     ; Experience point value at each level
ExperienceRequired = 0 100 150 300     ; Experience points needed to gain each level
IsTrainable = Yes     ; Can gain experience
CrusherLevel = 2     ; What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel = 2     ; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet = ChinaRadTankCommandSet
; *** AUDIO Parameters ***
VoiceSelect = RadTankVoiceSelect
VoiceMove = RadTankVoiceMove
VoiceGuard = RadTankVoiceMove
VoiceAttack = RadTankVoiceAttack
SoundMoveStart = DragonTankMoveStart
SoundMoveStartDamaged = DragonTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate = RadTankVoiceCreate
TurretMoveStart = NoSound
TurretMoveLoop = TurretMoveLoop
VoiceEnter = RadTankVoiceMove
VoiceFlameLocation = RadTankVoiceOpenCore
End
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
Body = ActiveBody ModuleTag_02
MaxHealth = 320.0 ;280.0
InitialHealth = 320.0 ;280.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 640.0 ;560
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End
Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate = 120
;TurretPitchRate = 120
;AllowsPitch = Yes
;MinPhysicalPitch = -15
TurretFireAngleSweep = PRIMARY 10
;TurretFireAngleSweep = SECONDARY 60
TurretSweepSpeedModifier = PRIMARY 0.5     ; Sweep slower than you turn (aim for 30 for art)
;TurretSweepSpeedModifier = SECONDARY 2.0     ; Sweep faster than you turn
ControlledWeaponSlots = PRIMARY ;SECONDARY
End
AutoAcquireEnemiesWhenIdle = Yes
End
Behavior = CommandButtonHuntUpdate ModuleTag_Hunt     ; allows use of command button hunt script with this unit.
End
Locomotor = SET_NORMAL DragonLocomotor
Behavior = PhysicsBehavior ModuleTag_04
Mass = 50.0
End
;  Behavior = WeaponSetUpgrade ModuleTag_WeapUp
;    TriggeredBy = Upgrade_Nuke_GammaRad
;  End
; A crushing defeat
Behavior = DestroyDie ModuleTag_06
DeathTypes = NONE +CRUSHED +SPLATTED
End
Behavior = FXListDie ModuleTag_07
DeathTypes = NONE +CRUSHED +SPLATTED
DeathFX = FX_CarCrush
End
Behavior = CreateObjectDie ModuleTag_08
DeathTypes = NONE +CRUSHED +SPLATTED
CreationList = OCL_CrusaderTank_CrushEffect
End
Behavior = CreateCrateDie ModuleTag_09
CrateData = SalvageCrateDataChinaTier1
; CrateData = EliteTankCrateData
; CrateData = HeroicTankCrateData
End
; just explode death
Behavior = SlowDeathBehavior ModuleTag_10
DeathTypes = ALL -CRUSHED -SPLATTED
; ProbabilityModifier = 33
DestructionDelay = 500
DestructionDelayVariance = 500
FX = INITIAL FX_GenericTankDeathExplosion
OCL = FINAL OCL_RadTankDebris
;FX = FINAL FX_DragonTankDeathExplosionFinal
End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = VETERAN
;    ScienceRequired = Nuke_SCIENCE_Tree11
;  End

Behavior = FireWeaponWhenDeadBehavior ModuleTag_0666
DeathWeapon = Nuke_RadTankDeathWeapon
StartsActive = Yes     ; Starts active but removes when they upgrade to Fusion Reactors
;ConflictsWith = Upgrade_ChinaIsotopeStability
End
Behavior = FlammableUpdate ModuleTag_12
AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3     ; taking this much damage...
AflameDamageDelay = 500     ; this often.
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Geometry = BOX
GeometryMajorRadius = 15.0
GeometryMinorRadius = 10.0
GeometryHeight = 11.0     ; Height set to allow clear clipping of projectile stream
GeometryIsSmall = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45     ; minimum elevation angle above horizon. Used to limit shadow length
End

Object RadTankProjectileStream
; *** ART Parameters ***
Draw = W3DProjectileStreamDraw ModuleTag_1115
Texture = exfthrowerstream.tga
Width = 1.5
TileFactor = 2.0     ; put the texture on the line segment this many times
ScrollRate = 6.0     ; scroll the texture offset this fast
MaxSegments = 14     ; only play the first X if there are a ton of them. 0 means play all
End
; *** ENGINEERING Parameters ***
KindOf = INERT
Behavior = ProjectileStreamUpdate ModuleTag_1116
; nothing
End
End

Object RadTankStreamProjectile
; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a toxin trail for exhaust
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_1108
DefaultConditionState
Model = NONE
End
End
; Must have a draw module to be allowed to draw detonation FX
; ***DESIGN parameters ***
EditorSorting = SYSTEM
VisionRange = 0.0
ArmorSet
Conditions = None
Armor = ProjectileArmor
DamageFX = None
End
; *** ENGINEERING Parameters ***
KindOf = PROJECTILE
Body = ActiveBody ModuleTag_1109
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = DestroyDie ModuleTag_1110
; nothing
End
Behavior = PhysicsBehavior ModuleTag_1111
Mass = 1
AllowCollideForce = No     ; toxins collide, but never apply forces when they do so
End
Behavior = MissileAIUpdate ModuleTag_1112
TryToFollowTarget = No
FuelLifetime = 500
InitialVelocity = 120     ; in dist/sec
IgnitionDelay = 0
DistanceToTravelBeforeTurning = 2
GarrisonHitKillRequiredKindOf = INFANTRY
GarrisonHitKillForbiddenKindOf = NONE
GarrisonHitKillCount = 2
GarrisonHitKillFX = FX_ToxinStreamGarrisonBuildingHit
End
Locomotor = SET_NORMAL ToxinTruckStreamLocomotor
Behavior = BoneFXUpdate ModuleTag_1113
PristineParticleSystem1 = bone:NULL OnlyOnce:Yes 0 0 PSys:RadTrail01
End
Behavior = BoneFXDamage ModuleTag_1114
; nothing
End
Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 2.0
End

Object Nuke_RadTankDeadHull
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
ConditionState = NONE
Model = NVRadTank_D1
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:Overlord
Side = China
EditorSorting = SYSTEM
TransportSlotCount = 3     ; how many "slots" we take in a transport (0 == not transportable)
; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK
Body = ActiveBody ModuleTag_02
MaxHealth = 1.0
InitialHealth = 1.0
End
Behavior = PhysicsBehavior ModuleTag_03
Mass = 50
AllowBouncing = Yes
End
Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 0     ; min lifetime in msec
MaxLifetime = 0     ; max lifetime in msec
End
Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay = 14000
SinkRate = 2     ; in Dist/Sec
DestructionDelay = 20000
End
Behavior = TransitionDamageFX ModuleTag_06
RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End
Geometry = BOX
GeometryMajorRadius = 9.0
GeometryMinorRadius = 6.0
GeometryHeight = 7.5
GeometryIsSmall = Yes
End
