Object ChinaLightTank

; *** ART Parameters ***
SelectPortrait         = SNLightTank
ButtonImage            = SNLightTank

Draw = W3DTankDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = NVLight
Turret = Turret01
ShowSubObject = Turret01
HideSubObject = TurretUp01
WeaponRecoilBone = PRIMARY Barrel
WeaponFireFXBone = PRIMARY TurretFx
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponLaunchBone = PRIMARY TurretFx
WeaponFireFXBone = SECONDARY WeaponB
WeaponLaunchBone = SECONDARY WeaponB
End
ConditionState = DAMAGED
Model = NVLight_D
Turret = Turret01
ShowSubObject = Turret01
HideSubObject = TurretUp01
WeaponRecoilBone = PRIMARY Barrel
WeaponFireFXBone = PRIMARY TurretFx
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponLaunchBone = PRIMARY TurretFx
WeaponFireFXBone = SECONDARY WeaponB
WeaponLaunchBone = SECONDARY WeaponB
End
ConditionState = REALLYDAMAGED
Model = NVLight_D
Turret = Turret01
ShowSubObject = Turret01
HideSubObject = TurretUp01
WeaponRecoilBone = PRIMARY Barrel
WeaponFireFXBone = PRIMARY TurretFx
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponLaunchBone = PRIMARY TurretFx
WeaponFireFXBone = SECONDARY WeaponB
WeaponLaunchBone = SECONDARY WeaponB
End
ConditionState = RUBBLE
Model               = NVLight_D
Turret              = Turret01
End

TrackMarks              = EXTnkTrack.tga
TreadAnimationRate = 2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName      = OBJECT:LightTank
Side = China
EditorSorting   = VEHICLE
TransportSlotCount = 4                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions = None
Weapon = PRIMARY ChinaLightTankWeapon
Weapon = SECONDARY LightTankCoaxialMachineGun
PreferredAgainst = PRIMARY VEHICLE
End

ArmorSet
Conditions      = None
Armor           = TankArmor
DamageFX        = TankDamageFX
End
BuildCost       = 600
BuildTime       = 15.0          ;in seconds
VisionRange     = 225
ShroudClearingRange = 250
Prerequisites
Object = ChinaWarFactory
End

ExperienceValue = 100 100 200 400    ;Experience point value at each level
ExperienceRequired = 0 125 250 500 ;Experience points needed to gain each level
IsTrainable = Yes             ;Can gain experience
CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet       = Tank_ChinaVehicleBattleMasterCommandSet

; *** AUDIO Parameters ***
VoiceSelect     HopperTankVoiceSelect
VoiceMove       HopperTankVoiceMove
VoiceGuard      HopperTankVoiceMove
VoiceAttack     HopperTankVoiceAttack
SoundMoveStart  HopperTankMoveStart
SoundMoveStartDamaged  HopperTankMoveStart

UnitSpecificSounds
VoiceCreate      HopperTankVoiceCreate
VoiceCrush       HopperTankVoiceMove
VoiceEnter       HopperTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

Body = ActiveBody ModuleTag_02
MaxHealth       = 280.0
InitialHealth   = 280.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 800
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate = 130   ; turn rate, in degrees per sec
ControlledWeaponSlots = PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle = Yes
End

Locomotor = SET_NORMAL LightTankLocomotor

Behavior = HordeUpdate ModuleTag_04
RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate = 1000     ; how often to recheck horde status (msec)
Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly = Yes      ; do we only count allies towards horde status?
ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count = 5             ; how many units must be within Radius to grant us horde-ness
Action = HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 30.0
End

; A crushing defeat
Behavior = DestroyDie ModuleTag_08
DeathTypes = NONE +CRUSHED +SPLATTED
End
Behavior = FXListDie ModuleTag_09
DeathTypes = NONE +CRUSHED +SPLATTED
DeathFX = FX_CarCrush
End
Behavior = CreateObjectDie ModuleTag_10
DeathTypes = NONE +CRUSHED +SPLATTED
CreationList = OCL_CrusaderTank_CrushEffect
End
Behavior = CreateCrateDie ModuleTag_11
CrateData = SalvageCrateData
;CrateData = EliteTankCrateData
;CrateData = HeroicTankCrateData
End

Behavior = SlowDeathBehavior ModuleTag_12A
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier = 10
DestructionDelay = 2000
DestructionDelayVariance = 300
FX  = INITIAL  FX_CrusaderCatchFire
OCL = FINAL    OCL_ChinaVehicleLightTankDebris
FX  = FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior = SlowDeathBehavior ModuleTag_12B
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier = 90
DestructionDelay = 200
DestructionDelayVariance = 100
OCL = FINAL    OCL_ChinaVehicleLightTankDebris
FX  = FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior = TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

Behavior = StealthUpdate ModuleTag_GPSStealth01
StealthDelay                = 2000 ; msec
StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth               = Yes
RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal  = Yes
End

;Scale = 1.06
Geometry = BOX
GeometryMajorRadius = 12.0
GeometryMinorRadius = 8.0
GeometryHeight = 8
GeometryIsSmall = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End