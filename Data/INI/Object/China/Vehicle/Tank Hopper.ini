Object ChinaTankHopper

; *** ART Parameters ***
SelectPortrait          SNHopperTank_L
ButtonImage             SNHopperTank

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVHppr
End
End

Side  China
EditorSorting  VEHICLE
BuildCost        1000
BuildTime        10.0          ;in seconds

Prerequisites
;Science  SCIENCE_MassMobilisation
Object  ChinaWarFactory
End

BuildVariations  ChinaTankHopper_Var1 ChinaTankHopper_Var1 ChinaTankHopper_Var2 ChinaTankHopper_Var3 ChinaTankHopper_Var3 ChinaTankHopper_Var4 ChinaTankHopper_Var5 ChinaTankHopper_Var5 ChinaTankHopper_Var6 ChinaTankHopper_Var7 ChinaTankHopper_Var7 ChinaTankHopper_Var8 ChinaTankHopper_Var9 ChinaTankHopper_Var9 ChinaTankHopper_Var10 ChinaTankHopper_Var11 ChinaTankHopper_Var11 ChinaTankHopper_Var12 ChinaTankHopper_Var13 ChinaTankHopper_Var13 ChinaTankHopper_Var14 ChinaTankHopper_Var15 ChinaTankHopper_Var15 ChinaTankHopper_Var16

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

;*****Hopper Tank Legend*****

;Var1     Radio,Trench hooks
;Var2     Radio,Trench hooks, Flag
;Var3     Radio,Trench hooks, Lamp
;Var4     Radio,Trench hooks, Lamp, Flag

;Var5     Rails, Fuel tank
;Var6     Rails, Fuel tank, Flag
;Var7     Rails, Fuel tank, Lamp
;Var8     Rails, Fuel tank, Lamp, Flag

;Var9     Radio, Fuel tank
;Var10    Radio, Fuel tank, Flag
;Var11    Radio, Fuel tank, Lamp
;Var12    Radio, Fuel tank, Lamp, Flag

;Var13    Rails, Trench hooks
;Var14    Rails, Trench hooks, Flag
;Var15    Rails, Trench hooks, Lamp
;Var16    Rails, Trench hooks, Lamp, Flag

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  13
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
;This varriant is actualy never build but holds all the settings and values
Object ChinaTankHopper_Core

; *** ART Parameters ***
SelectPortrait          SNHopperTank_L
ButtonImage             SNHopperTank

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVHppr
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:HopperTank
Side  China
EditorSorting    SYSTEM
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY  HopperTankGun
Weapon  TERTIARY HopperTankCommanderBinoculars
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost        500
BuildTime        5.0         ;in seconds
VisionRange      175
ShroudClearingRange  200

Prerequisites
Object  ChinaWarFactory
End

ExperienceValue     60 60 120 200   ;Experience point value at each level
ExperienceRequired  0 100 200 400   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet        ChinaVehicleHopperCommandSet

; *** AUDIO Parameters ***
VoiceSelect     HopperTankVoiceSelect
VoiceMove       HopperTankVoiceMove
VoiceGuard      HopperTankVoiceMove
VoiceAttack     HopperTankVoiceAttack
SoundMoveStart  HopperTankMoveStart
SoundMoveStartDamaged  HopperTankMoveStart

UnitSpecificSounds
VoiceCreate      HopperTankVoiceCreate
VoiceCrush       HopperTankVoiceMove
VoiceEnter       HopperTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90   ; turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY
MinIdleScanAngle       10
MaxIdleScanAngle       50
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         500
End
Locomotor  SET_NORMAL HopperTankLocomotor
Locomotor  SET_NORMAL_UPGRADED NuclearHopperTankLocomotor

Behavior  HordeUpdate ModuleTag_04
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  40.0
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    NuclearTankDeathWeapon
StartsActive   No                        ; turned on by upgrade
TriggeredBy    Upgrade_ChinaNuclearTanks
ConflictsWith  Upgrade_ChinaIsotopeStability
End
Behavior  LocomotorSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_ChinaNuclearTanks
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
RequiredStatus  STATUS_RIDER8
CrateData       NuclearTankCrateData
End

;This makes sure that we only drop nuclear upgrade parts after having been upgraded with nuclear engines
Behavior  StatusBitsUpgrade ModuleTag_NukeCrate02
TriggeredBy     Upgrade_ChinaNuclearTanks
StatusToSet     STATUS_RIDER8
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_11
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End


Behavior  SlowDeathBehavior ModuleTag_12
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  200
DestructionDelayVariance  100
OCL  FINAL    OCL_ChinaTankHopperDebris
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ModelConditionUpgrade ModuleTag_DepletedUraniumVissual01
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaUraniumShells
End

Behavior  ModelConditionUpgrade ModuleTag_NukeReactorVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaNuclearTanks
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.5
GeometryMinorRadius  7.5
GeometryHeight  13
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var1 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var2 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var3 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var4 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var5 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var6 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var7 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var8 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var9 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var10 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var11 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var12 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End
;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var13 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var14 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var15 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var16 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End