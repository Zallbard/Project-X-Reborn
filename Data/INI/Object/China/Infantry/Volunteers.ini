;------------------------------------------------------------------------------
;Start Mob Code
;------------------------------------------------------------------------------
Object ChinaInfantryVolunteerSquad
Scale 0.90
;**** ART Parameters **************************
SelectPortrait          SNVolunteerSquad_L
ButtonImage             SNVolunteerSquad

UpgradeCameo1  Upgrade_Nationalism

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  None
End
End


;****DESIGN parameters **************************

DisplayName       OBJECT:VolunteerSquad
Side  China

RadarPriority        NOT_ON_RADAR

EditorSorting    INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY ChinaVolunteerSquadNexusHarmlessWeapon
Weapon  SECONDARY ChinaVolunteerSquadNexusHarmlessWeapon
Weapon  TERTIARY ChinaVolunteerSquadNexusHarmlessWeapon
End


ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

BuildCost        1100
BuildTime        10.0          ;in seconds
VisionRange      220  ; it can scout for the spawn
ShroudClearingRange  0

Prerequisites
Object  ChinaBarracks
Object  ChinaPropagandaCenter
End

ExperienceValue  50 50 50 50    ;Experience point value at each level
IsTrainable      No



CommandSet     GLAInfantryAngryMobCommandSet;

;**** AUDIO Parameters *****************************
VoiceSelect       VolnteerSquadVoiceSelect
VoiceMove         VolnteerSquadVoiceMove
VoiceGuard        VolnteerSquadVoiceMove
VoiceAttack       VolnteerSquadVoiceAttack
VoiceGroupSelect  BattleCrySound
VoiceFear         NoSound ; VolnteerSquadVoiceFear this one is used on the induvidual members instead

SoundMoveLoop         SquadMoveLoop
SoundMoveLoopDamaged  SquadMoveLoopDamaged

SoundAmbient               VolunteerSquadAmbientLoop
SoundAmbientDamaged        VolunteerSquadRealyDamageAmbientLoop  ;fewer guys means less noise
SoundAmbientReallyDamaged  NoSound                               ;3 or less means no noise at all
SoundAmbientRubble         NoSound

UnitSpecificSounds
VoiceCreate      VolnteerSquadVoiceCreate
End


;**** ENGINEERING Parameters ******************************

RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK INFANTRY OBSTACLE MOB_NEXUS ATTACK_NEEDS_LINE_OF_SIGHT NO_COLLIDE SELECTABLE SCORE
Body  ImmortalBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL VolunteerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior             SpawnBehavior ModuleTag_05
SpawnNumber        10
SpawnReplaceDelay  1000
SpawnTemplateName  ChinaInfantryRocketVolunteer
SpawnTemplateName  ChinaInfantryRocketVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
ExitByBudding      Yes
InitialBurst        10
OneShot             Yes
AggregateHealth     Yes
SlavesHaveFreeWill  No
End

Behavior  QueueProductionExitUpdate ModuleTag_06
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      1000
InitialBurst   10
End

Behavior  DestroyDie ModuleTag_07
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object ChinaInfantryMachineGunVolunteer
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                NIVlntr_SKN
Animation            NICNSC_SKL.NICNSC_STA 0 3
AnimationMode        LOOP
End
End

Side  China
EditorSorting  SYSTEM
BuildVariations  ChinaInfantryMachineGunVolunteer_Var1 ChinaInfantryMachineGunVolunteer_Var2

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryRocketVolunteer
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                NIVlntr_SKN
Animation            NICNSC_SKL.NICNSC_STA 0 3
AnimationMode        LOOP
End
End

Side  China
EditorSorting  SYSTEM
BuildVariations  ChinaInfantryRocketVolunteer_Var1 ChinaInfantryRocketVolunteer_Var2

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryMachineGunVolunteer_Var1
Scale 0.90
;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3 0 5
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Bazooka Hat01
WeaponFireFXBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  PREATTACK_B

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED PREATTACK_B


; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

;**** DESIGN parameters ***

DisplayName       OBJECT:VolunteerSquad
Side  China
EditorSorting  SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY VolunteerSubMachineGunWeapon
End

ArmorSet
Conditions       None
Armor            ChinaVolunteerArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildCost  100
BuildTime  0.0

ExperienceValue  10 10 10 10    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


;**** AUDIO Parameters *****************************
VoiceFear         VolnteerSquadVoiceFear

;**** ENGINEERING Parameters *** ;MOB01
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        80.0
InitialHealth    80.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    200
NoNeedToCatchUpRadius  100
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL VolunteerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  100 ;in miliseconds
StartsActive   Yes
End

Behavior  HordeUpdate ModuleTag_06232
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  2000    ; how often to recheck horde status (msec)
Radius  40          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

Geometry  CYLINDER
GeometryMajorRadius  5.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin ChinaInfantryMachineGunVolunteer_Var2 ChinaInfantryMachineGunVolunteer_Var1

;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Bazooka Hat02
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  PREATTACK_B

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED PREATTACK_B


; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

End


;------------------------------------------------------------------------------
Object ChinaInfantryRocketVolunteer_Var1
Scale 0.90
;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Hat01
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A


; ------- Anti Tank Rocket Animations

ConditionState       FIRING_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C

ConditionState       BETWEEN_FIRING_SHOTS_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED RELOADING_C

; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

;**** DESIGN parameters ***

DisplayName       OBJECT:VolunteerSquad
Side  China
EditorSorting  SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   VolunteerSubMachineGunWeapon
PreferredAgainst     PRIMARY   INFANTRY
Weapon               SECONDARY VolunteerAntiTankRocketWeapon
PreferredAgainst     SECONDARY VEHICLE
Weapon               TERTIARY  VolunteerAntiTankRocketWeapon
PreferredAgainst     TERTIARY  STRUCTURE
End

ArmorSet
Conditions       None
Armor            ChinaVolunteerArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildCost  100
BuildTime  0.0

ExperienceValue  10 10 10 10    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

;**** AUDIO Parameters *****************************
VoiceFear         VolnteerSquadVoiceFear

;**** ENGINEERING Parameters *** ;MOB01
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        80.0
InitialHealth    80.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    200
NoNeedToCatchUpRadius  100
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL VolunteerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  100 ;in miliseconds
StartsActive   Yes
End

Behavior  HordeUpdate ModuleTag_06232
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  2000    ; how often to recheck horde status (msec)
Radius  40          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

Geometry  CYLINDER
GeometryMajorRadius  5.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin ChinaInfantryRocketVolunteer_Var2 ChinaInfantryRocketVolunteer_Var1

;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Hat02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A


; ------- Anti Tank Rocket Animations

ConditionState       FIRING_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C

ConditionState       BETWEEN_FIRING_SHOTS_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED RELOADING_C


; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

End