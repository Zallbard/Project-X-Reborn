Object ChinaJetSpyPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            NVSpyPln
Animation        NVSpyPln.NVSpyPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
;ParticleSysBone  ECM_BONE SpyPlaneECMJammer
AnimationSpeedFactorRange  1.5 1.5
End
ConditionState  DAMAGED
Model            NVSpyPln_D
Animation        NVSpyPln_D.NVSpyPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
;ParticleSysBone  ECM_BONE SpyPlaneECMJammer
AnimationSpeedFactorRange  1.5 1.5
End
ConditionState  REALLYDAMAGED
Model            NVSpyPln_D
Animation        NVSpyPln_D.NVSpyPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
;ParticleSysBone  ECM_BONE SpyPlaneECMJammer
AnimationSpeedFactorRange  1.5 1.5
End
ConditionState  RUBBLE
Model            NVSpyPln_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ChinaSpyPlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
;KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL SpyPlaneLocomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior                OCLSpecialPower ModuleTag_SpyPlane01
SpecialPowerTemplate  SuperweaponChinaSpyPlane
OCL                   SUPERWEAPON_China_SpyPlane
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End