Object ChinaLightTank

; *** ART Parameters ***
SelectPortrait         = SNLightTank
ButtonImage            = SNLightTank

Draw = W3DTankDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = NVLight
Turret = Turret01
ShowSubObject = Turret01
HideSubObject = TurretUp01
WeaponRecoilBone = PRIMARY Barrel
WeaponFireFXBone = PRIMARY TurretFx
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponLaunchBone = PRIMARY TurretFx
WeaponFireFXBone = SECONDARY WeaponB
WeaponLaunchBone = SECONDARY WeaponB
End
ConditionState = DAMAGED
Model = NVLight_D
Turret = Turret01
ShowSubObject = Turret01
HideSubObject = TurretUp01
WeaponRecoilBone = PRIMARY Barrel
WeaponFireFXBone = PRIMARY TurretFx
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponLaunchBone = PRIMARY TurretFx
WeaponFireFXBone = SECONDARY WeaponB
WeaponLaunchBone = SECONDARY WeaponB
End
ConditionState = REALLYDAMAGED
Model = NVLight_D
Turret = Turret01
ShowSubObject = Turret01
HideSubObject = TurretUp01
WeaponRecoilBone = PRIMARY Barrel
WeaponFireFXBone = PRIMARY TurretFx
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponLaunchBone = PRIMARY TurretFx
WeaponFireFXBone = SECONDARY WeaponB
WeaponLaunchBone = SECONDARY WeaponB
End
ConditionState = RUBBLE
Model               = NVLight_D
Turret              = Turret01
End

TrackMarks              = EXTnkTrack.tga
TreadAnimationRate = 2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName      = OBJECT:LightTank
Side = China
EditorSorting   = VEHICLE
TransportSlotCount = 4                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions = None
Weapon = PRIMARY ChinaLightTankWeapon
Weapon = SECONDARY LightTankCoaxialMachineGun
PreferredAgainst = PRIMARY VEHICLE
End

ArmorSet
Conditions      = None
Armor           = TankArmor
DamageFX        = TankDamageFX
End
BuildCost       = 600
BuildTime       = 15.0          ;in seconds
VisionRange     = 225
ShroudClearingRange = 250
Prerequisites
Object = ChinaWarFactory
End

ExperienceValue = 100 100 200 400    ;Experience point value at each level
ExperienceRequired = 0 125 250 500 ;Experience points needed to gain each level
IsTrainable = Yes             ;Can gain experience
CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet       = Tank_ChinaVehicleBattleMasterCommandSet

; *** AUDIO Parameters ***
VoiceSelect     HopperTankVoiceSelect
VoiceMove       HopperTankVoiceMove
VoiceGuard      HopperTankVoiceMove
VoiceAttack     HopperTankVoiceAttack
SoundMoveStart  HopperTankMoveStart
SoundMoveStartDamaged  HopperTankMoveStart

UnitSpecificSounds
VoiceCreate      HopperTankVoiceCreate
VoiceCrush       HopperTankVoiceMove
VoiceEnter       HopperTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

Body = ActiveBody ModuleTag_02
MaxHealth       = 280.0
InitialHealth   = 280.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 800
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate = 130   ; turn rate, in degrees per sec
ControlledWeaponSlots = PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle = Yes
End

Locomotor = SET_NORMAL LightTankLocomotor

Behavior = HordeUpdate ModuleTag_04
RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate = 1000     ; how often to recheck horde status (msec)
Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly = Yes      ; do we only count allies towards horde status?
ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count = 5             ; how many units must be within Radius to grant us horde-ness
Action = HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 30.0
End

; A crushing defeat
Behavior = DestroyDie ModuleTag_08
DeathTypes = NONE +CRUSHED +SPLATTED
End
Behavior = FXListDie ModuleTag_09
DeathTypes = NONE +CRUSHED +SPLATTED
DeathFX = FX_CarCrush
End
Behavior = CreateObjectDie ModuleTag_10
DeathTypes = NONE +CRUSHED +SPLATTED
CreationList = OCL_CrusaderTank_CrushEffect
End
Behavior = CreateCrateDie ModuleTag_11
CrateData = SalvageCrateData
;CrateData = EliteTankCrateData
;CrateData = HeroicTankCrateData
End

Behavior = SlowDeathBehavior ModuleTag_12A
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier = 10
DestructionDelay = 2000
DestructionDelayVariance = 300
FX  = INITIAL  FX_CrusaderCatchFire
OCL = FINAL    OCL_ChinaVehicleLightTankDebris
FX  = FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior = SlowDeathBehavior ModuleTag_12B
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier = 90
DestructionDelay = 200
DestructionDelayVariance = 100
OCL = FINAL    OCL_ChinaVehicleLightTankDebris
FX  = FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior = TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

Behavior = StealthUpdate ModuleTag_GPSStealth01
StealthDelay                = 2000 ; msec
StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth               = Yes
RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal  = Yes
End

;Scale = 1.06
Geometry = BOX
GeometryMajorRadius = 12.0
GeometryMinorRadius = 8.0
GeometryHeight = 8
GeometryIsSmall = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


Object ChinaVehicleLightTankDeadHull
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVLightT_D1
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

Object NapalmMissileStrike

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = AVRaptor_M
End
ConditionState = JAMMED
ParticleSysBone = None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Missile
EditorSorting       = SYSTEM
VisionRange         = 0.0
TransportSlotCount  = 1
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End

; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
; shot down by laser.
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
; shot down by nonlaser.
FX         = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_06
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_07
TryToFollowTarget   = Yes
FuelLifetime        = 10000
InitialVelocity     = 75                ; in dist/sec
IgnitionDelay       = 30
IgnitionFX          = FX_NapalmMissileIgnition
End
Locomotor = SET_NORMAL NapalmMissileLocomotor

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0

End

Object ChinaJetIronDragon

Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
ProjectileBoneFeedbackEnabledSlots = PRIMARY

DefaultConditionState
Model               = NVIronDragon
WeaponLaunchBone    = PRIMARY Bom
ParticleSysBone     = Engine01 AfterBurnerLenzflare
ParticleSysBone     = Engine02 AfterBurnerLenzflare
ParticleSysBone     = Wingtip01 JetContrail
ParticleSysBone     = Wingtip02 JetContrail
ParticleSysBone     = Wingtip03 JetContrail
ParticleSysBone     = Wingtip04 JetContrail
End

ConditionState        = REALLYDAMAGED
Model               = NVIronDragon_D
WeaponLaunchBone    = PRIMARY Bom
ParticleSysBone     = Engine01 AfterBurnerLenzflare
ParticleSysBone     = Engine02 AfterBurnerLenzflare
ParticleSysBone     = Wingtip01 JetContrail
ParticleSysBone     = Wingtip02 JetContrail
ParticleSysBone     = Wingtip03 JetContrail
ParticleSysBone     = Wingtip04 JetContrail
End

ConditionState        = RUBBLE
Model               = NVIronDragon_D1
WeaponLaunchBone    = PRIMARY Bom
ParticleSysBone     = Engine01 AfterBurnerLenzflare
ParticleSysBone     = Engine02 AfterBurnerLenzflare
ParticleSysBone     = Wingtip01 JetContrail
ParticleSysBone     = Wingtip02 JetContrail
ParticleSysBone     = Wingtip03 JetContrail
End

End


; ***DESIGN parameters ***
DisplayName             = OBJECT:MIG
EditorSorting           = VEHICLE
Side                    = China
TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange             = 400.0
ShroudClearingRange     = 400.0

Prerequisites
Object                = ChinaAirfield
End

WeaponSet
Conditions        = None
Weapon            = PRIMARY     NapalmMissileStrikeWeapon
End
WeaponSet
Conditions = PLAYER_UPGRADE
Weapon            = PRIMARY     BlackNapalmStrikeMissileWeapon
End

ArmorSet
Conditions           = None
Armor                = AirplaneArmor
DamageFX             = None
End

BuildCost               = 1200
BuildTime               = 10
ExperienceValue         = 50 50 100 150   ;Experience point value at each level
ExperienceRequired      = 0 100 200 400  ;Experience points needed to gain each level
IsTrainable = Yes             ;Can gain experience
CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet             = ChinaJetMIGCommandSet

; *** AUDIO Parameters ***
VoiceSelect             = MigVoiceSelect
VoiceMove               = MigVoiceMove
VoiceAttack             = MigVoiceAttack
VoiceAttackAir          = MigVoiceAttackAir
VoiceGuard              = MigVoiceAirPatrol
SoundAmbient            = IronDragonAmbientLoop
UnitSpecificSounds
VoiceCreate           = MigVoiceCreate
Afterburner           = RaptorAfterburner
VoiceGarrison         = MigVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority          = UNIT
KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
Body                   = ActiveBody ModuleTag_02
MaxHealth            = 300.0
InitialHealth        = 300.0
End

Behavior                          = JetSlowDeathBehavior ModuleTag_03
FXOnGroundDeath                 = FX_JetOnGroundDeath
DestructionDelay                = 99999999  ; destruction will happen when we
RollRate                        = 0.2
RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
PitchRate                       = 0.0
FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
FXSecondary                     = FX_JetDeathSecondary
FXHitGround                     = FX_JetDeathHitGround
DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
End

Behavior = WeaponSetUpgrade ModuleTag_04
TriggeredBy = Upgrade_ChinaBlackNapalm
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End

Behavior = OCLSpecialPower ModuleTag_06
SpecialPowerTemplate = SuperweaponNapalmStrike
OCL = SUPERWEAPON_NapalmStrike
CreateLocation = USE_OWNER_OBJECT
End

Behavior = DeliverPayloadAIUpdate ModuleTag_07
DoorDelay = 0
End

Locomotor = SET_NORMAL IronDragonLocomotor
Locomotor = SET_TAXIING BasicJetTaxiLocomotor

Behavior = TransportContain ModuleTag_09
Slots = 100
ScatterNearbyOnExit = No
OrientLikeContainerOnExit = Yes
KeepContainerVelocityOnExit = Yes
ExitPitchRate = 30
ExitBone = WeaponA
AllowInsideKindOf = PROJECTILE
DoorOpenTime = 0
NumberOfExitPaths = 0
DestroyRidersWhoAreNotFreeToExit = Yes
End

Behavior = FlammableUpdate ModuleTag_10
AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500      ; this often.
End

Behavior                       = TransitionDamageFX ModuleTag_11
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Geometry                 = Box
GeometryIsSmall          = Yes
GeometryMajorRadius      = 14.0
GeometryMinorRadius      = 7.0
GeometryHeight           = 5.0
Shadow                   = SHADOW_VOLUME

Shadow = SHADOW_VOLUME
ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object NapalmStrikerMissile

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = NXStealthM
End
ConditionState = JAMMED
ParticleSysBone = None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Missile
EditorSorting       = SYSTEM
VisionRange         = 0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount  = 1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PRELOAD CAN_CAST_REFLECTIONS PROJECTILE
Body = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End

; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
; shot down by laser.
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
; shot down by nonlaser.
FX         = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_06
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_07
TryToFollowTarget   = No
FuelLifetime        = 10000
InitialVelocity     = 0                ; in dist/sec
IgnitionDelay       = 60
IgnitionFX          = FX_NapalmMissileIgnition
End
Locomotor = SET_NORMAL NapalmMissileLocomotor

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0

End

Object ChinaCanisterBenzil

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = EXNapalmBomb
End
End
Scale = 1.15

; ***DESIGN parameters ***
DisplayName           = OBJECT:ClusterMinesBomb
Side                  = China
EditorSorting         = SYSTEM
TransportSlotCount    = 1
VisionRange           = 0
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane = BombFallngFromPlane

; *** ENGINEERING Parameters ***
KindOf            = PROJECTILE BALLISTIC_MISSILE

Body = ActiveBody ModuleTag_02
MaxHealth       = 80000.0
InitialHealth   = 80000.0
End

Behavior = AIUpdateInterface ModuleTag_03
End

Locomotor = SET_NORMAL None

Behavior = PhysicsBehavior ModuleTag_04
Mass                  = 75.0
AerodynamicFriction   = 1     ; this is now friction-per-sec
ForwardFriction       = 33    ; this is now friction-per-sec
CenterOfMassOffset    = 2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior = FXListDie ModuleTag_FX
DeathTypes = NONE +LASERED
DeathFX = FX_GenericMissileDeath
End

Behavior = CreateObjectDie ModuleTag_05
DeathTypes = ALL -LASERED
CreationList = OCL_DaisyCutterGasFXOnly
End

Behavior = CreateObjectDie ModuleTag_03A
DeathTypes = ALL
CreationList = OCL_BombExplode
End

Behavior = HeightDieUpdate ModuleTag_06
TargetHeight = 40.0
TargetHeightIncludesStructures = No
End

Behavior = DestroyDie ModuleTag_07
End

Geometry = SPHERE                      ;Collision geometry
GeometryMajorRadius = 1.0              ;Collision major radius
GeometryMinorRadius = 1.0              ;Collision minor radius
GeometryHeight = 1.0                   ;Height for geometry
GeometryIsSmall = Yes                  ;Is small geometry

Shadow = SHADOW_DECAL
End

Object DaisyCutterGasFXOnly

; *** ENGINEERING Parameters ***
KindOf = IMMOBILE
Body                  = ActiveBody ModuleTag_01
MaxHealth           = 1.0
InitialHealth       = 1.0
End

Behavior = PhysicsBehavior ModuleTag_02
Mass                = 150.0
AerodynamicFriction = 7  ; this is now friction-per-sec
ForwardFriction     = 200   ; this is now friction-per-sec
End
Behavior = HeightDieUpdate ModuleTag_03
TargetHeight                     = 40.0
TargetHeightIncludesStructures   = Yes
DestroyAttachedParticlesAtHeight = 41.0
End
Behavior = SlowDeathBehavior ModuleTag_04
DestructionDelay        = 1000
DestructionDelayVariance = 100
FX     = MIDPOINT FX_DaisyCutterIgniteFXOnly
OCL    = FINAL OCL_BenzinFieldMedium
End
End

Object BenzinFieldMedium ; created by Immolator

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
DefaultConditionState
Model = EXDecalR150
ParticleSysBone = NONE BenzinFieldMedium
ParticleSysBone = NONE BenzinFieldMediumInitial
End
End

; ***DESIGN parameters ***
EditorSorting = SYSTEM
KindOf = IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

; ***AUDIO parameters ***

; *** ENGINEERING Parameters ***
ArmorSet
Conditions      = None
Armor           = BenzinArmor
End

; *** ENGINEERING Parameters ***
Body = ActiveBody ModuleTag_02
MaxHealth        = 200.0
InitialHealth    = 200.0
End

ExperienceValue = 1 1 1 1

Behavior = OverlordContain ModuleTag_AutoAttackObject
Slots  = 1
DamagePercentToUnits  = 100%
AllowInsideKindOf     = PORTABLE_STRUCTURE
PayloadTemplateName   = BenzinFieldAutoAttackObject
End

Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 240000
MaxLifetime = 240000
End

Behavior = SlowDeathBehavior ModuleTag_06
DeathTypes = NONE +EXPLODED +BURNED
DestructionDelay = 500
Weapon = FINAL FirestormSmallCreationWeapon
End

Behavior = DestroyDie ModuleTag_07
DeathTypes = ALL -EXPLODED -BURNED
End

Behavior = FXListDie ModuleTag_08
DeathFX = FX_ToxicPoolDie
End

Geometry            = CYLINDER
GeometryMajorRadius = 75.0
GeometryHeight      = 1.0
GeometryIsSmall     = No
End

Object DragonStarMissile
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_254
OkToChangeModelColor = Yes
DefaultConditionState
; @todo -- need real art here
Model = NVTornado_M
;ParticleSysBone = ENGINE01 DragonstarMissileLenzflare
;ParticleSysBone = ENGINE01 DragonstarMissileFlame
End
ConditionState = JAMMED
ParticleSysBone = None SparksMedium
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:Prop
EditorSorting = SYSTEM
VisionRange = 0.0
ArmorSet
Conditions = None
Armor = ProjectileArmor
DamageFX = None
End
; *** ENGINEERING Parameters ***
KindOf = PROJECTILE ;SMALL_MISSILE
Body = ActiveBody ModuleTag_255
MaxHealth = 20000.0
InitialHealth = 20000.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap = 20000
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End
; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_256
DeathTypes = NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior = InstantDeathBehavior DeathModuleTag_257
DeathTypes = NONE +LASERED
; shot down by laser.
FX = FX_GenericMissileDisintegrate
OCL = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_258
DeathTypes = ALL -LASERED -DETONATED
; shot down by nonlaser.
FX = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors
Behavior = PhysicsBehavior ModuleTag_259
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_260
TryToFollowTarget = Yes
FuelLifetime = 30000
InitialVelocity = 30     ; in dist/sec
IgnitionDelay = 1000
DistanceToTravelBeforeTurning = 0
IgnitionFX = FX_DragonstarMissileIgnition
End
Locomotor = SET_NORMAL DragonStarMissileLocomotor
Scale = 0.75
Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 2.0
End

Object ChinaDragonstar
;Actually is Lodestar
SelectPortrait = SNDragonstar
; *** ART Parameters ***
Draw = W3DOverlordAircraftDraw ModuleTag_01     ; Works with the dependencyModelDraw of the upgrade portable structures
ConditionState = NONE
Model = NVDragonstar
WeaponFireFXBone = PRIMARY MUZZLE
ParticleSysBone = Engine01 DragonstarEngineFlare
ParticleSysBone = Engine02 DragonstarEngineFlare
ParticleSysBone = WingTip01 JetContrail
ParticleSysBone = WingTip02 JetContrail
End

ConditionState = DOOR_1_CLOSING
Model = NVDragonstar
ParticleSysBone = Engine01 DragonstarEngineFlareAfterburner
ParticleSysBone = Engine02 DragonstarEngineFlareAfterburner
ParticleSysBone = WingTip01 JetContrail
ParticleSysBone = WingTip02 JetContrail
End

ConditionState = DAMAGED
Model = NVDragonstar_D
ParticleSysBone = Fire01 JetFireLarge
ParticleSysBone = Engine01 JetBlackTrailThin
ParticleSysBone = Engine02 JetBlackTrailThin
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 JetSmokeLarge
End

ConditionState = REALLYDAMAGED
Model = NVDragonstar_D
ParticleSysBone = Fire01 JetFireLarge
ParticleSysBone = Fire02 JetFireLarge
ParticleSysBone = Engine01 JetBlackTrailThin
ParticleSysBone = Engine02 JetBlackTrailThin
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 JetSmokeLarge
ParticleSysBone = Smoke03 JetSmokeLarge
End
ConditionState = RUBBLE
Model = NVDragonstar_D
ParticleSysBone = Fire01 JetFireLarge
ParticleSysBone = Fire02 JetFireLarge
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 JetSmokeLarge
ParticleSysBone = Smoke03 JetSmokeLarge
End
OkToChangeModelColor = Yes
ParticlesAttachedToAnimatedBones = Yes
End
; ***DESIGN parameters ***
DisplayName = OBJECT:SpectreGunship
EditorSorting = VEHICLE
Side = China
TransportSlotCount = 0     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange = 300.0
ShroudClearingRange = 300
Prerequisites
;Object = AmericaAirfield TEST_MODE
End
ArmorSet
Conditions = None
Armor = SpectreGunshipArmor
DamageFX = None
End
;ArmorSet
;  Conditions = PLAYER_UPGRADE
;  Armor = CountermeasuresSpectreGunshipArmor
;  DamageFX = None
;End
WeaponSet
Conditions = None
Weapon = PRIMARY DragonStarMissileWeapon
End
ExperienceValue = 40 40 40 40     ; Experience point value at each level
ExperienceRequired = 0 150 450 900     ; Experience points needed to gain each level
IsTrainable = No     ; Not Player built, so no veterancy..............................
; *** AUDIO Parameters ***
VoiceSelect = SADroneVoice
VoiceMove = SADroneVoice
VoiceAttack = SADroneVoice
VoiceAttackAir = SADroneVoice
VoiceGuard = SADroneVoice
SoundAmbient = DragonstarAmbientLoop
SoundAmbientRubble = NoSound
UnitSpecificSounds
Afterburner = SpectreGunshipAfterburnerLoop
HowitzerFire = DragonstarMissileFire
End
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED
Body = ActiveBody ModuleTag_03
MaxHealth = 700 ;600.0
InitialHealth = 700 ;600.0
End
Behavior = MaxHealthUpgrade ModuleTag_JetArmor
TriggeredBy = Upgrade_ChinaAircraftArmor
AddMaxHealth = 175.0 ;+25% (700)
ChangeType = ADD_CURRENT_HEALTH_TOO     ; Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End
Behavior = JetSlowDeathBehavior ModuleTag_04
DestructionDelay = 99999999     ; destruction will happen when we
RollRate = 0.0
RollRateDelta = 100%     ; each frame, rollrate = rollrate * rollrateDelta
PitchRate = 0.0
FallHowFast = 110.0%     ; Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath = FX_SpectreGunshipExplosionLight
OCLInitialDeath = None
DelaySecondaryFromInitialDeath = 500     ; in milliseconds
FXSecondary = FX_spectreDeathExplosion
OCLSecondary = None
FXHitGround = FX_spectreGunshipDeathExplosion
OCLHitGround = OCL_A10DeathHitGround
DelayFinalBlowUpFromHitGround = 200     ; in milliseconds
; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
OCLFinalBlowUp = OCL_DragonstarDeathFinalBlowUp
End
Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End
; SCRIPTED SUPPORT: These special power is triggered directly
; from the transport without creating a transport. This is done
; via new code support and CreateLocation USE_OWNER_OBJECT --
; which also prevents creating the payload transport.
Behavior = AIUpdateInterface ModuleTag_07
ForbidPlayerCommands = Yes     ; this AIUpdate will only do command if from script or AI, not player
End
Locomotor = SET_PANIC DragonTransitLocomotor
Locomotor = SET_NORMAL DragonOrbitLocomotor
Behavior = SpecialAbility ModuleTag_32
SpecialPowerTemplate = SuperweaponDragonStar
UpdateModuleStartsAttack = Yes
End
Behavior = SpectreGunshipUpdate ModuleTag_10
GattlingStrafeFXParticleSystem = DragonstarLaserHit
SpecialPowerTemplate = SuperweaponDragonStar
HowitzerWeaponTemplate = DragonStarMissileWeapon
GattlingTemplateName = DragonstarLaserLock
RandomOffsetForHowitzer = 20 ;20
TargetingReticleRadius = 25
OrbitInsertionSlope = 0.7     ; steepness of orbit entry
GunshipOrbitRadius = 350
HowitzerFiringRate = 1200 ;500 ;2000     ; how long between each attempted shot of howitzer
HowitzerFollowLag = 0 ;400     ; 600   ; how long after gattling acquires target can howitzer shoot same
StrafingIncrement = 999     ; how far apart is each shot of the gattling as it strafes
AttackAreaRadius = 250
OrbitTime = 32000 ;30000     ; 20000 ;32000 ; thirty-two seconds
AttackAreaDecal
Texture = SCCSpecTarg
Style = SHADOW_ALPHA_DECAL
OpacityMin = 25%
OpacityMax = 50%
OpacityThrobTime = 1500
Color = R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer = Yes
End
TargetingReticleDecal
Texture = SCCSpecRet
Style = SHADOW_ALPHA_DECAL
OpacityMin = 50%
OpacityMax = 100%
OpacityThrobTime = 300
Color = R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer = Yes
End
End
Behavior = HelixContain ModuleTag_09
Slots = 1
DamagePercentToUnits = 100%
AllowInsideKindOf = PORTABLE_STRUCTURE
PassengersAllowedToFire = Yes
ShouldDrawPips = No
End
Behavior = FlammableUpdate ModuleTag_08
AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3     ; taking this much damage...
AflameDamageDelay = 500     ; this often.
End
;Behavior = ArmorUpgrade ModuleTag_Armor01
;  TriggeredBy = Upgrade_AmericaCountermeasures
;End
;Behavior = CountermeasuresBehavior ModuleTag_11
;  TriggeredBy = Upgrade_AmericaCountermeasures
;  FlareTemplateName = CountermeasureFlare
;  FlareBoneBaseName = Flare     ; Name of the base flare bone (Flare01, Flare02, Flare03)
;  VolleySize = 4     ; Number of flares launched per volley (requires bones)
;  VolleyArcAngle = 90.0     ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
;  VolleyVelocityFactor = 2.0     ; Shoots out flares at a stronger velocity with a higher value.
;  DelayBetweenVolleys = 1000     ; Time between flare volleys
;  NumberOfVolleys = 5     ; Number of times the volleys will fire before reloading
;  ReloadTime = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
;  EvasionRate = 30%     ; With active flares, the specified percentage will be diverted.
;  ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
;  MissileDecoyDelay = 200     ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
;End
; ;;;;;;;  ClientUpdate             = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
; ;;;;;;;  End                  ; This allows the wingtip trails to stay stuck to the retractable wings
Geometry = Box
GeometryIsSmall = No
GeometryMajorRadius = 40.0
GeometryMinorRadius = 10.0
GeometryHeight = 10.0
Shadow = SHADOW_VOLUME
Scale = 1.0 ;1.5
ShadowSizeX = 89     ; minimum elevation angle above horizon. Used to limit shadow length
End

Object DragonstarHulk
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
DefaultConditionState
Model = NVDragonstar_D1
End
End
; ***DESIGN parameters ***
EditorSorting = DEBRIS
; *** ENGINEERING Parameters ***
KindOf = NO_COLLIDE HULK
Behavior = PhysicsBehavior ModuleTag_03
Mass = 2.0
AllowBouncing = No
KillWhenRestingOnGround = Yes
End
Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 1500     ; min lifetime in msec
MaxLifetime = 1600     ; max lifetime in msec
End
Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay = 1500
SinkRate = 2     ; in Dist/Sec
DestructionDelay = 8000
End
End

Object DragonstarLaserLock
; *** ART Parameters ***
Draw = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor = Yes
AttachToBoneInContainer = CHASSIS
DefaultConditionState
Model = NVDragonstar_G
;TurretPitch = TURRETEL01
WeaponFireFXBone = PRIMARY Muzzle
WeaponFireFXBone = SECONDARY Muzzle
End
End
; ***DESIGN parameters ***
Side = China
EditorSorting = SYSTEM
TransportSlotCount = 1
WeaponSet
Conditions = None
Weapon = PRIMARY DragonstarMissileLaserLock
End
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor     ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange = 200
; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop = NoSound     ; TurretMoveLoop
VoiceRapidFire = NoSound
End
; *** ENGINEERING Parameters ***
KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body = StructureBody ModuleTag_02
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY
TurretTurnRate = 160     ; turn rate, in degrees per sec
TurretPitchRate = 160
AllowsPitch = Yes
End
AutoAcquireEnemiesWhenIdle = No
End
Behavior = DestroyDie ModuleTag_04
; nothing
End
Geometry = BOX
GeometryMajorRadius = 20.0
GeometryMinorRadius = 3.0
GeometryHeight = 3.0
GeometryIsSmall = No
Shadow = NONE
End

Object LodestarTargetingLaserBeam
; *** ART Parameters ***
Draw = W3DLaserDraw ModuleTag_381
Texture = EXTargetingLaser2.tga ;EXLaser4.tga
NumBeams = 2     ; Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth = 2.5     ; The total width of beam
InnerColor = R:255 G:0 B:0 A:225    ; The inside color of the laser (hot)
OuterBeamWidth = 4.5     ; The total width of beam
OuterColor = R:255 G:0 B:0 A:150     ; The outside color of the laser (cool)
Tile = No     ; The height of the texture will determine how many times to tile the texture to fit without scaling.
;ScrollRate = -2500     ; Scrolls the texture offset this fast -- towards(-) away(+)
;Segments = 1     ; Number of segments -- more segments give smoother curve (but more joints) Current max: 20
;SegmentOverlapRatio = 0     ; This value overlaps(+) or separates(-) the segments by ratio
;TilingScalar = -3     ; Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)
; MaxIntensityLifetime = 2000               ;Laser stays at max intensity for specified time in ms.
; FadeLifetime = 250                        ;Laser will fade and delete.
; @todo -- add shot ability functionality (instead of instant point A to B)
End
KindOf = IMMOBILE
ClientUpdate = LaserUpdate ModuleTag_382
MuzzleParticleSystem = NONE
TargetParticleSystem = NONE
End
; Used as a weapon, this is essentially a fast pulse laser. Adjusting
; the lifetime values will determine how long it renders. The damage
; is applied immediately, so lifetime doesn't matter.
Behavior = LifetimeUpdate ModuleTag_383
MinLifetime = 66     ; min lifetime in msec
MaxLifetime = 66     ; max lifetime in msec
End
End

Object ChinaSuperWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                America
EditorSorting       SYSTEM
CommandSet   ChinaSuperPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End

Object ChinaSupportWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                America
EditorSorting       SYSTEM
CommandSet ChinaSupportPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End
;------------------------------------------------------------------------------
Object ChinaVehicleHan

; *** ART Parameters ***
SelectPortrait          SNHan_L
ButtonImage             SNHan

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     6

ConditionState         NONE
Model                NVHan
Animation            NVHan.NVHan
AnimationMode        LOOP
HideSubObject        Bombs
Turret               CHASSIS
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
End
AliasConditionState    USER_1
AliasConditionState    USER_2

ConditionState         MOVING
Model                NVHan
Animation            NVHan.NVHan
AnimationMode        LOOP
HideSubObject        Bombs
Turret               CHASSIS
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End
AliasConditionState    USER_1 MOVING
AliasConditionState    USER_2 MOVING

ConditionState         REALLYDAMAGED
Model                NVHan_D
Animation            NVHan_D.NVHan_d
AnimationMode        LOOP
HideSubObject        WeaponA01 WeaponA02 Bombs
Turret               CHASSIS
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED
AliasConditionState  USER_1 REALLYDAMAGED
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE SPECIAL_DAMAGED
AliasConditionState  USER_2 REALLYDAMAGED
AliasConditionState  USER_2 RUBBLE
AliasConditionState  USER_2 RUBBLE SPECIAL_DAMAGED

ConditionState         MOVING REALLYDAMAGED
Model                NVHan_D
Animation            NVHan_D.NVHan_d
AnimationMode        LOOP
HideSubObject        WeaponA01 WeaponA02 Bombs
Turret               CHASSIS
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End
AliasConditionState    USER_1 MOVING REALLYDAMAGED
AliasConditionState    USER_2 MOVING REALLYDAMAGED

;;;;Flame Thrower and EMP cannon Upgrade conditions

ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                NVHan
Animation            NVHan.NVHan
AnimationMode        LOOP
HideSubObject        Bombs TurretEL
Turret               CHASSIS
End
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE
AliasConditionState    GARRISONED
AliasConditionState    GARRISONED WEAPONSET_PLAYER_UPGRADE
AliasConditionState    GARRISONED USER_1
AliasConditionState    GARRISONED USER_1 WEAPONSET_PLAYER_UPGRADE
AliasConditionState    GARRISONED USER_2
AliasConditionState    GARRISONED USER_2 WEAPONSET_PLAYER_UPGRADE

ConditionState         WEAPONSET_PLAYER_UPGRADE MOVING
Model                NVHan
Animation            NVHan.NVHan
AnimationMode        LOOP
HideSubObject        Bombs TurretEL
Turret               CHASSIS
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState    GARRISONED WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState    GARRISONED USER_1 WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState    GARRISONED USER_2 WEAPONSET_PLAYER_UPGRADE MOVING

ConditionState         WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                NVHan_D
Animation            NVHan_D.NVHan_d
AnimationMode        LOOP
HideSubObject        Bombs TurretEL
Turret               CHASSIS
End
AliasConditionState    WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState    WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED
AliasConditionState    GARRISONED REALLYDAMAGED
AliasConditionState    GARRISONED RUBBLE
AliasConditionState    GARRISONED RUBBLE SPECIAL_DAMAGED
AliasConditionState    GARRISONED WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState    GARRISONED WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState    GARRISONED WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED
AliasConditionState    GARRISONED USER_1 REALLYDAMAGED
AliasConditionState    GARRISONED USER_1 RUBBLE
AliasConditionState    GARRISONED USER_1 RUBBLE SPECIAL_DAMAGED
AliasConditionState    GARRISONED USER_1 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState    GARRISONED USER_1 WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState    GARRISONED USER_1 WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED
AliasConditionState    GARRISONED USER_2 REALLYDAMAGED
AliasConditionState    GARRISONED USER_2 RUBBLE
AliasConditionState    GARRISONED USER_2 RUBBLE SPECIAL_DAMAGED
AliasConditionState    GARRISONED USER_2 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState    GARRISONED USER_2 WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState    GARRISONED USER_2 WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED

ConditionState         WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
Model                NVHan_D
Animation            NVHan_D.NVHan_d
AnimationMode        LOOP
HideSubObject        Bombs TurretEL
Turret               CHASSIS
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
AliasConditionState    GARRISONED MOVING REALLYDAMAGED
AliasConditionState    GARRISONED WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
AliasConditionState    GARRISONED USER_1 MOVING REALLYDAMAGED
AliasConditionState    GARRISONED USER_1 WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
AliasConditionState    GARRISONED USER_2 MOVING REALLYDAMAGED
AliasConditionState    GARRISONED USER_2 WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED

End

;Tactical Nuclear Rockets Addon
Draw  W3DModelDraw ModuleTag_Nukes01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  TERTIARY

DefaultConditionState
Model                NVDeva_U2
TurretPitch          TURRETEL
WeaponFireFXBone     TERTIARY WeaponB
WeaponLaunchBone     TERTIARY WeaponB
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE
AliasConditionState    RUBBLE SPECIAL_DAMAGED

ConditionState         USER_1
Model                NVHan_U1
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHan_U1D
WeaponFireFXBone     TERTIARY WeaponA
WeaponLaunchBone     TERTIARY WeaponA
End
AliasConditionState    USER_1 RUBBLE SPECIAL_DAMAGED

End

;Emp Cannon Addon
Draw  W3DModelDraw ModuleTag_EmpGuns01

OkToChangeModelColor  Yes
MaxRecoilDistance     2
RecoilSettleSpeed     6

DefaultConditionState
Model                NVDeva_U2
Turret               CHASSIS
TurretPitch          TURRETEL
WeaponFireFXBone     SECONDARY WeaponB
WeaponLaunchBone     SECONDARY WeaponB
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE
AliasConditionState    RUBBLE SPECIAL_DAMAGED

ConditionState         GARRISONED
Model                NVHan_U3
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
End

ConditionState         GARRISONED REALLYDAMAGED
Model                NVHan_U3D
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
End
AliasConditionState    GARRISONED RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_EmpGuns02

DefaultConditionState
Model                NONE
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE
AliasConditionState    RUBBLE SPECIAL_DAMAGED
AliasConditionState    USER_1
AliasConditionState    USER_1 REALLYDAMAGED
AliasConditionState    USER_1 RUBBLE
AliasConditionState    USER_1 RUBBLE SPECIAL_DAMAGED
AliasConditionState    USER_2
AliasConditionState    USER_2 REALLYDAMAGED
AliasConditionState    USER_2 RUBBLE
AliasConditionState    USER_2 RUBBLE SPECIAL_DAMAGED

ConditionState         GARRISONED
Model                NVDeva_U2
WeaponFireFXBone     PRIMARY WeaponB
WeaponLaunchBone     PRIMARY WeaponB
End
AliasConditionState  GARRISONED REALLYDAMAGED
AliasConditionState  GARRISONED RUBBLE SPECIAL_DAMAGED
AliasConditionState  GARRISONED USER_1
AliasConditionState  GARRISONED USER_1 REALLYDAMAGED
AliasConditionState  GARRISONED USER_1 RUBBLE SPECIAL_DAMAGED
AliasConditionState  GARRISONED USER_2
AliasConditionState  GARRISONED USER_2 REALLYDAMAGED
AliasConditionState  GARRISONED USER_2 RUBBLE SPECIAL_DAMAGED

End

;Flame Thrower Addon
Draw  W3DModelDraw ModuleTag_Flamer01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVDeva_U2
Animation            NVHan.NVHan
Turret               CHASSIS
TurretPitch          TURRETEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE
AliasConditionState    RUBBLE SPECIAL_DAMAGED
AliasConditionState    USER_2
AliasConditionState    USER_2 REALLYDAMAGED
AliasConditionState    USER_2 RUBBLE
AliasConditionState    USER_2 RUBBLE SPECIAL_DAMAGED

ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                NVHan_U2
ParticleSysBone      FLAME01 FlameTowerBurnerFire
ParticleSysBone      FLAME01 SmokeFactionEvenSmall
ParticleSysBone      FLAME02 FlameTowerBurnerFire
ParticleSysBone      FLAME02 SmokeFactionEvenSmall
End

ConditionState         WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                NVHan_U2D
ParticleSysBone      FLAME01 FlameTowerBurnerFire
ParticleSysBone      FLAME01 SmokeFactionEvenSmall
ParticleSysBone      FLAME02 FlameTowerBurnerFire
ParticleSysBone      FLAME02 SmokeFactionEvenSmall
End
AliasConditionState    WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED

;Black Napalm
ConditionState         USER_2 WEAPONSET_PLAYER_UPGRADE
Model                NVHan_U2
ParticleSysBone      FLAME01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FLAME01 SmokeFactionEvenSmall
ParticleSysBone      FLAME02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FLAME02 SmokeFactionEvenSmall
End

ConditionState         USER_2 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                NVHan_U2D
ParticleSysBone      FLAME01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FLAME01 SmokeFactionEvenSmall
ParticleSysBone      FLAME02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FLAME02 SmokeFactionEvenSmall
End
AliasConditionState    USER_2 WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Han
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object                 ChinaPropagandaCenter
End

WeaponSet
Conditions         None
Weapon             PRIMARY    Han100mmCannonWeapon
Weapon             SECONDARY  Han100mmEmpCannonWeapon
Weapon             TERTIARY   HanGunshipTacticalNuke
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY    HanFlameWeapon
End

ArmorSet
Conditions       None
Armor            HeavyGunShipArmor
DamageFX         None
End

BuildCost            1500

BuildTime            20              ; in seconds
ExperienceValue      100 100 200 300 ; Experience point value at each level
ExperienceRequired   0   150 300 500 ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience

CommandSet           ChinaVehicleHanCommandSet

; *** AUDIO Parameters ***
VoiceSelect            HanVoiceSelect
VoiceMove              HanVoiceMove
VoiceGuard             HanVoiceMove
VoiceAttack            HanVoiceAttack
SoundAmbient           HanGunshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          HanVoiceCreate
VoiceGarrison        HanVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_04
MaxHealth        200.0
InitialHealth    200.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_HanStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate      0     ; this "turret" does not turn
TurretPitchRate     180
NaturalTurretPitch  -8.0
GroundUnitPitch     -15
MinPhysicalPitch    -90 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
AllowsPitch         Yes
ControlledWeaponSlots  PRIMARY SECONDARY
End
AltTurret
TurretTurnRate  0
ControlledWeaponSlots  TERTIARY
End
TurretsLinked               Yes
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
End
Locomotor  SET_NORMAL  HanLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior         MaxHealthUpgrade ModuleTag_Armor10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              100.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          180.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       500   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HanGunshipCrashingAmbientLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                ChinaHanRubbleHull
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1
End

Behavior  WeaponSetUpgrade ModuleTag_047
TriggeredBy  Upgrade_ChinaHanFlameThrower
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanTacticalNuke
End

Behavior  WeaponBonusUpgrade ModuleTag_22222
TriggeredBy  Upgrade_ChinaBlackNapalm
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanTacticalNuke
End

Behavior  ModelConditionUpgrade ModuleTag_131
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaBlackNapalm
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanTacticalNuke
End

Behavior  ModelConditionUpgrade ModuleTag_1222
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaHanTacticalNuke
ConflictsWith  Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanEMPBomb
End

Behavior  CommandSetUpgrade ModuleTag_11
CommandSet     ChinaVehicleHanCommandSet_Nuke
TriggeredBy    Upgrade_ChinaHanTacticalNuke
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanFlameThrower
End

Behavior  CommandSetUpgrade ModuleTag_12
CommandSet     ChinaVehicleHanCommandSet_EMP
TriggeredBy    Upgrade_ChinaHanEMPBomb
ConflictsWith  Upgrade_ChinaHanTacticalNuke Upgrade_ChinaHanFlameThrower
End

Behavior  CommandSetUpgrade ModuleTag_12333343
CommandSet     ChinaVehicleHanCommandSet_Flame
TriggeredBy    Upgrade_ChinaHanFlameThrower
ConflictsWith  Upgrade_ChinaHanTacticalNuke Upgrade_ChinaHanEMPBomb Upgrade_ChinaBlackNapalm
End

Behavior  CommandSetUpgrade ModuleTag_1233334362
CommandSet     ChinaVehicleHanCommandSetUpgraded_Flame
TriggeredBy    Upgrade_ChinaHanFlameThrower Upgrade_ChinaBlackNapalm
ConflictsWith  Upgrade_ChinaHanTacticalNuke Upgrade_ChinaHanEMPBomb
RequiresAllTriggers  Yes
End

Behavior  ModelConditionUpgrade ModuleTag_12235622
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_ChinaHanEMPBomb
ConflictsWith  Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanTacticalNuke
End

Behavior  ObjectCreationUpgrade ModuleTag_UpgradeVoice01
UpgradeObject  OCL_HanGunshipVoiceUpgradeEMP
TriggeredBy    Upgrade_ChinaHanEMPBomb
ConflictsWith  Upgrade_ChinaHanTacticalNuke Upgrade_ChinaHanFlameThrower
End

Behavior  ObjectCreationUpgrade ModuleTag_UpgradeVoice02
UpgradeObject  OCL_HanGunshipVoiceUpgradeNapalm
TriggeredBy    Upgrade_ChinaHanFlameThrower
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanTacticalNuke
End

Behavior  ObjectCreationUpgrade ModuleTag_UpgradeVoice03
UpgradeObject  OCL_HanGunshipVoiceUpgradeNuke
TriggeredBy    Upgrade_ChinaHanTacticalNuke
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanFlameThrower
End


;;;;EMP Bomb Code

Behavior  SpecialAbility ModuleTag_EMPBomb01
SpecialPowerTemplate      SpecialAbilityHanEmpBomb
UpdateModuleStartsAttack  Yes
StartsPaused              No                 ; so the UnpauseSpecialPowerUpgrade, below can turn it on
InitiateSound             HanVoiceAttackBomb
End

Behavior  SpecialAbilityUpdate ModuleTag_EMPBomb02
SpecialPowerTemplate                SpecialAbilityHanEmpBomb
StartAbilityRange                   20.0
PreparationTime                     0
SpecialObjectAttachToBone           WeaponA01
SpecialObject                       HanEMPBomb
MaxSpecialObjects                   5
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes     ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          No      ;This would prevent multiple charges placed on the same object.
UnpackTime                          500     ;slight delay to drop bomb
FlipOwnerAfterUnpacking             No
FleeRangeAfterCompletion            0.0     ;Dees not run away after finishing ability
UnpackSound                         HanVoiceEmPulseBombAttack
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No      ; we are a helicopter, we can see everything
NeedToFaceTarget                    No      ; can drop the bomb at any angle to target
PersistentPrepTime                  100
PersistenceRequiresRecharge         Yes
TriggerSound                        HanGunshipEmpBombRelease
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_EMPBomb03
SpecialPowerTemplate  SpecialAbilityHanEmpBomb
TriggeredBy           Upgrade_ChinaHanEMPBomb
ConflictsWith         Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanTacticalNuke
End

Behavior  SubObjectsUpgrade ModuleTag_EMPBomb04
TriggeredBy     Upgrade_ChinaHanEMPBomb
ConflictsWith   Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanTacticalNuke
ShowSubObjects  Bombs
End

;;;;End EMP Bomb Code


;;;;Napalm Bomb Code

Behavior  SpecialAbility ModuleTag_NapalmBomb01
SpecialPowerTemplate      SpecialAbilityHanNapalmBomb
UpdateModuleStartsAttack  Yes
StartsPaused              No                 ; so the UnpauseSpecialPowerUpgrade, below can turn it on
InitiateSound             HanVoiceAttackBomb
End

Behavior  SpecialAbilityUpdate ModuleTag_NapalmBomb02
SpecialPowerTemplate                SpecialAbilityHanNapalmBomb
StartAbilityRange                   20.0
PreparationTime                     0
SpecialObjectAttachToBone           WeaponA01
SpecialObject                       HanNapalmBomb
MaxSpecialObjects                   5
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes     ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          No      ;This would prevent multiple charges placed on the same object.
UnpackTime                          500     ;slight delay to drop bomb
FlipOwnerAfterUnpacking             No
FleeRangeAfterCompletion            0.0     ;Dees not run away after finishing ability
UnpackSound                         HanVoiceNapalmBombAttack
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No      ; we are a helicopter, we can see everything
NeedToFaceTarget                    No      ; can drop the bomb at any angle to target
PersistentPrepTime                  100
PersistenceRequiresRecharge         Yes
TriggerSound                        HanGunshipEmpBombRelease
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_NapalmBomb03
SpecialPowerTemplate  SpecialAbilityHanNapalmBomb
TriggeredBy           Upgrade_ChinaHanFlameThrower
ConflictsWith         Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanTacticalNuke
End

;;;;End Napalm Bomb Code


;;;;Nuclear Bomb Code

Behavior  SpecialAbility ModuleTag_NukeBomb01
SpecialPowerTemplate      SpecialAbilityHanNukeBomb
UpdateModuleStartsAttack  Yes
StartsPaused              No                 ; so the UnpauseSpecialPowerUpgrade, below can turn it on
InitiateSound             HanVoiceAttackBomb
End

Behavior  SpecialAbilityUpdate ModuleTag_NukeBomb02
SpecialPowerTemplate                SpecialAbilityHanNukeBomb
StartAbilityRange                   20.0
PreparationTime                     0
SpecialObjectAttachToBone           WeaponA01
SpecialObject                       HanNukeBomb
MaxSpecialObjects                   5
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes     ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          No      ;This would prevent multiple charges placed on the same object.
UnpackTime                          500     ;slight delay to drop bomb
FlipOwnerAfterUnpacking             No
FleeRangeAfterCompletion            0.0     ;Dees not run away after finishing ability
UnpackSound                         HanVoiceNuclearBombAttack
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No      ; we are a helicopter, we can see everything
NeedToFaceTarget                    No      ; can drop the bomb at any angle to target
PersistentPrepTime                  100
PersistenceRequiresRecharge         Yes
TriggerSound                        HanGunshipEmpBombRelease
End

Behavior  UnpauseSpecialPowerUpgrade ModuleTag_NukeBomb03
SpecialPowerTemplate  SpecialAbilityHanNukeBomb
TriggeredBy           Upgrade_ChinaHanTacticalNuke
ConflictsWith         Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanEMPBomb
End

;;;;End Nuclear Bomb Code

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  TransitionDamageFX ModuleTag_20
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  BOX
GeometryMajorRadius  26.0
GeometryMinorRadius  5.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;----------------------------------------------------------------------------------------------------------
; 
;----------------------------------------------------------------------------------------------------------
Object ChinaVehicleHelix

; *** ART Parameters ***
SelectPortrait         = SNHelixContra
ButtonImage            = SNHelixContra

Draw = W3DOverlordAircraftDraw  ModuleTag_01
OkToChangeModelColor = Yes
ParticlesAttachedToAnimatedBones = Yes
ExtraPublicBone = RopeStart

DefaultConditionState
Model = NVHELIX
Animation = NVHELIX.NVHELIX
AnimationMode = LOOP
WeaponFireFXBone    = PRIMARY Muzzle01
WeaponMuzzleFlash   = PRIMARY TurretFX03
WeaponLaunchBone    = PRIMARY Launch01
WeaponLaunchBone    = SECONDARY CHASSISBONE
HideSubObject       = BombWing
Turret = TURRET
TurretPitch = TURRETEL
End

ConditionState = MOVING
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End

ConditionState = REALLYDAMAGED
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
End
AliasConditionState = RUBBLE

ConditionState = REALLYDAMAGED MOVING
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End
AliasConditionState = RUBBLE MOVING

ConditionState = RUBBLE SPECIAL_DAMAGED
Model = NVHELIX_d
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Helix
EditorSorting       = VEHICLE
Side                = China
TransportSlotCount  = 0
VisionRange         = 300.0
ShroudClearingRange = 300
BuildCost           = 1500
BuildTime           = 15.0

Prerequisites
Object ChinaAirfield
Object ChinaPropagandaCenter
End

ExperienceValue      100 100 200 300 ; Experience point value at each level
ExperienceRequired   0 150 300 500 ; Experience points needed to gain each level
IsTrainable        = Yes

CommandSet         = ChinaVehicleHelixCommandSet

ArmorSet
Conditions = None
Armor      = ChinookArmor
DamageFX   = AircraftDamageFX
End

WeaponSet
Conditions = None
Weapon     = PRIMARY   HelixMinigunWeapon
End

; *** AUDIO Parameters ***
VoiceSelect     = HelixVoiceSelect
VoiceMove       = HelixVoiceMove
VoiceAttack     = HelixVoiceAttack
SoundAmbient    = HelixAmbientLoop
SoundEnter      = HumveeEnter
SoundExit       = HumveeExit
UnitSpecificSounds
VoiceCreate         = HelixVoiceCreate
VoiceUnload         = HelixVoiceUnload
VoiceGarrison       = HelixVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority   = UNIT
KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

Body = ActiveBody ModuleTag_03
MaxHealth       = 600.0
InitialHealth   = 600.0
SubdualDamageCap = 1200
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = FXListDie ModuleTag_05
DeathFX = FX_HelicopterStartDeath
End

Behavior                       = TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior = ChinookAIUpdate ModuleTag_07
AutoAcquireEnemiesWhenIdle = Yes
RotorWashParticleSystem = HelixRotorWashRing
Turret
TurretTurnRate = 120
TurretPitchRate = 120
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
RecenterTime   = 100
FiresWhileTurning = Yes
AllowsPitch       = Yes
MinPhysicalPitch  = -90
End
End
Locomotor = SET_NORMAL HelixLocomotor
Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
Locomotor = SET_NORMAL_UPGRADED HelixLocomotorSlower

Behavior = LocomotorSetUpgrade ModuleTag_20Fl
TriggeredBy = Upgrade_300_10
End

Behavior = PhysicsBehavior ModuleTag_09
Mass = 100.0
End

ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Particles
End

Behavior = HelicopterSlowDeathBehavior ModuleTag_10
DestructionDelay                = 99999999
SpiralOrbitTurnRate             = 80.0
SpiralOrbitForwardSpeed         = 110.0
SpiralOrbitForwardSpeedDamping  = .9999
MaxBraking                      = 210
SoundDeathLoop                  = HelixDamagedLoop
MinSelfSpin                     = 40
MaxSelfSpin                     = 120
SelfSpinUpdateDelay             = 300
SelfSpinUpdateAmount            = 5
FallHowFast                     = 8.0%
MinBladeFlyOffDelay             = 1000
MaxBladeFlyOffDelay             = 1000
AttachParticle                  = SootySmokeTrail
AttachParticleBone              = ROPESTART01 ;Propeller02
BladeObjectName                 = PROPELLER1 ;HelixBlades
BladeBoneName                   = ROPESTART01 ;Propeller01
FXBlade                         = FX_HelicopterBladeExplosion
OCLBlade                        = OCL_HelicopterBladeExplosion
FXHitGround                     = FX_HelicopterHitGround
OCLHitGround                    = OCL_HelicopterHitGround
FXFinalBlowUp                   = FX_GroundedHelicopterBlowUpBig
OCLFinalBlowUp                  = OCL_HelixBlades
DelayFromGroundToFinalDeath     = 30
FinalRubbleObject               = HelixRubbleHull
End

Behavior = ProductionUpdate ModuleTag_25A
MaxQueueEntries = 9
End

Behavior = ObjectCreationUpgrade ModuleTag_Addon02
UpgradeObject = OCL_HelixPropagandaTower
TriggeredBy   = Upgrade_500_10
ConflictsWith = Upgrade_800_15 Upgrade_300_10 Upgrade_400_10 Upgrade_600_15
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon04
UpgradeObject = OCL_HelixRadar
TriggeredBy   = Upgrade_400_10
ConflictsWith = Upgrade_800_15 Upgrade_600_15 Upgrade_300_10 Upgrade_500_10
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon05
UpgradeObject = OCL_HelixECM
TriggeredBy   = Upgrade_600_15
ConflictsWith = Upgrade_400_10 Upgrade_800_15 Upgrade_500_10 Upgrade_300_10
End

Behavior = HelixContain ModuleTag_29
Slots                  6
DamagePercentToUnits   100%
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryTankHunter
PayloadTemplateName    ChinaInfantryTankHunter
AllowInsideKindOf      INFANTRY VEHICLE
ForbidInsideKindOf     AIRCRAFT
ExitDelay              100
NumberOfExitPaths      1
PassengersAllowedToFire No
End

Behavior        = MaxHealthUpgrade ModuleTag_Armor01
TriggeredBy   = Upgrade_ChinaAircraftArmor
AddMaxHealth  = 150.0
ChangeType    = ADD_CURRENT_HEALTH_TOO
End

Geometry              = CYLINDER
GeometryMajorRadius   = 35.0
GeometryHeight        = 30.0
GeometryIsSmall       = No
Shadow                = SHADOW_VOLUME
ShadowSizeX           = 89
End



Object ChinaVehicleHelix_Variation_AI

; *** ART Parameters ***
SelectPortrait          SNHelixContra
ButtonImage             SNHelixContra

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVHELIX
End
End

Side  China
EditorSorting  VEHICLE
BuildCost           = 1500
BuildTime           = 15.0

Prerequisites
Object ChinaAirfield
Object ChinaPropagandaCenter
End

BuildVariations  ChinaVehicleHelix_AI_Radar ChinaVehicleHelix_AI_ECM ChinaVehicleHelix_AI_Propaganda
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE FS_FAKE AIRCRAFT PRODUCED_AT_HELIPAD

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  9.0
GeometryHeight  13.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

Object ChinaVehicleHelix_AI_Radar

; *** ART Parameters ***
SelectPortrait         = SNHelixContra
ButtonImage            = SNHelixContra

Draw = W3DOverlordAircraftDraw  ModuleTag_01
OkToChangeModelColor = Yes
ParticlesAttachedToAnimatedBones = Yes
ExtraPublicBone = RopeStart

DefaultConditionState
Model = NVHELIX
Animation = NVHELIX.NVHELIX
AnimationMode = LOOP
WeaponFireFXBone    = PRIMARY Muzzle01
WeaponMuzzleFlash   = PRIMARY TurretFX03
WeaponLaunchBone    = PRIMARY Launch01
WeaponLaunchBone    = SECONDARY CHASSISBONE
HideSubObject       = BombWing
Turret = TURRET
TurretPitch = TURRETEL
End

ConditionState = MOVING
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End

ConditionState = REALLYDAMAGED
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
End
AliasConditionState = RUBBLE

ConditionState = REALLYDAMAGED MOVING
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End
AliasConditionState = RUBBLE MOVING

ConditionState = RUBBLE SPECIAL_DAMAGED
Model = NVHELIX_d
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Helix
EditorSorting       = VEHICLE
Side                = China
TransportSlotCount  = 0
VisionRange         = 300.0
ShroudClearingRange = 300
BuildCost           = 1500
BuildTime           = 15.0

Prerequisites
Object ChinaAirfield
Object ChinaPropagandaCenter
End

ExperienceValue      100 100 200 300 ; Experience point value at each level
ExperienceRequired   0 150 300 500 ; Experience points needed to gain each level
IsTrainable        = Yes

CommandSet         = ChinaVehicleHelixCommandSet

ArmorSet
Conditions = None
Armor      = ChinookArmor
DamageFX   = AircraftDamageFX
End

WeaponSet
Conditions = None
Weapon     = PRIMARY   HelixMinigunWeapon
End

; *** AUDIO Parameters ***
VoiceSelect     = HelixVoiceSelect
VoiceMove       = HelixVoiceMove
VoiceAttack     = HelixVoiceAttack
SoundAmbient    = HelixAmbientLoop
SoundEnter      = HumveeEnter
SoundExit       = HumveeExit
UnitSpecificSounds
VoiceCreate         = HelixVoiceCreate
VoiceUnload         = HelixVoiceUnload
VoiceGarrison       = HelixVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority   = UNIT
KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

Body = ActiveBody ModuleTag_03
MaxHealth       = 600.0
InitialHealth   = 600.0
SubdualDamageCap = 1200
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = FXListDie ModuleTag_05
DeathFX = FX_HelicopterStartDeath
End

Behavior                       = TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior = ChinookAIUpdate ModuleTag_07
AutoAcquireEnemiesWhenIdle = Yes
RotorWashParticleSystem = HelixRotorWashRing
Turret
TurretTurnRate = 120
TurretPitchRate = 120
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
RecenterTime   = 100
FiresWhileTurning = Yes
AllowsPitch       = Yes
MinPhysicalPitch  = -90
End
End
Locomotor = SET_NORMAL HelixLocomotor
Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
Locomotor = SET_NORMAL_UPGRADED HelixLocomotorSlower

Behavior = LocomotorSetUpgrade ModuleTag_20Fl
TriggeredBy = Upgrade_300_10
End

Behavior = PhysicsBehavior ModuleTag_09
Mass = 100.0
End

ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Particles
End

Behavior = HelicopterSlowDeathBehavior ModuleTag_10
DestructionDelay                = 99999999
SpiralOrbitTurnRate             = 80.0
SpiralOrbitForwardSpeed         = 110.0
SpiralOrbitForwardSpeedDamping  = .9999
MaxBraking                      = 210
SoundDeathLoop                  = HelixDamagedLoop
MinSelfSpin                     = 40
MaxSelfSpin                     = 120
SelfSpinUpdateDelay             = 300
SelfSpinUpdateAmount            = 5
FallHowFast                     = 8.0%
MinBladeFlyOffDelay             = 1000
MaxBladeFlyOffDelay             = 1000
AttachParticle                  = SootySmokeTrail
AttachParticleBone              = ROPESTART01 ;Propeller02
BladeObjectName                 = PROPELLER1 ;HelixBlades
BladeBoneName                   = ROPESTART01 ;Propeller01
FXBlade                         = FX_HelicopterBladeExplosion
OCLBlade                        = OCL_HelicopterBladeExplosion
FXHitGround                     = FX_HelicopterHitGround
OCLHitGround                    = OCL_HelicopterHitGround
FXFinalBlowUp                   = FX_GroundedHelicopterBlowUpBig
OCLFinalBlowUp                  = OCL_HelixBlades
DelayFromGroundToFinalDeath     = 30
FinalRubbleObject               = HelixRubbleHull
End

Behavior = ProductionUpdate ModuleTag_25A
MaxQueueEntries = 9
End

Behavior = ObjectCreationUpgrade ModuleTag_Addon02
UpgradeObject = OCL_HelixPropagandaTower
TriggeredBy   = Upgrade_500_10
ConflictsWith = Upgrade_800_15 Upgrade_300_10 Upgrade_400_10 Upgrade_600_15
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon04
UpgradeObject = OCL_HelixRadar
TriggeredBy   = Upgrade_400_10
ConflictsWith = Upgrade_800_15 Upgrade_600_15 Upgrade_300_10 Upgrade_500_10
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon05
UpgradeObject = OCL_HelixECM
TriggeredBy   = Upgrade_600_15
ConflictsWith = Upgrade_400_10 Upgrade_800_15 Upgrade_500_10 Upgrade_300_10
End

Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade02
UpgradeToGrant Upgrade_400_10
End

Behavior = HelixContain ModuleTag_29
Slots                  6
DamagePercentToUnits   100%
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryTankHunter
PayloadTemplateName    ChinaInfantryTankHunter
AllowInsideKindOf      INFANTRY VEHICLE
ForbidInsideKindOf     AIRCRAFT
ExitDelay              100
NumberOfExitPaths      1
PassengersAllowedToFire No
End

Behavior        = MaxHealthUpgrade ModuleTag_Armor01
TriggeredBy   = Upgrade_ChinaAircraftArmor
AddMaxHealth  = 150.0
ChangeType    = ADD_CURRENT_HEALTH_TOO
End

Geometry              = CYLINDER
GeometryMajorRadius   = 35.0
GeometryHeight        = 30.0
GeometryIsSmall       = No
Shadow                = SHADOW_VOLUME
ShadowSizeX           = 89
End

Object ChinaVehicleHelix_AI_ECM

; *** ART Parameters ***
SelectPortrait         = SNHelixContra
ButtonImage            = SNHelixContra

Draw = W3DOverlordAircraftDraw  ModuleTag_01
OkToChangeModelColor = Yes
ParticlesAttachedToAnimatedBones = Yes
ExtraPublicBone = RopeStart

DefaultConditionState
Model = NVHELIX
Animation = NVHELIX.NVHELIX
AnimationMode = LOOP
WeaponFireFXBone    = PRIMARY Muzzle01
WeaponMuzzleFlash   = PRIMARY TurretFX03
WeaponLaunchBone    = PRIMARY Launch01
WeaponLaunchBone    = SECONDARY CHASSISBONE
HideSubObject       = BombWing
Turret = TURRET
TurretPitch = TURRETEL
End

ConditionState = MOVING
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End

ConditionState = REALLYDAMAGED
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
End
AliasConditionState = RUBBLE

ConditionState = REALLYDAMAGED MOVING
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End
AliasConditionState = RUBBLE MOVING

ConditionState = RUBBLE SPECIAL_DAMAGED
Model = NVHELIX_d
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Helix
EditorSorting       = VEHICLE
Side                = China
TransportSlotCount  = 0
VisionRange         = 300.0
ShroudClearingRange = 300
BuildCost           = 1500
BuildTime           = 15.0

Prerequisites
Object ChinaAirfield
Object ChinaPropagandaCenter
End

ExperienceValue      100 100 200 300 ; Experience point value at each level
ExperienceRequired   0 150 300 500 ; Experience points needed to gain each level
IsTrainable        = Yes

CommandSet         = ChinaVehicleHelixCommandSet

ArmorSet
Conditions = None
Armor      = ChinookArmor
DamageFX   = AircraftDamageFX
End

WeaponSet
Conditions = None
Weapon     = PRIMARY   HelixMinigunWeapon
End

; *** AUDIO Parameters ***
VoiceSelect     = HelixVoiceSelect
VoiceMove       = HelixVoiceMove
VoiceAttack     = HelixVoiceAttack
SoundAmbient    = HelixAmbientLoop
SoundEnter      = HumveeEnter
SoundExit       = HumveeExit
UnitSpecificSounds
VoiceCreate         = HelixVoiceCreate
VoiceUnload         = HelixVoiceUnload
VoiceGarrison       = HelixVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority   = UNIT
KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

Body = ActiveBody ModuleTag_03
MaxHealth       = 600.0
InitialHealth   = 600.0
SubdualDamageCap = 1200
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = FXListDie ModuleTag_05
DeathFX = FX_HelicopterStartDeath
End

Behavior                       = TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior = ChinookAIUpdate ModuleTag_07
AutoAcquireEnemiesWhenIdle = Yes
RotorWashParticleSystem = HelixRotorWashRing
Turret
TurretTurnRate = 120
TurretPitchRate = 120
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
RecenterTime   = 100
FiresWhileTurning = Yes
AllowsPitch       = Yes
MinPhysicalPitch  = -90
End
End
Locomotor = SET_NORMAL HelixLocomotor
Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
Locomotor = SET_NORMAL_UPGRADED HelixLocomotorSlower

Behavior = LocomotorSetUpgrade ModuleTag_20Fl
TriggeredBy = Upgrade_300_10
End

Behavior = PhysicsBehavior ModuleTag_09
Mass = 100.0
End

ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Particles
End

Behavior = HelicopterSlowDeathBehavior ModuleTag_10
DestructionDelay                = 99999999
SpiralOrbitTurnRate             = 80.0
SpiralOrbitForwardSpeed         = 110.0
SpiralOrbitForwardSpeedDamping  = .9999
MaxBraking                      = 210
SoundDeathLoop                  = HelixDamagedLoop
MinSelfSpin                     = 40
MaxSelfSpin                     = 120
SelfSpinUpdateDelay             = 300
SelfSpinUpdateAmount            = 5
FallHowFast                     = 8.0%
MinBladeFlyOffDelay             = 1000
MaxBladeFlyOffDelay             = 1000
AttachParticle                  = SootySmokeTrail
AttachParticleBone              = ROPESTART01 ;Propeller02
BladeObjectName                 = PROPELLER1 ;HelixBlades
BladeBoneName                   = ROPESTART01 ;Propeller01
FXBlade                         = FX_HelicopterBladeExplosion
OCLBlade                        = OCL_HelicopterBladeExplosion
FXHitGround                     = FX_HelicopterHitGround
OCLHitGround                    = OCL_HelicopterHitGround
FXFinalBlowUp                   = FX_GroundedHelicopterBlowUpBig
OCLFinalBlowUp                  = OCL_HelixBlades
DelayFromGroundToFinalDeath     = 30
FinalRubbleObject               = HelixRubbleHull
End

Behavior = ProductionUpdate ModuleTag_25A
MaxQueueEntries = 9
End

Behavior = ObjectCreationUpgrade ModuleTag_Addon02
UpgradeObject = OCL_HelixPropagandaTower
TriggeredBy   = Upgrade_500_10
ConflictsWith = Upgrade_800_15 Upgrade_300_10 Upgrade_400_10 Upgrade_600_15
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon04
UpgradeObject = OCL_HelixRadar
TriggeredBy   = Upgrade_400_10
ConflictsWith = Upgrade_800_15 Upgrade_600_15 Upgrade_300_10 Upgrade_500_10
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon05
UpgradeObject = OCL_HelixECM
TriggeredBy   = Upgrade_600_15
ConflictsWith = Upgrade_400_10 Upgrade_800_15 Upgrade_500_10 Upgrade_300_10
End

Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade02
UpgradeToGrant Upgrade_600_15
End

Behavior = HelixContain ModuleTag_29
Slots                  6
DamagePercentToUnits   100%
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryTankHunter
PayloadTemplateName    ChinaInfantryTankHunter
AllowInsideKindOf      INFANTRY VEHICLE
ForbidInsideKindOf     AIRCRAFT
ExitDelay              100
NumberOfExitPaths      1
PassengersAllowedToFire No
End

Behavior        = MaxHealthUpgrade ModuleTag_Armor01
TriggeredBy   = Upgrade_ChinaAircraftArmor
AddMaxHealth  = 150.0
ChangeType    = ADD_CURRENT_HEALTH_TOO
End

Geometry              = CYLINDER
GeometryMajorRadius   = 35.0
GeometryHeight        = 30.0
GeometryIsSmall       = No
Shadow                = SHADOW_VOLUME
ShadowSizeX           = 89
End

Object ChinaVehicleHelix_AI_Propaganda

; *** ART Parameters ***
SelectPortrait         = SNHelixContra
ButtonImage            = SNHelixContra

Draw = W3DOverlordAircraftDraw  ModuleTag_01
OkToChangeModelColor = Yes
ParticlesAttachedToAnimatedBones = Yes
ExtraPublicBone = RopeStart

DefaultConditionState
Model = NVHELIX
Animation = NVHELIX.NVHELIX
AnimationMode = LOOP
WeaponFireFXBone    = PRIMARY Muzzle01
WeaponMuzzleFlash   = PRIMARY TurretFX03
WeaponLaunchBone    = PRIMARY Launch01
WeaponLaunchBone    = SECONDARY CHASSISBONE
HideSubObject       = BombWing
Turret = TURRET
TurretPitch = TURRETEL
End

ConditionState = MOVING
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End

ConditionState = REALLYDAMAGED
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
End
AliasConditionState = RUBBLE

ConditionState = REALLYDAMAGED MOVING
Model = NVHELIX_d
Animation = NVHELIX_d.NVHELIX_d
AnimationMode = LOOP
ParticleSysBone = SMOKE01 HelixExhaust
ParticleSysBone = SMOKE02 HelixExhaust
End
AliasConditionState = RUBBLE MOVING

ConditionState = RUBBLE SPECIAL_DAMAGED
Model = NVHELIX_d
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Helix
EditorSorting       = VEHICLE
Side                = China
TransportSlotCount  = 0
VisionRange         = 300.0
ShroudClearingRange = 300
BuildCost           = 1500
BuildTime           = 15.0

Prerequisites
Object ChinaAirfield
Object ChinaPropagandaCenter
End

ExperienceValue      100 100 200 300 ; Experience point value at each level
ExperienceRequired   0 150 300 500 ; Experience points needed to gain each level
IsTrainable        = Yes

CommandSet         = ChinaVehicleHelixCommandSet

ArmorSet
Conditions = None
Armor      = ChinookArmor
DamageFX   = AircraftDamageFX
End

WeaponSet
Conditions = None
Weapon     = PRIMARY   HelixMinigunWeapon
End

; *** AUDIO Parameters ***
VoiceSelect     = HelixVoiceSelect
VoiceMove       = HelixVoiceMove
VoiceAttack     = HelixVoiceAttack
SoundAmbient    = HelixAmbientLoop
SoundEnter      = HumveeEnter
SoundExit       = HumveeExit
UnitSpecificSounds
VoiceCreate         = HelixVoiceCreate
VoiceUnload         = HelixVoiceUnload
VoiceGarrison       = HelixVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority   = UNIT
KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

Body = ActiveBody ModuleTag_03
MaxHealth       = 600.0
InitialHealth   = 600.0
SubdualDamageCap = 1200
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = FXListDie ModuleTag_05
DeathFX = FX_HelicopterStartDeath
End

Behavior                       = TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior = ChinookAIUpdate ModuleTag_07
AutoAcquireEnemiesWhenIdle = Yes
RotorWashParticleSystem = HelixRotorWashRing
Turret
TurretTurnRate = 120
TurretPitchRate = 120
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
RecenterTime   = 100
FiresWhileTurning = Yes
AllowsPitch       = Yes
MinPhysicalPitch  = -90
End
End
Locomotor = SET_NORMAL HelixLocomotor
Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
Locomotor = SET_NORMAL_UPGRADED HelixLocomotorSlower

Behavior = LocomotorSetUpgrade ModuleTag_20Fl
TriggeredBy = Upgrade_300_10
End

Behavior = PhysicsBehavior ModuleTag_09
Mass = 100.0
End

ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Particles
End

Behavior = HelicopterSlowDeathBehavior ModuleTag_10
DestructionDelay                = 99999999
SpiralOrbitTurnRate             = 80.0
SpiralOrbitForwardSpeed         = 110.0
SpiralOrbitForwardSpeedDamping  = .9999
MaxBraking                      = 210
SoundDeathLoop                  = HelixDamagedLoop
MinSelfSpin                     = 40
MaxSelfSpin                     = 120
SelfSpinUpdateDelay             = 300
SelfSpinUpdateAmount            = 5
FallHowFast                     = 8.0%
MinBladeFlyOffDelay             = 1000
MaxBladeFlyOffDelay             = 1000
AttachParticle                  = SootySmokeTrail
AttachParticleBone              = ROPESTART01 ;Propeller02
BladeObjectName                 = PROPELLER1 ;HelixBlades
BladeBoneName                   = ROPESTART01 ;Propeller01
FXBlade                         = FX_HelicopterBladeExplosion
OCLBlade                        = OCL_HelicopterBladeExplosion
FXHitGround                     = FX_HelicopterHitGround
OCLHitGround                    = OCL_HelicopterHitGround
FXFinalBlowUp                   = FX_GroundedHelicopterBlowUpBig
OCLFinalBlowUp                  = OCL_HelixBlades
DelayFromGroundToFinalDeath     = 30
FinalRubbleObject               = HelixRubbleHull
End

Behavior = ProductionUpdate ModuleTag_25A
MaxQueueEntries = 9
End

Behavior = ObjectCreationUpgrade ModuleTag_Addon02
UpgradeObject = OCL_HelixPropagandaTower
TriggeredBy   = Upgrade_500_10
ConflictsWith = Upgrade_800_15 Upgrade_300_10 Upgrade_400_10 Upgrade_600_15
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon04
UpgradeObject = OCL_HelixRadar
TriggeredBy   = Upgrade_400_10
ConflictsWith = Upgrade_800_15 Upgrade_600_15 Upgrade_300_10 Upgrade_500_10
End
Behavior = ObjectCreationUpgrade ModuleTag_Addon05
UpgradeObject = OCL_HelixECM
TriggeredBy   = Upgrade_600_15
ConflictsWith = Upgrade_400_10 Upgrade_800_15 Upgrade_500_10 Upgrade_300_10
End

Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade02
UpgradeToGrant Upgrade_500_10
End

Behavior = HelixContain ModuleTag_29
Slots                  6
DamagePercentToUnits   100%
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryTankHunter
PayloadTemplateName    ChinaInfantryTankHunter
AllowInsideKindOf      INFANTRY VEHICLE
ForbidInsideKindOf     AIRCRAFT
ExitDelay              100
NumberOfExitPaths      1
PassengersAllowedToFire No
End

Behavior        = MaxHealthUpgrade ModuleTag_Armor01
TriggeredBy   = Upgrade_ChinaAircraftArmor
AddMaxHealth  = 150.0
ChangeType    = ADD_CURRENT_HEALTH_TOO
End

Geometry              = CYLINDER
GeometryMajorRadius   = 35.0
GeometryHeight        = 30.0
GeometryIsSmall       = No
Shadow                = SHADOW_VOLUME
ShadowSizeX           = 89
End


;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaJetInfernoMIG

; *** ART Parameters ***
SelectPortrait          SNInfernoMig_L
ButtonImage             SNInfernoMig

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY SECONDARY

DefaultConditionState
Model                NVMiGBmbr
HideSubObject        BurnerFX01
WeaponLaunchBone     PRIMARY WeaponA
WeaponLaunchBone     SECONDARY WeaponB
End

ConditionState         JETEXHAUST
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
ShowSubObject        BurnerFX01
ParticleSysBone      Exhaust01 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED
Model                NVMiGBmbr_D
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         RUBBLE
Model                NVMiGBmbr_D
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                NVMiGBmbr_D
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                NVMiGBmbr_D
ShowSubObject        BurnerFX01
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                NVMiGBmbr_D
HideSubObject        BurnerFX01
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:InfernoMIG
EditorSorting            VEHICLE
Side                     China
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0

Prerequisites
Object                 ChinaBreederReactor
End

WeaponSet
Conditions         None
Weapon             PRIMARY   MiGBomberNapalmBombletWeapon
Weapon             SECONDARY MiGBomberNapalmBombletWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   MiGBomberNapalmBombletUpgradedWeapon
Weapon             SECONDARY MiGBomberNapalmBombletUpgradedWeapon
End

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

BuildCost                1400
BuildTime                14.0
ExperienceValue          100 100 200 300 ;Experience point value at each level
ExperienceRequired       0   200 300 600 ; Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              ChinaJetHellFireMIGCommandSet

; *** AUDIO Parameters ***
VoiceSelect              InfernoMigVoiceSelect
VoiceMove                InfernoMigVoiceMove
VoiceAttack              InfernoMigVoiceAttack
VoiceGuard               InfernoMigVoiceAirPatrol
SoundAmbient             MigAmbientLoop
UnitSpecificSounds
VoiceCreate            InfernoMigVoiceCreate
Afterburner            RaptorAfterburner
VoiceGarrison          InfernoMigVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             160.0
InitialHealth         160.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_03
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_MIGDeathFinalBlowUp
DestructionDelay                 99999999  ; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_InfernoMigDeathInitial
OCLInitialDeath                  OCL_MIGDeathInitial
DelaySecondaryFromInitialDeath   500       ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_MIGDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_MIGDeathHitGround
DelayFinalBlowUpFromHitGround    200       ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_InfernoMiGDeathFinalBlowUp
End

Behavior  WeaponSetUpgrade ModuleTag_1132
TriggeredBy  Upgrade_FireStormShells
End

Behavior  WeaponBonusUpgrade ModuleTag_04
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  JetAIUpdate ModuleTag_06
Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY SECONDARY
End
TurretsLinked  Yes
AutoAcquireEnemiesWhenIdle  No NOTWHILEATTACKING

OutOfAmmoDamagePerSecond   10%     ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  4
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End

Locomotor  SET_NORMAL  InfernoMiGLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000        ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500      ; this often.
End

Behavior                        TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior         MaxHealthUpgrade ModuleTag_10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
; -1,44
;------------------------------------------------------------------------------
Object ChinaJetMIG

; *** ART Parameters ***
SelectPortrait          SNMig_L
ButtonImage             SNMig

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model                NVFighter
HideSubObject        BurnerFX01 BurnerFX02
WeaponLaunchBone     PRIMARY WeaponA
End

ConditionState         JETEXHAUST
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState        JETEXHAUST JETAFTERBURNER
ShowSubObject       BurnerFX01 BurnerFX02
ParticleSysBone      Exhaust01 JetExhaust
ParticleSysBone      Exhaust02 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED
Model                NVFighter_D
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         RUBBLE
Model                NVFighter_D
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                NVFighter_D
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                NVFighter_D
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Engine02 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                NVFighter_D
HideSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Engine02 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     China
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0

WeaponSet
Conditions         None
Weapon             PRIMARY     MiGFlakMissileWeapon
End

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

BuildCost                1000
BuildTime                13.0
ExperienceValue          50 50 100 150   ;Experience point value at each level
ExperienceRequired       0 100 200 400   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              ChinaJetMIGCommandSet

; *** AUDIO Parameters ***
VoiceSelect              MigVoiceSelect
VoiceMove                MigVoiceMove
VoiceAttack              MigVoiceAttack
VoiceAttackAir           MigVoiceAttackAir
VoiceGuard               MigVoiceAirPatrol
SoundAmbient             MigAmbientLoop
UnitSpecificSounds
VoiceCreate            MigVoiceCreate
Afterburner            RaptorAfterburner
VoiceGarrison          MigVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             120.0
InitialHealth         120.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_03
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_MIGDeathFinalBlowUp
DestructionDelay                 99999999  ; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_MigDeathInitial
OCLInitialDeath                  OCL_MIGDeathInitial
DelaySecondaryFromInitialDeath   500       ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_MIGDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_MIGDeathHitGround
DelayFinalBlowUpFromHitGround    200       ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_MIGDeathFinalBlowUp
End

;  Behavior  WeaponSetUpgrade ModuleTag_04
;    TriggeredBy
;  End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  JetAIUpdate ModuleTag_06
OutOfAmmoDamagePerSecond   10%     ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  4
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End

Locomotor  SET_NORMAL MIGLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000        ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500      ; this often.
End

Behavior                        TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior         MaxHealthUpgrade ModuleTag_10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   90.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME

Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaVehiclePropagandaAirship

; *** ART Parameters ***
SelectPortrait          SNPropAirship_L
ButtonImage             SNPropAirship

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NVAirship
End
End

; set cost and time fields here or else they won't work
BuildCost        1200
BuildTime        20.0          ;in seconds

Prerequisites
Object                 ChinaBreederReactor
End

Side  China
EditorSorting  VEHICLE
BuildVariations  ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var1 ChinaVehiclePropagandaAirship_Var2

KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED PRODUCED_AT_HELIPAD

End

;------------------------------------------------------------------------------
Object ChinaVehiclePropagandaAirship_Var1

; *** ART Parameters ***
SelectPortrait          SNPropAirship_L
ButtonImage             SNPropAirship

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship
End


ConditionState         USER_1
Model                NVAirship
HideSubObject        ChassisPart01
End

ConditionState         REALLYDAMAGED
Model                NVAirship_D
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE
Model                NVAirship_D
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

End

Draw  W3DModelDraw ModuleTag_Engines01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A1
Animation            NVAirship_A1.NVAirship_A1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE
End

TransitionState        TRANS_IDLE TRANS_MOVING
Model                NVAirship_A2
Animation            NVAirship_A2.NVAirship_A2
AnimationMode        ONCE
End

ConditionState         MOVING
Model                NVAirship_A3
Animation            NVAirship_A3.NVAirship_A3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING
End

TransitionState        TRANS_MOVING TRANS_IDLE
Model                NVAirship_A4
Animation            NVAirship_A4.NVAirship_A4
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA1
Animation            NVAirship_DA1.NVAirship_DA1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE_DAMAGED
End
AliasConditionState    RUBBLE

TransitionState        TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
Model                NVAirship_DA2
Animation            NVAirship_DA2.NVAirship_DA2
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED MOVING
Model                NVAirship_DA3
Animation            NVAirship_DA3.NVAirship_DA3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING_DAMAGED
End
AliasConditionState    RUBBLE MOVING

TransitionState        TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
Model                NVAirship_DA4
Animation            NVAirship_DA4.NVAirship_DA4
AnimationMode        ONCE
End

End

Draw  W3DModelDraw ModuleTag_Screens01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE

ConditionState         USER_1
Model                NVAirship_A5
Animation            NVAirship_A5.NVAirship_A5
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_DA5
Animation            NVAirship_DA5.NVAirship_DA5
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End
AliasConditionState    RUBBLE USER_1

End

Draw  W3DModelDraw ModuleTag_GunTop01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    USING_WEAPON_A

ConditionState         USING_WEAPON_B
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_B
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_B

End

Draw  W3DModelDraw ModuleTag_GunBottom01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    USING_WEAPON_B

ConditionState         USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_B
AliasConditionState    RUBBLE USING_WEAPON_B
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_A

End

Draw  W3DModelDraw ModuleTag_NightLights

ConditionState         NONE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        LOOP
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    USING_WEAPON_B
AliasConditionState    USING_WEAPON_A
AliasConditionState    REALLYDAMAGED
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    REALLYDAMAGED USING_WEAPON_B

ConditionState         RUBBLE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        MANUAL
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_B

End


; ***DESIGN parameters ***
DisplayName          OBJECT:PropAirship
EditorSorting        SYSTEM
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object                 ChinaPropagandaCenter
End

WeaponSet
Conditions           None
Weapon               PRIMARY   PropagandaAirshipGattlingGun
Weapon               SECONDARY PropagandaAirshipGattlingGunAir
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   PropagandaAirshipUpgradedGattlingGun
Weapon               SECONDARY PropagandaAirshipUpgradedGattlingGunAir
End

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

BuildCost            1200

Prerequisites
Object                 ChinaBreederReactor
End

BuildTime            20              ; in seconds
ExperienceValue      300 300 500 800 ; Experience point value at each level
ExperienceRequired   0 200 400 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience

CommandSet           ChinaVehiclePropagandaAirshipCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PropagandaAirshipVoiceSelect
VoiceMove              PropagandaAirshipVoiceMove
VoiceGuard             PropagandaAirshipVoiceMove
VoiceAttack            PropagandaAirshipVoiceAttack
SoundAmbient           PropagandaAirshipGunshipAmbientLoop

UnitSpecificSounds
VoiceCreate          PropagandaAirshipVoiceCreate
VoiceGarrison        PropagandaAirshipVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_04
MaxHealth        640.0
InitialHealth    640.0

SubdualDamageCap        2000
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior         MaxHealthUpgrade ModuleTag_Armor10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   160.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_PropagandaAirshipStartDeath
End

Behavior  JetAIUpdate ModuleTag_06
MinHeight                      5
NeedsRunway                    No
KeepsParkingSpaceWhenAirborne  No

;;;;Top Turret
Turret
TurretTurnRate         180
TurretPitchRate        180
NaturalTurretPitch     6.0
AllowsPitch            Yes
ControlledWeaponSlots  SECONDARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

;;;;Botom Turret
AltTurret
TurretTurnRate         180
TurretPitchRate        180
MinPhysicalPitch       -90
NaturalTurretPitch     -15.0
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL  PropagandaAirshipLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              80.0            ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          10.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       210             ; max braking we can use during death spiral (lower num  wilder spiral)
MinSelfSpin                      10              ; in degrees per second
MaxSelfSpin                      30              ; in degrees per second
SelfSpinUpdateDelay              600             ; in milliseconds
SelfSpinUpdateAmount             5               ; in degrees
FallHowFast                      10.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_PropagandaAirshipFireExplosion
DelayFromGroundToFinalDeath      0
FinalRubbleObject                ChinaPropagandaAirshipRubbleHull
End

Behavior         PropagandaTowerBehavior ModuleTag_09
Radius                         200.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
PulseFX                        FX_PropagandaAirShipPropagandaPulse     ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
UpgradedPulseFX                FX_PropagandaAirShipSubliminalPulse     ;plays as often as DelayBetweenUpdates
AffectsSelf                    Yes                                     ; Needs this since Tower is not seperate object
End

Behavior  ModelConditionUpgrade ModuleTag_10
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  OverlordContain ModuleTag_SpeakerDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    PropagandaAirshipDecalObject
End

Behavior  WeaponBonusUpgrade ModuleTag_22
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_23
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior            OCLSpecialPower ModuleTag_BattleCry01
SpecialPowerTemplate  SpecialAbilityPropagandaAirshipBattleCry
OCL                   OCL_PropagandaBattleCry
CreateLocation        USE_OWNER_OBJECT
End

Behavior  TransitionDamageFX ModuleTag_20
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  48.0
GeometryMinorRadius  22.0
GeometryHeight  35.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object ChinaVehiclePropagandaAirship_Var2

; *** ART Parameters ***
SelectPortrait          SNPropAirship_L
ButtonImage             SNPropAirship

UpgradeCameo1  Upgrade_ChinaAircraftArmor
UpgradeCameo2  Upgrade_ChinaSubliminalMessaging
UpgradeCameo3  Upgrade_ChinaChainGuns

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship
End


ConditionState         USER_1
Model                NVAirship
HideSubObject        ChassisPart01
End

ConditionState         REALLYDAMAGED
Model                NVAirship_D
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE
Model                NVAirship_D
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmokeFactionLarge
ParticleSysBone      FIRE03 SmokeFactionLarge
ParticleSysBone      FIRE04 SmolderingFire
ParticleSysBone      FIRE04 SmolderingSmoke
ParticleSysBone      FIRE05 SmokeFactionLarge
ParticleSysBone      FIRE07 SmokeFactionLarge
ParticleSysBone      FIRE08 SmolderingFire
ParticleSysBone      FIRE08 SmolderingSmoke
ParticleSysBone      FIRE09 SmokeFactionLarge
ParticleSysBone      FIRE11 SmokeFactionLarge
ParticleSysBone      FIRE12 SmolderingFire
ParticleSysBone      FIRE12 SmolderingSmoke
ParticleSysBone      FIRE13 SmokeFactionLarge
ParticleSysBone      FIRE14 SmolderingFire
ParticleSysBone      FIRE14 SmolderingSmoke
End

ConditionState         RUBBLE USER_1
Model                NVAirship_D
HideSubObject        ChassisPart01
ParticleSysBone      FIRE01 SmolderingFire
ParticleSysBone      FIRE01 SmolderingSmoke
ParticleSysBone      FIRE02 FireFactionLarge
ParticleSysBone      FIRE02 SmokeFactionLarge
ParticleSysBone      FIRE03 SmolderingFire
ParticleSysBone      FIRE03 SmolderingSmoke
ParticleSysBone      FIRE04 FireFactionLarge
ParticleSysBone      FIRE04 SmokeFactionLarge
ParticleSysBone      FIRE05 SmolderingFire
ParticleSysBone      FIRE05 SmolderingSmoke
ParticleSysBone      FIRE06 FireFactionLarge
ParticleSysBone      FIRE06 SmokeFactionLarge
ParticleSysBone      FIRE07 SmolderingFire
ParticleSysBone      FIRE07 SmolderingSmoke
ParticleSysBone      FIRE08 FireFactionLarge
ParticleSysBone      FIRE08 SmokeFactionLarge
ParticleSysBone      FIRE09 SmolderingFire
ParticleSysBone      FIRE09 SmolderingSmoke
ParticleSysBone      FIRE10 FireFactionLarge
ParticleSysBone      FIRE10 SmokeFactionLarge
ParticleSysBone      FIRE11 SmolderingFire
ParticleSysBone      FIRE11 SmolderingSmoke
ParticleSysBone      FIRE12 FireFactionLarge
ParticleSysBone      FIRE12 SmokeFactionLarge
ParticleSysBone      FIRE13 SmolderingFire
ParticleSysBone      FIRE13 SmolderingSmoke
ParticleSysBone      FIRE14 FireFactionLarge
ParticleSysBone      FIRE14 SmokeFactionLarge
End

End

Draw  W3DModelDraw ModuleTag_Engines01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A1
Animation            NVAirship_A1.NVAirship_A1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE
End

TransitionState        TRANS_IDLE TRANS_MOVING
Model                NVAirship_A2
Animation            NVAirship_A2.NVAirship_A2
AnimationMode        ONCE
End

ConditionState         MOVING
Model                NVAirship_A3
Animation            NVAirship_A3.NVAirship_A3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING
End

TransitionState        TRANS_MOVING TRANS_IDLE
Model                NVAirship_A4
Animation            NVAirship_A4.NVAirship_A4
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA1
Animation            NVAirship_DA1.NVAirship_DA1
AnimationMode        LOOP
TransitionKey        TRANS_IDLE_DAMAGED
End
AliasConditionState    RUBBLE

TransitionState        TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
Model                NVAirship_DA2
Animation            NVAirship_DA2.NVAirship_DA2
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED MOVING
Model                NVAirship_DA3
Animation            NVAirship_DA3.NVAirship_DA3
AnimationMode        LOOP
TransitionKey        TRANS_MOVING_DAMAGED
End
AliasConditionState    RUBBLE MOVING

TransitionState        TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
Model                NVAirship_DA4
Animation            NVAirship_DA4.NVAirship_DA4
AnimationMode        ONCE
End

End

Draw  W3DModelDraw ModuleTag_Screens01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState    REALLYDAMAGED
AliasConditionState    RUBBLE

ConditionState         USER_1
Model                NVAirship_C1
Animation            NVAirship_C1.NVAirship_C1
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End

ConditionState         REALLYDAMAGED USER_1
Model                NVAirship_C1
Animation            NVAirship_C1.NVAirship_C1
AnimationMode        LOOP
ParticleSysBone      FXBONE01 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE02 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE03 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE04 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE05 PropagandaSubliminalBroadcastAirship
ParticleSysBone      FXBONE06 PropagandaSubliminalBroadcastAirship
End
AliasConditionState    RUBBLE USER_1

End

Draw  W3DModelDraw ModuleTag_GunTop01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    USING_WEAPON_A

ConditionState         USING_WEAPON_B
Model                NVAirship_A6
Animation            NVAirship_A6.NVAirship_A6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_B
Model                NVAirship_DA6
Animation            NVAirship_DA6.NVAirship_DA6
HideSubObject        Muzzle01
AnimationMode        LOOP
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_B

End

Draw  W3DModelDraw ModuleTag_GunBottom01
OkToChangeModelColor  Yes

ConditionState         NONE
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    USING_WEAPON_B

ConditionState         USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        MANUAL
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    REALLYDAMAGED USING_WEAPON_B
AliasConditionState    RUBBLE USING_WEAPON_B
AliasConditionState    RUBBLE

ConditionState         REALLYDAMAGED USING_WEAPON_A
Model                NVAirship_A7
Animation            NVAirship_A7.NVAirship_A7
HideSubObject        Muzzle01
AnimationMode        LOOP
AltTurret            TURRET02
AltTurretPitch       TURRETEL02
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState    RUBBLE USING_WEAPON_A

End

Draw  W3DModelDraw ModuleTag_NightLights

ConditionState         NONE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        LOOP
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    USING_WEAPON_B
AliasConditionState    USING_WEAPON_A
AliasConditionState    REALLYDAMAGED
AliasConditionState    REALLYDAMAGED USING_WEAPON_A
AliasConditionState    REALLYDAMAGED USING_WEAPON_B

ConditionState         RUBBLE
Model                NVAirship_N
Animation            NVAirship_N.NVAirship_N
AnimationMode        MANUAL
AltTurret            LIGHT_TURRET
AltTurretPitch       LIGHT_TURRETEL
Flags                MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState    RUBBLE USING_WEAPON_A
AliasConditionState    RUBBLE USING_WEAPON_B

End


; ***DESIGN parameters ***
DisplayName          OBJECT:PropAirship
EditorSorting        SYSTEM
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object                 ChinaPropagandaCenter
End

WeaponSet
Conditions           None
Weapon               PRIMARY   PropagandaAirshipGattlingGun
Weapon               SECONDARY PropagandaAirshipGattlingGunAir
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   PropagandaAirshipUpgradedGattlingGun
Weapon               SECONDARY PropagandaAirshipUpgradedGattlingGunAir
End

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

BuildCost            1200

Prerequisites
Object                 ChinaBreederReactor
End

BuildTime            20              ; in seconds
ExperienceValue      300 300 500 800 ; Experience point value at each level
ExperienceRequired   0 200 400 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience

CommandSet           ChinaVehiclePropagandaAirshipCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PropagandaAirshipVoiceSelect
VoiceMove              PropagandaAirshipVoiceMove
VoiceGuard             PropagandaAirshipVoiceMove
VoiceAttack            PropagandaAirshipVoiceAttack
SoundAmbient           PropagandaAirshipGunshipAmbientLoop

UnitSpecificSounds
VoiceCreate          PropagandaAirshipVoiceCreate
VoiceGarrison        PropagandaAirshipVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_04
MaxHealth        640.0
InitialHealth    640.0

SubdualDamageCap        2000
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior         MaxHealthUpgrade ModuleTag_Armor10
TriggeredBy    Upgrade_ChinaAircraftArmor
AddMaxHealth   160.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_PropagandaAirshipStartDeath
End

Behavior  JetAIUpdate ModuleTag_06
MinHeight                      5
NeedsRunway                    No
KeepsParkingSpaceWhenAirborne  No

;;;;Top Turret
Turret
TurretTurnRate         180
TurretPitchRate        180
NaturalTurretPitch     6.0
AllowsPitch            Yes
ControlledWeaponSlots  SECONDARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

;;;;Botom Turret
AltTurret
TurretTurnRate         180
TurretPitchRate        180
MinPhysicalPitch       -90
NaturalTurretPitch     -15.0
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    250     ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       90     ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL  PropagandaAirshipLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              80.0            ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          10.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       210             ; max braking we can use during death spiral (lower num  wilder spiral)
MinSelfSpin                      10              ; in degrees per second
MaxSelfSpin                      30              ; in degrees per second
SelfSpinUpdateDelay              600             ; in milliseconds
SelfSpinUpdateAmount             5               ; in degrees
FallHowFast                      10.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_PropagandaAirshipFireExplosion
DelayFromGroundToFinalDeath      0
FinalRubbleObject                ChinaPropagandaAirshipRubbleHull
End

Behavior         PropagandaTowerBehavior ModuleTag_09
Radius                         200.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
PulseFX                        FX_PropagandaAirShipPropagandaPulse     ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
UpgradedPulseFX                FX_PropagandaAirShipSubliminalPulse     ;plays as often as DelayBetweenUpdates
AffectsSelf                    Yes                                     ; Needs this since Tower is not seperate object
End

Behavior  ModelConditionUpgrade ModuleTag_10
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  OverlordContain ModuleTag_SpeakerDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    PropagandaAirshipDecalObject
End

Behavior  WeaponBonusUpgrade ModuleTag_22
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_23
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior            OCLSpecialPower ModuleTag_BattleCry01
SpecialPowerTemplate  SpecialAbilityPropagandaAirshipBattleCry
OCL                   OCL_PropagandaBattleCryVarriation
CreateLocation        USE_OWNER_OBJECT
End

Behavior  TransitionDamageFX ModuleTag_20
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  48.0
GeometryMinorRadius  22.0
GeometryHeight  35.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object PropagandaAirshipDecalObject

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  NADA

ConditionState  NONE
Model          NVDeva_U2
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                30.0
ShadowTexture  SCC_Propaganda
ShadowSizeX  415
ShadowSizeY  415

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaAirfield

; *** ART Parameters ***
SelectPortrait          SNAirfield_L
ButtonImage             SNAirfield

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ExtraPublicBone  Runway1Parking1
ExtraPublicBone  Runway1Parking2
ExtraPublicBone  Runway2Parking1
ExtraPublicBone  Runway2Parking2
ExtraPublicBone  Runway1Park1Han
ExtraPublicBone  Runway1Park2Han
ExtraPublicBone  Runway2Park1Han
ExtraPublicBone  Runway2Park2Han
ExtraPublicBone  Runway1Prep1
ExtraPublicBone  Runway1Prep2
ExtraPublicBone  Runway2Prep1
ExtraPublicBone  Runway2Prep2
ExtraPublicBone  RunwayStart1
ExtraPublicBone  RunwayStart2
ExtraPublicBone  RunwayEnd1
ExtraPublicBone  RunwayEnd2

ExtraPublicBone  HeliPark01

; ------------- DAY ------------------

DefaultConditionState
Model          NBAirfield
Animation      NBAirfield.NBAirfield
AnimationMode  LOOP
End
ConditionState  DAMAGED
Model          NBAirfield_D
Animation      NBAirfield_D.NBAirfield_D
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE
Model          NBAirfield_E
Animation      NBAirfield_E.NBAirfield_E
AnimationMode  LOOP
End

; ------------- SNOW ------------------
ConditionState   SNOW
Model          NBAirfield_S
Animation      NBAirfield_S.NBAirfield_S
AnimationMode  LOOP
End
ConditionState  DAMAGED SNOW
Model          NBAirfield_DS
Animation      NBAirfield_DS.NBAirfield_DS
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model          NBAirfield_ES
Animation      NBAirfield_ES.NBAirfield_ES
AnimationMode  LOOP
End

; ------------- NIGHT ------------------

ConditionState  NIGHT
Model          NBAirfield_N
Animation      NBAirfield_N.NBAirfield_N
AnimationMode  LOOP
End
ConditionState  DAMAGED NIGHT
Model          NBAirfield_DN
Animation      NBAirfield_DN.NBAirfield_DN
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT
Model          NBAirfield_EN
Animation      NBAirfield_EN.NBAirfield_EN
AnimationMode  LOOP
End

; ------------- NIGHT SNOW------------------

ConditionState  NIGHT SNOW
Model          NBAirfield_NS
Animation      NBAirfield_NS.NBAirfield_NS
AnimationMode  LOOP
End
ConditionState  DAMAGED NIGHT SNOW
Model          NBAirfield_DNS
Animation      NBAirfield_DNS.NBAirfield_DNS
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
Model          NBAirfield_ENS
Animation      NBAirfield_ENS.NBAirfield_ENS
AnimationMode  LOOP
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBAirfield
Animation           NBAirfield.NBAirfield
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBAirfield_D
Animation           NBAirfield_D.NBAirfield_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBAirfield_E
Animation           NBAirfield_E.NBAirfield_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBAirfield_N
Animation           NBAirfield_N.NBAirfield_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBAirfield_DN
Animation           NBAirfield_DN.NBAirfield_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBAirfield_EN
Animation           NBAirfield_EN.NBAirfield_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBAirfield_S
Animation           NBAirfield_S.NBAirfield_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBAirfield_DS
Animation           NBAirfield_DS.NBAirfield_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBAirfield_ES
Animation           NBAirfield_ES.NBAirfield_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBAirfield_NS
Animation           NBAirfield_NS.NBAirfield_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBAirfield_DNS
Animation           NBAirfield_DNS.NBAirfield_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBAirfield_ENS
Animation           NBAirfield_ENS.NBAirfield_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End


Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            None
End
End

; ----------------- door #1 -------------------
Draw                 W3DModelDraw ModuleTag_03
DefaultConditionState
Model            NBAirfield_A9
Animation        NBAirfield_A9.NBAirfield_A9
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            NBAirfield_A9
Animation        NBAirfield_A9.NBAirfield_A9
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  SNOW NIGHT DOOR_1_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING

ConditionState     DOOR_1_CLOSING
Model            NBAirfield_A9
Animation        NBAirfield_A9.NBAirfield_A9
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  SNOW NIGHT DOOR_1_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING

ConditionState     DOOR_1_WAITING_OPEN
Model            NBAirfield_A9
Animation        NBAirfield_A9.NBAirfield_A9
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  SNOW NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW NIGHT DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBAirfield_A9
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBAirfield_A9
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBAirfield_A9
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ----------------- door #2 -------------------
; this one has no door #2... (srj)
;  Draw                 W3DModelDraw
;    DefaultConditionState
;      Model            NBAirfield_A10
;      Animation        NBAirfield_A10.NBAirfield_A10
;      AnimationMode    MANUAL
;      Flags            START_FRAME_FIRST
;    End
;    ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
;      Model            NBAirfield_A10
;      Flags            START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
;    End
;    ConditionState     DOOR_2_OPENING
;      Model            NBAirfield_A10
;      Animation        NBAirfield_A10.NBAirfield_A10
;      AnimationMode    ONCE
;      Flags            START_FRAME_FIRST
;    End
;    ConditionState     DOOR_2_CLOSING
;      Model            NBAirfield_A10
;      Animation        NBAirfield_A10.NBAirfield_A10
;      AnimationMode    ONCE_BACKWARDS
;      Flags            START_FRAME_LAST
;    End
;    ConditionState     DOOR_2_WAITING_OPEN
;      Model            NBAirfield_A10
;      Animation        NBAirfield_A10.NBAirfield_A10
;      AnimationMode    MANUAL
;      Flags            START_FRAME_LAST
;    End
;  End

; ----------------- door #3 -------------------
Draw                 W3DModelDraw ModuleTag_04
DefaultConditionState
Model            NBAirfield_A10
Animation        NBAirfield_A10.NBAirfield_A10
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE



ConditionState     DOOR_3_OPENING
Model            NBAirfield_A10
Animation        NBAirfield_A10.NBAirfield_A10
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_3_OPENING
AliasConditionState  SNOW DOOR_3_OPENING
AliasConditionState  SNOW NIGHT DOOR_3_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_3_OPENING
AliasConditionState  SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  SNOW NIGHT DAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING

ConditionState     DOOR_3_CLOSING
Model            NBAirfield_A10
Animation        NBAirfield_A10.NBAirfield_A10
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_3_CLOSING
AliasConditionState  SNOW DOOR_3_CLOSING
AliasConditionState  SNOW NIGHT DOOR_3_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_3_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  SNOW NIGHT DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING

ConditionState     DOOR_3_WAITING_OPEN
Model            NBAirfield_A10
Animation        NBAirfield_A10.NBAirfield_A10
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_3_WAITING_OPEN
AliasConditionState  SNOW DOOR_3_WAITING_OPEN
AliasConditionState  SNOW NIGHT DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  SNOW NIGHT DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBAirfield_A10
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBAirfield_A10
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBAirfield_A10
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ----------------- door #4 -------------------
Draw                 W3DModelDraw ModuleTag_05
DefaultConditionState
Model            NBAirfield_A8
Animation        NBAirfield_A8.NBAirfield_A8
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE

ConditionState     DOOR_4_OPENING
Model            NBAirfield_A8
Animation        NBAirfield_A8.NBAirfield_A8
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_4_OPENING
AliasConditionState  SNOW DOOR_4_OPENING
AliasConditionState  SNOW NIGHT DOOR_4_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_4_OPENING
AliasConditionState  SNOW DAMAGED DOOR_4_OPENING
AliasConditionState  SNOW NIGHT DAMAGED DOOR_4_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING

ConditionState     DOOR_4_CLOSING
Model            NBAirfield_A8
Animation        NBAirfield_A8.NBAirfield_A8
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_4_CLOSING
AliasConditionState  SNOW DOOR_4_CLOSING
AliasConditionState  SNOW NIGHT DOOR_4_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_4_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_4_CLOSING
AliasConditionState  SNOW NIGHT DAMAGED DOOR_4_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING

ConditionState     DOOR_4_WAITING_OPEN
Model            NBAirfield_A8
Animation        NBAirfield_A8.NBAirfield_A8
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_4_WAITING_OPEN
AliasConditionState  SNOW DOOR_4_WAITING_OPEN
AliasConditionState  SNOW NIGHT DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_4_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_4_WAITING_OPEN
AliasConditionState  SNOW NIGHT DAMAGED DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBAirfield_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBAirfield_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBAirfield_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A4
Animation        NBAirfield_A4.NBAirfield_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A4N
Animation        NBAirfield_A4N.NBAirfield_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A4S
Animation        NBAirfield_A4S.NBAirfield_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A4SN
Animation        NBAirfield_A4SN.NBAirfield_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBAirfield_A4
Animation        NBAirfield_A4.NBAirfield_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBAirfield_A4N
Animation        NBAirfield_A4N.NBAirfield_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBAirfield_A4S
Animation        NBAirfield_A4S.NBAirfield_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBAirfield_A4SN
Animation        NBAirfield_A4SN.NBAirfield_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBAirfield_A4
Animation        NBAirfield_A4.NBAirfield_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBAirfield_A4N
Animation        NBAirfield_A4N.NBAirfield_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBAirfield_A4S
Animation        NBAirfield_A4S.NBAirfield_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBAirfield_A4SN
Animation        NBAirfield_A4SN.NBAirfield_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_07
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBAirfield_A6
Animation        NBAirfield_A6.NBAirfield_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBAirfield_A6N
Animation        NBAirfield_A6N.NBAirfield_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBAirfield_A6S
Animation        NBAirfield_A6S.NBAirfield_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBAirfield_A6SN
Animation        NBAirfield_A6SN.NBAirfield_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
ParticleSysBone  Smoke05 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBAirfield_A6
Animation        NBAirfield_A6.NBAirfield_A6

AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBAirfield_A6N
Animation        NBAirfield_A6N.NBAirfield_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBAirfield_A6S
Animation        NBAirfield_A6S.NBAirfield_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBAirfield_A6SN
Animation        NBAirfield_A6SN.NBAirfield_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBAirfield_A6
Animation        NBAirfield_A6.NBAirfield_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBAirfield_A6N
Animation        NBAirfield_A6N.NBAirfield_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBAirfield_A6S
Animation        NBAirfield_A6S.NBAirfield_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBAirfield_A6SN
Animation        NBAirfield_A6SN.NBAirfield_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End


; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_08
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A5
Animation        NBAirfield_A5.NBAirfield_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A5N
Animation        NBAirfield_A5N.NBAirfield_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End

ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A5S
Animation        NBAirfield_A5S.NBAirfield_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End

ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBAirfield_A5SN
Animation        NBAirfield_A5SN.NBAirfield_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBAirfield_AB
Animation        NBAirfield_AB.NBAirfield_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBAirfield_ABN
Animation        NBAirfield_ABN.NBAirfield_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBAirfield_ABS
Animation        NBAirfield_ABS.NBAirfield_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBAirfield_ABSN
Animation        NBAirfield_ABSN.NBAirfield_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBAirfield_AB
Animation        NBAirfield_AB.NBAirfield_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End

TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBAirfield_ABN
Animation        NBAirfield_ABN.NBAirfield_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBAirfield_ABS
Animation        NBAirfield_ABS.NBAirfield_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBAirfield_ABSN
Animation        NBAirfield_ABSN.NBAirfield_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

;------- Airfield Model Fix -------
Draw  W3DModelDraw ModuleTag_Extras
OkToChangeModelColor  Yes

DefaultConditionState
Model               NBAirfield_B
End
ConditionState        DAMAGED
Model               NBAirfield_BD
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBAirfield_BE
End
ConditionState        SNOW
Model               NBAirfield_BS
End
ConditionState        DAMAGED SNOW
Model               NBAirfield_BDS
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBAirfield_BES
End

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBAirfield_B
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBAirfield_BD
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBAirfield_BE
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBAirfield_BS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBAirfield_BDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBAirfield_BES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_Pikcbox01

DefaultConditionState
Model  NBAirfield_C
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  NIGHT
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

;**************************************************************************************************************************
ConditionState  AWAITING_CONSTRUCTION
Model  NONE
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Airfield
Side              China
EditorSorting     STRUCTURE

Prerequisites
Object  ChinaPropagandaCenter
End

BuildCost         2000
BuildTime         30.0           ; in seconds
EnergyProduction  -15
CommandSet        ChinaAirfieldCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  400
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  AirfieldChinaSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT POWERED
Body             StructureBody ModuleTag_09
MaxHealth        3000.0
InitialHealth    3000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1700
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ParkingPlaceBehavior ModuleTag_10
HealAmountPerSecond      10
NumRows                  2
NumCols                  2
HasRunways               Yes
ApproachHeight           50
ParkInHangars            Yes
End

Behavior  ProductionUpdate ModuleTag_11
NumDoorAnimations             4
DoorOpeningTime               2000  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 2000  ;in mSeconds
ConstructionCompleteDuration  1000  ;in mSeconds
End

Behavior  GenerateMinefieldBehavior     ModuleTag_15
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  FlammableUpdate ModuleTag_17
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior                OCLSpecialPower ModuleTag_SpyPlane01
SpecialPowerTemplate  SuperweaponChinaSpyPlane
OCL                   SUPERWEAPON_China_SpyPlane
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        AIRCRAFT
ExtraForbiddenKindOf       UNATTACKABLE
End

Geometry             BOX
GeometryMajorRadius  83.0
GeometryMinorRadius  76.0
GeometryHeight       25.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaBarracks

; *** ART Parameters ***
SelectPortrait          SNBarracks_L
ButtonImage             SNBarracks

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


; day
ConditionState  NONE
Model  NBBarracks
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks.NBBarracks
AnimationMode  LOOP
End

ConditionState  DAMAGED
Model  NBBarracks_D
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_D.NBBarracks_D
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED RUBBLE
Model  NBBarracks_E
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_E.NBBarracks_E
AnimationMode  LOOP
End

; day SNOW

ConditionState  SNOW
Model  NBBarracks_S
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_S.NBBarracks_S
AnimationMode  LOOP
End

ConditionState  DAMAGED SNOW
Model  NBBarracks_DS
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_DS.NBBarracks_DS
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED RUBBLE SNOW
Model  NBBarracks_ES
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_ES.NBBarracks_ES
AnimationMode  LOOP
End


; night
ConditionState  NIGHT
Model          NBBarracks_N
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_N.NBBarracks_N
AnimationMode  LOOP
End

ConditionState  DAMAGED NIGHT
Model  NBBarracks_DN
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_DN.NBBarracks_DN
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED RUBBLE NIGHT
Model  NBBarracks_EN
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_EN.NBBarracks_EN
AnimationMode  LOOP
End

; night snow
ConditionState  NIGHT SNOW
Model          NBBarracks_NS
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_NS.NBBarracks_NS
AnimationMode  LOOP
End

ConditionState  DAMAGED NIGHT SNOW
Model  NBBarracks_DNS
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_DNS.NBBarracks_DNS
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
Model  NBBarracks_ENS
ParticleSysBone Fire01 SmolderingFire
ParticleSysBone  Fire01 CoalPowerplantChimneySmoke
Animation      NBBarracks_ENS.NBBarracks_ENS
AnimationMode  LOOP
End


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBBarracks
Animation           NBBarracks.NBBarracks
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBBarracks_D
Animation           NBBarracks_D.NBBarracks_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBBarracks_E
Animation           NBBarracks_E.NBBarracks_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBBarracks_N
Animation           NBBarracks_N.NBBarracks_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBBarracks_DN
Animation           NBBarracks_DN.NBBarracks_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBBarracks_EN
Animation           NBBarracks_EN.NBBarracks_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBBarracks_S
Animation           NBBarracks_S.NBBarracks_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBBarracks_DS
Animation           NBBarracks_DS.NBBarracks_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBBarracks_ES
Animation           NBBarracks_ES.NBBarracks_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBBarracks_NS
Animation           NBBarracks_NS.NBBarracks_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBBarracks_DNS
Animation           NBBarracks_DNS.NBBarracks_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBBarracks_ENS
Animation           NBBarracks_ENS.NBBarracks_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A4
Animation        NBBarracks_A4.NBBarracks_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A4N
Animation        NBBarracks_A4N.NBBarracks_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A4S
Animation        NBBarracks_A4S.NBBarracks_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A4SN
Animation        NBBarracks_A4SN.NBBarracks_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBBarracks_A4
Animation        NBBarracks_A4.NBBarracks_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBBarracks_A4N
Animation        NBBarracks_A4N.NBBarracks_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBBarracks_A4S
Animation        NBBarracks_A4S.NBBarracks_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBBarracks_A4SN
Animation        NBBarracks_A4SN.NBBarracks_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBarracks_A4
Animation        NBBarracks_A4.NBBarracks_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBarracks_A4N
Animation        NBBarracks_A4N.NBBarracks_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBarracks_A4S
Animation        NBBarracks_A4S.NBBarracks_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBarracks_A4SN
Animation        NBBarracks_A4SN.NBBarracks_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBBarracks_A6
Animation        NBBarracks_A6.NBBarracks_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBBarracks_A6N
Animation        NBBarracks_A6N.NBBarracks_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBBarracks_A6S
Animation        NBBarracks_A6S.NBBarracks_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBBarracks_A6SN
Animation        NBBarracks_A6SN.NBBarracks_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
ParticleSysBone  Smoke05 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBarracks_A6
Animation        NBBarracks_A6.NBBarracks_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBarracks_A6N
Animation        NBBarracks_A6N.NBBarracks_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBarracks_A6S
Animation        NBBarracks_A6S.NBBarracks_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBarracks_A6SN
Animation        NBBarracks_A6SN.NBBarracks_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBarracks_A6
Animation        NBBarracks_A6.NBBarracks_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBarracks_A6N
Animation        NBBarracks_A6N.NBBarracks_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBarracks_A6S
Animation        NBBarracks_A6S.NBBarracks_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBarracks_A6SN
Animation        NBBarracks_A6SN.NBBarracks_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A5
Animation        NBBarracks_A5.NBBarracks_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A5N
Animation        NBBarracks_A5N.NBBarracks_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A5S
Animation        NBBarracks_A5S.NBBarracks_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBarracks_A5SN
Animation        NBBarracks_A5SN.NBBarracks_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBarracks_AB
Animation        NBBarracks_AB.NBBarracks_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBarracks_ABN
Animation        NBBarracks_ABN.NBBarracks_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBarracks_ABS
Animation        NBBarracks_ABS.NBBarracks_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBarracks_ABSN
Animation        NBBarracks_ABSN.NBBarracks_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBBarracks_AB
Animation        NBBarracks_AB.NBBarracks_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBBarracks_ABN
Animation        NBBarracks_ABN.NBBarracks_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBBarracks_ABS
Animation        NBBarracks_ABS.NBBarracks_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBBarracks_ABSN
Animation        NBBarracks_ABSN.NBBarracks_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Barracks
Side              China
EditorSorting     STRUCTURE
BuildCost         500
BuildTime         10.0           ; in seconds
EnergyProduction  0
CommandSet        ChinaBarracksCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  BarracksChinaSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS
Body             StructureBody ModuleTag_05
MaxHealth      1000.0
InitialHealth  1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  HealContain ModuleTag_06
ContainMax           10 ;way bigger than the # of objects we can have
TimeForFullHeal      2000   ;(in milliseconds)
AllowInsideKindOf    INFANTRY
AllowAlliesInside    Yes
AllowNeutralInside   No
AllowEnemiesInside   No
End

Behavior  ProductionUpdate ModuleTag_10
QuantityModifier  ChinaInfantryRedguard 2

;Optimized Training Infantry
QuantityModifier              ChinaInfantryRedguard_Optimized       4
QuantityModifier              ChinaInfantryTankHunter_Optimized     2
QuantityModifier              ChinaInfantryPyroTechnician_Optimized 2
QuantityModifier              ChinaInfantryMinigunner_Optimized     2

End

Behavior  QueueProductionExitUpdate ModuleTag_11
UnitCreatePoint    X:  0.0  Y:  -25.0   Z:0.0
NaturalRallyPoint  X: 36.0  Y:  -25.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
ExitDelay  300 ; Mainly for the multiple produced Red Guard.  Make them come out one at a time.
End

Behavior  GenerateMinefieldBehavior     ModuleTag_12
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  CommandSetUpgrade ModuleTag_OptimizedProduction01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
CommandSet       ChinaBarracksCommandSetUpgraded
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_OptimizedProduction02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
CommandSet       ChinaBarracksCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  36.0
GeometryMinorRadius  44.0
GeometryHeight       30.0
GeometryIsSmall      No
FactoryExitWidth     25
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaBreederReactor

; *** ART Parameters ***
SelectPortrait          SNSuperReactor_L
ButtonImage             SNSuperReactor

Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

;normal
ConditionState     NONE
Model            NBBrdRactr
Animation        NBBrdRactr.NBBrdRactr
AnimationMode    LOOP
ParticleSysBone  Steam01 SteamVent
ParticleSysBone  Steam02 SteamVent
ParticleSysBone  Steam03 SteamVent
ParticleSysBone  Steam04 SteamVent
ParticleSysBone  Steam05 SteamVent
ParticleSysBone  Steam06 SteamVent
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksSmall
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 SparksSmall
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
ParticleSysBone  Spark08 SparksSmall
ParticleSysBone  Spark09 SparksSmall
ParticleSysBone  Spark10 SparksSmall
ParticleSysBone  Spark11 SparksSmall
End
AliasConditionState  NIGHT

;damaged
ConditionState     DAMAGED
Model            NBBrdRactr_D
Animation        NBBrdRactr_D.NBBrdRactr_D
AnimationMode    LOOP
ParticleSysBone  Steam01 SteamVent
ParticleSysBone  Steam02 SteamVent
ParticleSysBone  Steam03 SteamVent
ParticleSysBone  Steam04 SteamVent
ParticleSysBone  Steam05 SteamVent
ParticleSysBone  Steam06 SteamVent
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksSmall
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 SparksSmall
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
ParticleSysBone  Spark08 SparksSmall
ParticleSysBone  Spark09 SparksSmall
ParticleSysBone  Spark10 SparksSmall
ParticleSysBone  Spark11 SparksSmall
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
ParticleSysBone  Fire05 SmolderingSmoke
ParticleSysBone  Fire05 SmolderingFire
ParticleSysBone  Fire06 SmolderingSmoke
ParticleSysBone  Fire07 SmolderingSmoke
ParticleSysBone  Fire07 SmolderingFire
ParticleSysBone  Fire08 SmolderingSmoke
ParticleSysBone  Fire09 SmolderingSmoke
ParticleSysBone  Fire09 SmolderingFire
ParticleSysBone  Fire10 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT

;reallydamaged
ConditionState     REALLYDAMAGED RUBBLE
Model            NBBrdRactr_E
Animation        NBBrdRactr_E.NBBrdRactr_E
AnimationMode    LOOP
ParticleSysBone  Steam01 SteamVent
ParticleSysBone  Steam02 SteamVent
ParticleSysBone  Steam03 SteamVent
ParticleSysBone  Steam04 SteamVent
ParticleSysBone  Steam05 SteamVent
ParticleSysBone  Steam06 SteamVent
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksSmall
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 SparksSmall
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
ParticleSysBone  Spark08 SparksSmall
ParticleSysBone  Spark09 SparksSmall
ParticleSysBone  Spark10 SparksSmall
ParticleSysBone  Spark11 SparksSmall
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire01 FireFactionLarge
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire03 FireFactionLarge
ParticleSysBone  Fire04 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire05 SmolderingSmoke
ParticleSysBone  Fire05 FireFactionLarge
ParticleSysBone  Fire06 SmolderingSmoke
ParticleSysBone  Fire06 SmolderingFire
ParticleSysBone  Fire07 SmolderingSmoke
ParticleSysBone  Fire07 FireFactionLarge
ParticleSysBone  Fire08 SmolderingSmoke
ParticleSysBone  Fire08 SmolderingFire
ParticleSysBone  Fire09 SmolderingSmoke
ParticleSysBone  Fire09 FireFactionLarge
ParticleSysBone  Fire10 SmolderingSmoke
ParticleSysBone  Fire10 SmolderingFire
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT


;snow
ConditionState     SNOW
Model            NBBrdRactr_S
Animation        NBBrdRactr_S.NBBrdRactr_S
AnimationMode    LOOP
ParticleSysBone  Steam01 SteamVent
ParticleSysBone  Steam02 SteamVent
ParticleSysBone  Steam03 SteamVent
ParticleSysBone  Steam04 SteamVent
ParticleSysBone  Steam05 SteamVent
ParticleSysBone  Steam06 SteamVent
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksSmall
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 SparksSmall
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
ParticleSysBone  Spark08 SparksSmall
ParticleSysBone  Spark09 SparksSmall
ParticleSysBone  Spark10 SparksSmall
ParticleSysBone  Spark11 SparksSmall
End
AliasConditionState  NIGHT SNOW

;damaged
ConditionState     DAMAGED SNOW
Model            NBBrdRactr_SD
Animation        NBBrdRactr_SD.NBBrdRactr_SD
AnimationMode    LOOP
ParticleSysBone  Steam01 SteamVent
ParticleSysBone  Steam02 SteamVent
ParticleSysBone  Steam03 SteamVent
ParticleSysBone  Steam04 SteamVent
ParticleSysBone  Steam05 SteamVent
ParticleSysBone  Steam06 SteamVent
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksSmall
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 SparksSmall
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
ParticleSysBone  Spark08 SparksSmall
ParticleSysBone  Spark09 SparksSmall
ParticleSysBone  Spark10 SparksSmall
ParticleSysBone  Spark11 SparksSmall
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire04 SmolderingSmoke
ParticleSysBone  Fire05 SmolderingSmoke
ParticleSysBone  Fire05 SmolderingFire
ParticleSysBone  Fire06 SmolderingSmoke
ParticleSysBone  Fire07 SmolderingSmoke
ParticleSysBone  Fire07 SmolderingFire
ParticleSysBone  Fire08 SmolderingSmoke
ParticleSysBone  Fire09 SmolderingSmoke
ParticleSysBone  Fire09 SmolderingFire
ParticleSysBone  Fire10 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT SNOW

;reallydamaged
ConditionState     REALLYDAMAGED RUBBLE SNOW
Model            NBBrdRactr_SE
Animation        NBBrdRactr_SE.NBBrdRactr_SE
AnimationMode    LOOP
ParticleSysBone  Steam01 SteamVent
ParticleSysBone  Steam02 SteamVent
ParticleSysBone  Steam03 SteamVent
ParticleSysBone  Steam04 SteamVent
ParticleSysBone  Steam05 SteamVent
ParticleSysBone  Steam06 SteamVent
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksSmall
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 SparksSmall
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
ParticleSysBone  Spark08 SparksSmall
ParticleSysBone  Spark09 SparksSmall
ParticleSysBone  Spark10 SparksSmall
ParticleSysBone  Spark11 SparksSmall
ParticleSysBone  Fire01 SmolderingSmoke
ParticleSysBone  Fire01 FireFactionLarge
ParticleSysBone  Fire02 SmolderingSmoke
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire03 SmolderingSmoke
ParticleSysBone  Fire03 FireFactionLarge
ParticleSysBone  Fire04 SmolderingSmoke
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire05 SmolderingSmoke
ParticleSysBone  Fire05 FireFactionLarge
ParticleSysBone  Fire06 SmolderingSmoke
ParticleSysBone  Fire06 SmolderingFire
ParticleSysBone  Fire07 SmolderingSmoke
ParticleSysBone  Fire07 FireFactionLarge
ParticleSysBone  Fire08 SmolderingSmoke
ParticleSysBone  Fire08 SmolderingFire
ParticleSysBone  Fire09 SmolderingSmoke
ParticleSysBone  Fire09 FireFactionLarge
ParticleSysBone  Fire10 SmolderingSmoke
ParticleSysBone  Fire10 SmolderingFire
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW




;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBBrdRactr
Animation           NBBrdRactr.NBBrdRactr
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBBrdRactr_D
Animation           NBBrdRactr_D.NBBrdRactr_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBBrdRactr_E
Animation           NBBrdRactr_E.NBBrdRactr_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBBrdRactr_S
Animation           NBBrdRactr_S.NBBrdRactr_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBBrdRactr_SD
Animation           NBBrdRactr_SD.NBBrdRactr_SD
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBBrdRactr_SE
Animation           NBBrdRactr_SE.NBBrdRactr_SE
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************




End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBrdRactr_A4
Animation        NBBrdRactr_A4.NBBrdRactr_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBrdRactr_A4
Animation        NBBrdRactr_A4.NBBrdRactr_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBrdRactr_A4S
Animation        NBBrdRactr_A4S.NBBrdRactr_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBrdRactr_A4S
Animation        NBBrdRactr_A4S.NBBrdRactr_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBBrdRactr_A4
Animation        NBBrdRactr_A4.NBBrdRactr_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBBrdRactr_A4
Animation        NBBrdRactr_A4.NBBrdRactr_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBBrdRactr_A4S
Animation        NBBrdRactr_A4S.NBBrdRactr_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBBrdRactr_A4S
Animation        NBBrdRactr_A4S.NBBrdRactr_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBrdRactr_A4
Animation        NBBrdRactr_A4.NBBrdRactr_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBrdRactr_A4
Animation        NBBrdRactr_A4.NBBrdRactr_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBrdRactr_A4S
Animation        NBBrdRactr_A4S.NBBrdRactr_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBrdRactr_A4S
Animation        NBBrdRactr_A4S.NBBrdRactr_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBBrdRactr_A6
Animation        NBBrdRactr_A6.NBBrdRactr_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBBrdRactr_A6
Animation        NBBrdRactr_A6.NBBrdRactr_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBBrdRactr_A6S
Animation        NBBrdRactr_A6S.NBBrdRactr_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBBrdRactr_A6S
Animation        NBBrdRactr_A6S.NBBrdRactr_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBrdRactr_A6
Animation        NBBrdRactr_A6.NBBrdRactr_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBrdRactr_A6
Animation        NBBrdRactr_A6.NBBrdRactr_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBrdRactr_A6S
Animation        NBBrdRactr_A6S.NBBrdRactr_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBrdRactr_A6S
Animation        NBBrdRactr_A6S.NBBrdRactr_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBrdRactr_A6
Animation        NBBrdRactr_A6.NBBrdRactr_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBrdRactr_A6
Animation        NBBrdRactr_A6.NBBrdRactr_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBrdRactr_A6S
Animation        NBBrdRactr_A6S.NBBrdRactr_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBrdRactr_A6S
Animation        NBBrdRactr_A6S.NBBrdRactr_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5
Animation        NBPCenter_A5.NBPCenter_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5N
Animation        NBPCenter_A5N.NBPCenter_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5S
Animation        NBPCenter_A5S.NBPCenter_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5S
Animation        NBPCenter_A5S.NBPCenter_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPCenter_AB
Animation        NBPCenter_AB.NBPCenter_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPCenter_ABN
Animation        NBPCenter_ABN.NBPCenter_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPCenter_AB
Animation        NBPCenter_AB.NBPCenter_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPCenter_ABN
Animation        NBPCenter_ABN.NBPCenter_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName          OBJECT:BreederReactor
Side                 China
EditorSorting        STRUCTURE

Prerequisites
Object             ChinaPropagandaCenter
End

BuildCost            2000
BuildTime            55.0           ; in seconds
EnergyProduction     90
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              PropagandaStructureArmor_Noshutdown
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              PropagandaStructureArmor
DamageFX           StructureDamageFXNoShake
End

CommandSet           ChinaBreederReactorCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level
MaxSimultaneousOfType  1


; *** AUDIO Parameters ***
VoiceSelect            BreederReactorSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_ADVANCED_TECH
Body             StructureBody ModuleTag_07
MaxHealth        5000.0
InitialHealth    5000.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior                 GenerateMinefieldBehavior ModuleTag_15
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior              FlammableUpdate ModuleTag_17
AflameDuration      5000    ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay   500     ; this often.
End

Behavior  SpecialPowerCreate ModuleTag_EmergencyRepair02
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
CrateData       ChineseTacticalNuclearCrateData
ExemptStatus    UNDER_CONSTRUCTION
End


Behavior  ProductionUpdate ModuleTag_19
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior  InstantDeathBehavior ModuleTag_Collapse02
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse03
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               3000
Weapon                         INITIAL ChinaBreederReactorDeathWeapon
End

Behavior  CommandSetUpgrade ModuleTag_12313
CommandSet   ChinaBreederReactorUpgradedCommandSet
TriggeredBy  Upgrade_ChinaNuclearTanks
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  MaxHealthUpgrade ModuleTag_ArmorUpgrade03
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth   -2500.0
ChangeType     PRESERVE_RATIO
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  50.0
GeometryMinorRadius  58.0
GeometryHeight       60.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;    
;------------------------------------------------------------------------------
Object ChinaCommandCenter

; *** ART Parameters ***
SelectPortrait          SNComCentr_L
ButtonImage             SNComCentr

UpgradeCameo1            Upgrade_ChinaRadar

; ------------ the main building itself -----------------
Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               NBConYard
Animation           NBConYard.NBConYard
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               NBConYard_D
Animation           NBConYard_D.NBConYard_D
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBConYard_E
Animation           NBConYard_E.NBConYard_E
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire06 SmolderingFire
ParticleSysBone     Fire07 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End


;NIGHT ***********************************
ConditionState        NIGHT
Model               NBConYard_N
Animation           NBConYard_N.NBConYard_N
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT
Model               NBConYard_DN
Animation           NBConYard_DN.NBConYard_DN
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT
Model            NBConYard_EN
Animation        NBConYard_EN.NBConYard_EN
AnimationMode    LOOP
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire05 SmolderingFire
ParticleSysBone  Fire06 SmolderingFire
ParticleSysBone  Fire07 SmolderingFire
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End


;SNOW *************************************
ConditionState        SNOW
Model               NBConYard_S
Animation           NBConYard_S.NBConYard_S
AnimationMode       LOOP
End
ConditionState        DAMAGED SNOW
Model               NBConYard_DS
Animation           NBConYard_DS.NBConYard_DS
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBConYard_ES
Animation           NBConYard_ES.NBConYard_ES
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire06 SmolderingFire
ParticleSysBone     Fire07 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End

;NIGHT SNOW *****************************
ConditionState        NIGHT SNOW
Model               NBConYard_NS
Animation           NBConYard_NS.NBConYard_NS
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT SNOW
Model               NBConYard_DNS
Animation           NBConYard_DNS.NBConYard_DNS
AnimationMode       LOOP
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT SNOW
Model            NBConYard_ENS
Animation        NBConYard_ENS.NBConYard_ENS
AnimationMode    LOOP
ParticleSysBone  Fire01 SmolderingFire
ParticleSysBone  Fire02 SmolderingFire
ParticleSysBone  Fire03 SmolderingFire
ParticleSysBone  Fire04 SmolderingFire
ParticleSysBone  Fire05 SmolderingFire
ParticleSysBone  Fire06 SmolderingFire
ParticleSysBone  Fire07 SmolderingFire
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBConYard
Animation           NBConYard.NBConYard
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBConYard_D
Animation           NBConYard_D.NBConYard_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBConYard_E
Animation           NBConYard_E.NBConYard_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBConYard_N
Animation           NBConYard_N.NBConYard_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBConYard_DN
Animation           NBConYard_DN.NBConYard_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBConYard_EN
Animation           NBConYard_EN.NBConYard_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBConYard_S
Animation           NBConYard_S.NBConYard_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBConYard_DS
Animation           NBConYard_DS.NBConYard_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBConYard_ES
Animation           NBConYard_ES.NBConYard_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBConYard_NS
Animation           NBConYard_NS.NBConYard_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBConYard_DNS
Animation           NBConYard_DNS.NBConYard_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBConYard_ENS
Animation           NBConYard_ENS.NBConYard_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ Radar Extending -----------------
Draw                 W3DModelDraw ModuleTag_02

DefaultConditionState
Model              None
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE

ConditionState       RADAR_EXTENDING RADAR_UPGRADED
Model              NBConYard_A2
Animation          NBConYard_A2.NBConYard_A2
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState       RADAR_EXTENDING DAMAGED RADAR_UPGRADED
Model              NBConYard_A2D
Animation          NBConYard_A2D.NBConYard_A2D
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState       RADAR_EXTENDING REALLYDAMAGED RUBBLE RADAR_UPGRADED
Model              NBConYard_A2E
Animation          NBConYard_A2E.NBConYard_A2E
AnimationMode      ONCE
Flags              START_FRAME_FIRST
End

ConditionState       RADAR_UPGRADED
Model              NBConYard_A2
Animation          NBConYard_A2.NBConYard_A2
AnimationMode      MANUAL
Flags              START_FRAME_LAST
End

ConditionState       RADAR_UPGRADED DAMAGED
Model              NBConYard_A2D
Animation          NBConYard_A2D.NBConYard_A2D
AnimationMode      MANUAL
Flags              START_FRAME_LAST
End

ConditionState       RADAR_UPGRADED REALLYDAMAGED RUBBLE
Model              NBConYard_A2E
Animation          NBConYard_A2E.NBConYard_A2E
AnimationMode      MANUAL
Flags              START_FRAME_LAST
End

ConditionState       RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBConYard_A2
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBConYard_A2D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState       RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model              NBConYard_A2E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

End
PlacementViewAngle  -135

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4
Animation        NBConYard_A4.NBConYard_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4N
Animation        NBConYard_A4N.NBConYard_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4S
Animation        NBConYard_A4S.NBConYard_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A4SN
Animation        NBConYard_A4SN.NBConYard_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBConYard_A4
Animation        NBConYard_A4.NBConYard_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBConYard_A4N
Animation        NBConYard_A4N.NBConYard_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBConYard_A4S
Animation        NBConYard_A4S.NBConYard_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBConYard_A4SN
Animation        NBConYard_A4SN.NBConYard_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBConYard_A4
Animation        NBConYard_A4.NBConYard_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBConYard_A4N
Animation        NBConYard_A4N.NBConYard_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBConYard_A4S
Animation        NBConYard_A4S.NBConYard_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBConYard_A4SN
Animation        NBConYard_A4SN.NBConYard_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
ParticleSysBone  Pit SmolderingFire
ParticleSysBone  Pit01 SmolderingFire
ParticleSysBone  Pit SmolderingSmoke
ParticleSysBone  Pit01 SmolderingSmoke
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBConYard_A6
Animation        NBConYard_A6.NBConYard_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  SmokeM01 BuildUpSmokeChina
ParticleSysBone  SmokeS02 BuildUpSmokeChina
ParticleSysBone  SparksM01 BuildUpSmokeChina
ParticleSysBone  SparksM02 BuildUpSmokeChina
ParticleSysBone  SparksS01 BuildUpSmokeChina
ParticleSysBone  SparksS02 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBConYard_A6N
Animation        NBConYard_A6N.NBConYard_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT

ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  SmokeM01 BuildUpSmokeChina
ParticleSysBone  SmokeS02 BuildUpSmokeChina
ParticleSysBone  SparksM01 BuildUpSmokeChina
ParticleSysBone  SparksM02 BuildUpSmokeChina
ParticleSysBone  SparksS01 BuildUpSmokeChina
ParticleSysBone  SparksS02 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBConYard_A6S
Animation        NBConYard_A6S.NBConYard_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  SmokeM01 BuildUpSnowSmoke
ParticleSysBone  SmokeS02 BuildUpSnowSmoke
ParticleSysBone  SparksM01 BuildUpSnowSmoke
ParticleSysBone  SparksM02 BuildUpSnowSmoke
ParticleSysBone  SparksS01 BuildUpSnowSmoke
ParticleSysBone  SparksS02 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBConYard_A6SN
Animation        NBConYard_A6SN.NBConYard_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  SmokeM01 BuildUpNightSnowSmoke
ParticleSysBone  SmokeS02 BuildUpNightSnowSmoke
ParticleSysBone  SparksM01 BuildUpNightSnowSmoke
ParticleSysBone  SparksM02 BuildUpNightSnowSmoke
ParticleSysBone  SparksS01 BuildUpNightSnowSmoke
ParticleSysBone  SparksS02 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBConYard_A6
Animation        NBConYard_A6.NBConYard_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBConYard_A6N
Animation        NBConYard_A6N.NBConYard_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBConYard_A6S
Animation        NBConYard_A6S.NBConYard_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBConYard_A6SN
Animation        NBConYard_A6SN.NBConYard_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBConYard_A6
Animation        NBConYard_A6.NBConYard_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBConYard_A6N
Animation        NBConYard_A6N.NBConYard_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBConYard_A6S
Animation        NBConYard_A6S.NBConYard_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBConYard_A6SN
Animation        NBConYard_A6SN.NBConYard_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5
Animation        NBConYard_A5.NBConYard_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5N
Animation        NBConYard_A5N.NBConYard_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5S
Animation        NBConYard_A5S.NBConYard_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBConYard_A5SN
Animation        NBConYard_A5SN.NBConYard_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBConYard_AB
Animation        NBConYard_AB.NBConYard_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBConYard_ABN
Animation        NBConYard_ABN.NBConYard_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBConYard_ABS
Animation        NBConYard_ABS.NBConYard_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBConYard_ABSN
Animation        NBConYard_ABSN.NBConYard_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBConYard_AB
Animation        NBConYard_AB.NBConYard_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBConYard_ABN
Animation        NBConYard_ABN.NBConYard_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBConYard_ABS
Animation        NBConYard_ABS.NBConYard_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBConYard_ABSN
Animation        NBConYard_ABSN.NBConYard_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_06
DefaultConditionState
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState     DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_OPENING DAMAGED

ConditionState     DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING DAMAGED

ConditionState     DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            NBConYard_A7
Animation        NBConYard_A7.NBConYard_A7
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED

ConditionState     DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model            NBConYard_A7D
Animation        NBConYard_A7D.NBConYard_A7D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBConYard_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBConYard_A7D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBConYard_A7D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; Officers club flag
Draw  W3DModelDraw ModuleTag_OfficersClub
OkToChangeModelColor  No

ConditionState        NONE
Model               None
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED
AliasConditionState   RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE
ConditionState        PREORDER
Model               OCFlagCHA
Animation           OCFlagCHA.OCFlagCHA
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
;    ConditionState        PREORDER DAMAGED
;      Model               OCFlagCHA_D
;      Animation           OCFlagCHA_D.OCFlagCHA_D
;      AnimationMode       LOOP
;      Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
;    End
;    ConditionState        PREORDER REALLYDAMAGED
;      Model               OCFlagCHA_E
;      Animation           OCFlagCHA_E.OCFlagCHA_E
;      AnimationMode       LOOP
;      Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
;    End
End

; ------------ radio intercepts array -----------------
Draw                    W3DModelDraw ModuleTag_Array01

OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               NBRdioRdr
Animation           NBRdioRdr.NBRdioRdr
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               NBRdioRdr_D
Animation           NBRdioRdr_D.NBRdioRdr_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               NBRdioRdr_E
Animation           NBRdioRdr_E.NBRdioRdr_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               NBRdioRdr_S
Animation           NBRdioRdr_S.NBRdioRdr_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               NBRdioRdr_SD
Animation           NBRdioRdr_SD.NBRdioRdr_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               NBRdioRdr_SE
Animation           NBRdioRdr_SE.NBRdioRdr_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBRdioRdr
Animation          NBRdioRdr.NBRdioRdr
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBRdioRdr_D
Animation          NBRdioRdr_D.NBRdioRdr_D
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NBRdioRdr_E
Animation          NBRdioRdr_E.NBRdioRdr_E
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              NBRdioRdr_S
Animation          NBRdioRdr_S.NBRdioRdr_S
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              NBRdioRdr_SD
Animation          NBRdioRdr_SD.NBRdioRdr_SD
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              NBRdioRdr_SE
Animation          NBRdioRdr_SE.NBRdioRdr_SE
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName        OBJECT:CommandCenter
Side               China
EditorSorting      STRUCTURE
BuildCost          2000
RefundValue        1000 ; With nothing (or zero) listed, we sell for no money at all
BuildTime          45.0           ; in seconds
EnergyProduction   0  ;Command center should be free
VisionRange        300.0           ; Shroud clearing distance
ShroudClearingRange  300
MaxSimultaneousOfType  1

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

Prerequisites
Object  FactionChina
End

ExperienceValue      200 200 200 200  ; Experience point value at each level
CommandSet         ChinaCommandCenterCommandSet

; *** AUDIO Parameters ***
VoiceSelect        CommandCenterChinaSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY

Body               StructureBody ModuleTag_07
MaxHealth        5000.0
InitialHealth    5000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  5200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  PreorderCreate ModuleTag_PreorderCreate
End

Behavior  ProductionUpdate ModuleTag_08
NumDoorAnimations             1
DoorOpeningTime               3000  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 3000  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End
Behavior  DefaultProductionExitUpdate ModuleTag_09
UnitCreatePoint    X:-18.0  Y: 40.0   Z:0.0
NaturalRallyPoint  X: 60.0  Y: 40.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
End

Behavior  RadarUpdate ModuleTag_10
RadarExtendTime    4950     ;in mSeconds
End

Behavior  RadarUpgrade ModuleTag_14
TriggeredBy  Upgrade_ChinaRadar
End

Behavior  ObjectCreationUpgrade ModuleTag_RadarActive01
TriggeredBy  Upgrade_ChinaRadar
UpgradeObject  OCL_ChinaRadarActiveObject
End

Behavior  GenerateMinefieldBehavior     ModuleTag_15
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
CommandSet       ChinaCommandCenterCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       ChinaCommandCenterPowersCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior            OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponNapalmBomb
OCL                   SUPERWEAPON_NapalmBomb
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior  GrantScienceUpgrade ModuleTag_GenPowerUpgrade01
GrantScience  SCIENCE_BlackNapalmStrike
TriggeredBy   Upgrade_ChinaBlackNapalm
End

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponParaBombs
UpgradeOCL            SCIENCE_ParaBombs3 SUPERWEAPON_ParaBombs3
UpgradeOCL            SCIENCE_ParaBombs2 SUPERWEAPON_ParaBombs2
OCL                   SUPERWEAPON_ParaBombs1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End



Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponClusterMines
OCL                   SUPERWEAPON_ClusterMines
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower05
SpecialPowerTemplate  SuperweaponEMPPulse
OCL                   SUPERWEAPON_EMPPulse
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            CashHackSpecialPower ModuleTag_GenPower06
SpecialPowerTemplate  SuperweaponCashHack
MoneyAmount           2000  ; amount of money to steal
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponFrenzy
UpgradeOCL            SCIENCE_Frenzy3 SUPERWEAPON_Frenzy3
UpgradeOCL            SCIENCE_Frenzy2 SUPERWEAPON_Frenzy2
OCL                   SUPERWEAPON_Frenzy1
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower11
SpecialPowerTemplate  SuperweaponECMBomb
UpgradeOCL            SCIENCE_ECMBomb3 SUPERWEAPON_ECMBomb3
UpgradeOCL            SCIENCE_ECMBomb2 SUPERWEAPON_ECMBomb2
OCL                   SUPERWEAPON_ECMBomb1
CreateLocation        CREATE_AT_LOCATION
End

Behavior    = OCLSpecialPower ModuleTag_GenPower012
SpecialPowerTemplate = SuperweaponCrateDrop
OCL                  = SUPERWEAPON_ChinaCrateDrop
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower013
SpecialPowerTemplate  SuperweaponEmergencyRepair
OCL                   SUPERWEAPON_RepairVehicles1
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower014
SpecialPowerTemplate  SuperweaponArtilleryBarrage
;UpgradeOCL            SCIENCE_ArtilleryBarrage3 SUPERWEAPON_ArtilleryBarrage3
;    UpgradeOCL            SCIENCE_ArtilleryBarrage2 SUPERWEAPON_ArtilleryBarrage2
OCL                   SUPERWEAPON_ArtilleryBarrage1
CreateLocation        CREATE_AT_EDGE_FARTHEST_FROM_TARGET
End

Behavior = SpecialAbility ModuleTag_Spectre01
SpecialPowerTemplate = SuperweaponDragonStar
UpdateModuleStartsAttack = Yes
End
Behavior = SpectreGunshipDeploymentUpdate ModuleSpectre02
SpecialPowerTemplate = SuperweaponDragonStar
RequiredScience = SCIENCE_ChinaDragonStar
GunshipTemplateName = ChinaDragonstar
AttackAreaRadius = 250
CreateLocation = CREATE_AT_EDGE_NEAR_SOURCE
; other choices are: *NEAR_SOURCE *FARTHEST_FROM_SOURCE *NEAR_TARGET
End

Behavior           = OCLSpecialPower ModuleTag_GenPower015
SpecialPowerTemplate = SuperweaponBenzinDrop
;UpgradeOCL           = SCIENCE_BenzinDrop3 SUPERWEAPON_BenzinDrop3
;UpgradeOCL           = SCIENCE_BenzinDrop2 SUPERWEAPON_BenzinDrop2
OCL                  = SUPERWEAPON_BenzinDrop1
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior           = OCLSpecialPower ModuleTag_GenPower016
SpecialPowerTemplate = SuperweaponNapalmStrike
OCL                  = SUPERWEAPON_NapalmStrike
End

Behavior            OCLSpecialPower ModuleTag_GenPower017
SpecialPowerTemplate  SuperweapoChinaTankDrop
OCL                   SUPERWEAPON_ChinaTankDrop
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

  Behavior           = OCLSpecialPower ModuleTag_GenPower018
    SpecialPowerTemplate = SuperweaponChinaInfantryParadrop
    ;UpgradeOCL           = Infa_SCIENCE_InfantryParadrop3 Infa_SUPERWEAPON_Paradrop3
    ;UpgradeOCL           = Infa_SCIENCE_InfantryParadrop2 Infa_SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_ChinaParadrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End 

;Radio Intercepts modules
Behavior  HelixContain ModuleTag_RadioIntercepts01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_RadioIntercepts02
CollideWeapon  CommandCenterRadioInterceptsUpgradeWeapon
RequiredStatus  IS_BRAKING
End

Behavior  BoneFXDamage ModuleTag_RadioIntercepts03
End

Behavior  BoneFXUpdate ModuleTag_RadioIntercepts04
;General collision effect
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponCollide ModuleTag_RemoveDummies01
CollideWeapon   CommandCenterRadioInterceptDummyObjectRemovalWeapon
RequiredStatus  SOLD
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponWhenDeadBehavior ModuleTag_RemoveDummies02
DeathWeapon   CommandCenterRadioInterceptDummyObjectRemovalWeapon
StartsActive  Yes
End

Behavior  FlammableUpdate ModuleTag_23
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_24
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior             SpawnBehavior ModuleTag_FreeDozer01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   ChinaVehicleDozer
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior              SpawnBehavior ModuleTag_Spawner01
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName   ChinaSuperWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End
Behavior              SpawnBehavior ModuleTag_Spawner02
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName    ChinaSupportWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End

Geometry             BOX
FactoryExitWidth     25
GeometryMajorRadius  60.0
GeometryMinorRadius  63.0
GeometryHeight       36.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaActiveRadarObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButHack
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD IMMOBILE NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  BoneFXDamage ModuleTag_RadarActive01
End

Behavior  BoneFXUpdate ModuleTag_RadarActive02
PristineOCL1       bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
DamagedOCL1        bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
End

End
;------------------------------------------------------------------------------
;    
;------------------------------------------------------------------------------
Object ChinaInternetCenter

; *** ART Parameters ***
SelectPortrait          SNIntCnt_L
ButtonImage             SNIntCnt

; ------------ the main building itself -----------------
Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               NBINTCNT
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState  USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2
Animation  NBINTCNT_A2.NBINTCNT_A2
AnimationMode  ONCE
End

ConditionState  USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2F
Animation  NBINTCNT_A2F.NBINTCNT_A2F
AnimationMode  ONCE
End

ConditionState        DAMAGED
Model               NBINTCNT_D
End

ConditionState  DAMAGED USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2D
Animation  NBINTCNT_A2D.NBINTCNT_A2D
AnimationMode  ONCE
End

ConditionState  DAMAGED USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FD
Animation  NBINTCNT_A2FD.NBINTCNT_A2FD
AnimationMode  ONCE
End

ConditionState        REALLYDAMAGED
Model               NBINTCNT_E
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmokeFactionLarge
ParticleSysBone     Smoke06 SmokeFactionLarge
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 FireFactionLarge
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2E
Animation  NBINTCNT_A2E.NBINTCNT_A2E
AnimationMode  ONCE
End
AliasConditionState  RUBBLE USER_1

ConditionState  REALLYDAMAGED USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FE
Animation  NBINTCNT_A2FE.NBINTCNT_A2FE
AnimationMode  ONCE
End
AliasConditionState  RUBBLE USER_1 USER_2

;NIGHT ***********************************
ConditionState        NIGHT
Model               NBINTCNT_N
End

ConditionState  NIGHT USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2N
Animation  NBINTCNT_A2N.NBINTCNT_A2N
AnimationMode  ONCE
End

ConditionState  NIGHT USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FN
Animation  NBINTCNT_A2FN.NBINTCNT_A2FN
AnimationMode  ONCE
End

ConditionState        DAMAGED NIGHT
Model               NBINTCNT_DN
End

ConditionState  DAMAGED NIGHT USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2DN
Animation  NBINTCNT_A2DN.NBINTCNT_A2DN
AnimationMode  ONCE
End

ConditionState  DAMAGED NIGHT USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FDN
Animation  NBINTCNT_A2FDN.NBINTCNT_A2FDN
AnimationMode  ONCE
End

ConditionState     REALLYDAMAGED NIGHT
Model            NBINTCNT_EN
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmokeFactionLarge
ParticleSysBone     Smoke06 SmokeFactionLarge
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 FireFactionLarge
End
AliasConditionState  RUBBLE NIGHT

ConditionState  REALLYDAMAGED NIGHT USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2EN
Animation  NBINTCNT_A2EN.NBINTCNT_A2EN
AnimationMode  ONCE
End
AliasConditionState  RUBBLE NIGHT USER_1

ConditionState  REALLYDAMAGED NIGHT USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FEN
Animation  NBINTCNT_A2FEN.NBINTCNT_A2FEN
AnimationMode  ONCE
End
AliasConditionState  RUBBLE NIGHT USER_1 USER_2

;SNOW *************************************
ConditionState        SNOW
Model               NBINTCNT_S
End

ConditionState  SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2S
Animation  NBINTCNT_A2S.NBINTCNT_A2S
AnimationMode  ONCE
End

ConditionState  SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FS
Animation  NBINTCNT_A2FS.NBINTCNT_A2FS
AnimationMode  ONCE
End

ConditionState        DAMAGED SNOW
Model               NBINTCNT_DS
End

ConditionState  DAMAGED SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2DS
Animation  NBINTCNT_A2DS.NBINTCNT_A2DS
AnimationMode  ONCE
End

ConditionState  DAMAGED SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FDS
Animation  NBINTCNT_A2FDS.NBINTCNT_A2FDS
AnimationMode  ONCE
End

ConditionState        REALLYDAMAGED SNOW
Model               NBINTCNT_ES
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmokeFactionLarge
ParticleSysBone     Smoke06 SmokeFactionLarge
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 FireFactionLarge
End
AliasConditionState  RUBBLE SNOW

ConditionState  REALLYDAMAGED SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2ES
Animation  NBINTCNT_A2ES.NBINTCNT_A2ES
AnimationMode  ONCE
End
AliasConditionState  RUBBLE SNOW USER_1

ConditionState  REALLYDAMAGED SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FES
Animation  NBINTCNT_A2FES.NBINTCNT_A2FES
AnimationMode  ONCE
End
AliasConditionState  RUBBLE SNOW USER_1 USER_2

;NIGHT SNOW *****************************
ConditionState        NIGHT SNOW
Model               NBINTCNT_NS
End

ConditionState  NIGHT SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2NS
Animation  NBINTCNT_A2NS.NBINTCNT_A2NS
AnimationMode  ONCE
End

ConditionState  NIGHT SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FNS
Animation  NBINTCNT_A2FNS.NBINTCNT_A2FNS
AnimationMode  ONCE
End

ConditionState        DAMAGED NIGHT SNOW
Model               NBINTCNT_DNS
End

ConditionState  DAMAGED NIGHT SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2DNS
Animation  NBINTCNT_A2DNS.NBINTCNT_A2DNS
AnimationMode  ONCE
End

ConditionState  DAMAGED NIGHT SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FDNS
Animation  NBINTCNT_A2FDNS.NBINTCNT_A2FDNS
AnimationMode  ONCE
End

ConditionState     REALLYDAMAGED NIGHT SNOW
Model            NBINTCNT_ENS
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmokeFactionLarge
ParticleSysBone     Smoke06 SmokeFactionLarge
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 FireFactionLarge
End
AliasConditionState  RUBBLE NIGHT SNOW

ConditionState  REALLYDAMAGED NIGHT SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
Model  NBINTCNT_A2ENS
Animation  NBINTCNT_A2ENS.NBINTCNT_A2ENS
AnimationMode  ONCE
End
AliasConditionState  RUBBLE NIGHT SNOW USER_1

ConditionState  REALLYDAMAGED NIGHT SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
Model  NBINTCNT_A2FENS
Animation  NBINTCNT_A2FENS.NBINTCNT_A2FENS
AnimationMode  ONCE
End
AliasConditionState  RUBBLE NIGHT SNOW USER_1 USER_2

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBINTCNT
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBINTCNT_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBINTCNT_E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBINTCNT_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBINTCNT_DN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBINTCNT_EN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBINTCNT_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBINTCNT_DS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBINTCNT_ES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBINTCNT_NS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBINTCNT_DNS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBINTCNT_ENS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION NIGHT USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION SNOW USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED USER_1 USER_2
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED USER_1 USER_2
AliasConditionState   SOLD  USER_1 USER_2
AliasConditionState   SOLD DAMAGED USER_1 USER_2
AliasConditionState   SOLD REALLYDAMAGED USER_1 USER_2
AliasConditionState   SOLD NIGHT USER_1 USER_2
AliasConditionState   SOLD NIGHT DAMAGED USER_1 USER_2
AliasConditionState   SOLD NIGHT REALLYDAMAGED USER_1 USER_2
AliasConditionState   SOLD SNOW USER_1 USER_2
AliasConditionState   SOLD SNOW DAMAGED USER_1 USER_2
AliasConditionState   SOLD SNOW REALLYDAMAGED USER_1 USER_2
AliasConditionState   SOLD NIGHT SNOW USER_1 USER_2
AliasConditionState   SOLD NIGHT SNOW DAMAGED USER_1 USER_2
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED USER_1 USER_2
;**************************************************************************************************************************
End

; ------------ Fan in back --------------
Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NBINTCNT_F
Animation  NBINTCNT_F.NBINTCNT_F
AnimationMode  LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
End

; ------------- First Satellite -----------
Draw  W3DModelDraw ModuleTag_03
ConditionState  NONE
Model            None
TransitionKey  Trans_Down
End
AliasConditionState  SOLD
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION USER_1
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED USER_1

ConditionState  DAMAGED
Model            None
TransitionKey  Trans_Down_Damaged
End
AliasConditionState  SOLD DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION USER_1 DAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED USER_1 DAMAGED

ConditionState  REALLYDAMAGED
Model            None
TransitionKey  Trans_Down_Really_Damaged
End
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION USER_1 REALLYDAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED USER_1 REALLYDAMAGED


TransitionState  Trans_Down Trans_Up
Model            NBINTCNT_AB
Animation  NBINTCNT_AB.NBINTCNT_AB
AnimationMode  ONCE
End
TransitionState  Trans_Down_Damaged Trans_Up_Damaged
Model            NBINTCNT_DAB
Animation  NBINTCNT_DAB.NBINTCNT_DAB
AnimationMode  ONCE
End
TransitionState  Trans_Down_Really_Damaged Trans_Up_Really_Damaged
Model            NBINTCNT_EAB
Animation  NBINTCNT_EAB.NBINTCNT_EAB
AnimationMode  ONCE
End


ConditionState  USER_1
Model            NBINTCNT_AC
Animation  NBINTCNT_AC.NBINTCNT_AC
AnimationMode  LOOP
TransitionKey  Trans_Up
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 DAMAGED
Model            NBINTCNT_DAC
Animation  NBINTCNT_DAC.NBINTCNT_DAC
AnimationMode  LOOP
TransitionKey  Trans_Up_Damaged
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USER_1 REALLYDAMAGED
Model            NBINTCNT_EAC
Animation  NBINTCNT_EAC.NBINTCNT_EAC
AnimationMode  LOOP
TransitionKey  Trans_Up_Really_Damaged
Flags  MAINTAIN_FRAME_ACROSS_STATES
End


TransitionState  Trans_Up Trans_Down
Model            NBINTCNT_AB
Animation  NBINTCNT_AB.NBINTCNT_AB
AnimationMode  ONCE_BACKWARDS
End
TransitionState  Trans_Up_Damaged Trans_Down_Damaged
Model            NBINTCNT_DAB
Animation  NBINTCNT_DAB.NBINTCNT_DAB
AnimationMode  ONCE_BACKWARDS
End
TransitionState  Trans_Up_Really_Damaged Trans_Down_Really_Damaged
Model            NBINTCNT_EAB
Animation  NBINTCNT_EAB.NBINTCNT_EAB
AnimationMode  ONCE_BACKWARDS
End
End

; ------------- Second Satellite -----------
Draw  W3DModelDraw ModuleTag_04
ConditionState  NONE
Model            None
TransitionKey  Trans_Down
End
AliasConditionState  SOLD
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION USER_1
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED USER_1

ConditionState  DAMAGED
Model            None
TransitionKey  Trans_Down_Damaged
End
AliasConditionState  SOLD DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION USER_1 DAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED USER_1 DAMAGED

ConditionState  REALLYDAMAGED
Model            None
TransitionKey  Trans_Down_Really_Damaged
End
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION USER_1 REALLYDAMAGED
AliasConditionState  ACTIVELY_BEING_CONSTRUCTED USER_1 REALLYDAMAGED


TransitionState  Trans_Down Trans_Up
Model            NBINTCNT_AF
Animation  NBINTCNT_AF.NBINTCNT_AF
AnimationMode  ONCE
End
TransitionState  Trans_Down_Damaged Trans_Up_Damaged
Model            NBINTCNT_DAF
Animation  NBINTCNT_DAF.NBINTCNT_DAF
AnimationMode  ONCE
End
TransitionState  Trans_Down_Really_Damaged Trans_Up_Really_Damaged
Model            NBINTCNT_EAF
Animation  NBINTCNT_EAF.NBINTCNT_EAF
AnimationMode  ONCE
End

ConditionState  USER_2
Model            NBINTCNT_AG
Animation  NBINTCNT_AG.NBINTCNT_AG
AnimationMode  LOOP
TransitionKey  Trans_Up
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState  USER_2 DAMAGED
Model            NBINTCNT_DAG
Animation  NBINTCNT_DAG.NBINTCNT_DAG
AnimationMode  LOOP
TransitionKey  Trans_Up_Damaged
Flags  MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState  USER_2 REALLYDAMAGED
Model            NBINTCNT_EAG
Animation  NBINTCNT_EAG.NBINTCNT_EAG
AnimationMode  LOOP
TransitionKey  Trans_Up_Really_Damaged
Flags  MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState  Trans_Up Trans_Down
Model            NBINTCNT_AF
Animation  NBINTCNT_AF.NBINTCNT_AF
AnimationMode  ONCE_BACKWARDS
End
TransitionState  Trans_Up_Damaged Trans_Down_Damaged
Model            NBINTCNT_DAF
Animation  NBINTCNT_DAF.NBINTCNT_DAF
AnimationMode  ONCE_BACKWARDS
End
TransitionState  Trans_Up_Really_Damaged Trans_Down_Really_Damaged
Model            NBINTCNT_EAF
Animation  NBINTCNT_EAF.NBINTCNT_EAF
AnimationMode  ONCE_BACKWARDS
End

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4
Animation        NBSupCent_A4.NBSupCent_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4N
Animation        NBSupCent_A4N.NBSupCent_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4S
Animation        NBSupCent_A4S.NBSupCent_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4SN
Animation        NBSupCent_A4SN.NBSupCent_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBSupCent_A4
Animation        NBSupCent_A4.NBSupCent_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBSupCent_A4N
Animation        NBSupCent_A4N.NBSupCent_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBSupCent_A4S
Animation        NBSupCent_A4S.NBSupCent_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBSupCent_A4SN
Animation        NBSupCent_A4SN.NBSupCent_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBSupCent_A4
Animation        NBSupCent_A4.NBSupCent_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBSupCent_A4N
Animation        NBSupCent_A4N.NBSupCent_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBSupCent_A4S
Animation        NBSupCent_A4S.NBSupCent_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBSupCent_A4SN
Animation        NBSupCent_A4SN.NBSupCent_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBIntCnt_A6
Animation        NBIntCnt_A6.NBIntCnt_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBIntCnt_A6
Animation        NBIntCnt_A6.NBIntCnt_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBIntCnt_A6S
Animation        NBIntCnt_A6S.NBIntCnt_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBIntCnt_A6S
Animation        NBIntCnt_A6S.NBIntCnt_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
ParticleSysBone  Smoke05 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBIntCnt_A6
Animation        NBIntCnt_A6.NBIntCnt_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBIntCnt_A6
Animation        NBIntCnt_A6.NBIntCnt_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBIntCnt_A6S
Animation        NBIntCnt_A6S.NBIntCnt_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBIntCnt_A6S
Animation        NBIntCnt_A6S.NBIntCnt_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBIntCnt_A6
Animation        NBIntCnt_A6.NBIntCnt_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBIntCnt_A6
Animation        NBIntCnt_A6.NBIntCnt_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBIntCnt_A6S
Animation        NBIntCnt_A6S.NBIntCnt_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBIntCnt_A6S
Animation        NBIntCnt_A6S.NBIntCnt_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_07
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5
Animation        NBSupCent_A5.NBSupCent_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5N
Animation        NBSupCent_A5N.NBSupCent_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5S
Animation        NBSupCent_A5S.NBSupCent_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5SN
Animation        NBSupCent_A5SN.NBSupCent_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBSupCent_AB
Animation        NBSupCent_AB.NBSupCent_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBSupCent_ABN
Animation        NBSupCent_ABN.NBSupCent_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBSupCent_ABS
Animation        NBSupCent_ABS.NBSupCent_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBSupCent_ABSN
Animation        NBSupCent_ABSN.NBSupCent_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBSupCent_AB
Animation        NBSupCent_AB.NBSupCent_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBSupCent_ABN
Animation        NBSupCent_ABN.NBSupCent_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBSupCent_ABS
Animation        NBSupCent_ABS.NBSupCent_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBSupCent_ABSN
Animation        NBSupCent_ABSN.NBSupCent_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End
PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName        OBJECT:InternetCenter
Side               China
EditorSorting      STRUCTURE

Prerequisites
Object             ChinaBreederReactor
End

BuildCost          1500
BuildTime          30.0           ; in seconds
EnergyProduction   -15
CommandSet         ChinaInternetCenterCommandSet
VisionRange        200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmorInternetCenter
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      200 200 200 200  ; Experience point value at each level

;*******************************************************************************************************************
MaxSimultaneousOfType  1 ; *** Kris: DO NOT INCREASE THIS NUMBER -- UNLESS YOU WANT TO INTRODUCE A LOT OF BUGS!***
;*******************************************************************************************************************

; *** AUDIO Parameters ***
VoiceSelect        InternetCenterSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY FS_INTERNET_CENTER POWERED

Body               StructureBody ModuleTag_08
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  4100
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

;  Behavior  AIUpdateInterface ModuleTag_AI01
;  End

Behavior               AutoDepositUpdate ModuleTag_044248676
DepositTiming        60000  ; in milliseconds
DepositAmount        1500    ; cash amount to deposit every Deposit Timings
InitialCaptureBonus  0   ;capture bonus only happens once
End

Behavior              CreateObjectDie ModuleTag_13
CreationList   OCL_LargeStructureDebris
End
Behavior              FXListDie ModuleTag_14
DeathFX        FX_StructureMediumDeath
End

Behavior  FireWeaponUpdate ModuleTag_SpyVisionUpdate01 ;alternative code to fix the bug that coused newly constructed command centers not to reveal themselfs
Weapon  SataliteHackOneWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_18
ConditionFlag  USER_1
TriggeredBy  Upgrade_ChinaSatelliteHackOne
End

Behavior  ModelConditionUpgrade ModuleTag_19
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaSatelliteHackOne
End

Behavior  ProductionUpdate ModuleTag_22
End

Behavior  GenerateMinefieldBehavior     ModuleTag_23
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  FlammableUpdate ModuleTag_24
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_25
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End


Behavior  StructureCollapseUpdate ModuleTag_CollapseModule01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  InstantDeathBehavior ModuleTag_CollapseModule03
RequiredStatus  UNDER_CONSTRUCTION
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  50.0
GeometryMinorRadius  50.0
GeometryHeight       36.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaPowerPlant

; *** ART Parameters ***
SelectPortrait          SNReactor_L
ButtonImage             SNReactor

;day
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            NBPwrPlant
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
End
ConditionState     DAMAGED
Model            NBPwrPlant_D
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 FireFactionLarge
ParticleSysBone  Fire01  SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE
Model            NBPwrPlant_E
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksMedium
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 LiveWireSparks
End

; day overcharge
ConditionState     POWER_PLANT_UPGRADED
Model            NBPwrPlant
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     DAMAGED POWER_PLANT_UPGRADED
Model            NBPwrPlant_D
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
Model            NBPwrPlant_E
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksLarge
ParticleSysBone  Spark04 SparksLarge
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksMedium
ParticleSysBone  Spark07 SparksSmall
End


; Snow-Day

ConditionState     SNOW
Model            NBPwrPlant_S
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
End
ConditionState     DAMAGED SNOW
Model            NBPwrPlant_DS
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 FireFactionLarge
ParticleSysBone  Fire01  SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE SNOW
Model            NBPwrPlant_ES
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksMedium
ParticleSysBone  Spark03 SparksSmall
ParticleSysBone  Spark04 LiveWireSparks
End

; day overcharge
ConditionState     POWER_PLANT_UPGRADED SNOW
Model            NBPwrPlant_S
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     DAMAGED POWER_PLANT_UPGRADED SNOW
Model            NBPwrPlant_DS
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
Model            NBPwrPlant_ES
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksLarge
ParticleSysBone  Spark04 SparksLarge
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksMedium
ParticleSysBone  Spark07 SparksSmall
End


;night snow
ConditionState     NIGHT SNOW
Model            NBPwrPlant_NS
Animation        NBPwrPlant_NS.NBPwrPlant_NS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
End
ConditionState     NIGHT DAMAGED SNOW
Model            NBPwrPlant_DNS
Animation        NBPwrPlant_DNS.NBPwrPlant_DNS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT SNOW
Model            NBPwrPlant_ENS
Animation        NBPwrPlant_ENS.NBPwrPlant_ENS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks
ParticleSysBone  Spark03 LiveWireSparks
ParticleSysBone  Spark04 LiveWireSparks
End

; night overcharge
ConditionState     NIGHT POWER_PLANT_UPGRADED SNOW
Model            NBPwrPlant_NS
Animation        NBPwrPlant_NS.NBPwrPlant_NS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     NIGHT DAMAGED POWER_PLANT_UPGRADED SNOW
Model            NBPwrPlant_DNS
Animation        NBPwrPlant_DNS.NBPwrPlant_DNS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED SNOW
Model            NBPwrPlant_ENS
Animation        NBPwrPlant_ENS.NBPwrPlant_ENS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksLarge
ParticleSysBone  Spark04 SparksLarge
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksMedium
ParticleSysBone  Spark07 SparksSmall
End


;night
ConditionState     NIGHT
Model            NBPwrPlant_N
Animation        NBPwrPlant_N.NBPwrPlant_N
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
End
ConditionState     NIGHT DAMAGED
Model            NBPwrPlant_DN
Animation        NBPwrPlant_DN.NBPwrPlant_DN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT
Model            NBPwrPlant_EN
Animation        NBPwrPlant_EN.NBPwrPlant_EN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks
ParticleSysBone  Spark03 LiveWireSparks
ParticleSysBone  Spark04 LiveWireSparks
End

; night overcharge
ConditionState     NIGHT POWER_PLANT_UPGRADED
Model            NBPwrPlant_N
Animation        NBPwrPlant_N.NBPwrPlant_N
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksSmall
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     NIGHT DAMAGED POWER_PLANT_UPGRADED
Model            NBPwrPlant_DN
Animation        NBPwrPlant_DN.NBPwrPlant_DN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksMedium
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksSmall
ParticleSysBone  Spark07 SparksSmall
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED
Model            NBPwrPlant_EN
Animation        NBPwrPlant_EN.NBPwrPlant_EN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Spark01 SparksLarge
ParticleSysBone  Spark02 SparksLarge
ParticleSysBone  Spark03 SparksLarge
ParticleSysBone  Spark04 SparksLarge
ParticleSysBone  Spark05 SparksMedium
ParticleSysBone  Spark06 SparksMedium
ParticleSysBone  Spark07 SparksSmall
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBPwrPlant
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBPwrPlant_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBPwrPlant_E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBPwrPlant_N
Animation           NBPwrPlant_N.NBPwrPlant_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBPwrPlant_DN
Animation           NBPwrPlant_DN.NBPwrPlant_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBPwrPlant_EN
Animation           NBPwrPlant_EN.NBPwrPlant_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBPwrPlant_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBPwrPlant_DS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBPwrPlant_ES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBPwrPlant_NS
Animation           NBPwrPlant_NS.NBPwrPlant_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBPwrPlant_DNS
Animation           NBPwrPlant_DNS.NBPwrPlant_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBPwrPlant_ENS
Animation           NBPwrPlant_ENS.NBPwrPlant_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD  POWER_PLANT_UPGRADED
AliasConditionState   SOLD DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD SNOW POWER_PLANT_UPGRADED
AliasConditionState   SOLD SNOW DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A4
Animation        NBPwrPlant_A4.NBPwrPlant_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A4N
Animation        NBPwrPlant_A4N.NBPwrPlant_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A4S
Animation        NBPwrPlant_A4S.NBPwrPlant_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A4SN
Animation        NBPwrPlant_A4SN.NBPwrPlant_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPwrPlant_A4
Animation        NBPwrPlant_A4.NBPwrPlant_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPwrPlant_A4N
Animation        NBPwrPlant_A4N.NBPwrPlant_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPwrPlant_A4S
Animation        NBPwrPlant_A4S.NBPwrPlant_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPwrPlant_A4SN
Animation        NBPwrPlant_A4SN.NBPwrPlant_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPwrPlant_A4
Animation        NBPwrPlant_A4.NBPwrPlant_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPwrPlant_A4N

Animation        NBPwrPlant_A4N.NBPwrPlant_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPwrPlant_A4S
Animation        NBPwrPlant_A4S.NBPwrPlant_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPwrPlant_A4SN
Animation        NBPwrPlant_A4SN.NBPwrPlant_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBPwrPlant_A6
Animation        NBPwrPlant_A6.NBPwrPlant_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBPwrPlant_A6N
Animation        NBPwrPlant_A6N.NBPwrPlant_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBPwrPlant_A6S
Animation        NBPwrPlant_A6S.NBPwrPlant_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBPwrPlant_A6SN
Animation        NBPwrPlant_A6SN.NBPwrPlant_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPwrPlant_A6
Animation        NBPwrPlant_A6.NBPwrPlant_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPwrPlant_A6N
Animation        NBPwrPlant_A6N.NBPwrPlant_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPwrPlant_A6S
Animation        NBPwrPlant_A6S.NBPwrPlant_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPwrPlant_A6SN
Animation        NBPwrPlant_A6SN.NBPwrPlant_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPwrPlant_A6
Animation        NBPwrPlant_A6.NBPwrPlant_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPwrPlant_A6N
Animation        NBPwrPlant_A6N.NBPwrPlant_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPwrPlant_A6S
Animation        NBPwrPlant_A6S.NBPwrPlant_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPwrPlant_A6SN
Animation        NBPwrPlant_A6SN.NBPwrPlant_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A5
Animation        NBPwrPlant_A5.NBPwrPlant_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A5N
Animation        NBPwrPlant_A5N.NBPwrPlant_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A5S
Animation        NBPwrPlant_A5S.NBPwrPlant_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPwrPlant_A5SN
Animation        NBPwrPlant_A5SN.NBPwrPlant_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPwrPlant_AB
Animation        NBPwrPlant_AB.NBPwrPlant_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPwrPlant_ABN
Animation        NBPwrPlant_ABN.NBPwrPlant_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPwrPlant_ABS
Animation        NBPwrPlant_ABS.NBPwrPlant_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPwrPlant_ABSN
Animation        NBPwrPlant_ABSN.NBPwrPlant_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBPwrPlant_AB
Animation        NBPwrPlant_AB.NBPwrPlant_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBPwrPlant_ABN
Animation        NBPwrPlant_ABN.NBPwrPlant_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBPwrPlant_ABS
Animation        NBPwrPlant_ABS.NBPwrPlant_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBPwrPlant_ABSN
Animation        NBPwrPlant_ABSN.NBPwrPlant_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName          OBJECT:NuclearReactor
Side                 China
EditorSorting        STRUCTURE

BuildCost            1000
BuildTime            10.0           ; in seconds
EnergyProduction     30
EnergyBonus          15              ; for the overcharge bonus
VisionRange          200.0          ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor_Noshutdown
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

CommandSet           ChinaPowerPlantCommandSet
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect          NuclearReactorSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY

Body                 StructureBody ModuleTag_05
MaxHealth          3000.0
InitialHealth      3000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1700
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior             OverchargeBehavior ModuleTag_06
HealthPercentToDrainPerSecond     3% ;% of max health to drain per second
NotAllowedWhenHealthBelowPercent  33% ;When currHealth below this, it turns off automatically
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_09
DeathWeapon  ChinaPowerPlantDeathWeapon
StartsActive   Yes
End

Behavior  ProductionUpdate ModuleTag_10
; nothing, but is required if we have any Object-level Upgrades!
End
Behavior  PowerPlantUpdate ModuleTag_11
RodsExtendTime  1
End

Behavior  GenerateMinefieldBehavior     ModuleTag_12
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
CrateData       NukeCannonWarheadCrateData
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  MaxHealthUpgrade ModuleTag_ArmorUpgrade03
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth   -1500.0
ChangeType     PRESERVE_RATIO
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  27.0
GeometryMinorRadius  34.0
GeometryHeight       40.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaNuclearMissileLauncher

; *** ART Parameters ***
SelectPortrait          SNNukeMisl_L
ButtonImage             SNNukeMisl

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
; day
ConditionState       NONE
Model              NBNMissle
End
ConditionState       SOLD
Model              NONE
End
ConditionState       SOLD SNOW
Model              NONE

End
ConditionState       SOLD NIGHT
Model              NONE
End
ConditionState       SOLD NIGHT SNOW
Model              NONE
End


ConditionState       DAMAGED
Model              NBNMissle_D
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
End
ConditionState      REALLYDAMAGED RUBBLE
Model              NBNMissle_E
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       AWAITING_CONSTRUCTION
Model              None
End
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBNMissle
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBNMissle_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model              NBNMissle_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       DOOR_1_OPENING
Model              NBNMissle_A2
Animation          NBNMissle_A2.NBNMissle_A2
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState       DOOR_1_WAITING_OPEN
Model              NBNMissle_A2
Animation          NBNMissle_A2.NBNMissle_A2
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE
Model              NBNMissle_A3
Animation          NBNMissle_A3.NBNMissle_A3
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
End
ConditionState       DOOR_1_CLOSING
Model              NBNMissle_A3
Animation          NBNMissle_A3.NBNMissle_A3
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
End
ConditionState       DOOR_1_OPENING DAMAGED
Model              NBNMissle_A2D
Animation          NBNMissle_A2D.NBNMissle_A2D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire

ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN DAMAGED
Model              NBNMissle_A2D
Animation          NBNMissle_A2D.NBNMissle_A2D
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE DAMAGED
Model              NBNMissle_A3D
Animation          NBNMissle_A3D.NBNMissle_A3D
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING DAMAGED
Model              NBNMissle_A3D
Animation          NBNMissle_A3D.NBNMissle_A3D
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model              NBNMissle_A2E
Animation          NBNMissle_A2E.NBNMissle_A2E
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model              NBNMissle_A2E
Animation          NBNMissle_A2E.NBNMissle_A2E
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE
Model              NBNMissle_A3E
Animation          NBNMissle_A3E.NBNMissle_A3E
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model              NBNMissle_A3E
Animation          NBNMissle_A3E.NBNMissle_A3E
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End

; night
ConditionState       NIGHT
Model              NBNMissle_N
End
ConditionState       DAMAGED NIGHT
Model              NBNMissle_DN
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
End
ConditionState      REALLYDAMAGED RUBBLE NIGHT
Model              NBNMissle_EN
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       AWAITING_CONSTRUCTION NIGHT
Model              None
End
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model              NBNMissle_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model              NBNMissle_DN
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model              NBNMissle_EN
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       DOOR_1_OPENING NIGHT
Model              NBNMissle_A2N
Animation          NBNMissle_A2N.NBNMissle_A2N
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState       DOOR_1_WAITING_OPEN NIGHT
Model              NBNMissle_A2N
Animation          NBNMissle_A2N.NBNMissle_A2N
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE NIGHT
Model              NBNMissle_A3N
Animation          NBNMissle_A3N.NBNMissle_A3N
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
End
ConditionState       DOOR_1_CLOSING NIGHT
Model              NBNMissle_A3N
Animation          NBNMissle_A3N.NBNMissle_A3N
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
End
ConditionState       DOOR_1_OPENING DAMAGED NIGHT
Model              NBNMissle_A2DN
Animation          NBNMissle_A2DN.NBNMissle_A2DN
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN DAMAGED NIGHT
Model              NBNMissle_A2DN
Animation          NBNMissle_A2DN.NBNMissle_A2DN
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT
Model              NBNMissle_A3DN
Animation          NBNMissle_A3DN.NBNMissle_A3DN
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING DAMAGED NIGHT
Model              NBNMissle_A3DN
Animation          NBNMissle_A3DN.NBNMissle_A3DN
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT
Model              NBNMissle_A2EN
Animation          NBNMissle_A2EN.NBNMissle_A2EN
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
Model              NBNMissle_A2EN
Animation          NBNMissle_A2EN.NBNMissle_A2EN
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT
Model              NBNMissle_A3EN
Animation          NBNMissle_A3EN.NBNMissle_A3EN
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT
Model              NBNMissle_A3EN
Animation          NBNMissle_A3EN.NBNMissle_A3EN
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End

;-------------- SNOW! --------------------

ConditionState       SNOW
Model              NBNMissle_S
End

ConditionState       DAMAGED SNOW
Model              NBNMissle_DS
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
End
ConditionState      REALLYDAMAGED RUBBLE SNOW
Model              NBNMissle_ES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       AWAITING_CONSTRUCTION SNOW
Model              None
End
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              NBNMissle_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              NBNMissle_DS
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              NBNMissle_ES
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       DOOR_1_OPENING SNOW
Model              NBNMissle_A2S
Animation          NBNMissle_A2S.NBNMissle_A2S
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState       DOOR_1_WAITING_OPEN SNOW
Model              NBNMissle_A2S
Animation          NBNMissle_A2S.NBNMissle_A2S
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE SNOW
Model              NBNMissle_A3S
Animation          NBNMissle_A3S.NBNMissle_A3S
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
End
ConditionState       DOOR_1_CLOSING SNOW
Model              NBNMissle_A3S
Animation          NBNMissle_A3S.NBNMissle_A3S
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
End
ConditionState       DOOR_1_OPENING DAMAGED SNOW
Model              NBNMissle_A2DS
Animation          NBNMissle_A2DS.NBNMissle_A2DS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN DAMAGED SNOW
Model              NBNMissle_A2DS
Animation          NBNMissle_A2DS.NBNMissle_A2DS
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE DAMAGED SNOW
Model              NBNMissle_A3DS
Animation          NBNMissle_A3DS.NBNMissle_A3DS
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING DAMAGED SNOW
Model              NBNMissle_A3DS
Animation          NBNMissle_A3DS.NBNMissle_A3DS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_OPENING REALLYDAMAGED RUBBLE SNOW
Model              NBNMissle_A2ES
Animation          NBNMissle_A2ES.NBNMissle_A2ES
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
Model              NBNMissle_A2ES
Animation          NBNMissle_A2ES.NBNMissle_A2ES
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE SNOW
Model              NBNMissle_A3ES
Animation          NBNMissle_A3ES.NBNMissle_A3ES
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING REALLYDAMAGED RUBBLE SNOW
Model              NBNMissle_A3ES
Animation          NBNMissle_A3ES.NBNMissle_A3ES
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End

; night
ConditionState       NIGHT SNOW
Model              NBNMissle_NS
End
ConditionState       DAMAGED NIGHT SNOW
Model              NBNMissle_DNS
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
End
ConditionState      REALLYDAMAGED RUBBLE NIGHT SNOW
Model              NBNMissle_ENS
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       AWAITING_CONSTRUCTION NIGHT SNOW
Model              None
End
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model              NBNMissle_NS
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model              NBNMissle_DNS
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model              NBNMissle_ENS
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
END
ConditionState       DOOR_1_OPENING NIGHT SNOW
Model              NBNMissle_A2NS
Animation          NBNMissle_A2NS.NBNMissle_A2NS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState       DOOR_1_WAITING_OPEN NIGHT SNOW
Model              NBNMissle_A2NS
Animation          NBNMissle_A2NS.NBNMissle_A2NS
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE NIGHT SNOW
Model              NBNMissle_A3NS
Animation          NBNMissle_A3NS.NBNMissle_A3NS
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
End
ConditionState       DOOR_1_CLOSING NIGHT SNOW
Model              NBNMissle_A3NS
Animation          NBNMissle_A3NS.NBNMissle_A3NS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
End
ConditionState       DOOR_1_OPENING DAMAGED NIGHT SNOW
Model              NBNMissle_A2DNS
Animation          NBNMissle_A2DNS.NBNMissle_A2DNS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN DAMAGED NIGHT SNOW
Model              NBNMissle_A2DNS
Animation          NBNMissle_A2DNS.NBNMissle_A2DNS
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT SNOW
Model              NBNMissle_A3DNS
Animation          NBNMissle_A3DNS.NBNMissle_A3DNS
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING DAMAGED NIGHT SNOW
Model              NBNMissle_A3DNS
Animation          NBNMissle_A3DNS.NBNMissle_A3DNS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
Model              NBNMissle_A2ENS
Animation          NBNMissle_A2ENS.NBNMissle_A2ENS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
Model              NBNMissle_A2ENS
Animation          NBNMissle_A2ENS.NBNMissle_A2ENS
AnimationMode      MANUAL
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
ParticleSysBone    Steam01 BigMissileSteam
ParticleSysBone    Steam02 BigMissileSteam
End
ConditionState       DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT SNOW
Model              NBNMissle_A3ENS
Animation          NBNMissle_A3ENS.NBNMissle_A3ENS
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
WeaponLaunchBone   PRIMARY RockPos
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
ConditionState       DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
Model              NBNMissle_A3ENS
Animation          NBNMissle_A3ENS.NBNMissle_A3ENSS
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES2
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke04 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke04 SmolderingFire
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke06 SmolderingFire
End
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBNMissle_A4
Animation        NBNMissle_A4.NBNMissle_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBNMissle_A4N
Animation        NBNMissle_A4N.NBNMissle_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBNMissle_A4S
Animation        NBNMissle_A4S.NBNMissle_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBNMissle_A4SN
Animation        NBNMissle_A4SN.NBNMissle_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBNMissle_A4
Animation        NBNMissle_A4.NBNMissle_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBNMissle_A4N
Animation        NBNMissle_A4N.NBNMissle_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBNMissle_A4S
Animation        NBNMissle_A4S.NBNMissle_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBNMissle_A4SN
Animation        NBNMissle_A4SN.NBNMissle_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBNMissle_A4
Animation        NBNMissle_A4.NBNMissle_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBNMissle_A4N
Animation        NBNMissle_A4N.NBNMissle_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBNMissle_A4S
Animation        NBNMissle_A4S.NBNMissle_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBNMissle_A4SN
Animation        NBNMissle_A4SN.NBNMissle_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBNMissle_A6
Animation        NBNMissle_A6.NBNMissle_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBNMissle_A6N
Animation        NBNMissle_A6N.NBNMissle_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBNMissle_A6S
Animation        NBNMissle_A6S.NBNMissle_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBNMissle_A6SN
Animation        NBNMissle_A6SN.NBNMissle_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBNMissle_A6
Animation        NBNMissle_A6.NBNMissle_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBNMissle_A6N
Animation        NBNMissle_A6N.NBNMissle_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBNMissle_A6S
Animation        NBNMissle_A6S.NBNMissle_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBNMissle_A6SN
Animation        NBNMissle_A6SN.NBNMissle_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBNMissle_A6
Animation        NBNMissle_A6.NBNMissle_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBNMissle_A6N
Animation        NBNMissle_A6N.NBNMissle_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBNMissle_A6S
Animation        NBNMissle_A6S.NBNMissle_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBNMissle_A6SN
Animation        NBNMissle_A6SN.NBNMissle_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model          NBNMissle_A5
Animation      NBNMissle_A5.NBNMissle_A5
AnimationMode  LOOP
TransitionKey  UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model          NBNMissle_A5N
Animation      NBNMissle_A5N.NBNMissle_A5N
AnimationMode  LOOP
TransitionKey  UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model          NBNMissle_A5S
Animation      NBNMissle_A5S.NBNMissle_A5S
AnimationMode  LOOP
TransitionKey  UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model          NBNMissle_A5SN
Animation      NBNMissle_A5SN.NBNMissle_A5SN
AnimationMode  LOOP
TransitionKey  UP_SNOWNIGHT
End
TransitionState  DOWN_DEFAULT UP_DAY
Model          NBNMissle_AB
Animation      NBNMissle_AB.NBNMissle_AB
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags          START_FRAME_FIRST
End

TransitionState  DOWN_DEFAULT UP_NIGHT
Model          NBNMissle_ABN
Animation      NBNMissle_ABN.NBNMissle_ABN
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags          START_FRAME_FIRST
End
TransitionState  DOWN_DEFAULT UP_SNOW
Model          NBNMissle_ABS
Animation      NBNMissle_ABS.NBNMissle_ABS
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags          START_FRAME_FIRST
End
TransitionState  DOWN_DEFAULT UP_SNOWNIGHT
Model          NBNMissle_ABSN
Animation      NBNMissle_ABSN.NBNMissle_ABSN
AnimationMode  ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags          START_FRAME_FIRST
End
TransitionState  UP_DAY DOWN_DEFAULT
Model          NBNMissle_AB
Animation      NBNMissle_AB.NBNMissle_AB
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags          START_FRAME_LAST
End
TransitionState  UP_NIGHT DOWN_DEFAULT
Model          NBNMissle_ABN
Animation      NBNMissle_ABN.NBNMissle_ABN
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags          START_FRAME_LAST
End
TransitionState  UP_SNOW DOWN_DEFAULT
Model          NBNMissle_ABS
Animation      NBNMissle_ABS.NBNMissle_ABS
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags          START_FRAME_LAST
End
TransitionState  UP_SNOWNIGHT DOWN_DEFAULT
Model          NBNMissle_ABSN
Animation      NBNMissle_ABSN.NBNMissle_ABSN
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags          START_FRAME_LAST
End
End

; Blinking lights
Draw  W3DModelDraw ModuleTag_05
OkToChangeModelColor  Yes
; day
ConditionState     NONE
Model            NBNMissle_AC
Animation        NONE
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBNMissle_AC
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState     AWAITING_CONSTRUCTION
Model            NONE
End
ConditionState     DOOR_1_OPENING
Model            NBNMissle_AC
Animation        NBNMissle_AC.NBNMissle_AC
AnimationMode    LOOP
Flags            START_FRAME_FIRST
End
ConditionState     DOOR_1_WAITING_OPEN
Model            NBNMissle_AC
Animation        NBNMissle_AC.NBNMissle_AC
AnimationMode    LOOP
Flags            START_FRAME_LAST
End
ConditionState     DOOR_1_WAITING_TO_CLOSE
Model            NBNMissle_AC
Animation        NBNMissle_AC.NBNMissle_AC
AnimationMode    LOOP
Flags            START_FRAME_FIRST
;WeaponLaunchBone  PRIMARY RockPos
End
ConditionState     DOOR_1_CLOSING
Model            NBNMissle_AC
Animation        NBNMissle_AC.NBNMissle_AC
AnimationMode    LOOP
Flags            START_FRAME_FIRST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:NuclearMissile
Side  China
EditorSorting     STRUCTURE

Prerequisites
Object  ChinaBreederReactor
End

BuildCost         8000
BuildTime         45.0            ; in seconds
EnergyProduction  -20
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

CommandSet        ChinaNuclearMissileCommandSet
ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      400 400 400 400  ; Experience point value at each level
MaxSimultaneousOfType  DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  NuclearSilo  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

; *** AUDIO Parameters ***
VoiceSelect  NuclearMissileSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
Body             StructureBody ModuleTag_06
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  4200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior     OCLSpecialPower ModuleTag_07
SpecialPowerTemplate  SuperweaponNeutronMissile
OCL                   SUPERWEAPON_NeutronMissile
End
Behavior  SpecialPowerCreate ModuleTag_08
;nothing
End
Behavior  MissileLauncherBuildingUpdate ModuleTag_09
SpecialPowerTemplate  SuperweaponNeutronMissile
DoorOpenTime          8000
DoorWaitOpenTime      2000
DoorCloseTime         8000

; FXLists to play at transitions:
DoorOpeningFX         ChinaNuclearMissileLauncherDoorOpen
DoorWaitingToCloseFX  ChinaNuclearMissileLauncherLaunch
DoorOpenIdleAudio     BuildingNeutronMissileHiss
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
CrateData       ChineseTacticalNuclearCrateData
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  ProductionUpdate ModuleTag_10
DisabledTypesToProcess  DISABLED_HELD DISABLED_UNDERPOWERED
End

Behavior  GenerateMinefieldBehavior     ModuleTag_13
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  FlammableUpdate ModuleTag_14
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_NukeDeath01
DeathWeapon    ChinaBreederReactorDeathWeapon
StartsActive   Yes
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  45.0
GeometryMinorRadius  55.0
GeometryHeight       64.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaPropagandaCenter

; *** ART Parameters ***
SelectPortrait          SNPropCentr_L
ButtonImage             SNPropCentr

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
;day
ConditionState        NONE
Model               NBPCenter
Animation           NBPCenter.NBPCenter
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               NBPCenter_D
Animation           NBPCenter_D.NBPCenter_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBPCenter_E
Animation           NBPCenter_E.NBPCenter_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;     ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT
Model               NBPCenter_N
Animation           NBPCenter_N.NBPCenter_N
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT
Model               NBPCenter_DN
Animation           NBPCenter_DN.NBPCenter_DN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               NBPCenter_EN
Animation           NBPCenter_EN.NBPCenter_EN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

ConditionState        SNOW
Model               NBPCenter_S
Animation           NBPCenter_S.NBPCenter_S
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED SNOW
Model               NBPCenter_DS
Animation           NBPCenter_DS.NBPCenter_DS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBPCenter_ES
Animation           NBPCenter_ES.NBPCenter_ES
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT SNOW
Model               NBPCenter_NS
Animation           NBPCenter_NS.NBPCenter_NS
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT SNOW
Model               NBPCenter_DNS
Animation           NBPCenter_DNS.NBPCenter_DNS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               NBPCenter_ENS
Animation           NBPCenter_ENS.NBPCenter_ENS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBPCenter
Animation           NBPCenter.NBPCenter
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBPCenter_D
Animation           NBPCenter_D.NBPCenter_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBPCenter_E
Animation           NBPCenter_E.NBPCenter_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBPCenter_N
Animation           NBPCenter_N.NBPCenter_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBPCenter_DN
Animation           NBPCenter_DN.NBPCenter_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBPCenter_EN
Animation           NBPCenter_EN.NBPCenter_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBPCenter_S
Animation           NBPCenter_S.NBPCenter_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBPCenter_DS
Animation           NBPCenter_DS.NBPCenter_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBPCenter_ES
Animation           NBPCenter_ES.NBPCenter_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBPCenter_NS
Animation           NBPCenter_NS.NBPCenter_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBPCenter_DNS
Animation           NBPCenter_DNS.NBPCenter_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBPCenter_ENS
Animation           NBPCenter_ENS.NBPCenter_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NBPCenter_A1
Animation        NBPCenter_A1.NBPCenter_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED RUBBLE
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED RUBBLE
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED RUBBLE
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4
Animation        NBPCenter_A4.NBPCenter_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4N
Animation        NBPCenter_A4N.NBPCenter_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4S
Animation        NBPCenter_A4S.NBPCenter_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A4SN
Animation        NBPCenter_A4SN.NBPCenter_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPCenter_A4
Animation        NBPCenter_A4.NBPCenter_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPCenter_A4N
Animation        NBPCenter_A4N.NBPCenter_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPCenter_A4S
Animation        NBPCenter_A4S.NBPCenter_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPCenter_A4SN
Animation        NBPCenter_A4SN.NBPCenter_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPCenter_A4
Animation        NBPCenter_A4.NBPCenter_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPCenter_A4N
Animation        NBPCenter_A4N.NBPCenter_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPCenter_A4S
Animation        NBPCenter_A4S.NBPCenter_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPCenter_A4SN
Animation        NBPCenter_A4SN.NBPCenter_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6
Animation        NBPCenter_A6.NBPCenter_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6N
Animation        NBPCenter_A6N.NBPCenter_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6S
Animation        NBPCenter_A6S.NBPCenter_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBPCenter_A6SN
Animation        NBPCenter_A6SN.NBPCenter_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPCenter_A6
Animation        NBPCenter_A6.NBPCenter_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPCenter_A6N
Animation        NBPCenter_A6N.NBPCenter_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPCenter_A6S
Animation        NBPCenter_A6S.NBPCenter_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPCenter_A6SN
Animation        NBPCenter_A6SN.NBPCenter_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPCenter_A6
Animation        NBPCenter_A6.NBPCenter_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPCenter_A6N
Animation        NBPCenter_A6N.NBPCenter_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPCenter_A6S
Animation        NBPCenter_A6S.NBPCenter_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPCenter_A6SN
Animation        NBPCenter_A6SN.NBPCenter_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5
Animation        NBPCenter_A5.NBPCenter_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5N
Animation        NBPCenter_A5N.NBPCenter_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5S
Animation        NBPCenter_A5S.NBPCenter_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPCenter_A5SN
Animation        NBPCenter_A5SN.NBPCenter_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPCenter_AB
Animation        NBPCenter_AB.NBPCenter_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPCenter_ABN
Animation        NBPCenter_ABN.NBPCenter_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPCenter_ABSN
Animation        NBPCenter_ABSN.NBPCenter_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBPCenter_AB
Animation        NBPCenter_AB.NBPCenter_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBPCenter_ABN
Animation        NBPCenter_ABN.NBPCenter_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBPCenter_ABS
Animation        NBPCenter_ABS.NBPCenter_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBPCenter_ABSN
Animation        NBPCenter_ABSN.NBPCenter_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ subliminal effect bones -----------------
Draw                    W3DModelDraw ModuleTag_NightLights01

ConditionState        NONE
Model               NBPCenter_B
Animation           NBPCenter_B.NBPCenter_B
AnimationMode       LOOP
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState        REALLYDAMAGED
Model               NBPCenter_BE
Animation           NBPCenter_BE.NBPCenter_BE
AnimationMode       LOOP
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState        USER_1
Model               NBPCenter_B
Animation           NBPCenter_B.NBPCenter_B
AnimationMode       LOOP
ParticleSysBone     FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone     FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone     FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 SNOW
AliasConditionState  USER_1 NIGHT SNOW
AliasConditionState  USER_1 DAMAGED
AliasConditionState  USER_1 DAMAGED NIGHT
AliasConditionState  USER_1 DAMAGED SNOW
AliasConditionState  USER_1 DAMAGED NIGHT SNOW

ConditionState        USER_1 REALLYDAMAGED
Model               NBPCenter_BE
Animation           NBPCenter_BE.NBPCenter_BE
AnimationMode       LOOP
ParticleSysBone     FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone     FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 REALLYDAMAGED NIGHT
AliasConditionState  USER_1 REALLYDAMAGED SNOW
AliasConditionState  USER_1 REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION
AliasConditionState  USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState  USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  USER_1 SOLD
AliasConditionState  USER_1 SOLD DAMAGED
AliasConditionState  USER_1 SOLD REALLYDAMAGED
AliasConditionState  USER_1 SOLD NIGHT
AliasConditionState  USER_1 SOLD NIGHT DAMAGED
AliasConditionState  USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState  USER_1 SOLD SNOW
AliasConditionState  USER_1 SOLD SNOW DAMAGED
AliasConditionState  USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState  USER_1 SOLD NIGHT SNOW
AliasConditionState  USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState  USER_1 SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

End

; ------------ global broadcast array -----------------
Draw                    W3DModelDraw ModuleTag_Array01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               NBPropBrd
Animation           NBPropBrd.NBPropBrd
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               NBPropBrd_D
Animation           NBPropBrd_D.NBPropBrd_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               NBPropBrd_E
Animation           NBPropBrd_E.NBPropBrd_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               NBPropBrd_S
Animation           NBPropBrd_S.NBPropBrd_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               NBPropBrd_SD
Animation           NBPropBrd_SD.NBPropBrd_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               NBPropBrd_SE
Animation           NBPropBrd_SE.NBPropBrd_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              NBPropBrd
Animation          NBPropBrd.NBPropBrd
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              NBPropBrd_D
Animation          NBPropBrd_D.NBPropBrd_D
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              NBPropBrd_E
Animation          NBPropBrd_E.NBPropBrd_E
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              NBPropBrd_S
Animation          NBPropBrd_S.NBPropBrd_S
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              NBPropBrd_SD
Animation          NBPropBrd_SD.NBPropBrd_SD
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              NBPropBrd_SE
Animation          NBPropBrd_SE.NBPropBrd_SE
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName          OBJECT:PropagandaCenter
Side                 China
EditorSorting        STRUCTURE

Prerequisites
Object  ChinaWarFactory
;Object  FactionRadarActive
End

BuildCost            1500
BuildTime            30.0           ; in seconds
EnergyProduction     -15
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions         None
Armor              PropagandaStructureArmor
DamageFX           StructureDamageFXNoShake
End
CommandSet           ChinaPropagandaCenterCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level

MaxSimultaneousOfType  1


; *** AUDIO Parameters ***
VoiceSelect          PropagandaCenterSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_ADVANCED_TECH POWERED
Body             StructureBody ModuleTag_07
MaxHealth      5000.0
InitialHealth  5000.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior                 GenerateMinefieldBehavior ModuleTag_15
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  ModelConditionUpgrade ModuleTag_Upgrade04
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior         PropagandaTowerBehavior ModuleTag_16
Radius                         200.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
PulseFX                        FX_PropagandaCenterPulse                ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
UpgradedPulseFX                FX_PropagandaCenterSubliminalPulse      ;plays as often as DelayBetweenUpdates
AffectsSelf                    Yes                                     ; Needs this since Tower is not seperate object
End

Behavior  FireWeaponUpdate ModuleTag_SpeakerDecal01
Weapon  PropagandaCenterDecalWeapon
End

Behavior              FlammableUpdate ModuleTag_17
AflameDuration      5000    ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay   500     ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End


Behavior  ProductionUpdate ModuleTag_19
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_PropagandaCenterCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior        CostModifierUpgrade ModuleTag_CostReduction01
TriggeredBy   Upgrade_CostReduction
EffectKindOf  INFANTRY
Percentage    -20%
End

;This module ensures that troop crawlers get a bit cheaper too since the red guards inside them also get a reduction
Behavior        CostModifierUpgrade ModuleTag_CostReduction02
TriggeredBy   Upgrade_CostReduction
EffectKindOf  FS_FAKE
Percentage    -7.5%
End

;Global Propaganda Broadcast
Behavior  OCLSpecialPower ModuleTag_PropagandaBroadcast01
SpecialPowerTemplate  SuperweaponGlobalPropagandaBroadcast
OCL                   SUPERWEAPON_GlobalPropagandaBroadcast
UpgradeOCL            SCIENCE_SubliminalMesseging SUPERWEAPON_GlobalPropagandaBroadcastSubliminal
CreateLocation        USE_OWNER_OBJECT
End

Behavior  SpecialPowerCreate ModuleTag_PropagandaBroadcast02
End

Behavior  AIUpdateInterface ModuleTag_PropagandaBroadcast03
End

Behavior  HelixContain ModuleTag_PropagandaBroadcast04
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_PropagandaBroadcast05
CollideWeapon  PropagandaCenterBroadCastArrayDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
;General collision effect
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy

;This triggers the broadcast array to appear after the "upgrade" is purchased
PristineOCL2       bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_PropagandaCenterBroadcastArrayCrate
End

Behavior GrantScienceUpgrade ModuleTag_PropagandaBroadcast08
GrantScience  SCIENCE_SubliminalMesseging
TriggeredBy  Upgrade_ChinaSubliminalMessaging
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponCollide ModuleTag_RemoveDummies01
CollideWeapon   PropagandaCenterBroadCastUpgradeRemoveDummyObjectsWeapon
RequiredStatus  SOLD
End

;This weapon needs to be fired both when destroyed or sold so that it removed the dummy objects along with the structure
Behavior  FireWeaponWhenDeadBehavior ModuleTag_RemoveDummies02
DeathWeapon   PropagandaCenterBroadCastUpgradeRemoveDummyObjectsWeapon
StartsActive  Yes
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  33.0
GeometryMinorRadius  57.0
GeometryHeight       40.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaPropagandaCenter_CollapseObject

; *** ART Parameters ***

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
;day
ConditionState        NONE
Model               NBPCenter
Animation           NBPCenter.NBPCenter
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               NBPCenter_D
Animation           NBPCenter_D.NBPCenter_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBPCenter_E
Animation           NBPCenter_E.NBPCenter_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;     ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT
Model               NBPCenter_N
Animation           NBPCenter_N.NBPCenter_N
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT
Model               NBPCenter_DN
Animation           NBPCenter_DN.NBPCenter_DN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               NBPCenter_EN
Animation           NBPCenter_EN.NBPCenter_EN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

ConditionState        SNOW
Model               NBPCenter_S
Animation           NBPCenter_S.NBPCenter_S
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED SNOW
Model               NBPCenter_DS
Animation           NBPCenter_DS.NBPCenter_DS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBPCenter_ES
Animation           NBPCenter_ES.NBPCenter_ES
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

;night
ConditionState        NIGHT SNOW
Model               NBPCenter_NS
Animation           NBPCenter_NS.NBPCenter_NS
AnimationMode       LOOP
End
;damaged
ConditionState        DAMAGED NIGHT SNOW
Model               NBPCenter_DNS
Animation           NBPCenter_DNS.NBPCenter_DNS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
;reallydamaged
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               NBPCenter_ENS
Animation           NBPCenter_ENS.NBPCenter_ENS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
;      ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 SmolderingFire
;      ParticleSysBone     Spark01
End

End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NBPCenter_A1
Animation        NBPCenter_A1.NBPCenter_A1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  NIGHT SNOW REALLYDAMAGED
End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName       OBJECT:PropagandaCenter
Side  China
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            PropagandaStructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  33.0
GeometryMinorRadius  57.0
GeometryHeight       40.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaSupplyCenter

; *** ART Parameters ***
SelectPortrait          SNSupplyCenter_L
ButtonImage             SNSupplyCenter

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;Day
ConditionState  NONE
Model  NBSupply
Animation  NBSupply.NBSupply
AnimationMode  LOOP
End
ConditionState  DAMAGED
Model  NBSupply_D
Animation  NBSupply_D.NBSupply_D
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE
Model  NBSupply_E
Animation  NBSupply_E.NBSupply_E
AnimationMode  LOOP
End

;Night
ConditionState  NIGHT
Model  NBSupply
Animation  NBSupply.NBSupply
AnimationMode  LOOP
End
ConditionState  NIGHT DAMAGED
Model  NBSupply_D
Animation  NBSupply_D.NBSupply_D
AnimationMode  LOOP
End
ConditionState  NIGHT REALLYDAMAGED RUBBLE
Model  NBSupply_E
Animation  NBSupply_E.NBSupply_E
AnimationMode  LOOP
End

;Snow
ConditionState  SNOW
Model  NBSupply_S
Animation  NBSupply_S.NBSupply_S
AnimationMode  LOOP
End
ConditionState  DAMAGED SNOW
Model  NBSupply_SD
Animation  NBSupply_SD.NBSupply_SD
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model  NBSupply_SE
Animation  NBSupply_SE.NBSupply_SE
AnimationMode  LOOP
End

;Snow Night
ConditionState  SNOW NIGHT
Model  NBSupply_S
Animation  NBSupply_S.NBSupply_S
AnimationMode  LOOP
End
ConditionState  DAMAGED SNOW NIGHT
Model  NBSupply_SD
Animation  NBSupply_SD.NBSupply_SD
AnimationMode  LOOP
End
ConditionState  REALLYDAMAGED RUBBLE SNOW NIGHT
Model  NBSupply_SE
Animation  NBSupply_SE.NBSupply_SE
AnimationMode  LOOP
End

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model  NBSupply
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model  NBSupply_D
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model  NBSupply_E
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model  NBSupply
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model  NBSupply_D
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model  NBSupply_E
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model  NBSupply_S
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model  NBSupply_SD
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model  NBSupply_SE
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model  NBSupply_S
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model  NBSupply_SD
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model  NBSupply_SE
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION
Model  NONE
End

AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
End

Draw  W3DModelDraw ModuleTag_NightLights01
OkToChangeModelColor  Yes

;Day
ConditionState  NONE
Model  None
End
ConditionState  DAMAGED
Model  None
End
ConditionState  REALLYDAMAGED RUBBLE
Model  None
End

;Night
ConditionState  NIGHT
Model  NBSupply_N
End
ConditionState  NIGHT DAMAGED
Model  NBSupply_ND
End
ConditionState  NIGHT REALLYDAMAGED RUBBLE
Model  NBSupply_NE
End

;Snow
ConditionState  SNOW
Model  None
End
ConditionState  DAMAGED SNOW
Model  None
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model  None
End

;Snow Night
ConditionState  SNOW NIGHT
Model  NBSupply_N
End
ConditionState  DAMAGED SNOW NIGHT
Model  NBSupply_ND
End
ConditionState  REALLYDAMAGED RUBBLE SNOW NIGHT
Model  NBSupply_NE
End

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model  None
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model  None
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model  None
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model  NBSupply_N
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model  NBSupply_ND
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model  NBSupply_NE
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model  None
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model  None
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model  None
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model  NBSupply_N
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model  NBSupply_ND
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model  NBSupply_NE
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End


ConditionState  AWAITING_CONSTRUCTION
Model  NONE
End

AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
End


; ------------ Door Animations -----------------
Draw  W3DModelDraw ModuleTag_DoorAnims
DefaultConditionState
Model  NBSupply_A1
Animation  NBSupply_A1.NBSupply_A1
AnimationMode  MANUAL
Flags  START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
ConditionState  DAMAGED
Model  NBSupply_A1D
Animation  NBSupply_A1D.NBSupply_A1D
AnimationMode  MANUAL
Flags  START_FRAME_FIRST
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
ConditionState  REALLYDAMAGED RUBBLE
Model  NBSupply_A1E
Animation  NBSupply_A1E.NBSupply_A1E
AnimationMode  MANUAL
Flags  START_FRAME_FIRST
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
ConditionState  DOOR_1_OPENING
Model  NBSupply_A1
Animation  NBSupply_A1.NBSupply_A1
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING
ConditionState  DOOR_1_OPENING DAMAGED
Model  NBSupply_A1D
Animation  NBSupply_A1D.NBSupply_A1D
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_OPENING DAMAGED
ConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model  NBSupply_A1E
Animation  NBSupply_A1E.NBSupply_A1E
AnimationMode  ONCE
Flags  START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
ConditionState  DOOR_1_CLOSING
Model  NBSupply_A1
Animation  NBSupply_A1.NBSupply_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING
ConditionState  DOOR_1_CLOSING DAMAGED
Model  NBSupply_A1D
Animation  NBSupply_A1D.NBSupply_A1D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING DAMAGED
ConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model  NBSupply_A1E
Animation  NBSupply_A1E.NBSupply_A1E
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
ConditionState  DOOR_1_WAITING_OPEN
Model  NBSupply_A1
Animation  NBSupply_A1.NBSupply_A1
AnimationMode  MANUAL
Flags  START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN
ConditionState  DOOR_1_WAITING_OPEN DAMAGED
Model  NBSupply_A1D
Animation  NBSupply_A1D.NBSupply_A1D
AnimationMode  MANUAL
Flags  START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED
ConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model  NBSupply_A1E
Animation  NBSupply_A1E.NBSupply_A1E
AnimationMode  MANUAL
Flags  START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model  NBSupply_A1
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model  NBSupply_A1D
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model  NBSupply_A1E
Flags  ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
ConditionState  AWAITING_CONSTRUCTION
Model  NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
End


; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4
Animation        NBSupCent_A4.NBSupCent_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4N
Animation        NBSupCent_A4N.NBSupCent_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4S
Animation        NBSupCent_A4S.NBSupCent_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A4SN
Animation        NBSupCent_A4SN.NBSupCent_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBSupCent_A4
Animation        NBSupCent_A4.NBSupCent_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBSupCent_A4N
Animation        NBSupCent_A4N.NBSupCent_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBSupCent_A4S
Animation        NBSupCent_A4S.NBSupCent_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBSupCent_A4SN
Animation        NBSupCent_A4SN.NBSupCent_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBSupCent_A4
Animation        NBSupCent_A4.NBSupCent_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBSupCent_A4N
Animation        NBSupCent_A4N.NBSupCent_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBSupCent_A4S
Animation        NBSupCent_A4S.NBSupCent_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBSupCent_A4SN
Animation        NBSupCent_A4SN.NBSupCent_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBSupCent_A6
Animation        NBSupCent_A6.NBSupCent_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBSupCent_A6N
Animation        NBSupCent_A6N.NBSupCent_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDustChina
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
ParticleSysBone  Smoke05 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBSupCent_A6S
Animation        NBSupCent_A6S.NBSupCent_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
ParticleSysBone  Smoke05 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBSupCent_A6SN
Animation        NBSupCent_A6SN.NBSupCent_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
ParticleSysBone  Smoke05 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBSupCent_A6
Animation        NBSupCent_A6.NBSupCent_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBSupCent_A6N
Animation        NBSupCent_A6N.NBSupCent_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBSupCent_A6S
Animation        NBSupCent_A6S.NBSupCent_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBSupCent_A6SN
Animation        NBSupCent_A6SN.NBSupCent_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBSupCent_A6
Animation        NBSupCent_A6.NBSupCent_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBSupCent_A6N
Animation        NBSupCent_A6N.NBSupCent_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBSupCent_A6S
Animation        NBSupCent_A6S.NBSupCent_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBSupCent_A6SN
Animation        NBSupCent_A6SN.NBSupCent_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5
Animation        NBSupCent_A5.NBSupCent_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5N
Animation        NBSupCent_A5N.NBSupCent_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5S
Animation        NBSupCent_A5S.NBSupCent_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBSupCent_A5SN
Animation        NBSupCent_A5SN.NBSupCent_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBSupCent_AB
Animation        NBSupCent_AB.NBSupCent_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBSupCent_ABN
Animation        NBSupCent_ABN.NBSupCent_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBSupCent_ABS
Animation        NBSupCent_ABS.NBSupCent_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBSupCent_ABSN
Animation        NBSupCent_ABSN.NBSupCent_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBSupCent_AB
Animation        NBSupCent_AB.NBSupCent_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBSupCent_ABN
Animation        NBSupCent_ABN.NBSupCent_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBSupCent_ABS
Animation        NBSupCent_ABS.NBSupCent_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBSupCent_ABSN
Animation        NBSupCent_ABSN.NBSupCent_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ChinaSupplyCenter
Side              China
EditorSorting     STRUCTURE
Prerequisites
Object  ChinaPowerPlant
End
BuildCost         1500
RefundValue       600 ; With nothing (or zero) listed, we sell for half price.
BuildTime         15.0           ; in seconds
EnergyProduction  -10
CommandSet        ChinaSupplyCenterCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  SupplyCenterChinaSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER POWERED
Body                 StructureBody ModuleTag_05
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  SupplyCenterCreate ModuleTag_06
End


Behavior  ProductionUpdate ModuleTag_10
NumDoorAnimations  1
DoorOpeningTime  3000
DoorWaitOpenTime  3000
DoorCloseTime  3000
ConstructionCompleteDuration  1500
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: -25.0  Y:  0.0   Z:0.0
NaturalRallyPoint  X: 52.0   Y:  0.0   Z:0.0
End

Behavior             SpawnBehavior ModuleTag_12
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  ChinaVehicleSupplyTruck
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  SupplyCenterDockUpdate ModuleTag_13
AllowsPassthrough  No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
NumberApproachPositions  -1 ; This is a Boneless dock, so this means infinite can approach
End

Behavior  GenerateMinefieldBehavior     ModuleTag_14
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  52.0
GeometryMinorRadius  47.0
GeometryHeight       30.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaWarFactory

; *** ART Parameters ***
SelectPortrait          SNWarFact_L
ButtonImage             SNWarFact

; ------------ the main factory itself -----------------
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
; day
DefaultConditionState
Model            NBWarFact
End
ConditionState     DAMAGED
Model            NBWarFact_D
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
End
ConditionState     REALLYDAMAGED RUBBLE
Model            NBWarFact_E
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
ParticleSysBone  Fire03  SmolderingFire
ParticleSysBone  Fire03  SmolderingFlameCore
End

ConditionState     SNOW
Model            NBWarFact_S
HideSubObject    RAILINGS_AND_GR
End
ConditionState  DAMAGED SNOW
Model            NBWarFact_DS
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model            NBWarFact_ES
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
ParticleSysBone  Fire03  SmolderingFire
ParticleSysBone  Fire03  SmolderingFlameCore
End


; night **********************************************
ConditionState   NIGHT
Model            NBWarFact_N
End
ConditionState     DAMAGED NIGHT
Model            NBWarFact_DN
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT
Model            NBWarFact_EN
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
ParticleSysBone  Fire03  SmolderingFire
ParticleSysBone  Fire03  SmolderingFlameCore
End

; night   SNOW
ConditionState  NIGHT SNOW
Model            NBWarFact_NS
HideSubObject    BASKET04
End
ConditionState  DAMAGED NIGHT SNOW
Model            NBWarFact_DNS
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
Model            NBWarFact_ENS
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Fire01  SmolderingFire
ParticleSysBone  Fire01  SmolderingFlameCore
ParticleSysBone  Fire02  SmolderingFire
ParticleSysBone  Fire02  SmolderingFlameCore
ParticleSysBone  Fire03  SmolderingFire
ParticleSysBone  Fire03  SmolderingFlameCore
End


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBWarFact
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBWarFact_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBWarFact_E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               NBWarFact_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               NBWarFact_DN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               NBWarFact_EN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBWarFact_S
HideSubObject       RAILINGS_AND_GR
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBWarFact_DS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBWarFact_ES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               NBWarFact_NS
HideSubObject       BASKET04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               NBWarFact_DNS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               NBWarFact_ENS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

Draw                 W3DModelDraw ModuleTag_SnowRailings01

DefaultConditionState
Model            NONE
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  NIGHT
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     SNOW
Model            NBWarFact_S_R
End

ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model          NBWarFact_S_R
Flags          ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

End

Draw                 W3DModelDraw ModuleTag_FactorySmoke01

ConditionState     NONE
Model            NBWfSmk
ParticleSysBone  Smoke01 CoalPowerplantChimneySmoke
End
AliasConditionState  SNOW
AliasConditionState  NIGHT
AliasConditionState  NIGHT SNOW

ConditionState     DAMAGED
Model            NBWfSmk_D
ParticleSysBone  Smoke01 CoalPowerplantChimneySmoke
End
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState     REALLYDAMAGED RUBBLE
Model            NBWfSmk_E
ParticleSysBone  Smoke01 CoalPowerplantChimneySmoke
End
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW


;**************************************************************************************************************************
ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------------ the construction crane ------------
Draw                    W3DModelDraw ModuleTag_02
OkToChangeModelColor  Yes
ConditionState        None
Model               NBWarFact_A1
Animation           NBWarFact_A1.NBWarFact_A1
AnimationMode       LOOP
WaitForStateToFinishIfPossible  TransitionFinishBeforeSwitch
End
ConditionState        DAMAGED
Model               NBWarFact_A1D
Animation           NBWarFact_A1D.NBWarFact_A1D
AnimationMode       LOOP
WaitForStateToFinishIfPossible  TransitionFinishBeforeSwitch
End
ConditionState        REALLYDAMAGED RUBBLE
Model               NBWarFact_A1E
Animation           NBWarFact_A1E.NBWarFact_A1E
AnimationMode       LOOP
WaitForStateToFinishIfPossible  TransitionFinishBeforeSwitch
End
ConditionState        ACTIVELY_CONSTRUCTING
Model               NBWarFact_A2
Animation           NBWarFact_A2.NBWarFact_A2
AnimationMode       ONCE
TransitionKey       TransitionFinishBeforeSwitch
End
ConditionState        ACTIVELY_CONSTRUCTING DAMAGED
Model               NBWarFact_A2D
Animation           NBWarFact_A2D.NBWarFact_A2D
AnimationMode       ONCE
TransitionKey       TransitionFinishBeforeSwitch
End
ConditionState        ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
Model               NBWarFact_A2E
Animation           NBWarFact_A2E.NBWarFact_A2E
AnimationMode       ONCE
TransitionKey       TransitionFinishBeforeSwitch
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBWarFact_A1
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        SOLD DAMAGED REALLYDAMAGED RUBBLE
Model               NONE
End
End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A4
Animation        NBWarFact_A4.NBWarFact_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone   Fire01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone   Fire02 SmolderingFire
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A4N
Animation        NBWarFact_A4N.NBWarFact_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone   Fire01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone   Fire02 SmolderingFire
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A4S
Animation        NBWarFact_A4S.NBWarFact_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone   Fire01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone   Fire02 SmolderingFire
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A4SN
Animation        NBWarFact_A4SN.NBWarFact_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone   Fire01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone   Fire02 SmolderingFire
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBWarFact_A4
Animation        NBWarFact_A4.NBWarFact_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBWarFact_A4N
Animation        NBWarFact_A4N.NBWarFact_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBWarFact_A4S
Animation        NBWarFact_A4S.NBWarFact_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBWarFact_A4SN
Animation        NBWarFact_A4SN.NBWarFact_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBWarFact_A4
Animation        NBWarFact_A4.NBWarFact_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBWarFact_A4N
Animation        NBWarFact_A4N.NBWarFact_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBWarFact_A4S
Animation        NBWarFact_A4S.NBWarFact_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBWarFact_A4SN
Animation        NBWarFact_A4SN.NBWarFact_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model             None
TransitionKey  DOWN_DEFAULT
End
ConditionState      NIGHT
Model             None
TransitionKey  DOWN_DEFAULT
End
ConditionState      SNOW
Model             None
TransitionKey  DOWN_DEFAULT
End
ConditionState      SNOW NIGHT
Model             None
TransitionKey  DOWN_DEFAULT
End
ConditionState      PARTIALLY_CONSTRUCTED
Model             NBWarFact_A6
Animation         NBWarFact_A6.NBWarFact_A6
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey  UP_DAY
ParticleSysBone   Dust01 BuildingDustChina
ParticleSysBone   Smoke01 BuildUpSmokeChina
ParticleSysBone   Smoke02 BuildUpSmokeChina
ParticleSysBone   Smoke03 BuildUpSmokeChina
ParticleSysBone   Smoke04 BuildUpSmokeChina
ParticleSysBone   Smoke05 BuildUpSmokeChina
End
ConditionState      NIGHT PARTIALLY_CONSTRUCTED
Model             NBWarFact_A6N
Animation         NBWarFact_A6N.NBWarFact_A6N
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey  UP_NIGHT
ParticleSysBone   Dust01 BuildingDustChina
ParticleSysBone   Smoke01 BuildUpSmokeChina
ParticleSysBone   Smoke02 BuildUpSmokeChina
ParticleSysBone   Smoke03 BuildUpSmokeChina
ParticleSysBone   Smoke04 BuildUpSmokeChina
ParticleSysBone   Smoke05 BuildUpSmokeChina
End
ConditionState      SNOW PARTIALLY_CONSTRUCTED
Model             NBWarFact_A6S
Animation         NBWarFact_A6S.NBWarFact_A6S
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey  UP_SNOW
ParticleSysBone   Dust01 BuildingSnowDust
ParticleSysBone   Smoke01 BuildUpSnowSmoke
ParticleSysBone   Smoke02 BuildUpSnowSmoke
ParticleSysBone   Smoke03 BuildUpSnowSmoke
ParticleSysBone   Smoke04 BuildUpSnowSmoke
ParticleSysBone   Smoke05 BuildUpSnowSmoke
End
ConditionState      SNOW NIGHT PARTIALLY_CONSTRUCTED
Model             NBWarFact_A6SN
Animation         NBWarFact_A6SN.NBWarFact_A6SN
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey  UP_SNOWNIGHT
ParticleSysBone   Dust01 BuildingNightSnowDust
ParticleSysBone   Smoke01 BuildUpNightSnowSmoke
ParticleSysBone   Smoke02 BuildUpNightSnowSmoke
ParticleSysBone   Smoke03 BuildUpNightSnowSmoke
ParticleSysBone   Smoke04 BuildUpNightSnowSmoke
ParticleSysBone   Smoke05 BuildUpNightSnowSmoke
End
TransitionState     DOWN_DEFAULT UP_DAY
Model              NBWarFact_A6
Animation         NBWarFact_A6.NBWarFact_A6
AnimationMode     ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_NIGHT
Model              NBWarFact_A6N
Animation         NBWarFact_A6N.NBWarFact_A6N
AnimationMode     ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_SNOW
Model              NBWarFact_A6S
Animation         NBWarFact_A6S.NBWarFact_A6S
AnimationMode     ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_SNOWNIGHT
Model              NBWarFact_A6SN
Animation         NBWarFact_A6SN.NBWarFact_A6SN
AnimationMode     ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     UP_DAY DOWN_DEFAULT
Model             NBWarFact_A6
Animation         NBWarFact_A6.NBWarFact_A6
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_NIGHT DOWN_DEFAULT
Model             NBWarFact_A6N
Animation         NBWarFact_A6N.NBWarFact_A6N
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_SNOW DOWN_DEFAULT
Model             NBWarFact_A6S
Animation         NBWarFact_A6S.NBWarFact_A6S
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_SNOWNIGHT DOWN_DEFAULT
Model             NBWarFact_A6SN
Animation         NBWarFact_A6SN.NBWarFact_A6SN
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
End

; ------------------ the construction conveyor belt ------------
Draw  W3DModelDraw ModuleTag_05
OkToChangeModelColor  Yes
DefaultConditionState
Model            NBWarFact_A7
Animation        NBWarFact_A7.NBWarFact_A7
AnimationMode    LOOP
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBWarFact_A7
Animation           NBWarFact_A7.NBWarFact_A7
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ----------------- the factory door -------------------
Draw  W3DModelDraw ModuleTag_06
DefaultConditionState
Model            NBWarFact_A8
Animation        NBWarFact_A8.NBWarFact_A8
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState     DAMAGED
Model            NBWarFact_A8D
Animation        NBWarFact_A8D.NBWarFact_A8D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            NBWarFact_A8E
Animation        NBWarFact_A8E.NBWarFact_A8E
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            NBWarFact_A8
Animation        NBWarFact_A8.NBWarFact_A8
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING


ConditionState     DOOR_1_OPENING DAMAGED
Model            NBWarFact_A8D
Animation        NBWarFact_A8D.NBWarFact_A8D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_OPENING DAMAGED

ConditionState     DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model            NBWarFact_A8E
Animation        NBWarFact_A8E.NBWarFact_A8E
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            NBWarFact_A8
Animation        NBWarFact_A8.NBWarFact_A8
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING


ConditionState     DOOR_1_CLOSING DAMAGED
Model            NBWarFact_A8D
Animation        NBWarFact_A8D.NBWarFact_A8D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING DAMAGED

ConditionState     DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model            NBWarFact_A8E
Animation        NBWarFact_A8E.NBWarFact_A8E
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            NBWarFact_A8
Animation        NBWarFact_A8.NBWarFact_A8
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN


ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            NBWarFact_A8D
Animation        NBWarFact_A8D.NBWarFact_A8D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED

ConditionState     DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model            NBWarFact_A8E
Animation        NBWarFact_A8E.NBWarFact_A8E
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBWarFact_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBWarFact_A8D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBWarFact_A8E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED



ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_07
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A5
Animation        NBWarFact_A5.NBWarFact_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A5N
Animation        NBWarFact_A5N.NBWarFact_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End

ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A5S
Animation        NBWarFact_A5S.NBWarFact_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBWarFact_A5SN
Animation        NBWarFact_A5SN.NBWarFact_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBWarFact_AB
Animation        NBWarFact_AB.NBWarFact_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBWarFact_ABN
Animation        NBWarFact_ABN.NBWarFact_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBWarFact_ABS
Animation        NBWarFact_ABS.NBWarFact_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBWarFact_ABSN
Animation        NBWarFact_ABSN.NBWarFact_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBWarFact_AB
Animation        NBWarFact_AB.NBWarFact_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBWarFact_ABN
Animation        NBWarFact_ABN.NBWarFact_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBWarFact_ABS
Animation        NBWarFact_ABS.NBWarFact_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBWarFact_ABSN
Animation        NBWarFact_ABSN.NBWarFact_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:WarFactory
Side              China
EditorSorting     STRUCTURE
Prerequisites
Object  ChinaSupplyCenter
End
BuildCost         2000
BuildTime         15.0           ; in seconds
EnergyProduction  -15
CommandSet        ChinaWarFactoryCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  WarFactoryChinaSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY POWERED
Body             StructureBody ModuleTag_08
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ProductionUpdate ModuleTag_12
QuantityModifier              ChinaTankHopper 2

;Optimized Production Vehicles
QuantityModifier              ChinaTankBattleMaster_Optimized    2
QuantityModifier              ChinaVehicleTroopCrawler_Optimized 2
QuantityModifier              ChinaTankGattling_Optimized        2
QuantityModifier              ChinaTankHopper_Optimized          4

NumDoorAnimations             1
DoorOpeningTime               4000  ;in mSeconds
DoorWaitOpenTime              2000  ;in mSeconds
DoorCloseTime                 4500  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End
Behavior  QueueProductionExitUpdate ModuleTag_11
UnitCreatePoint    X:  0.0  Y:-27.0   Z:0.0
NaturalRallyPoint  X: 57.0  Y:-27.0   Z:0.0    ; NaturalRallyPointX must always match GeometryMajorRadius! -ML
ExitDelay  500                                 ; Mainly for the multiple produced Hopper Tanks.  Make them come out one at a time.
End
Behavior  RepairDockUpdate ModuleTag_14
TimeForFullHeal    8000   ;(in milliseconds)
NumberApproachPositions  5
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  GenerateMinefieldBehavior     ModuleTag_22
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
ExemptStatus                   UNDER_CONSTRUCTION
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  CommandSetUpgrade ModuleTag_OptimizedProduction01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
CommandSet       ChinaWarFactoryCommandSetUpgraded
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_OptimizedProduction02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
CommandSet       ChinaWarFactoryCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  57.0
GeometryMinorRadius  61.0
GeometryHeight       30.0
GeometryIsSmall      No
FactoryExitWidth     25
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaSpeakerTower

; *** ART Parameters ***
SelectPortrait          SNPropSpeaker_L
ButtonImage             SNPropSpeaker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState   NONE
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  NIGHT
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE NIGHT

ConditionState   DAMAGED
Model          NBPTwr_D
Animation      NBPTwr_D.NBPTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  NIGHT DAMAGED

ConditionState   REALLYDAMAGED
Model          NBPTwr_E
Animation      NBPTwr_E.NBPTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  NIGHT REALLYDAMAGED

; day Snow
ConditionState   SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  NIGHT SNOW
AliasConditionState  RUBBLE SNOW
AliasConditionState  RUBBLE NIGHT SNOW

ConditionState   DAMAGED SNOW
Model          NBPTwr_SD
Animation      NBPTwr_SD.NBPTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState   REALLYDAMAGED SNOW
Model          NBPTwr_SE
Animation      NBPTwr_SE.NBPTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED

;;;Upgraded with Subliminal

; day
ConditionState   USER_1
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 RUBBLE
AliasConditionState  USER_1 RUBBLE NIGHT

ConditionState   USER_1 DAMAGED
Model          NBPTwr_D
Animation      NBPTwr_D.NBPTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  USER_1 NIGHT DAMAGED

ConditionState   USER_1 REALLYDAMAGED
Model          NBPTwr_E
Animation      NBPTwr_E.NBPTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  USER_1 NIGHT REALLYDAMAGED

; day Snow
ConditionState   USER_1 SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT SNOW
AliasConditionState  USER_1 RUBBLE SNOW
AliasConditionState  USER_1 RUBBLE NIGHT SNOW

ConditionState   USER_1 DAMAGED SNOW
Model          NBPTwr_SD
Animation      NBPTwr_SD.NBPTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  USER_1 NIGHT SNOW DAMAGED

ConditionState   USER_1 REALLYDAMAGED SNOW
Model          NBPTwr_SE
Animation      NBPTwr_SE.NBPTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  USER_1 NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBPTwr
Animation           NBPTwr.NBPTwr
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBPTwr_D
Animation           NBPTwr_D.NBPTwr_D
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBPTwr_E
Animation           NBPTwr_E.NBPTwr_E
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBPTwr_S
Animation           NBPTwr_S.NBPTwr_S
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBPTwr_SD
Animation           NBPTwr_SD.NBPTwr_SD
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBPTwr_SE
Animation           NBPTwr_SE.NBPTwr_SE
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    ONCE

AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5
Animation        NBPTower_A5.NBPTower_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5N
Animation        NBPTower_A5N.NBPTower_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5S
Animation        NBPTower_A5S.NBPTower_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5SN
Animation        NBPTower_A5SN.NBPTower_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPTower_AB
Animation        NBPTower_AB.NBPTower_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPTower_ABN
Animation        NBPTower_ABN.NBPTower_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPTower_ABS
Animation        NBPTower_ABS.NBPTower_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPTower_ABSN
Animation        NBPTower_ABSN.NBPTower_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_AB
Animation        NBPTower_AB.NBPTower_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_ABN
Animation        NBPTower_ABN.NBPTower_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_ABS
Animation        NBPTower_ABS.NBPTower_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_ABSN
Animation        NBPTower_ABSN.NBPTower_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName          OBJECT:SpeakerTower
Side                 China
EditorSorting        STRUCTURE
BuildCost            500
BuildTime            10.0           ; in seconds
EnergyProduction     -1
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object             ChinaPowerPlant
End

CommandSet           ChinaSpeakerTowerCommandSet
ExperienceValue      50 50 50 50  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect      SpeakerTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_05
MaxHealth      600.0
InitialHealth  600.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_AI01
End

Behavior         PropagandaTowerBehavior ModuleTag_06
Radius                         150.0
DelayBetweenUpdates            2000 ; in milliseconds
HealPercentEachSecond          1%   ; get this % of max health every second
PulseFX                        FX_PropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%   ; get this % of max health every second
UpgradedPulseFX                FX_PropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
End

;-------------VERY SPECIAL UPGRADE CODE START-------------------

Behavior                  FireWeaponUpdate ModuleTag_Upgrade01
Weapon                  GLACommandTruckRadarCollisionDummyWeapon
End

;upgrade to jammer tower
Behavior  FireWeaponCollide ModuleTag_Upgrade02
CollideWeapon           SuicideWeapon
RequiredStatus          STATUS_RIDER6
End

Behavior                  CreateObjectDie ModuleTag_Upgrade03
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER6
CreationList            OCL_ChinaSpeakerTowerJammerUpgrading
TransferPreviousHealth  Yes
End

;upgrade to sensor tower
Behavior  FireWeaponCollide ModuleTag_Upgrade04
CollideWeapon           SuicideWeapon
RequiredStatus          STATUS_RIDER7
End

Behavior                  CreateObjectDie ModuleTag_Upgrade05
DeathTypes              NONE +SUICIDED
RequiredStatus          STATUS_RIDER7
CreationList            OCL_ChinaSpeakerTowerSensorUpgrading
TransferPreviousHealth  Yes
End

Behavior  ProductionUpdate ModuleTag_Upgrade08
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_Upgrade09
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
End

Behavior  SlowDeathBehavior ModuleTag_Upgrade10
DestructionDelay   100
DeathTypes         NONE +SUICIDED
End

;-------------VERY SPECIAL UPGRADE CODE END-------------------

Behavior         DestroyDie ModuleTag_07
DeathTypes     ALL -SUICIDED
End

Behavior         CreateObjectDie ModuleTag_08
DeathTypes     ALL -SUICIDED
CreationList   OCL_ABPowerPlantExplode
End

Behavior         FXListDie ModuleTag_09
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureTinyDeath
End

Behavior              FlammableUpdate ModuleTag_13
AflameDuration      5000      ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5         ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

;Upgrade Vissuals

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual01
TriggeredBy     Upgrade_ChinaSubliminalMessaging
ShowSubObjects  BANNERUP01
End

Behavior  ModelConditionUpgrade ModuleTag_UpgradeVissual02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  FireWeaponUpdate ModuleTag_SpeakerDecal01
Weapon  SpeakerTowerPropagandaDecalWeapon
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry              BOX
GeometryMajorRadius   11.5
GeometryMinorRadius   11.5
GeometryHeight        51.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaSensorTower

; *** ART Parameters ***
SelectPortrait          SNSensorTower_L
ButtonImage             SNSensorTower

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState   NONE
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  NIGHT

ConditionState   DAMAGED
Model          NBPTwr_D
Animation      NBPTwr_D.NBPTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  NIGHT DAMAGED

ConditionState   REALLYDAMAGED RUBBLE
Model          NBPTwr_E
Animation      NBPTwr_E.NBPTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

; day Snow
ConditionState   SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  NIGHT SNOW

ConditionState   DAMAGED SNOW
Model          NBPTwr_SD
Animation      NBPTwr_SD.NBPTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState   REALLYDAMAGED RUBBLE SNOW
Model          NBPTwr_SE
Animation      NBPTwr_SE.NBPTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Upgraded with Subliminal

; day
ConditionState   USER_1
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT

ConditionState   USER_1 DAMAGED
Model          NBPTwr_D
Animation      NBPTwr_D.NBPTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  USER_1 NIGHT DAMAGED

ConditionState   USER_1 REALLYDAMAGED RUBBLE
Model          NBPTwr_E
Animation      NBPTwr_E.NBPTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  USER_1 NIGHT REALLYDAMAGED RUBBLE

; day Snow
ConditionState   USER_1 SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT SNOW

ConditionState   USER_1 DAMAGED SNOW
Model          NBPTwr_SD
Animation      NBPTwr_SD.NBPTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  USER_1 NIGHT SNOW DAMAGED

ConditionState   USER_1 REALLYDAMAGED RUBBLE SNOW
Model          NBPTwr_SE
Animation      NBPTwr_SE.NBPTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  ECMUP01 BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  USER_1 NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBPTwr
Animation           NBPTwr.NBPTwr
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBPTwr_D
Animation           NBPTwr_D.NBPTwr_D
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBPTwr_E
Animation           NBPTwr_E.NBPTwr_E
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBPTwr_S
Animation           NBPTwr_S.NBPTwr_S
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBPTwr_SD
Animation           NBPTwr_SD.NBPTwr_SD
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBPTwr_SE
Animation           NBPTwr_SE.NBPTwr_SE
AnimationMode       LOOP
HideSubObject       ECMUP01 BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End


Draw                    W3DModelDraw ModuleTag_SensorTower01
OkToChangeModelColor  Yes

; day
ConditionState   NONE
Model          NBSnsrTwr
Animation      NBSnsrTwr.NBSnsrTwr
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  RADARPART ChinaSensorTowerPingEffect
End
AliasConditionState  NIGHT

ConditionState   DAMAGED
Model          NBSnsrTwr_D
Animation      NBSnsrTwr_D.NBSnsrTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  RADARPART ChinaSensorTowerPingEffect
End
AliasConditionState  NIGHT DAMAGED

ConditionState   REALLYDAMAGED RUBBLE
Model          NBSnsrTwr_E
Animation      NBSnsrTwr_E.NBSnsrTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  RADARPART ChinaSensorTowerPingEffect
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

; day Snow
ConditionState   SNOW
Model          NBSnsrTwr_S
Animation      NBSnsrTwr_S.NBSnsrTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  RADARPART ChinaSensorTowerPingEffect
End
AliasConditionState  NIGHT SNOW

ConditionState   DAMAGED SNOW
Model          NBSnsrTwr_SD
Animation      NBSnsrTwr_SD.NBSnsrTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  RADARPART ChinaSensorTowerPingEffect
End
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState   REALLYDAMAGED RUBBLE SNOW
Model          NBSnsrTwr_SE
Animation      NBSnsrTwr_SE.NBSnsrTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  RADARPART ChinaSensorTowerPingEffect
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBSnsrTwr
Animation           NBSnsrTwr.NBSnsrTwr
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBSnsrTwr_D
Animation           NBSnsrTwr_D.NBSnsrTwr_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBSnsrTwr_E
Animation           NBSnsrTwr_E.NBSnsrTwr_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBSnsrTwr_S
Animation           NBSnsrTwr_S.NBSnsrTwr_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBSnsrTwr_SD
Animation           NBSnsrTwr_SD.NBSnsrTwr_SD
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBSnsrTwr_SE
Animation           NBSnsrTwr_SE.NBSnsrTwr_SE
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    ONCE

AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5
Animation        NBPTower_A5.NBPTower_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5N
Animation        NBPTower_A5N.NBPTower_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5S
Animation        NBPTower_A5S.NBPTower_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5SN
Animation        NBPTower_A5SN.NBPTower_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPTower_AB
Animation        NBPTower_AB.NBPTower_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPTower_ABN
Animation        NBPTower_ABN.NBPTower_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPTower_ABS
Animation        NBPTower_ABS.NBPTower_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPTower_ABSN
Animation        NBPTower_ABSN.NBPTower_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_AB
Animation        NBPTower_AB.NBPTower_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_ABN
Animation        NBPTower_ABN.NBPTower_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_ABS
Animation        NBPTower_ABS.NBPTower_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_ABSN
Animation        NBPTower_ABSN.NBPTower_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName          OBJECT:ChinaTowerSensor
Side                 China
EditorSorting        STRUCTURE
BuildCost            700
BuildTime            10.0           ; in seconds
EnergyProduction     -1
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object             ChinaPowerPlant
End

CommandSet           ChinaSpeakerTowerSensorCommandSet
ExperienceValue      50 50 50 50  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect      SpeakerTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_05
MaxHealth      600.0
InitialHealth  600.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

;needs this otherwise the scan range abbility crashes the game
Behavior  AIUpdateInterface ModuleTag_06231
End

Behavior         PropagandaTowerBehavior ModuleTag_06
Radius                         150.0
DelayBetweenUpdates            2000 ; in milliseconds
HealPercentEachSecond          1%   ; get this % of max health every second
PulseFX                        FX_PropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%   ; get this % of max health every second
UpgradedPulseFX                FX_PropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
End

Behavior         DestroyDie ModuleTag_07
End

Behavior         CreateObjectDie ModuleTag_08
CreationList   OCL_ABPowerPlantExplode
End

Behavior         FXListDie ModuleTag_09
DeathFX        FX_StructureTinyDeath
End

Behavior              FlammableUpdate ModuleTag_13
AflameDuration      5000      ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5         ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        DEMOTRAP;UNATTACKABLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network..
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

;Upgrade Vissuals

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual01
TriggeredBy     Upgrade_ChinaSubliminalMessaging
ShowSubObjects  BANNERUP01
End

Behavior  ModelConditionUpgrade ModuleTag_UpgradeVissual02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  FireWeaponUpdate ModuleTag_SpeakerDecal01
Weapon  SpeakerTowerPropagandaDecalWeapon
End

Behavior  ProductionUpdate ModuleTag_ShowDetectionRange01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange02
UpgradeObject  OCL_SensorTowerDetectionRangeIndicator
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry              BOX
GeometryMajorRadius   11.5
GeometryMinorRadius   11.5
GeometryHeight        51.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaSensorTowerDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  2000
MaxLifetime  2000
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCDetection
ShadowSizeX  830
ShadowSizeY  830

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaJammerTower

; *** ART Parameters ***
SelectPortrait          SNJammerTower_L
ButtonImage             SNJammerTower

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState   NONE
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
End
AliasConditionState  NIGHT

ConditionState   DAMAGED
Model          NBPTwr_D
Animation      NBPTwr_D.NBPTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  NIGHT DAMAGED

ConditionState   REALLYDAMAGED RUBBLE
Model          NBPTwr_E
Animation      NBPTwr_E.NBPTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

; day Snow
ConditionState   SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
End
AliasConditionState  NIGHT SNOW

ConditionState   DAMAGED SNOW
Model          NBPTwr_SD
Animation      NBPTwr_SD.NBPTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState   REALLYDAMAGED RUBBLE SNOW
Model          NBPTwr_SE
Animation      NBPTwr_SE.NBPTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;;;Upgraded with Subliminal

; day
ConditionState   USER_1
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT

ConditionState   USER_1 DAMAGED
Model          NBPTwr_D
Animation      NBPTwr_D.NBPTwr_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  USER_1 NIGHT DAMAGED

ConditionState   USER_1 REALLYDAMAGED RUBBLE
Model          NBPTwr_E
Animation      NBPTwr_E.NBPTwr_E
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  USER_1 NIGHT REALLYDAMAGED RUBBLE

; day Snow
ConditionState   USER_1 SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 NIGHT SNOW

ConditionState   USER_1 DAMAGED SNOW
Model          NBPTwr_SD
Animation      NBPTwr_SD.NBPTwr_SD
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
End
AliasConditionState  USER_1 NIGHT SNOW DAMAGED

ConditionState   USER_1 REALLYDAMAGED RUBBLE SNOW
Model          NBPTwr_SE
Animation      NBPTwr_SE.NBPTwr_SE
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  BANNERUP01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 SparksMedium
End
AliasConditionState  USER_1 NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBPTwr
Animation           NBPTwr.NBPTwr
AnimationMode       LOOP
HideSubObject       BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBPTwr_D
Animation           NBPTwr_D.NBPTwr_D
AnimationMode       LOOP
HideSubObject       BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBPTwr_E
Animation           NBPTwr_E.NBPTwr_E
AnimationMode       LOOP
HideSubObject       BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBPTwr_S
Animation           NBPTwr_S.NBPTwr_S
AnimationMode       LOOP
HideSubObject       BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBPTwr_SD
Animation           NBPTwr_SD.NBPTwr_SD
AnimationMode       LOOP
HideSubObject       BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBPTwr_SE
Animation           NBPTwr_SE.NBPTwr_SE
AnimationMode       LOOP
HideSubObject       BANNERUP01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED USER_1 ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_A4
Animation        NBPTower_A4.NBPTower_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_A4N
Animation        NBPTower_A4N.NBPTower_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_A4S
Animation        NBPTower_A4S.NBPTower_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_A4SN
Animation        NBPTower_A4SN.NBPTower_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    ONCE

AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_A6
Animation        NBPTower_A6.NBPTower_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_A6N
Animation        NBPTower_A6N.NBPTower_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_A6S
Animation        NBPTower_A6S.NBPTower_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_A6SN
Animation        NBPTower_A6SN.NBPTower_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5
Animation        NBPTower_A5.NBPTower_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5N
Animation        NBPTower_A5N.NBPTower_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5S
Animation        NBPTower_A5S.NBPTower_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBPTower_A5SN
Animation        NBPTower_A5SN.NBPTower_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBPTower_AB
Animation        NBPTower_AB.NBPTower_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBPTower_ABN
Animation        NBPTower_ABN.NBPTower_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBPTower_ABS
Animation        NBPTower_ABS.NBPTower_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBPTower_ABSN
Animation        NBPTower_ABSN.NBPTower_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBPTower_AB
Animation        NBPTower_AB.NBPTower_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBPTower_ABN
Animation        NBPTower_ABN.NBPTower_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBPTower_ABS
Animation        NBPTower_ABS.NBPTower_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBPTower_ABSN
Animation        NBPTower_ABSN.NBPTower_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName          OBJECT:ChinaTowerJammer
Side                 China
EditorSorting        STRUCTURE
BuildCost            700
BuildTime            10.0           ; in seconds
EnergyProduction     -1
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

Prerequisites
Object             ChinaPowerPlant
End

CommandSet           ChinaSpeakerTowerEcmJammerCommandSet
ExperienceValue      50 50 50 50  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect      SpeakerTowerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE

Body             StructureBody ModuleTag_05
MaxHealth      600.0
InitialHealth  600.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior         PropagandaTowerBehavior ModuleTag_06
Radius                         150.0
DelayBetweenUpdates            2000 ; in milliseconds
HealPercentEachSecond          1%   ; get this % of max health every second
PulseFX                        FX_PropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%   ; get this % of max health every second
UpgradedPulseFX                FX_PropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
End

Behavior         DestroyDie ModuleTag_07
End

Behavior         CreateObjectDie ModuleTag_08
CreationList   OCL_ABPowerPlantExplode
End

Behavior         FXListDie ModuleTag_09
DeathFX        FX_StructureTinyDeath
End

Behavior         ProductionUpdate ModuleTag_10
End

Behavior              FlammableUpdate ModuleTag_13
AflameDuration      5000      ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5         ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior  FireWeaponUpdate ModuleTag_ECMEffect01
Weapon  ECMPropagandaTowerWeapon
End

Behavior  FireWeaponUpdate ModuleTag_ECMEffect02
Weapon  ECMPropagandaTowerEffectOnlyWeapon
End

Behavior  FireWeaponUpdate ModuleTag_ECMEffect03
Weapon  ECMTankMissileJammerDecalWeapon
End

;Upgrade Vissuals

Behavior  SubObjectsUpgrade ModuleTag_UpgradeVissual01
TriggeredBy     Upgrade_ChinaSubliminalMessaging
ShowSubObjects  BANNERUP01
End

Behavior  ModelConditionUpgrade ModuleTag_UpgradeVissual02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  FireWeaponUpdate ModuleTag_SpeakerDecal01
Weapon  SpeakerTowerPropagandaDecalWeapon
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry              BOX
GeometryMajorRadius   11.5
GeometryMinorRadius   11.5
GeometryHeight        51.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaGattlingCannon

; *** ART Parameters ***
SelectPortrait          SNGatTower_L
ButtonImage             SNGatTower

Draw                     W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones  Yes

;--------------------- IDLE --------------------------------------------------
;-------------------------------------------------------------------------------

; DAY
DefaultConditionState
Model                NBGattling
Animation            NBGattling.NBGattling
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        BULLETCHN02 UPGRADE01
ShowSubObject        BULLETCHN01
End
AliasConditionState  NIGHT

ConditionState         DAMAGED
Model                NBGattling_D
Animation            NBGattling_D.NBGattling_D
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        BULLETCHN02 UPGRADE01
ShowSubObject        BULLETCHN01
ParticleSysBone      SmokeM01 SmokeFactionMedium
ParticleSysBone      SparkM01 SparksMedium
End
AliasConditionState  DAMAGED NIGHT

ConditionState         REALLYDAMAGED RUBBLE
Model                NBGattling_E
Animation            NBGattling_E.NBGattling_E
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        BULLETCHN02 UPGRADE01
ShowSubObject        BULLETCHN01
ParticleSysBone      Smoke01 SmokeFactionMedium
ParticleSysBone      Smoke02 SmokeFactionMedium
ParticleSysBone      Smoke03 SmokeFactionMedium
ParticleSysBone      SparkM01 SparksMedium
ParticleSysBone      SparkM02 SparksMedium
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT


;SNOW    ---------------------------------------------------------------
ConditionState          SNOW
Model                NBGattling_S
Animation            NBGattling_S.NBGattling_S
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        BULLETCHN02 UPGRADE01
ShowSubObject        BULLETCHN01
End
AliasConditionState   NIGHT SNOW

ConditionState         DAMAGED SNOW
Model                NBGattling_SD
Animation            NBGattling_SD.NBGattling_SD
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        BULLETCHN02 UPGRADE01
ShowSubObject        BULLETCHN01
ParticleSysBone      SmokeM01 SmokeFactionMedium
ParticleSysBone      SparkM01 SparksMedium
End
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState         REALLYDAMAGED RUBBLE SNOW
Model                NBGattling_SE
Animation            NBGattling_SE.NBGattling_SE
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
HideSubObject        BULLETCHN02 UPGRADE01
ShowSubObject        BULLETCHN01
ParticleSysBone      Smoke01 SmokeFactionMedium
ParticleSysBone      Smoke02 SmokeFactionMedium
ParticleSysBone      Smoke03 SmokeFactionMedium
ParticleSysBone      SparkM01 SparksMedium
ParticleSysBone      SparkM02 SparksMedium
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW


;---------------- ATTACKING ----------------------------------
;-------------------------------------------------------------
; DAY
ConditionState         ATTACKING
Model                NBGattling
Animation            NBGattling.NBGattling
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  ATTACKING NIGHT

ConditionState         ATTACKING DAMAGED
Model                NBGattling_D
Animation            NBGattling_D.NBGattling_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  ATTACKING DAMAGED NIGHT

ConditionState         ATTACKING REALLYDAMAGED
Model                NBGattling_E
Animation            NBGattling_E.NBGattling_E
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  ATTACKING REALLYDAMAGED NIGHT


;SNOW     ---------------------------------------------------------------
ConditionState         ATTACKING SNOW
Model                NBGattling_S
Animation            NBGattling_S.NBGattling_S
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  ATTACKING NIGHT SNOW

ConditionState         ATTACKING DAMAGED SNOW
Model                NBGattling_SD
Animation            NBGattling_SD.NBGattling_SD
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  ATTACKING DAMAGED SNOW NIGHT

ConditionState         ATTACKING REALLYDAMAGED SNOW
Model                NBGattling_SE
Animation            NBGattling_SE.NBGattling_SE
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  ATTACKING REALLYDAMAGED NIGHT SNOW


;---------------- CONTINUOUS_FIRE_SLOW -----------------------
;-------------------------------------------------------------
; DAY
ConditionState         CONTINUOUS_FIRE_SLOW ATTACKING
Model                NBGattling
Animation            NBGattling.NBGattling
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_SLOW NIGHT ATTACKING

ConditionState         CONTINUOUS_FIRE_SLOW DAMAGED ATTACKING
Model                NBGattling_D
Animation            NBGattling_D.NBGattling_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_SLOW DAMAGED NIGHT ATTACKING

ConditionState         CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING
Model                NBGattling_E
Animation            NBGattling_E.NBGattling_E
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_SLOW REALLYDAMAGED NIGHT ATTACKING


;SNOW     ---------------------------------------------------------------
ConditionState         CONTINUOUS_FIRE_SLOW SNOW ATTACKING
Model                NBGattling_S
Animation            NBGattling_S.NBGattling_S
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_SLOW NIGHT SNOW ATTACKING

ConditionState         CONTINUOUS_FIRE_SLOW DAMAGED SNOW ATTACKING
Model                NBGattling_SD
Animation            NBGattling_SD.NBGattling_SD
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_SLOW DAMAGED SNOW NIGHT ATTACKING

ConditionState         CONTINUOUS_FIRE_SLOW REALLYDAMAGED SNOW ATTACKING
Model                NBGattling_SE
Animation            NBGattling_SE.NBGattling_SE
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_SLOW REALLYDAMAGED NIGHT SNOW ATTACKING


;------------- CONTINUOUS_FIRE_MEAN ------------------------
;-----------------------------------------------------------
;DAY
ConditionState        CONTINUOUS_FIRE_MEAN ATTACKING
Model                NBGattling
Animation            NBGattling.NBGattling
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_MEAN NIGHT ATTACKING

ConditionState        CONTINUOUS_FIRE_MEAN DAMAGED ATTACKING
Model                NBGattling_D
Animation            NBGattling_D.NBGattling_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_MEAN DAMAGED NIGHT ATTACKING

ConditionState        CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING
Model                NBGattling_E
Animation            NBGattling_E.NBGattling_E
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_MEAN REALLYDAMAGED NIGHT ATTACKING


;SNOW    ---------------------------------------------------------------
ConditionState        CONTINUOUS_FIRE_MEAN SNOW ATTACKING
Model                NBGattling_S
Animation            NBGattling_S.NBGattling_S
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_MEAN NIGHT SNOW ATTACKING

ConditionState        CONTINUOUS_FIRE_MEAN DAMAGED SNOW ATTACKING
Model                NBGattling_SD
Animation            NBGattling_SD.NBGattling_SD
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_MEAN DAMAGED SNOW NIGHT ATTACKING

ConditionState         CONTINUOUS_FIRE_FAST REALLYDAMAGED SNOW ATTACKING
Model                NBGattling_SE
Animation            NBGattling_SE.NBGattling_SE
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
End
AliasConditionState  CONTINUOUS_FIRE_MEAN REALLYDAMAGED NIGHT SNOW ATTACKING


;------------- CONTINUOUS_FIRE_FAST ------------------------
;DAY
ConditionState         CONTINUOUS_FIRE_FAST ATTACKING
Model                NBGattling
Animation            NBGattling.NBGattling
AnimationMode        LOOP
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
End
AliasConditionState  CONTINUOUS_FIRE_FAST NIGHT ATTACKING

ConditionState         CONTINUOUS_FIRE_FAST DAMAGED ATTACKING
Model                NBGattling_D
Animation            NBGattling_D.NBGattling_D
AnimationMode        LOOP
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
End
AliasConditionState  CONTINUOUS_FIRE_FAST DAMAGED NIGHT ATTACKING

ConditionState         CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING
Model                NBGattling_E
Animation            NBGattling_E.NBGattling_E
AnimationMode        LOOP
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
End
AliasConditionState  CONTINUOUS_FIRE_FAST REALLYDAMAGED NIGHT ATTACKING


;SNOW      ---------------------------------------------------------------
ConditionState         CONTINUOUS_FIRE_FAST SNOW ATTACKING
Model                NBGattling_S
Animation            NBGattling_S.NBGattling_S
AnimationMode        LOOP
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
End
AliasConditionState  CONTINUOUS_FIRE_FAST NIGHT SNOW ATTACKING

ConditionState         CONTINUOUS_FIRE_FAST DAMAGED SNOW ATTACKING
Model                NBGattling_SD
Animation            NBGattling_SD.NBGattling_SD
AnimationMode        LOOP
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
End
AliasConditionState  CONTINUOUS_FIRE_FAST DAMAGED SNOW NIGHT ATTACKING

ConditionState        CONTINUOUS_FIRE_MEAN REALLYDAMAGED SNOW ATTACKING
Model                NBGattling_SE
Animation            NBGattling_SE.NBGattling_SE
AnimationMode        LOOP
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
HideSubObject        BULLETCHN01 UPGRADE01
ShowSubObject        BULLETCHN02
End
AliasConditionState  CONTINUOUS_FIRE_FAST REALLYDAMAGED NIGHT SNOW ATTACKING



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBGattling
Animation           NBGattling.NBGattling
AnimationMode       MANUAL
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBGattling_D
Animation           NBGattling_D.NBGattling_D
AnimationMode       MANUAL
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBGattling_E
Animation           NBGattling_E.NBGattling_E
AnimationMode       MANUAL
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBGattling_S
Animation           NBGattling_S.NBGattling_S
AnimationMode       MANUAL
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBGattling_SD
Animation           NBGattling_SD.NBGattling_SD
AnimationMode       MANUAL
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBGattling_SE
Animation           NBGattling_SE.NBGattling_SE
AnimationMode       MANUAL
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBGattling_A4
Animation        NBGattling_A4.NBGattling_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBGattling_A4N
Animation        NBGattling_A4N.NBGattling_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBGattling_A4S
Animation        NBGattling_A4S.NBGattling_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBGattling_A4SN
Animation        NBGattling_A4SN.NBGattling_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBGattling_A4
Animation        NBGattling_A4.NBGattling_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBGattling_A4N
Animation        NBGattling_A4N.NBGattling_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBGattling_A4S
Animation        NBGattling_A4S.NBGattling_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBGattling_A4SN
Animation        NBGattling_A4SN.NBGattling_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBGattling_A4
Animation        NBGattling_A4.NBGattling_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBGattling_A4N
Animation        NBGattling_A4N.NBGattling_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBGattling_A4S
Animation        NBGattling_A4S.NBGattling_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBGattling_A4SN
Animation        NBGattling_A4SN.NBGattling_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBGattling_A6
Animation        NBGattling_A6.NBGattling_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBGattling_A6N
Animation        NBGattling_A6N.NBGattling_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBGattling_A6S
Animation        NBGattling_A6S.NBGattling_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBGattling_A6SN
Animation        NBGattling_A6SN.NBGattling_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBGattling_A6
Animation        NBGattling_A6.NBGattling_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBGattling_A6N
Animation        NBGattling_A6N.NBGattling_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBGattling_A6S
Animation        NBGattling_A6S.NBGattling_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBGattling_A6SN
Animation        NBGattling_A6SN.NBGattling_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBGattling_A6
Animation        NBGattling_A6.NBGattling_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBGattling_A6N
Animation        NBGattling_A6N.NBGattling_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBGattling_A6S
Animation        NBGattling_A6S.NBGattling_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBGattling_A6SN
Animation        NBGattling_A6SN.NBGattling_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw                       W3DModelDraw ModuleTag_Bones01

ConditionState         NONE
Model                NONE
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED
AliasConditionState   SNOW
AliasConditionState   SNOW DAMAGED
AliasConditionState   SNOW REALLYDAMAGED

ConditionState         USING_WEAPON_A
Model                NBGattling_B
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    PRIMARY MuzzleFX02
WeaponFireFXBone     PRIMARY Muzzle02
WeaponLaunchBone     PRIMARY Muzzle02
End
AliasConditionState   USING_WEAPON_A DAMAGED
AliasConditionState   USING_WEAPON_A REALLYDAMAGED
AliasConditionState   USING_WEAPON_A SNOW
AliasConditionState   USING_WEAPON_A SNOW DAMAGED
AliasConditionState   USING_WEAPON_A SNOW REALLYDAMAGED

ConditionState         USING_WEAPON_B
Model                NBGattling_B
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX02
WeaponFireFXBone     SECONDARY Muzzle02
WeaponLaunchBone     SECONDARY Muzzle02
End
AliasConditionState   USING_WEAPON_B DAMAGED
AliasConditionState   USING_WEAPON_B REALLYDAMAGED
AliasConditionState   USING_WEAPON_B SNOW
AliasConditionState   USING_WEAPON_B SNOW DAMAGED
AliasConditionState   USING_WEAPON_B SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:GattlingCannon
Side              China
EditorSorting     STRUCTURE
Prerequisites
Object          ChinaPowerPlant
End
BuildCost         900
BuildTime         15.0           ; in seconds
EnergyProduction  -3

ExperienceValue  150 150 150 150 ; Experience point value at each level

WeaponSet
Conditions           None
Weapon               PRIMARY GattlingBuildingGun
AutoChooseSources    PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY GattlingBuildingGunAir
AutoChooseSources    SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
PreferredAgainst     SECONDARY BALLISTIC_MISSILE AIRCRAFT
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY GattlingBuildingGunUpgraded
AutoChooseSources    PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY GattlingBuildingGunAirUpgraded
AutoChooseSources    SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
PreferredAgainst     SECONDARY BALLISTIC_MISSILE AIRCRAFT
End

VisionRange       360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions      None
Armor           BaseDefenseArmor
DamageFX        StructureDamageFXNoShake
End
CommandSet        ChinaGattlingCannonCommandSet

; *** AUDIO Parameters ***
VoiceSelect       GattlingCannonSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
VoiceRapidFire         NoSound
End

UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;These aren't playing properly (mdp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE
Body               StructureBody ModuleTag_05
MaxHealth        1000.0
InitialHealth    1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  GenerateMinefieldBehavior     ModuleTag_04
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   20 ; this keeps it aimed half way between land and sky
MinPhysicalPitch     -45
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250   ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         250
End

Behavior  ProductionUpdate ModuleTag_07
; nothing, but is required if we have any Object-level Upgrades!
End

Behavior              DestroyDie ModuleTag_08
;nothing
End
Behavior              FXListDie ModuleTag_09
DeathFX        FX_StructureTinyDeath
End

Behavior  ProductionUpdate ModuleTag_10
; nothing
End

Behavior         CreateObjectDie ModuleTag_11
CreationList   OCL_LargeStructureDebris
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior  WeaponBonusUpgrade ModuleTag_15
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_16
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  SubObjectsUpgrade ModuleTag_19
TriggeredBy     Upgrade_ChinaChainGuns
ShowSubObjects  UPGRADE01
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaBunker

; *** ART Parameters ***
SelectPortrait          SNBunker_L
ButtonImage             SNBunker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


;day
ConditionState        NONE
Model               NBBunker
HideSubObject       SANDBAGS
End
AliasConditionState   NIGHT

ConditionState        DAMAGED
Model               NBBunker_D
HideSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT

ConditionState        REALLYDAMAGED RUBBLE
Model               NBBunker_E
HideSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT


ConditionState        GARRISONED
Model               NBBunker
ShowSubObject       SANDBAGS
End
AliasConditionState   NIGHT GARRISONED

ConditionState        DAMAGED GARRISONED
Model               NBBunker_D
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT GARRISONED

ConditionState        REALLYDAMAGED RUBBLE GARRISONED
Model               NBBunker_E
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT GARRISONED



ConditionState        SNOW
Model               NBBunker_S
HideSubObject       SANDBAGS
End
AliasConditionState   NIGHT SNOW

ConditionState        DAMAGED SNOW
Model               NBBunker_SD
HideSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT SNOW

ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBBunker_SE
HideSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW


ConditionState        SNOW GARRISONED
Model               NBBunker_S
ShowSubObject       SANDBAGS
End
AliasConditionState   NIGHT SNOW GARRISONED

ConditionState        DAMAGED SNOW GARRISONED
Model               NBBunker_SD
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT SNOW GARRISONED

ConditionState        REALLYDAMAGED RUBBLE SNOW GARRISONED
Model               NBBunker_SE
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBBunker
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBBunker_D
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBBunker_E
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBBunker_S
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBBunker_SD
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBBunker_SE
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD GARRISONED
AliasConditionState   SOLD DAMAGED GARRISONED
AliasConditionState   SOLD REALLYDAMAGED GARRISONED
AliasConditionState   SOLD NIGHT GARRISONED
AliasConditionState   SOLD NIGHT DAMAGED GARRISONED
AliasConditionState   SOLD NIGHT REALLYDAMAGED GARRISONED
AliasConditionState   SOLD SNOW GARRISONED
AliasConditionState   SOLD SNOW DAMAGED GARRISONED
AliasConditionState   SOLD SNOW REALLYDAMAGED GARRISONED
AliasConditionState   SOLD NIGHT SNOW GARRISONED
AliasConditionState   SOLD NIGHT SNOW DAMAGED GARRISONED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED GARRISONED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5
Animation        NBBunker_A5.NBBunker_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5N
Animation        NBBunker_A5N.NBBunker_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5S
Animation        NBBunker_A5S.NBBunker_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5SN
Animation        NBBunker_A5SN.NBBunker_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBunker_AB
Animation        NBBunker_AB.NBBunker_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBunker_ABN
Animation        NBBunker_ABN.NBBunker_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBunker_ABS
Animation        NBBunker_ABS.NBBunker_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBunker_ABSN
Animation        NBBunker_ABSN.NBBunker_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBBunker_AB
Animation        NBBunker_AB.NBBunker_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBBunker_ABN
Animation        NBBunker_ABN.NBBunker_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBBunker_ABS
Animation        NBBunker_ABS.NBBunker_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBBunker_ABSN
Animation        NBBunker_ABSN.NBBunker_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_FirePointBones
OkToChangeModelColor  Yes
DefaultConditionState
Model  NBBnkrFBns
End
End

PlacementViewAngle      -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Bunker
Side  China
EditorSorting      STRUCTURE

Prerequisites
Object             ChinaPropagandaCenter
End

BuildCost          500
BuildTime          10.0           ; in seconds
EnergyProduction   0
VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360
ArmorSet
Conditions       None
Armor            DefenceBunkerArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet        ChinaBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        BunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE
Body               StructureBody ModuleTag_05
MaxHealth        2000.0
InitialHealth    2000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
SubdualDamageCap  1500
SubdualDamageHealRate  500
SubdualDamageHealAmount  100

End

ExperienceValue  50 50 50 50     ; Experience point value at each level

Behavior  GarrisonContain ModuleTag_08
ContainMax                     5
EnterSound                     GarrisonEnter
ExitSound                      GarrisonExit
ImmuneToClearBuildingAttacks   Yes
End

Behavior  GenerateMinefieldBehavior     ModuleTag_09
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  ProductionUpdate ModuleTag_10
; nothing, but is required if we have any Object-level Upgrades!
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_13
CreationList   OCL_LargeStructureDebris
End
Behavior              FXListDie ModuleTag_14
DeathFX        FX_StructureSmallDeath
End
Behavior  DestroyDie ModuleTag_06
;nothing
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  16.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryBlackLotus
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNBlkLotus_L2
ButtonImage             SNBlkLotus2


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- idle
DefaultConditionState
Model              NIHERO_SKN
IdleAnimation      NIHERO_SKL.NIHERO_STA 0 17
IdleAnimation      NIHERO_SKL.NIHero_IDA
IdleAnimation      NIHERO_SKL.NIHero_IDB
AnimationMode      ONCE
TransitionKey      TRANS_Stand
End

ConditionState       REALLYDAMAGED
IdleAnimation      NIHERO_SKL.NIHERO_ISTA 0 30
IdleAnimation      NIHERO_SKL.NIHero_IIDA
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          NIHero_SKL.NIHero_ISTAHIT
AnimationMode      ONCE
End

; --- moving
ConditionState       MOVING
Animation          NIHero_SKL.NIHero_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING UNPACKING

ConditionState       MOVING REALLYDAMAGED
Animation          NIHero_SKL.NIHero_IRNA 15
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; --- packing states
ConditionState       UNPACKING
;Preparing to attack (unpacking gear)
Animation          NIHero_SKL.NIHero_ATA1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING FIRING_A

ConditionState       FIRING_A
;Processing attack (hacking)
Animation          NIHero_SKL.NIHero_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_FiringA
End

ConditionState       PACKING
;Completing attack (packing gear)
Animation          NIHero_SKL.NIHero_ATA3
AnimationMode      ONCE
End
AliasConditionState  FIRING_A PACKING

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          NIHero_SKL.NIHero_IATAHIT
AnimationMode      ONCE
End

; --- injured-packing states
ConditionState       UNPACKING REALLYDAMAGED
;Preparing to attack (unpacking gear)
Animation          NIHero_SKL.NIHero_IATA1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING FIRING_A REALLYDAMAGED

ConditionState       FIRING_A REALLYDAMAGED
;Processing attack (hacking)
Animation          NIHero_SKL.NIHero_IATA2
AnimationMode      LOOP
TransitionKey      TRANS_FiringAInjured
End

ConditionState       PACKING REALLYDAMAGED
;Completing attack (packing gear)
Animation          NIHero_SKL.NIHero_IATA3
AnimationMode      ONCE
End
AliasConditionState  FIRING_A PACKING REALLYDAMAGED

; --- packing-dying states
; code doesn't really support this. Oh well.
;    ConditionState       DYING RAISING_FLAG
;      Animation          NIHero_SKL.NIHero_IDTA
;      Animation          NIHero_SKL.NIHero_IDTB
;      AnimationMode      ONCE
;    End
;    AliasConditionState  DYING RAISING_FLAG EXPLODED_FLAILING EXPLODED_BOUNCING

; --- normal-dying states
ConditionState       DYING
Animation          NIHero_SKL.NIHero_DTA
Animation          NIHero_SKL.NIHero_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NIHero_SKL.NIHero_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NIHero_SKL.NIHero_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NIHero_SKL.NIHero_ADTF3
AnimationMode      ONCE
TransitionKey      None
End

; --- cheering states
ConditionState       SPECIAL_CHEERING
Animation          NIHERO_SKL.NIHERO_CHA
AnimationMode      ONCE
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          NIHERO_SKL.NIHERO_ICHA
AnimationMode      ONCE
End

; --- falling states
ConditionState       FREEFALL
Animation          NIHero_SKL.NIHero_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIHero_SKL.NIHero_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NIHero_SKL.NIHero_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          NIHero_SKL.NIHero_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:BlackLotus
Side                 China
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions         None
Weapon             PRIMARY None
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange          250
ShroudClearingRange  300

Prerequisites
Object  ChinaBarracks
Object  ChinaBreederReactor
End

BuildCost              1500
BuildTime              20.0          ;in seconds
MaxSimultaneousOfType  1

ExperienceValue        50 100 100 150  ;Experience point value at each level
ExperienceRequired     0  100 200 300  ;Experience points needed to gain each level
IsTrainable            Yes             ;Can gain experience
CrushableLevel         2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet             ChinaInfantryBlackLotusCommandSet

; *** AUDIO Parameters ***
VoiceSelect  BlackLotusVoiceSelect
VoiceMove  BlackLotusVoiceMove
VoiceAttack  NoSound ;BlackLotusVoiceAttack
VoiceGuard  BlackLotusVoiceMove
VoiceFear  BlackLotusVoiceFear
VoiceTaskComplete  BlackLotusVoiceCaptureComplete
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff

UnitSpecificSounds
VoiceCreate           BlackLotusVoiceCreate
VoiceGarrison  BlackLotusVoiceMove
VoiceEnter  BlackLotusVoiceMove
VoiceEnterHostile  BlackLotusVoiceMove
VoiceStealCashComplete  BlackLotusVoiceCashComplete
VoiceDisableVehicleComplete  BlackLotusVoiceDisableComplete
VoiceCaptureBuildingComplete  BlackLotusVoiceCaptureComplete
VoiceGetHealed       BlackLotusVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE HERO REJECT_UNMANNED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  CommandButtonHuntUpdate  ModuleTag_03 ; allows use of command button hunt script with this unit.
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL BlackLotusLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2500 ; msec
StealthForbiddenConditions   USING_ABILITY
HintDetectableConditions     USING_ABILITY
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
EnemyDetectionEvaEvent       EnemyBlackLotusDetected
OwnDetectionEvaEvent         OwnBlackLotusDetected
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  ProductionUpdate ModuleTag_CommandSetUpgrade01
MaxQueueEntries  1
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       ChinaInfantryBlackLotusCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
StatusToClear        STATUS_RIDER2
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade04
CommandSet       ChinaInfantryBlackLotusUpgradedCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER2
StatusToClear        STATUS_RIDER1
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade06
TriggeredBy          Upgrade_CostReduction
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
End

;This module fires a weapon with a dummy collision object that ensures that we always have collision
Behavior  FireWeaponUpdate ModuleTag_CommandSetUpgrade07
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade08
CollideWeapon   ChinaBlackLotusStealthDetectSpawnWeapon
RequiredStatus  STATUS_RIDER2
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade09
CollideWeapon   ChinaBlackLotusStealthDetectDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Behavior  SpecialAbility ModuleTag_08
SpecialPowerTemplate  SpecialAbilityBlackLotusCaptureBuilding
UpdateModuleStartsAttack  Yes
InitiateSound          BlackLotusVoiceHackBuilding
End
Behavior  SpecialAbilityUpdate ModuleTag_09
SpecialPowerTemplate   SpecialAbilityBlackLotusCaptureBuilding
StartAbilityRange      250.0
UnpackTime             6730 ;animation time is 6730 (changing this will scale anim speed)
PackTime               2800 ;animation time is 5800 (changing this will scale anim speed)
PreparationTime        6000 ;time to complete hack once prepared (unpacked)
SpecialObject          BinaryDataStream
DoCaptureFX            Yes
PackSound              BlackLotusPack
UnpackSound            BlackLotusUnpack
TriggerSound           BlackLotusTrigger
PrepSoundLoop          BlackLotusPrepLoop
AwardXPForTriggering   20
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End


Behavior  SpecialAbility ModuleTag_10
SpecialPowerTemplate       SpecialAbilityBlackLotusDisableVehicleHack
UpdateModuleStartsAttack   Yes
InitiateSound            BlackLotusVoiceHackVehicle
End
Behavior  SpecialAbilityUpdate ModuleTag_11
SpecialPowerTemplate     SpecialAbilityBlackLotusDisableVehicleHack
StartAbilityRange        250.0
UnpackTime               2000 ;animation time is 6730 (changing this will scale anim speed)
PackTime                 1000 ;animation time is 5800 (changing this will scale anim speed)
PreparationTime          2000 ;time to complete hack once prepared (unpacked)
EffectDuration           25000 ;duration vehicle is disabled  (15 seconds)
DisableFXParticleSystem  DisabledEffectBinaryShower0
SpecialObject            BinaryDataStream
PackSound                BlackLotusPack
UnpackSound              BlackLotusUnpack
TriggerSound             BlackLotusTrigger
PrepSoundLoop            BlackLotusPrepLoop
AwardXPForTriggering     20
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End
Behavior  SpecialAbility ModuleTag_12
SpecialPowerTemplate       SpecialAbilityBlackLotusStealCashHack
UpdateModuleStartsAttack   Yes
InitiateSound          BlackLotusVoiceHackCash
End


Behavior  SpecialAbilityUpdate ModuleTag_13
SpecialPowerTemplate   SpecialAbilityBlackLotusStealCashHack
StartAbilityRange      250.0
UnpackTime             6730 ;animation time is 6730 (changing this will scale anim speed)
PackTime               5800 ;animation time is 5800 (changing this will scale anim speed)
PreparationTime        4000 ;time to complete hack once prepared (unpacked)
EffectValue            2000 ;amount of cash stolen
SpecialObject          BinaryDataStream
PackSound              BlackLotusPack
UnpackSound            BlackLotusUnpack
TriggerSound           BlackLotusTrigger
PrepSoundLoop          BlackLotusPrepLoop
AwardXPForTriggering   20
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End

Behavior  BoneFXDamage ModuleTag_HeroDecal01
End

Behavior  BoneFXUpdate ModuleTag_HeroDecal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_ChineseHeroUnitDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_ChineseHeroUnitDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_ChineseHeroUnitDecal
End

;  Behavior  FireWeaponUpdate ModuleTag_HeroDecal01
;    Weapon  ChineseHeroUnitDecalWeapon
;  End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_BlackLotusDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_BlackLotusDie
OCL                  INITIAL OCL_ChinaExplodedDeathBlackLotus
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireFemale
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinFemale
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_BlackLotusDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathBlackLotus
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinFemale
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  SpecialAbility ModuleTag_DataTransmiterAbility01
SpecialPowerTemplate  SpecialAbilityBlackLotusSignalTransmitter
UpdateModuleStartsAttack  Yes
InitiateSound              BlackLotusVoiceAttack
End

Behavior  SpecialAbilityUpdate ModuleTag_DataTransmiterAbility02
SpecialPowerTemplate                SpecialAbilityBlackLotusSignalTransmitter
StartAbilityRange                   0.0
PreparationTime                     0
SpecialObject                       BlackLotusTrackingDevice
MaxSpecialObjects                   150 ; used to be 8 but if you can actualy manage to place that many charges without beeing spotted you should not be punished for it
SpecialObjectsPersistWhenOwnerDies  No ;Charges are removed instantly when owner dies (nobody can detonate).
AlwaysValidateSpecialObjects        Yes      ;Coupled with the above setting, this one is necessary for code optimization.
SpecialObjectsPersistent            Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          Yes        ;This prevents multiple charges placed on the same object.
UnpackTime                          0
PackTime                            0
SkipPackingWithNoTarget             Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
FlipOwnerAfterUnpacking             Yes
UnpackSound                        ColonelBurtonPlantCharge
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange01
UpgradeObject  OCL_BlackLotusStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_DetectionRange02
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       TroopCrawlerDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        TroopCrawlerDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  TroopCrawlerDetecionRangeIndicatorDecalWeapon
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval   100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration         3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryDisruptor
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNDistuptorTeam_L
ButtonImage             SNDistuptorTeam


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal state
ConditionState
Model              NIDstTm_SKN
IdleAnimation      AISTNG_SKL.AISTNG_STB 0 5
IdleAnimation      AISTNG_SKL.AISTNG_STC
AnimationMode      ONCE
TransitionKey      TRANS_Stand
End

TransitionState      TRANS_Moving TRANS_Stand
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
Flags              START_FRAME_LAST
End

ConditionState       MOVING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_RNA
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

TransitionState      TRANS_Stand TRANS_Moving
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
AnimationSpeedFactorRange  1.5 1.8
End

TransitionState      TRANS_Packing TRANS_Moving
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
AnimationSpeedFactorRange  1.5 1.8
End

;Deploy animation
ConditionState       UNPACKING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DDP
AnimationMode      ONCE
TransitionKey      TRANS_Unpacking
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING

;Deployed animations
ConditionState       DEPLOYED
Model              NIDstTm_SKN
IdleAnimation      AISTNG_SKL.AISTNG_DIA 0 5
IdleAnimation      AISTNG_SKL.AISTNG_DIB
AnimationMode      ONCE
HideSubObject      Tripod01
ShowSubObject      Gun
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey      TRANS_Deployed
Turret             AISTNG_MAINRT
AnimationSpeedFactorRange  1.0 2.0
End

ConditionState  DEPLOYED PREATTACK_A
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DAT
AnimationMode      ONCE
HideSubObject      Tripod01
ShowSubObject      Gun
Flags              START_FRAME_LAST
Turret             AISTNG_MAINRT
End
AliasConditionState  DEPLOYED PREATTACK_B
AliasConditionState  DEPLOYED PREATTACK_C

ConditionState       DEPLOYED RELOADING_A
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DAT
AnimationMode      ONCE
HideSubObject      Tripod01
ShowSubObject      Gun
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             AISTNG_MAINRT
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED FIRING_C

ConditionState  DEPLOYED MOVING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_RNA
AnimationMode      LOOP
Flags              RANDOMSTART PRISTINE_BONE_POS_IN_FINAL_FRAME
ShowSubObject      Tripod01
TransitionKey      TRANS_Deployed_Moving
ParticleSysBone    None InfantryDustTrails
Turret             AISTNG_MAINRT
End
AliasConditionState  DEPLOYED MOVING ATTACKING

TransitionState      TRANS_Deployed_Moving TRANS_Deployed
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DDP
AnimationMode      ONCE_BACKWARDS
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject      Tripod01
AnimationSpeedFactorRange  2.5 2.5
End

TransitionState  TRANS_Deployed_Moving TRANS_Firing
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DDP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
HideSubObject      Tripod01
AnimationSpeedFactorRange  2.5 2.5
End

ConditionState  DEPLOYED FIRING_A
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DAT
AnimationMode      ONCE
TransitionKey      TRANS_Firing
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             AISTNG_MAINRT
HideSubObject      Tripod01
ShowSubObject      Gun
AnimationSpeedFactorRange  1.0 1.3
End
AliasConditionState  DEPLOYED FIRING_B

;Packup animation
ConditionState       PACKING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DDP
AnimationMode      ONCE_BACKWARDS
Turret             TURRET
ShowSubObject      Tripod01
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  ATTACKING PACKING
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_A

;Deployed Death animations
ConditionState       DEPLOYED DYING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_GDA
Animation          AISTNG_SKL.AISTNG_GDB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
HideSubObject      Tripod01
AnimationSpeedFactorRange  0.9 1.25
End

;Regulair Death animations
ConditionState       DYING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DTE
AnimationMode      ONCE
HideSubObject      Tripod01
TransitionKey      TRANS_Dying
End

ConditionState       MOVING DYING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_DTD
AnimationMode      ONCE
HideSubObject      Tripod01
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_ADTF3
AnimationMode      ONCE
TransitionKey      None
End

;Parachute animations
ConditionState       FREEFALL
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_PFL
AnimationMode      LOOP
HideSubObject      Tripod01
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_PHG
AnimationMode      LOOP
HideSubObject      Tripod01
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_POP
AnimationMode      ONCE
HideSubObject      Tripod01
End

TransitionState      TRANS_Chute TRANS_Stand
Model              NIDstTm_SKN
Animation          AISTNG_SKL.AISTNG_PTD
AnimationMode      ONCE
HideSubObject      Tripod01
End

End

Draw  W3DModelDraw ModuleTag_Bones
OkToChangeModelColor  Yes

DefaultConditionState
Model              NIDstTm_SKN_C
HideSubObject      Tripod01
Turret             Turret
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
End
AliasConditionState  UNPACKING
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING
AliasConditionState  DEPLOYED MOVING
AliasConditionState  DEPLOYED MOVING ATTACKING
AliasConditionState  PACKING
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  ATTACKING PACKING
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_C

ConditionState  DEPLOYED
ShowSubObject  Tripod01
End
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED FIRING_A
AliasConditionState  DEPLOYED PREATTACK_A
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED FIRING_B
AliasConditionState  DEPLOYED PREATTACK_B
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED PREATTACK_C

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Disruptor
Side  China
EditorSorting  INFANTRY
TransportSlotCount  0                ;how many "slots" we take in a transport (0 == not transportable)


WeaponSet
Conditions  WEAPON_RIDER1
Weapon               PRIMARY   DisruptorEmpRocketWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon               PRIMARY   DisruptorFlakRocketWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  320
ShroudClearingRange  220

Prerequisites
Object   ChinaBarracks
Object   ChinaBreederReactor
End

BuildCost  700
BuildTime  13.0          ;in seconds

ExperienceValue     60 80  100 120  ;Experience point value at each level
ExperienceRequired  0  200 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect        DisruptorVoiceSelect
VoiceAttack        DisruptorVoiceAttack
VoiceFear          DisruptorVoiceFear
VoiceMove          DisruptorVoiceMove
VoiceGuard         DisruptorVoiceMove

UnitSpecificSounds
VoiceGarrison        DisruptorVoiceMove
VoiceEnter           DisruptorVoiceMove
VoiceGetHealed       DisruptorVoiceMove
VoiceFlameLocation   DisruptorVoiceMove
VoiceCreate          DisruptorVoiceCreate
Deploy               GrenadeMachinegunDeploy
Undeploy             GrenadeMachinegunPackup
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON REJECT_UNMANNED SCORE ATTACK_NEEDS_LINE_OF_SIGHT CANNOT_RETALIATE

Body  HiveStructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

PropagateDamageTypesToSlavesWhenExisting  ALL -STATUS

End

Behavior  DeployStyleAIUpdate ModuleTag_03
Turret
TurretTurnRate         200
RecenterTime           99999999999
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End
PackTime  3762
UnpackTime  3762
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;EMP Missile Mode
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 ChinaInfantryDisruptorTeamCommandSet SET_NORMAL

;;;;Flak Missile Mode
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 ChinaInfantryDisruptorTeamCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon   DisruptorSwitchToEmpRocketWeapon
RequiredStatus  STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject   OCL_GrenadierHEGrenadeMode
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     HIJACKED
StatusToClear   REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon   DisruptorSwitchToFlakRocketWeapon
RequiredStatus  STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject   OCL_GrenadierAirburtGrenadeMode
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
StatusToSet     REPULSOR
StatusToClear   HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************

Behavior             SpawnBehavior ModuleTag_SpawnTeam01
SpawnNumber            2
SpawnReplaceDelay      500
SpawnTemplateName      ChinaInfantryDisruptorTeamMember01
SpawnTemplateName      ChinaInfantryDisruptorTeamMember02
InitialBurst           0
OneShot                Yes
ExitByBudding          Yes
SpawnedRequireSpawner  Yes
AggregateHealth        No
SlavesHaveFreeWill     No
End

Behavior  QueueProductionExitUpdate ModuleTag_SpawnTeam02
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      500
InitialBurst   0
End

Behavior  HordeUpdate ModuleTag_Horde01
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_DisruptorTeamDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_ChinaExplodedDeathDisruptor
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathDisruptor
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DisruptorTeamDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DisruptorTeamDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryDisruptorTeamMember01
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNDistuptorTeam_L
ButtonImage             SNDistuptorTeam

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  NIDstTm_SKN_B
IdleAnimation  NIHCKR_SKL.NIHCKR_KI1 0 10
IdleAnimation  NIHCKR_SKL.NIHCKR_KI2
IdleAnimation  NIHCKR_SKL.NIHCKR_KI3
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

TransitionState  TRANS_Stand Trans_Moving
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.5 3.5
End

TransitionState  Trans_Moving TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  NIHCKR_SKL.NIHCKR_RNA 14
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  Trans_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING UNPACKING
AliasConditionState  MOVING UNPACKING REALLYDAMAGED


ConditionState  FREEFALL
Animation  NIHCKR_SKL.NIHCKR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  NIHCKR_SKL.NIHCKR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING


ConditionState  DYING
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  NIHCKR_SKL.NIHCKR_ADTG1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  NIHCKR_SKL.NIHCKR_ADTG2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  NIHCKR_SKL.NIHCKR_ADTG3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  NIHCKR_SKL.NIHCKR_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Falling TRANS_Chute
Animation  NIHCKR_SKL.NIHCKR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_PTD
AnimationMode  ONCE
End

End

;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildTime  0.0

IsTrainable  No             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  SlavedUpdate ModuleTag_04
GuardMaxRange  15      ;How far away from master I'm allowed when master is idle (doesn't wander)
StayOnSameLayerAsMaster  Yes
End

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

Behavior  HordeUpdate ModuleTag_Horde01
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_DisruptorTeamMember01DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_ChinaExplodedDeathDisruptor
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
OCL                  FINAL   OCL_DisruptorTeamMember01DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathDisruptor
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DisruptorTeamDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DisruptorTeamDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  800 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryDisruptorTeamMember01DeathObject
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NIDstTm_SKN_B
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING
End

;**** DESIGN parameters ***
Side  America
EditorSorting  SYSTEM

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05242
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End
; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryDisruptorTeamMember02
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNDistuptorTeam_L
ButtonImage             SNDistuptorTeam

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NIDstTm_SKN_A
IdleAnimation              AISTNG_SKL.AISTNG_STA 0 10
IdleAnimation              AISTNG_SKL.AISTNG_IDA
AnimationMode              ONCE
AnimationSpeedFactorRange  0.8 1.2
TransitionKey              TRANS_Stand
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  REALLYDAMAGED

TransitionState              TRANS_Stand TRANS_Moving
Model                      NIDstTm_SKN_D
Animation                  AISTNG_SKL.AISTNG_DR1
AnimationMode              ONCE
AnimationSpeedFactorRange  5.0 5.0
End

TransitionState              TRANS_Moving TRANS_Stand
Model                      NIDstTm_SKN_D
Animation                  AISTNG_SKL.AISTNG_DTM
AnimationMode              ONCE
End

ConditionState     MOVING
Model                      NIDstTm_SKN_D
Animation        AISTNG_SKL.AISTNG_RNA
AnimationMode    LOOP
Flags            RANDOMSTART
TransitionKey    TRANS_Moving
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState          MOVING REALLYDAMAGED

ConditionState               MOVING DYING
Model                      NIDstTm_SKN_D
Animation                  AISTNG_SKL.AISTNG_DTC
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

ConditionState               DYING
Model                      NIDstTm_SKN_D
Animation                  AISTNG_SKL.AISTNG_DTA
Animation                  AISTNG_SKL.AISTNG_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_ADTF1
AnimationMode  ONCE
End

ConditionState   DYING EXPLODED_FLAILING
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState   DYING EXPLODED_BOUNCING
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   FREEFALL
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End

AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState   PARACHUTING
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End

AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_POP
AnimationMode  ONCE
End

TransitionState  TRANS_Chute TRANS_Stand
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_PTD
AnimationMode  ONCE
End

ConditionState   SPECIAL_CHEERING
Model                      NIDstTm_SKN_D
Animation      AISTNG_SKL.AISTNG_CHA
AnimationMode  ONCE
End

End


;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildTime  0.0

IsTrainable  No             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  SlavedUpdate ModuleTag_04
GuardMaxRange  15      ;How far away from master I'm allowed when master is idle (doesn't wander)
StayOnSameLayerAsMaster  Yes
End

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

Behavior  HordeUpdate ModuleTag_Horde01
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_DisruptorTeamMember02DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_ChinaExplodedDeathDisruptor
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
OCL                  FINAL   OCL_DisruptorTeamMember02DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_DisruptorTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathDisruptor
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DisruptorTeamDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DisruptorTeamDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  800 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
Object ChinaInfantryDisruptorTeamMember02DeathObject
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                      NIDstTm_SKN_D
Animation                  AISTNG_SKL.AISTNG_DTA
Animation                  AISTNG_SKL.AISTNG_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
End
AliasConditionState  DYING
End

;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05242
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End
; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryHacker
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNHacker2_L
ButtonImage             SNHacker2

Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
; NORMAL STANDING
DefaultConditionState
Model = NIHCKR_SKN
IdleAnimation = NIHCKR_SKL.NIHCKR_ATA2 0 25;NIHCKR_STA 0 25
; Regular spice animations
;IdleAnimation = NIHCKR_SKL.NIHCKR_IDA
;IdleAnimation = NIHCKR_SKL.NIHCKR_IDB
AnimationMode = ONCE
WeaponFireFXBone = PRIMARY Bone_SatCom
TransitionKey = TRANS_Stand
End
AliasConditionState = REALLYDAMAGED
ConditionState = MOVING
Animation = NIHCKR_SKL.NIHCKR_RNA 14
AnimationMode = LOOP
Flags = RANDOMSTART
TransitionKey = None
ParticleSysBone = None InfantryDustTrails
TransitionKey = Trans_Moving
End
AliasConditionState = MOVING UNPACKING
AliasConditionState = MOVING UNPACKING REALLYDAMAGED

;---
TransitionState = TRANS_Moving TRANS_Stand
Animation = NIHCKR_SKL.NIHCKR_ATA1
AnimationMode = ONCE
AnimationSpeedFactorRange = 1.75 2.25
End

TransitionState = TRANS_Stand TRANS_Moving
Animation = NIHCKR_SKL.NIHCKR_ATA3
AnimationMode = ONCE
AnimationSpeedFactorRange = 5.0 6.0
End
;---
ConditionState = UNPACKING
Animation = NIHCKR_SKL.NIHCKR_ATB1
AnimationMode = ONCE
End
AliasConditionState = UNPACKING FIRING_A
AliasConditionState = UNPACKING REALLYDAMAGED
AliasConditionState = UNPACKING FIRING_A REALLYDAMAGED
; HACKING ATTACK
ConditionState = FIRING_A
Animation = NIHCKR_SKL.NIHCKR_ATB2
AnimationMode = LOOP
TransitionKey = TRANS_FiringA
End
AliasConditionState = FIRING_A REALLYDAMAGED
ConditionState = PACKING
Animation = NIHCKR_SKL.NIHCKR_ATB3
AnimationMode = ONCE
End
AliasConditionState = PACKING FIRING_A
AliasConditionState = PACKING REALLYDAMAGED
AliasConditionState = PACKING FIRING_A REALLYDAMAGED
TransitionState = TRANS_FiringA TRANS_Stand     ; I was stopped by a stop command, so I get no proper PACKING state
Animation = NIHCKR_SKL.NIHCKR_ATB3
AnimationMode = ONCE
End
ConditionState = FREEFALL
Animation = NIHCKR_SKL.NIHCKR_PFL
AnimationMode = LOOP
TransitionKey = TRANS_Falling
End
AliasConditionState = FREEFALL REALLYDAMAGED
AliasConditionState = FREEFALL DYING
ConditionState = PARACHUTING
Animation = NIHCKR_SKL.NIHCKR_PHG
AnimationMode = LOOP
Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME     ; our bone positions should come from the last frame, rather than the first
TransitionKey = TRANS_Chute
End
AliasConditionState = PARACHUTING REALLYDAMAGED
AliasConditionState = PARACHUTING DYING
ConditionState = DYING
Animation = NIHCKR_SKL.NIHCKR_DTA
Animation = NIHCKR_SKL.NIHCKR_DTB
AnimationMode = ONCE
TransitionKey = TRANS_Dying
End
TransitionState = TRANS_Dying TRANS_Flailing
Animation = NIHCKR_SKL.NIHCKR_ADTG1
AnimationMode = ONCE
End
ConditionState = DYING EXPLODED_FLAILING
Animation = NIHCKR_SKL.NIHCKR_ADTG2
AnimationMode = LOOP
TransitionKey = TRANS_Flailing
End
ConditionState = DYING EXPLODED_BOUNCING
Animation = NIHCKR_SKL.NIHCKR_ADTG3
AnimationMode = ONCE
TransitionKey = None
End
ConditionState = SPECIAL_CHEERING
Animation = NIHCKR_SKL.NIHCKR_CHA
AnimationMode = LOOP
End
TransitionState = TRANS_Falling TRANS_Chute
Animation = NIHCKR_SKL.NIHCKR_POP
AnimationMode = ONCE
Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME     ; our bone positions should come from the last frame, rather than the first
End
TransitionState = TRANS_Chute TRANS_Stand
Animation = NIHCKR_SKL.NIHCKR_PTD
AnimationMode = ONCE
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Hacker
Side  China
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  220
ShroudClearingRange  220

Prerequisites
Object  ChinaBarracks
Object  ChinaBreederReactor
End

BuildCost  625
BuildTime  20.0          ;in seconds
ExperienceValue  50 100 150 300   ;Experience point value at each level
ExperienceRequired  0 50 150 250  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience

CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       ChinaInfantryHackerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  HackerVoiceSelect
VoiceMove  HackerVoiceMove
VoiceAttack  NoSound
VoiceGuard  HackerVoiceMove
VoiceFear  HackerVoiceFear
VoiceTaskComplete  HackerVoiceHackComplete
UnitSpecificSounds
VoiceGarrison  HackerVoiceGarrison
VoiceCreate      HackerVoiceCreate
UnitPack         HackerPack
UnitUnpack       HackerUnpack
UnitCashPing     HackerCashPing
VoiceEnter  HackerVoiceMove
VoiceEnterHostile  HackerVoiceMove
VoiceGetHealed       HackerVoiceMove
VoiceHackInternet    HackerVoiceModeInternet
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE IGNORES_SELECT_ALL MONEY_HACKER

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  HackInternetAIUpdate ModuleTag_03
UnpackTime           7300 ;animation time is 7300 (changing this will scale anim speed)
PackTime             5133 ;animation time is 5133 (changing this will scale anim speed)
;CashUpdateDelay      2000
;CashUpdateDelayFast  1600  ; Fast speed used inside a container (can only hack inside an Internet Center)
;RegularCashAmount    5
;VeteranCashAmount    6
;EliteCashAmount      8
;HeroicCashAmount     10
;XpPerCashUpdate      1
PackUnpackVariationFactor  0.5 ;Adds + or - 20% to pack and unpack time randomly.
End

Behavior = AutoDepositUpdate ModuleTag_AD14475
DepositTiming = 2000     ; in milliseconds
DepositAmount = 5
InitialCaptureBonus = 0     ; no initial bonus
End

Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  SpecialAbility ModuleTag_04
SpecialPowerTemplate  SpecialAbilityHackerDisableBuilding
UpdateModuleStartsAttack  Yes
InitiateSound          HackerVoiceHack
End

Behavior  SpecialAbilityUpdate ModuleTag_05
SpecialPowerTemplate  SpecialAbilityHackerDisableBuilding
StartAbilityRange  150.0
UnpackTime       7300 ;animation time is 7300 (changing this will scale anim speed)
PackTime         5133 ;animation time is 5133 (changing this will scale anim speed)
PreparationTime  3000

;PersistentPrepTime  500 ; old setting
PersistentPrepTime  333 ; NOTE! This drives how often the disable effect gets triggered
; This is also how often a new particle system effect is spawned
EffectDuration  2000
SpecialObject  BinaryDataStream
DisableFXParticleSystem  DisabledEffectBinaryShower0
PackSound        HackerPack
UnpackSound      HackerUnpack
PrepSoundLoop    HackerPrepLoop
AwardXPForTriggering   0    ;Careful, this is persistant so it's a DoT xp gain!
End


Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior  SquishCollide ModuleTag_08
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_HackerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_HackerDie
OCL                  INITIAL OCL_ChinaExplodedDeathHacker
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_HackerDie
OCL                  FINAL OCL_ChinaExplodedDeathHacker
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_HackerSurrender
OCL                  INITIAL OCL_HackerSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_11
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryHackerSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              NIHCKR_SKN
Animation          NIHCKR_SKL.NIHCKR_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
WeaponMuzzleFlash  PRIMARY MuzzleFS
End
ConditionState     LOADED
Animation          NIHCKR_SKL.NIHCKR_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NIHCKR_SKL.NIHCKR_DTA
Animation          NIHCKR_SKL.NIHCKR_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedyHackerRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_HackerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
OCL                  INITIAL OCL_ChinaExplodedDeathHacker
FX                   INITIAL FX_HackerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_HackerDie
OCL                  FINAL OCL_ChinaExplodedDeathHacker
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryMinigunner
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNMiniGunner_L
ButtonImage             SNMiniGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              NIMngnr_SKN
IdleAnimation      AISTNG_SKL.AISTNG_STB 0 5
IdleAnimation      AISTNG_SKL.AISTNG_STC
AnimationMode      ONCE
TransitionKey      TRANS_Stand
HideSubObject      Tripod01
End

End

BuildCost  500
BuildTime  6.0

Prerequisites
Object  ChinaBarracks
Object  ChinaWarFactory
End

Side  China
EditorSorting  INFANTRY
BuildVariations  ChinaInfantryMinigunner_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON REJECT_UNMANNED SCORE ATTACK_NEEDS_LINE_OF_SIGHT CANNOT_RETALIATE

End


;------------------------------------------------------------------------------
Object ChinaInfantryMinigunner_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNMiniGunner_L
ButtonImage             SNMiniGunner

UpgradeCameo1  Upgrade_Nationalism
UpgradeCameo2  Upgrade_ChinaChainGuns
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal state
ConditionState
Model              NIMngnr_SKN
IdleAnimation      AISTNG_SKL.AISTNG_STB 0 5
IdleAnimation      AISTNG_SKL.AISTNG_STC
AnimationMode      ONCE
TransitionKey      TRANS_Stand
HideSubObject      Tripod01
End

TransitionState      TRANS_Moving TRANS_Stand
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
Flags              START_FRAME_LAST
HideSubObject      Tripod01
End

ConditionState       MOVING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_RNA
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Moving
ParticleSysBone    None InfantryDustTrails
HideSubObject      Tripod01
End
AliasConditionState  MOVING ATTACKING

TransitionState      TRANS_Stand TRANS_Moving
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
HideSubObject      Tripod01
AnimationSpeedFactorRange  1.5 1.8
End

TransitionState      TRANS_Packing TRANS_Moving
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
HideSubObject      Tripod01
AnimationSpeedFactorRange  1.5 1.8
End

;Deploy animation
ConditionState       UNPACKING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_MDP
AnimationMode      ONCE
TransitionKey      TRANS_Unpacking
HideSubObject      Tripod02
ShowSubObject      Tripod01
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING

;Deployed animations
ConditionState       DEPLOYED
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_GID
AnimationMode      LOOP
HideSubObject      Tripod01 Tripod02
ShowSubObject      Gun
Flags              RANDOMSTART
TransitionKey      TRANS_Deployed
Turret             AISTNG_MAINRT
End

ConditionState  DEPLOYED MOVING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_RNA
AnimationMode      LOOP
Flags              RANDOMSTART
HideSubObject      Tripod02
ShowSubObject      Tripod01
TransitionKey      TRANS_Deployed_Moving
ParticleSysBone    None InfantryDustTrails
Turret             AISTNG_MAINRT
End
AliasConditionState  DEPLOYED MOVING ATTACKING

TransitionState      TRANS_Deployed_Moving TRANS_Deployed
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_MDP
AnimationMode      ONCE_BACKWARDS
HideSubObject      Tripod02
ShowSubObject      Tripod01
AnimationSpeedFactorRange  2.5 2.5
End

TransitionState  TRANS_Deployed_Moving TRANS_Firing
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_MDP
AnimationMode      ONCE
HideSubObject      Tripod02
ShowSubObject      Tripod01
AnimationSpeedFactorRange  2.5 2.5
End

ConditionState  DEPLOYED ATTACKING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_ATA3
AnimationMode      LOOP
TransitionKey      TRANS_Firing
Turret             AISTNG_MAINRT
HideSubObject      Tripod01 Tripod02
ShowSubObject      Gun
AnimationSpeedFactorRange  1.5 2.0
End

;Packup animation
ConditionState       PACKING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_MDP
AnimationMode      ONCE_BACKWARDS
Turret             TURRET
HideSubObject      Tripod02
ShowSubObject      Tripod01
TransitionKey      TRANS_Packing
End

;Deployed Death animations
ConditionState       DEPLOYED DYING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_GDA
Animation          AISTNG_SKL.AISTNG_GDB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
HideSubObject      Tripod01
AnimationSpeedFactorRange  0.9 1.25
End

;Regulair Death animations
ConditionState       DYING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_DTE
AnimationMode      ONCE
HideSubObject      Tripod01
TransitionKey      TRANS_Dying
End

ConditionState       MOVING DYING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_DTD
AnimationMode      ONCE
HideSubObject      Tripod01
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_ADTF3
AnimationMode      ONCE
TransitionKey      None
End

;Parachute animations
ConditionState       FREEFALL
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_PFL
AnimationMode      LOOP
HideSubObject      Tripod01
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_PHG
AnimationMode      LOOP
HideSubObject      Tripod01
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_POP
AnimationMode      ONCE
HideSubObject      Tripod01
End

TransitionState      TRANS_Chute TRANS_Stand
Model              NIMngnr_SKN
Animation          AISTNG_SKL.AISTNG_PTD
AnimationMode      ONCE
HideSubObject      Tripod01
End

End

Draw  W3DModelDraw ModuleTag_Bones

DefaultConditionState
Model              NIMngnr_SKN_B
Turret             Turret
HideSubObject      Tripod01 MuzzleFX01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
End
AliasConditionState  UNPACKING
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING
AliasConditionState  DEPLOYED MOVING
AliasConditionState  DEPLOYED MOVING ATTACKING
AliasConditionState  PACKING
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_C
AliasConditionState  ATTACKING PACKING
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_B
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_C

ConditionState  DEPLOYED FIRING_A
Model              NIMngnr_SKN_B
Turret             Turret
ShowSubObject      Tripod01 MuzzleFX01
End
AliasConditionState  DEPLOYED FIRING_B
AliasConditionState  DEPLOYED ATTACKING FIRING_A
AliasConditionState  DEPLOYED ATTACKING FIRING_B

ConditionState  DEPLOYED
ShowSubObject  Tripod01
End
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED ATTACKING FIRING_C
End


; ***DESIGN parameters ***
DisplayName       OBJECT:MiniGunner
Side  China
EditorSorting  SYSTEM
TransportSlotCount  0                ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  NONE
Weapon             PRIMARY  MinigunnerGattlingGun
Weapon             TERTIARY GrenadierDummyDeployWeapon
AutoChooseSources  TERTIARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY  MinigunnerGattlingGunUpgraded
Weapon             TERTIARY GrenadierDummyDeployWeapon
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  320
ShroudClearingRange  220

Prerequisites
Object   ChinaBarracks
Object   ChinaWarFactory
End

BuildCost  500
BuildTime  6.0          ;in seconds

ExperienceValue     60 80  100 120  ;Experience point value at each level
ExperienceRequired  0  200 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet       ChinaInfantryMinigunnerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        MinigunnerTeamVoiceSelect
VoiceAttack        MinigunnerTeamVoiceAttack
VoiceFear          MinigunnerTeamVoiceFear
VoiceMove          MinigunnerTeamVoiceMove
VoiceGuard         MinigunnerTeamVoiceMove

UnitSpecificSounds
VoiceGarrison        MinigunnerTeamVoiceMove
VoiceEnter           MinigunnerTeamVoiceMove
VoiceGetHealed       MinigunnerTeamVoiceMove
VoiceFlameLocation   MinigunnerTeamVoiceMove
VoiceCreate          MinigunnerTeamVoiceCreate
Deploy               MinigunnerTeamDeploy
Undeploy             MinigunnerTeamPackup
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON REJECT_UNMANNED SCORE ATTACK_NEEDS_LINE_OF_SIGHT CANNOT_RETALIATE

Body  HiveStructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

PropagateDamageTypesToSlavesWhenExisting  ALL -STATUS +SURRENDER

End

Behavior  DeployStyleAIUpdate ModuleTag_03

Turret
TurretTurnRate         360
RecenterTime           99999999999
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End

PackTime  1980
UnpackTime  1980
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33

End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior             SpawnBehavior ModuleTag_SpawnTeam01
SpawnNumber            2
SpawnReplaceDelay      500
SpawnTemplateName      ChinaInfantryMinigunnerTeamMember01
SpawnTemplateName      ChinaInfantryMinigunnerTeamMember02
InitialBurst           0
OneShot                Yes
ExitByBudding          Yes
SpawnedRequireSpawner  Yes
AggregateHealth        No
SlavesHaveFreeWill     No
End

Behavior  QueueProductionExitUpdate ModuleTag_SpawnTeam02
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      500
InitialBurst   0
End

Behavior  WeaponBonusUpgrade ModuleTag_222
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_139
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  HordeUpdate ModuleTag_Horde01
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MinigunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_ChinaExplodedDeathMiniGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathMiniGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MinigunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MinigunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

;  Behavior  FireWeaponCollide ModuleTag_DeployMarkerDecal01
;    CollideWeapon   InfantryDeployedDecalWeapon
;    RequiredStatus  DEPLOYED
;  End

;  Behavior  FireWeaponUpdate ModuleTag_DeployMarkerDecal02
;    Weapon  GenericCollisionDummyWeapon
;  End

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryMinigunnerTeamMember01
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNMiniGunner_L
ButtonImage             SNMiniGunner

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NIMngnr_SKN_D
IdleAnimation              AISTNG_SKL.AISTNG_STA 0 10
IdleAnimation              AISTNG_SKL.AISTNG_IDA
AnimationMode              ONCE
AnimationSpeedFactorRange  0.8 1.2
TransitionKey              TRANS_Stand
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  REALLYDAMAGED

TransitionState              TRANS_Stand TRANS_Moving
Model                      NIMngnr_SKN_C
Animation                  AISTNG_SKL.AISTNG_DR1
AnimationMode              ONCE
AnimationSpeedFactorRange  5.0 5.0
End

TransitionState              TRANS_Moving TRANS_Stand
Model                      NIMngnr_SKN_C
Animation                  AISTNG_SKL.AISTNG_MTM
AnimationMode              ONCE
End

ConditionState     MOVING
Model                      NIMngnr_SKN_C
Animation        AISTNG_SKL.AISTNG_RNA
AnimationMode    LOOP
Flags            RANDOMSTART
TransitionKey    TRANS_Moving
ParticleSysBone  None InfantryDustTrails
End
AliasConditionState          MOVING REALLYDAMAGED

ConditionState               MOVING DYING
Model                      NIMngnr_SKN_C
Animation                  AISTNG_SKL.AISTNG_DTC
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

ConditionState               DYING
Model                      NIMngnr_SKN_C
Animation                  AISTNG_SKL.AISTNG_DTA
Animation                  AISTNG_SKL.AISTNG_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_ADTF1
AnimationMode  ONCE
End

ConditionState   DYING EXPLODED_FLAILING
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState   DYING EXPLODED_BOUNCING
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   FREEFALL
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End

AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState   PARACHUTING
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End

AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_POP
AnimationMode  ONCE
End

TransitionState  TRANS_Chute TRANS_Stand
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_PTD
AnimationMode  ONCE
End

ConditionState   SPECIAL_CHEERING
Model                      NIMngnr_SKN_C
Animation      AISTNG_SKL.AISTNG_CHA
AnimationMode  ONCE
End

End


;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildTime  0.0

IsTrainable  No             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  SlavedUpdate ModuleTag_04
GuardMaxRange  15      ;How far away from master I'm allowed when master is idle (doesn't wander)
StayOnSameLayerAsMaster  Yes
End

Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

Behavior  HordeUpdate ModuleTag_Horde01
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_MinigunnerTeamMember01DeathObject
FX                   INITIAL FX_MinigunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_ChinaExplodedDeathMiniGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
OCL                  FINAL   OCL_MinigunnerTeamMember01DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathMiniGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MinigunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MinigunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  800 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryMinigunnerTeamMember01DeathObject
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                      NIMngnr_SKN_C
Animation                  AISTNG_SKL.AISTNG_DTA
Animation                  AISTNG_SKL.AISTNG_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End
AliasConditionState  DYING
End

;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05242
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End
; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryMinigunnerTeamMember02
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNMiniGunner_L
ButtonImage             SNMiniGunner

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  NIMngnr_SKN_E
IdleAnimation  NIHCKR_SKL.NIHCKR_KI1 0 10
IdleAnimation  NIHCKR_SKL.NIHCKR_KI2
IdleAnimation  NIHCKR_SKL.NIHCKR_KI3
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

TransitionState  TRANS_Stand Trans_Moving
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.5 3.5
End

TransitionState  Trans_Moving TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  NIHCKR_SKL.NIHCKR_RNA 14
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  Trans_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING UNPACKING
AliasConditionState  MOVING UNPACKING REALLYDAMAGED


ConditionState  FREEFALL
Animation  NIHCKR_SKL.NIHCKR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  NIHCKR_SKL.NIHCKR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING


ConditionState  DYING
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  NIHCKR_SKL.NIHCKR_ADTG1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  NIHCKR_SKL.NIHCKR_ADTG2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  NIHCKR_SKL.NIHCKR_ADTG3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  NIHCKR_SKL.NIHCKR_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Falling TRANS_Chute
Animation  NIHCKR_SKL.NIHCKR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_PTD
AnimationMode  ONCE
End

End

;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)


ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildTime  0.0

IsTrainable  No             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  SlavedUpdate ModuleTag_04
GuardMaxRange  15      ;How far away from master I'm allowed when master is idle (doesn't wander)
StayOnSameLayerAsMaster  Yes
End

Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

Behavior  HordeUpdate ModuleTag_Horde01
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_MinigunnerTeamMember02DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_ChinaExplodedDeathMiniGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
OCL                  FINAL   OCL_MinigunnerTeamMember02DeathObject
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MinigunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathMiniGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MinigunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_MinigunnerDieByToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  800 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryMinigunnerTeamMember02DeathObject
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NIMngnr_SKN_E
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING
End

;**** DESIGN parameters ***
Side  China
EditorSorting  SYSTEM

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05242
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End
; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryNukeneer
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNNukeneer_L
ButtonImage             SNNukeneer


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal state
DefaultConditionState
Model              NINkGrd_SKN
IdleAnimation      AISTNG_SKL.AISTNG_STB 0 5
IdleAnimation      AISTNG_SKL.AISTNG_STC
Turret             AISTNG_MAINRT
ShowSubObject      Warhead Housecolor01
AnimationMode      ONCE
TransitionKey      TRANS_Stand
End

TransitionState      TRANS_Moving TRANS_Stand
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
Flags              START_FRAME_LAST
End

ConditionState       MOVING
Animation          AISTNG_SKL.AISTNG_RNA
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

TransitionState      TRANS_Stand TRANS_Moving
Animation          AISTNG_SKL.AISTNG_DR2
AnimationMode      ONCE
Turret             AISTNG_MAINRT
AnimationSpeedFactorRange  1.5 1.8
End

;Deploy animation
ConditionState     UNPACKING
Animation        AISTNG_SKL.AISTNG_RD2
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING

;Deployed animations
ConditionState   DEPLOYED
IdleAnimation  AISTNG_SKL.AISTNG_STA 0 30
IdleAnimation  AISTNG_SKL.AISTNG_IDA
IdleAnimation  AISTNG_SKL.AISTNG_IDB
AnimationMode  ONCE
AnimationMode    ONCE
TransitionKey      TRANS_Deployed
End
AliasConditionState  DEPLOYED FIRING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState  DEPLOYED MOVING
Animation          AISTNG_SKL.AISTNG_RNA
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Deployed_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  DEPLOYED MOVING ATTACKING

TransitionState  TRANS_Deployed_Moving TRANS_Deployed
Animation        AISTNG_SKL.AISTNG_DR1
AnimationMode    ONCE
Turret           AISTNG_MAINRT
AnimationSpeedFactorRange  2.5 2.5
End

TransitionState  TRANS_Deployed_Moving TRANS_Firing
Animation        AISTNG_SKL.AISTNG_RD2
AnimationMode    ONCE
Turret           AISTNG_MAINRT
AnimationSpeedFactorRange  2.5 2.5
End

ConditionState       DEPLOYED PREATTACK_A
Animation          AISTNG_SKL.AISTNG_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End

TransitionState      TRANS_Firing TRANS_Deployed
Animation          AISTNG_SKL.AISTNG_ATA2
AnimationSpeedFactorRange  1.5 1.5
AnimationMode      ONCE
Turret             AISTNG_MAINRT
ShowSubObject      None
HideSubObject      Warhead Housecolor01
End

;Packup animation
ConditionState     PACKING
Animation        AISTNG_SKL.AISTNG_DR1
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  ATTACKING PACKING
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_A

;Deployed Death animations
ConditionState               DEPLOYED DYING
Animation                  AISTNG_SKL.AISTNG_DTA
Animation                  AISTNG_SKL.AISTNG_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

;Regulair Death animations
ConditionState               DYING
Animation                  AISTNG_SKL.AISTNG_DTE
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

ConditionState               MOVING DYING
Animation                  AISTNG_SKL.AISTNG_DTD
AnimationMode              ONCE
TransitionKey              TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation      AISTNG_SKL.AISTNG_ADTF1
AnimationMode  ONCE
End

ConditionState   DYING EXPLODED_FLAILING
Animation      AISTNG_SKL.AISTNG_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState   DYING EXPLODED_BOUNCING
Animation      AISTNG_SKL.AISTNG_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

;Parachute animations
ConditionState   FREEFALL
Animation      AISTNG_SKL.AISTNG_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState   PARACHUTING
Animation      AISTNG_SKL.AISTNG_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Animation      AISTNG_SKL.AISTNG_POP
AnimationMode  ONCE
End

TransitionState  TRANS_Chute TRANS_Stand
Animation      AISTNG_SKL.AISTNG_PTD
AnimationMode  ONCE
End

;Cheering animations
ConditionState   SPECIAL_CHEERING
Animation      AISTNG_SKL.AISTNG_CHA
AnimationMode  ONCE
Turret         AISTNG_MAINRT
End

End

Draw  W3DModelDraw ModuleTag_MortarFireBone
DefaultConditionState
Model              NVMortar_B
Turret             Turret
WeaponFireFXBone   PRIMARY MuzzleFx
WeaponLaunchBone   PRIMARY MuzzleFx
End
End


; ***DESIGN parameters ***
DisplayName       OBJECT:Nukeneer
Side  China
EditorSorting  INFANTRY
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   NukeneerMiniNukeCannon
Weapon               TERTIARY  NukeneerDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  320
ShroudClearingRange  220

Prerequisites
Object   ChinaBarracks
Object   ChinaPropagandaCenter
Science  SCIENCE_TacticalNukes
End

BuildCost  750
BuildTime  10.0          ;in seconds

ExperienceValue     60 80  100 120  ;Experience point value at each level
ExperienceRequired  0  200 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       ChinaInfantryNukeneerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        NukaneerVoiceSelect
VoiceMove          NukaneerVoiceMove
VoiceAttack        NukaneerVoiceAttack
VoiceGuard         NukaneerVoiceMove
VoiceFear          NukaneerVoiceFear

UnitSpecificSounds
VoiceCreate        NukaneerVoiceCreate
VoiceGarrison      NukaneerVoiceMove
VoiceEnter         NukaneerVoiceMove
VoiceEnterHostile  NukaneerVoiceMove
VoiceGetHealed     NukaneerVoiceMove
VoiceFlameLocation  NukaneerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON CANNOT_RETALIATE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DeployStyleAIUpdate ModuleTag_03
PackTime  1140
UnpackTime  1440
ManualDeployAnimations  No
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  HordeUpdate ModuleTag_04
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End


;  Behavior  SquishCollide ModuleTag_09
;    ;nothing
;  End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
ExemptStatus         DEPLOYED
ProbabilityModifier  50
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_NukaneerDie
End

Behavior  SlowDeathBehavior ModuleTag_Death01987
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
ExemptStatus         DEPLOYED
ProbabilityModifier  50
DestructionDelay     750
FX                   INITIAL FX_NukaneerDie
OCL                  FINAL   OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
Weapon               FINAL   NukeneerDeathExplosion
End

Behavior  SlowDeathBehavior ModuleTag_Death01324
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
RequiredStatus       DEPLOYED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_NukaneerDie
End


Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_NukaneerDie
OCL                  INITIAL OCL_ChinaExplodedDeathNukaneer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_NukaneerDieFlame
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_NukaneerDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_NukaneerDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_NukaneerDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_NukaneerDieFlame
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_NukaneerDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_NukaneerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathNukaneer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_NukaneerDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_NukaneerDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

;  Behavior  FireWeaponCollide ModuleTag_DeployMarkerDecal01
;    CollideWeapon   InfantryDeployedDecalWeapon
;    RequiredStatus  DEPLOYED
;  End

;  Behavior  FireWeaponUpdate ModuleTag_DeployMarkerDecal02
;    Weapon  GenericCollisionDummyWeapon
;  End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaInfantryPyroTechnician
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNPyroTechnic_L
ButtonImage             SNPyroTechnic

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NIPYRO_SKN
IdleAnimation  NIPYRO_SKL.NIPYRO_IDC 0 10
IdleAnimation  NIPYRO_SKL.NIPYRO_IDA
IdleAnimation  NIPYRO_SKL.NIPYRO_IDB
IdleAnimation  NIPYRO_SKL.NIPYRO_STA
AnimationMode  ONCE
AltTurret  AITECH_MAINRT
TransitionKey  TRANS_Stand
ParticleSysBone     Muzzle01 FlameTowerBurnerFire
ParticleSysBone     Muzzle01 SmokeFactionEvenSmall
End

End

BuildCost      300
BuildTime      7.0

Prerequisites
Object  ChinaBarracks
Object  ChinaWarFactory
End

Side  China
EditorSorting  INFANTRY
BuildVariations  ChinaInfantryPyroTechnician_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE PARACHUTABLE

End

;------------------------------------------------------------------------------
Object ChinaInfantryPyroTechnician_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNPyroTechnic_L
ButtonImage             SNPyroTechnic

UpgradeCameo1  Upgrade_Nationalism
UpgradeCameo2  Upgrade_ChinaBlackNapalm
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

;NORMAL STANDING
ConditionState  NONE
Model  NIPYRO_SKN
IdleAnimation  NIPYRO_SKL.NIPYRO_IDC 0 10
IdleAnimation  NIPYRO_SKL.NIPYRO_IDA
IdleAnimation  NIPYRO_SKL.NIPYRO_IDB
IdleAnimation  NIPYRO_SKL.NIPYRO_STA
AnimationMode  ONCE
AltTurret  AITECH_MAINRT
TransitionKey  TRANS_Stand
ParticleSysBone     Muzzle01 FlameTowerBurnerFire
ParticleSysBone     Muzzle01 SmokeFactionEvenSmall
End
AliasConditionState  REALLYDAMAGED

;BLACK NAPALM STANDING
ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NIPYRO_SKN
IdleAnimation  NIPYRO_SKL.NIPYRO_IDC 0 35
IdleAnimation  NIPYRO_SKL.NIPYRO_IDA
IdleAnimation  NIPYRO_SKL.NIPYRO_IDB
IdleAnimation  NIPYRO_SKL.NIPYRO_STA
AnimationMode  ONCE
AltTurret  AITECH_MAINRT
TransitionKey  TRANS_Stand
ParticleSysBone     Muzzle01 FlameTowerBurnerFireUpgraded
ParticleSysBone     Muzzle01 SmokeFactionEvenSmall
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED

;MOVING
ConditionState  MOVING
Model  NIPYRO_SKN
Animation  NIPYRO_SKL.NIPYRO_WKA 20
AnimationMode  LOOP
Flags  RANDOMSTART
AltTurret  AITECH_MAINRT
TransitionKey  None
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
ParticleSysBone   None InfantryDustTrails
ParticleSysBone     Muzzle01 FlameTowerBurnerFire
ParticleSysBone     Muzzle01 SmokeFactionEvenSmall
End
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  ATTACKING MOVING
AliasConditionState  ATTACKING MOVING REALLYDAMAGED

;BLACK NAPALM MOVING
ConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
Model  NIPYRO_SKN
Animation  NIPYRO_SKL.NIPYRO_WKA 20
AnimationMode  LOOP
Flags  RANDOMSTART
AltTurret  AITECH_MAINRT
TransitionKey  None
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
ParticleSysBone   None InfantryDustTrails
ParticleSysBone     Muzzle01 FlameTowerBurnerFireUpgraded
ParticleSysBone     Muzzle01 SmokeFactionEvenSmall
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING MOVING REALLYDAMAGED

; PRIMARY ATTACK
ConditionState  FIRING_A
Model  NIPYRO_SKN
Animation  NIPYRO_SKL.NIPYRO_ATA
AnimationMode  LOOP
AltTurret  AITECH_MAINRT
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  FIRING_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE BETWEEN_FIRING_SHOTS_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RELOADING_A
AliasConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_A REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RELOADING_A REALLYDAMAGED

; SECONDARY ATTACK
ConditionState  FIRING_B
Model  NIPYRO_SKN
Animation  NIPYRO_SKL.NIPYRO_ATA
AnimationMode  LOOP
AltTurret  AITECH_MAINRT
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  FIRING_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE BETWEEN_FIRING_SHOTS_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RELOADING_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE FIRING_B REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RELOADING_B REALLYDAMAGED


; dying

ConditionState       DYING
Model              NIPYRO_SKN
Animation          NIPYRO_SKL.NIPYRO_DTA
Animation          NIPYRO_SKL.NIPYRO_DTB
AnimationMode      ONCE
TransitionKey      TRANS__Dying
HideSubObject      HOSING
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DYING

TransitionState      TRANS__Dying TRANS__Flailing
Model              NIPYRO_SKN
Animation          NIPYRO_SKL.NIPYRO_ADTD1
AnimationMode      ONCE
HideSubObject      HOSING
End

ConditionState       DYING EXPLODED_FLAILING
Model              NIPYRO_SKN
Animation          NIPYRO_SKL.NIPYRO_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS__Flailing
HideSubObject      HOSING
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DYING EXPLODED_FLAILING

ConditionState       DYING EXPLODED_BOUNCING
Model              NIPYRO_SKN
Animation          NIPYRO_SKL.NIPYRO_ADTD3
AnimationMode      ONCE
TransitionKey      None
HideSubObject      HOSING
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE DYING EXPLODED_BOUNCING

End

;  Draw  W3DModelDraw ModuleTag_FireBones01

;    OkToChangeModelColor  Yes

;   ;NORMAL STANDING
;    ConditionState  NONE
;      Model  NIPyro_ATC
;    End
;    AliasConditionState  FIRING_A
;
;    ConditionState  FIRING_B
;      Model  NIPyro_ATC
;      WeaponFireFXBone  SECONDARY MuzzleB
;      WeaponLaunchBone  SECONDARY MuzzleB
;    End

;  End

; ***DESIGN parameters ***
DisplayName          OBJECT:PyroTechnician
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon             PRIMARY   PyroTechnicianFlameThrowerWeapon
Weapon             SECONDARY PyroFireWallWeapon
AutoChooseSources  SECONDARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY PyroTechnicianFlameThrowerWeaponUpgraded
Weapon             SECONDARY PyroFireWallWeaponUpgraded
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  230
ShroudClearingRange  220

Prerequisites
Object  ChinaBarracks
Object  ChinaWarFactory
End

BuildCost      300
BuildTime      7.0          ;in seconds

ExperienceValue     30 30  50  70   ;Experience point value at each level
ExperienceRequired  0  100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     ChinaInfantryPyroCommandSet

; *** AUDIO Parameters ***
VoiceSelect         PyroVoiceSelect
VoiceMove           PyroVoiceMove
VoiceAttack         PyroVoiceAttack
VoiceGuard          PyroVoiceMove
VoiceFear           PyroVoiceFear

UnitSpecificSounds
VoiceCreate         PyroVoiceCreate
VoiceGarrison       PyroVoiceGarrison
VoiceEnter          PyroVoiceMove
VoiceEnterHostile   PyroVoiceMove
VoiceGetHealed      PyroVoiceMove
VoiceFlameLocation  PyroVoiceFireWallAttack
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DeployStyleAIUpdate ModuleTag_04
Turret
TurretTurnRate  0
ControlledWeaponSlots  PRIMARY
InitiallyDisabled  Yes
End
AltTurret
TurretTurnRate  120
TurretPitchRate  120
AllowsPitch  Yes
MinPhysicalPitch  -15
RecenterTime  1
TurretFireAngleSweep  SECONDARY 45
ControlledWeaponSlots  SECONDARY
;TurretSweepSpeedModifier  SECONDARY 0.2
InitiallyDisabled  Yes
End
AutoAcquireEnemiesWhenIdle       Yes
PackTime                         1
UnpackTime                       1
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking   Yes
AutoAcquireEnemiesWhenIdle       Yes
MoodAttackCheckRate  250
End

Behavior  CommandButtonHuntUpdate  ModuleTag_05 ; allows use of command button hunt script with this unit.
End

Locomotor  SET_NORMAL RedguardLocomotor

Behavior  HordeUpdate ModuleTag_06
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  2000    ; how often to recheck horde status (msec)
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End
Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PyroDie
End

Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End

Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_PyroDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End

Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_PyroDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End

Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_PyroDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End

Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_PyroDieByToxin
End

Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_PyroDieByToxin
End

Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
;These guys tend to explode into flames quite often.


;Tesla and explosive weapons make them instantly go boom
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +POISONED_GAMMA +EXPLODED +EXTRA_5
DestructionDelay     0
OCL                  INITIAL OCL_BurnedBloodyGoreExplosion
FX                   INITIAL WeaponFX_PatriotMissileDetonation
FX                   FINAL   FX_InfantryGoreExplosion
OCL                  FINAL   OCL_ChinaNapalmFieldEffect
End

;Panic and explode
Behavior  SlowDeathBehavior ModuleTag_BurningDeath01
DeathTypes           NONE +BURNED +EXTRA_2
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_PyroDieByFire
OCL                  INITIAL OCL_PyroFlamingInfantry
End

;In panic while running and explode
Behavior  SlowDeathBehavior ModuleTag_BurningDeathRunnin01
DeathTypes           NONE +BURNED +EXTRA_2
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_PyroDieByFire
OCL                  INITIAL OCL_PyroRunningFlamingInfantry
End

;Brutal kill with lots of blood and no death scream
Behavior  SlowDeathBehavior ModuleTag_Death045
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End

;  ;Drop dead and then explode
;  Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
;    DeathTypes           NONE +EXTRA_4
;    DestructionDelay     1000
;    DestructionDelayVariance  800
;    OCL                  INITIAL OCL_BrutalBloodyDeathBits
;    FX                   INITIAL  FX_PyroBrutalKillFire
;    OCL                  FINAL OCL_PyroBrutalKillDeathExplosion
;    FX                   FINAL WeaponFX_PatriotMissileDetonation
;  End

Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_PyroSurrender
OCL                  INITIAL OCL_PyroSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_15
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Behavior  WeaponSetUpgrade ModuleTag_0523124
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
CommandSet  ChinaInfantryPyroCommandSetUpgraded
TriggeredBy   Upgrade_ChinaBlackNapalm
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
;  ShadowTexture  ShadowI_2;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryPyroSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              NIPyro_SKN
Animation          NIPyro_SKL.NIPyro_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
HideSubObject      HOSING
AnimationSpeedFactorRange  1.5 2.0
End
ConditionState     LOADED
Animation          NIPyro_SKL.NIPyro_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
AnimationSpeedFactorRange  1.0 1.0
End

; --- dying anims
ConditionState       RUBBLE
Animation          NIPyro_SKL.NIPyro_DTA
Animation          NIPyro_SKL.NIPyro_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedyPyroRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PyroDie
End

Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End

Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_PyroDieByToxin
OCL                  INITIAL OCL_ToxicInfantry
End

Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_PyroDieByToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End

Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_PyroDieByToxin
End

Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_PyroDieByToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End

Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_PyroDieByToxin
End

Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
;These guys tend to explode into flames quite often.


;Tesla and explosive weapons make them instantly go boom
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +POISONED_GAMMA +EXPLODED +EXTRA_5
DestructionDelay     0
OCL                  INITIAL OCL_BurnedBloodyGoreExplosion
FX                   INITIAL WeaponFX_PatriotMissileDetonation
FX                   FINAL   FX_InfantryGoreExplosion
OCL                  FINAL   OCL_ChinaNapalmFieldEffect
End

;Panic and explode
Behavior  SlowDeathBehavior ModuleTag_BurningDeath01
DeathTypes           NONE +BURNED +EXTRA_2
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_PyroDieByFire
OCL                  INITIAL OCL_PyroFlamingInfantry
End

;In panic while running and explode
Behavior  SlowDeathBehavior ModuleTag_BurningDeathRunnin01
DeathTypes           NONE +BURNED +EXTRA_2
ProbabilityModifier  50
DestructionDelay     0
FX                   INITIAL FX_PyroDieByFire
OCL                  INITIAL OCL_PyroRunningFlamingInfantry
End

;Drop dead and then explode
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     1000
DestructionDelayVariance  800
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL  FX_PyroBrutalKillFire
OCL                  FINAL OCL_PyroBrutalKillDeathExplosion
FX                   FINAL WeaponFX_PatriotMissileDetonation
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaInfantryRedguard
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNRedGuard_L
ButtonImage             SNRedGuard

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NICNSC_SKN
Animation            NICNSC_SKL.NICNSC_STA
AnimationMode        LOOP
End

End

BuildCost      150
BuildTime      10.0

Side  China
EditorSorting  INFANTRY
BuildVariations  ChinaInfantryRedguard_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryRedguard_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNRedGuard_L
ButtonImage             SNRedGuard

UpgradeCameo1  Upgrade_Nationalism

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ------- Standing-Around Animations

DefaultConditionState
Model                NICNSC_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 35
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
TransitionKey        TRANS_RIDER1_STAND
End
AliasConditionState  RIDER1

ConditionState         RIDER1 REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_RIDER1_STAND_DAMAGED
End

; ------- Machine Gun Animations

ConditionState       RIDER1 USING_WEAPON_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FIRING
End

ConditionState       RIDER1 USING_WEAPON_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FIRING_DAMAGED
End


; ------- Firing-related Transitions

TransitionState    TRANS_RIDER1_FIRING TRANS_RIDER1_FIRING_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE
End

TransitionState    TRANS_RIDER1_STAND TRANS_RIDER1_FIRING
Animation        NICNSC_SKL.NICNSC_SA2AA
AnimationMode    ONCE
End

TransitionState    TRANS_RIDER1_FIRING TRANS_RIDER1_STAND
Animation        NICNSC_SKL.NICNSC_AA2SA
AnimationMode    ONCE
End

TransitionState    TRANS_RIDER1_STAND_DAMAGED TRANS_RIDER1_FIRING_DAMAGED
Animation        NICNSC_SKL.NICNSC_ATCST
AnimationMode    ONCE
End

TransitionState    TRANS_RIDER1_FIRING_DAMAGED TRANS_RIDER1_STAND_DAMAGED
Animation        NICNSC_SKL.NICNSC_ATCED
AnimationMode    ONCE
End


; ------------- Damage Transitions --------------------
TransitionState    TRANS_RIDER1_STAND_DAMAGED TRANS_RIDER1_RUN_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE
AnimationSpeedFactorRange  2 2
End
TransitionState    TRANS_RIDER1_RUN_DAMAGED TRANS_RIDER1_STAND_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2 2
Flags            START_FRAME_LAST
End
TransitionState    TRANS_RIDER1_STAND TRANS_RIDER1_STAND_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2SA
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  4 5
Flags            START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     RIDER1 FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_RIDER1_FALLING
End
AliasConditionState  RIDER1 FREEFALL REALLYDAMAGED
AliasConditionState  RIDER1 FREEFALL DYING

ConditionState     RIDER1 PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_RIDER1_CHUTE
End
AliasConditionState  RIDER1 PARACHUTING REALLYDAMAGED
AliasConditionState  RIDER1 PARACHUTING DYING

TransitionState    TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       RIDER1 MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  RIDER1 MOVING ATTACKING

ConditionState       RIDER1 MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RIDER1_RUN_DAMAGED
End
AliasConditionState  RIDER1 MOVING ATTACKING REALLYDAMAGED

; ------- Bldg-capture

ConditionState       RIDER1 UNPACKING
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  RIDER1 UNPACKING REALLYDAMAGED

ConditionState       RIDER1 RAISING_FLAG
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_RAISING
End
AliasConditionState  RIDER1 RAISING_FLAG REALLYDAMAGED

ConditionState       RIDER1 PACKING
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_RIDER1_PACKING
End
AliasConditionState  RIDER1 PACKING REALLYDAMAGED

TransitionState      TRANS_RIDER1_RAISING TRANS_RIDER1_PACKING
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; ------- Dying Animations

ConditionState       RIDER1 DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_DYING
End

TransitionState      TRANS_RIDER1_DYING TRANS_RIDER1_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       RIDER1 DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_RIDER1_FLAILING
End

ConditionState       RIDER1 DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       RIDER1 SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End


; ------- Bayonet Mode Conditions -------


; ------- Standing-Around Animations

ConditionState         RIDER2
Model                NICNSC_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 35
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_STAND
End

ConditionState         RIDER2 REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_RIDER2_STAND_DAMAGED
End

; ------------- Damage Transitions --------------------
TransitionState    TRANS_RIDER2_STAND_DAMAGED TRANS_RIDER2_RUN_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE
AnimationSpeedFactorRange  2 2
End
TransitionState    TRANS_RIDER2_RUN_DAMAGED TRANS_RIDER2_STAND_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2 2
Flags            START_FRAME_LAST
End
TransitionState    TRANS_RIDER2_STAND TRANS_RIDER2_STAND_DAMAGED
Animation        NICNSC_SKL.NICNSC_AA2SA
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  4 5
Flags            START_FRAME_LAST
End

; ------- Bayonet Animations

ConditionState     RIDER2 PREATTACK_A
Animation        NICNSC_SKL.NICNSC_ATB1
AnimationMode    ONCE
TransitionKey    TRANS_RIDER2_STAB
End
AliasConditionState  RIDER2 PREATTACK_A MOVING
AliasConditionState  RIDER2 PREATTACK_A FIRING_A
AliasConditionState  RIDER2 PREATTACK_A BETWEEN_FIRING_SHOTS_A

ConditionState       RIDER2 FIRING_A
Animation          NICNSC_SKL.NICNSC_ATB2
AnimationMode      ONCE
WaitForStateToFinishIfPossible  TRANS_RIDER2_STAB
TransitionKey      TRANS_RIDER2_STABBED
End
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 RELOADING_A

TransitionState    TRANS_RIDER2_STABBED TRANS_RIDER2_STAND
Animation        NICNSC_SKL.NICNSC_ATB2
AnimationMode    ONCE
End

; ------- Parachuting Animations

ConditionState     RIDER2 FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_RIDER2_FALLING
End
AliasConditionState  RIDER2 FREEFALL REALLYDAMAGED
AliasConditionState  RIDER2 FREEFALL DYING

ConditionState     RIDER2 PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_RIDER2_CHUTE
End
AliasConditionState  RIDER2 PARACHUTING REALLYDAMAGED
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState    TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       RIDER2 MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  RIDER2 MOVING ATTACKING

ConditionState       RIDER2 MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RIDER2_RUN_DAMAGED
End
AliasConditionState  RIDER2 MOVING ATTACKING REALLYDAMAGED

; ------- Bldg-capture

ConditionState       RIDER2 UNPACKING
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  RIDER2 UNPACKING REALLYDAMAGED

ConditionState       RIDER2 RAISING_FLAG
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_RAISING
End
AliasConditionState  RIDER2 RAISING_FLAG REALLYDAMAGED

ConditionState       RIDER2 PACKING
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_RIDER2_PACKING
End
AliasConditionState  RIDER2 PACKING REALLYDAMAGED

TransitionState      TRANS_RIDER2_RAISING TRANS_RIDER2_PACKING
Model              NICNSC_F_SKN
Animation          NICNSC_F_SKL.NICNSC_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; ------- Dying Animations

ConditionState       RIDER2 DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_RIDER2_DYING
End

TransitionState      TRANS_RIDER2_DYING TRANS_RIDER2_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       RIDER2 DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_RIDER2_FLAILING
End

ConditionState       RIDER2 DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       RIDER2 SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Redguard
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY RedguardMachineGun
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY RedguardBayonet
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  ChinaBarracks
End
BuildCost      75
BuildTime      5.0          ;in seconds

ExperienceValue  5 5 10 20       ;Experience point value at each level
ExperienceRequired  0 20 40 80   ;Experience points needed to gain each level
IsTrainable  Yes                 ;Can gain experience
CrushableLevel          0        ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet     ChinaInfantryRedguardCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RedGuardVoiceSelect
VoiceMove  RedGuardVoiceMove
VoiceGuard  RedGuardVoiceMove
VoiceAttack  RedGuardVoiceAttack
VoiceGroupSelect  BattleCrySound
VoiceFear  RedGuardVoiceFear
VoiceTaskComplete  RedGuardVoiceCaptureComplete
UnitSpecificSounds
VoiceMelee       RedGuardVoiceAttackBayonet
VoiceGarrison    RedGuardVoiceGarrison
VoiceCreate      RedGuardVoiceCreate
VoiceSubdue      RedGuardVoiceAttack;RedGuardVoiceSubdue
VoiceEnter       RedGuardVoiceMove
VoiceEnterHostile  RedGuardVoiceMove
VoiceGetHealed       RedGuardVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL RedguardLocomotor

Behavior  CommandButtonHuntUpdate  ModuleTag_05 ; allows use of command button hunt script with this unit.
End

Behavior  HordeUpdate ModuleTag_06
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  2000    ; how often to recheck horde status (msec)
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End
Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  SquishCollide ModuleTag_10
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 ChinaInfantryRedguardCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 ChinaInfantryRedguardCommandSet SET_NORMAL

;This mode is only used when the unit is spawned via ocl such as paradrops to ensure the rifle mode is greyed out as an option
Rider3  GenericFakeRider3_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 ChinaInfantryRedguardInitialCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider3_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform02
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform12
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_CostReduction
StatusToSet    STATUS_RIDER3
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    GrenadierSwitchToHighExplosiveRounds
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  StatusBitsUpgrade ModuleTag_Transform006
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
UpgradeObject    OCL_MercenaryStandardMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform09
CollideWeapon    GrenadierSwitchToHighAirburstRounds
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform11
UpgradeObject    OCL_MercenaryMachetteMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

;************************************
;******Transformation Code End********
;************************************


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_ChinaExplodedDeathRedGuard
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathRedGuard
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RedGuardSurrender
OCL                  INITIAL OCL_RedguardSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_15
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_16
SpecialPowerTemplate       SpecialAbilityRedGuardCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RedGuardVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_17
SpecialPowerTemplate   SpecialAbilityRedGuardCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   4
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryRedguardSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              NICNSC_SKN
Animation          NICNSC_SKL.NICNSC_SUR
AnimationMode      ONCE
TransitionKey      TRANS_RIDER1_SURRENDERING
End
ConditionState     LOADED
Animation          NICNSC_SKL.NICNSC_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_RIDER1_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_RIDER1_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_RIDER1_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedyRedguardRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_ChinaExplodedDeathRedGuard
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathRedGuard
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryTankHunter
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNTankHunter_L
ButtonImage             SNTankHunter

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              NIMSST_SKN
IdleAnimation      NIMSST_SKL.NIMSST_STA 0 30
IdleAnimation      NIMSST_SKL.NIMSST_IDA
IdleAnimation      NIMSST_SKL.NIMSST_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
TransitionKey      TRANS_Stand
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFS
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WaitForStateToFinishIfPossible  TRANS_THROW
End

End

BuildCost  250
BuildTime  5.0

Side  China
EditorSorting  INFANTRY
BuildVariations  ChinaInfantryTankHunter_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryTankHunter_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SNTankHunter_L
ButtonImage             SNTankHunter

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


DefaultConditionState
Model              NIMSST_SKN
IdleAnimation      NIMSST_SKL.NIMSST_STA 0 30
IdleAnimation      NIMSST_SKL.NIMSST_IDA
IdleAnimation      NIMSST_SKL.NIMSST_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
TransitionKey      TRANS_Stand
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFS
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  REALLYDAMAGED

ConditionState       FIRING_A
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_START_FIRING
WeaponMuzzleFlash  PRIMARY MuzzleFS
WeaponMuzzleFlash  SECONDARY NONE
End
AliasConditionState  REALLYDAMAGED FIRING_A

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
WeaponMuzzleFlash  PRIMARY MuzzleFS
WeaponMuzzleFlash  SECONDARY NONE
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A

ConditionState       RELOADING_A
Animation          NIMSST_SKL.NIMSST_ATA 10
AnimationMode      ONCE
AnimationSpeedFactorRange  2.0 2.0
WeaponMuzzleFlash  PRIMARY MuzzleFS
WeaponMuzzleFlash  SECONDARY NONE
End
AliasConditionState  MOVING RELOADING_A
AliasConditionState  REALLYDAMAGED MOVING RELOADING_A

ConditionState       FIRING_B
Animation          NIMSST_SKL.NIMSST_ATB
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_B
WeaponMuzzleFlash  PRIMARY NONE
WeaponMuzzleFlash  SECONDARY MuzzleFS
End
AliasConditionState  REALLYDAMAGED FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          NIMSST_SKL.NIMSST_ATB
AnimationMode      ONCE
Flags              START_FRAME_LAST
WeaponMuzzleFlash  PRIMARY NONE
WeaponMuzzleFlash  SECONDARY MuzzleFS
WaitForStateToFinishIfPossible  TRANS_START_FIRING_B
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

ConditionState       RELOADING_B
Animation          NIMSST_SKL.NIMSST_ATB 10
AnimationMode      ONCE
AnimationSpeedFactorRange  2.0 2.0
WeaponMuzzleFlash  PRIMARY NONE
WeaponMuzzleFlash  SECONDARY MuzzleFS
End
AliasConditionState  MOVING RELOADING_B
AliasConditionState  REALLYDAMAGED MOVING RELOADING_B

ConditionState       MOVING
Model              NIMSST_SKN2
Animation          NIMSST_SKL.NIMSST_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  MOVING ATTACKING
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ---- Throwing TNT Satchel
ConditionState  PREATTACK_C
Model          NIMSST_SKN3
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
AnimationMode  ONCE
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C REALLYDAMAGED

ConditionState  FIRING_C
Model          NIMSST_SKN3
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  REALLYDAMAGED FIRING_C

ConditionState RELOADING_C
Model          NIMSST_SKN3
AnimationMode  ONCE
Animation      UIMOB01_SKL.UIMOB01_IDA1
Flags          START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState       DYING
Animation          NIMSST_SKL.NIMSST_DTA
Animation          NIMSST_SKL.NIMSST_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NIMSST_SKL.NIMSST_ADTD1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NIMSST_SKL.NIMSST_ADTD2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NIMSST_SKL.NIMSST_ADTD3
AnimationMode      ONCE
TransitionKey      None
End

;PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          NIMSST_SKL.NIMSST_POP
AnimationMode      ONCE
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          NIMSST_SKL.NIMSST_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

; TransitionState      TRANS_Falling TRANS_Chute
;   Animation          NIMSST_SKL.NIMSST_POP
;   AnimationMode      ONCE
;   Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
; End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NIMSST_SKL.NIMSST_PDN
AnimationMode      ONCE
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:TankHunter
Side  China
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None

Weapon             PRIMARY   ChinaInfantryTankHunterMissileLauncher
AutoChooseSources  PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon             SECONDARY ChinaInfantryTankHunterMissileLauncherAir
PreferredAgainst   SECONDARY AIRCRAFT
AutoChooseSources  SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

Weapon             TERTIARY  ChinaInfantryTankHunterSatchelCharge
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  ChinaBarracks
End
BuildCost  250
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       ChinaInfantryTankHunterCommandSet

; *** AUDIO Parameters ***
VoiceSelect     TankHunterVoiceSelect
VoiceMove       TankHunterVoiceMove
VoiceAttack     TankHunterVoiceAttack
VoiceAttackAir  TankHunterVoiceAttack
VoiceGuard      TankHunterVoiceMove
VoiceFear       TankHunterVoiceFear

UnitSpecificSounds
VoiceCreate         TankHunterVoiceCreate
VoiceGarrison       TankHunterVoiceGarrison
VoiceEnter          TankHunterVoiceMove
VoiceEnterHostile   TankHunterVoiceMove
VoiceGetHealed      TankHunterVoiceMove
VoiceFlameLocation  TankHunterVoiceTNT
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  HordeUpdate ModuleTag_04
UpdateRate  2000    ; how often to recheck horde status (msec)
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
Radius  30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_TankHunterDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_TankHunterDie
OCL                  INITIAL OCL_ChinaExplodedDeathTankHunter
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_TankHunterDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathTankHunter
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_TankHunterSurrender
OCL                  INITIAL OCL_TankHunterSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object ChinaInfantryTankHunterSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              NIMSST_SKN
Animation          NIMSST_SKL.NIMSST_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
WeaponMuzzleFlash  PRIMARY MuzzleFS
End
ConditionState     LOADED
Animation          NIMSST_SKL.NIMSST_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NIMSST_SKL.NIMSST_DTA
Animation          NIMSST_SKL.NIMSST_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedyTankHunterRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_TankHunterDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_TankHunterDie
OCL                  INITIAL OCL_ChinaExplodedDeathTankHunter
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_TankHunterDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathTankHunter
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaInfantryVolunteerSquad
Scale 0.90
;**** ART Parameters **************************
SelectPortrait          SNVolunteerSquad_L
ButtonImage             SNVolunteerSquad

UpgradeCameo1  Upgrade_Nationalism

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  None
End
End


;****DESIGN parameters **************************

DisplayName       OBJECT:VolunteerSquad
Side  China

RadarPriority        NOT_ON_RADAR

EditorSorting    INFANTRY
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY ChinaVolunteerSquadNexusHarmlessWeapon
Weapon  SECONDARY ChinaVolunteerSquadNexusHarmlessWeapon
Weapon  TERTIARY ChinaVolunteerSquadNexusHarmlessWeapon
End


ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

BuildCost        1100
BuildTime        10.0          ;in seconds
VisionRange      220  ; it can scout for the spawn
ShroudClearingRange  0

Prerequisites
Object  ChinaBarracks
Object  ChinaPropagandaCenter
End

ExperienceValue  50 50 50 50    ;Experience point value at each level
IsTrainable      No



CommandSet     GLAInfantryAngryMobCommandSet;

;**** AUDIO Parameters *****************************
VoiceSelect       VolnteerSquadVoiceSelect
VoiceMove         VolnteerSquadVoiceMove
VoiceGuard        VolnteerSquadVoiceMove
VoiceAttack       VolnteerSquadVoiceAttack
VoiceGroupSelect  BattleCrySound
VoiceFear         NoSound ; VolnteerSquadVoiceFear this one is used on the induvidual members instead

SoundMoveLoop         SquadMoveLoop
SoundMoveLoopDamaged  SquadMoveLoopDamaged

SoundAmbient               VolunteerSquadAmbientLoop
SoundAmbientDamaged        VolunteerSquadRealyDamageAmbientLoop  ;fewer guys means less noise
SoundAmbientReallyDamaged  NoSound                               ;3 or less means no noise at all
SoundAmbientRubble         NoSound

UnitSpecificSounds
VoiceCreate      VolnteerSquadVoiceCreate
End


;**** ENGINEERING Parameters ******************************

RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK INFANTRY OBSTACLE MOB_NEXUS ATTACK_NEEDS_LINE_OF_SIGHT NO_COLLIDE SELECTABLE SCORE
Body  ImmortalBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Locomotor  SET_NORMAL VolunteerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior             SpawnBehavior ModuleTag_05
SpawnNumber        10
SpawnReplaceDelay  1000
SpawnTemplateName  ChinaInfantryRocketVolunteer
SpawnTemplateName  ChinaInfantryRocketVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
SpawnTemplateName  ChinaInfantryMachineGunVolunteer
ExitByBudding      Yes
InitialBurst        10
OneShot             Yes
AggregateHealth     Yes
SlavesHaveFreeWill  No
End

Behavior  QueueProductionExitUpdate ModuleTag_06
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      1000
InitialBurst   10
End

Behavior  DestroyDie ModuleTag_07
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object ChinaInfantryMachineGunVolunteer
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                NIVlntr_SKN
Animation            NICNSC_SKL.NICNSC_STA 0 3
AnimationMode        LOOP
End
End

Side  China
EditorSorting  SYSTEM
BuildVariations  ChinaInfantryMachineGunVolunteer_Var1 ChinaInfantryMachineGunVolunteer_Var2

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryRocketVolunteer
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                NIVlntr_SKN
Animation            NICNSC_SKL.NICNSC_STA 0 3
AnimationMode        LOOP
End
End

Side  China
EditorSorting  SYSTEM
BuildVariations  ChinaInfantryRocketVolunteer_Var1 ChinaInfantryRocketVolunteer_Var2

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryMachineGunVolunteer_Var1
Scale 0.90
;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3 0 5
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Bazooka Hat01
WeaponFireFXBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  PREATTACK_B

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED PREATTACK_B


; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

;**** DESIGN parameters ***

DisplayName       OBJECT:VolunteerSquad
Side  China
EditorSorting  SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY VolunteerSubMachineGunWeapon
End

ArmorSet
Conditions       None
Armor            ChinaVolunteerArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildCost  100
BuildTime  0.0

ExperienceValue  10 10 10 10    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


;**** AUDIO Parameters *****************************
VoiceFear         VolnteerSquadVoiceFear

;**** ENGINEERING Parameters *** ;MOB01
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        80.0
InitialHealth    80.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    200
NoNeedToCatchUpRadius  100
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL VolunteerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  100 ;in miliseconds
StartsActive   Yes
End

Behavior  HordeUpdate ModuleTag_06232
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  2000    ; how often to recheck horde status (msec)
Radius  40          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

Geometry  CYLINDER
GeometryMajorRadius  5.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin ChinaInfantryMachineGunVolunteer_Var2 ChinaInfantryMachineGunVolunteer_Var1

;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Bazooka Hat02
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B
AliasConditionState  PREATTACK_B

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED PREATTACK_B


; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

End


;------------------------------------------------------------------------------
Object ChinaInfantryRocketVolunteer_Var1
Scale 0.90
;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Hat01
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A


; ------- Anti Tank Rocket Animations

ConditionState       FIRING_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C

ConditionState       BETWEEN_FIRING_SHOTS_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED RELOADING_C

; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

;**** DESIGN parameters ***

DisplayName       OBJECT:VolunteerSquad
Side  China
EditorSorting  SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon               PRIMARY   VolunteerSubMachineGunWeapon
PreferredAgainst     PRIMARY   INFANTRY
Weapon               SECONDARY VolunteerAntiTankRocketWeapon
PreferredAgainst     SECONDARY VEHICLE
Weapon               TERTIARY  VolunteerAntiTankRocketWeapon
PreferredAgainst     TERTIARY  STRUCTURE
End

ArmorSet
Conditions       None
Armor            ChinaVolunteerArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildCost  100
BuildTime  0.0

ExperienceValue  10 10 10 10    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

;**** AUDIO Parameters *****************************
VoiceFear         VolnteerSquadVoiceFear

;**** ENGINEERING Parameters *** ;MOB01
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY IGNORED_IN_GUI

Body  ActiveBody BodyTag_01
MaxHealth        80.0
InitialHealth    80.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  MobMemberSlavedUpdate ModuleTag_04
MustCatchUpRadius    200
NoNeedToCatchUpRadius  100
Squirrelliness  0.05
CatchUpCrisisBailTime  30; this is in calls to this update, not in frames
End

Locomotor  SET_NORMAL VolunteerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

;  Behavior  SquishCollide ModuleTag_08
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_ChinaExplodedDeathVolunteer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  1000 ; msec
StartHealingDelay  100 ;in miliseconds
StartsActive   Yes
End

Behavior  HordeUpdate ModuleTag_06232
RubOffRadius  60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  2000    ; how often to recheck horde status (msec)
Radius  40          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  INFANTRY    ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes     ; do we only count allies towards horde status?
ExactMatch  No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count  5            ; how many units must be within Radius to grant us horde-ness
Action  HORDE       ; when horde-ing, grant us the HORDE bonus
End

Geometry  CYLINDER
GeometryMajorRadius  5.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
ObjectReskin ChinaInfantryRocketVolunteer_Var2 ChinaInfantryRocketVolunteer_Var1

;**** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.

; ------- Standing-Around Animations

DefaultConditionState
Model                NIVlntr_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 3
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
IdleAnimation        NICNSC_SKL.NICNSC_CHA
AnimationMode        ONCE
HideSubObject        Hat02
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
TransitionKey        TRANS_Stand
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Machine Gun Animations

ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A
AliasConditionState  PREATTACK_A

ConditionState       FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_FiringDamaged
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringDamaged
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED PREATTACK_A


; ------- Anti Tank Rocket Animations

ConditionState       FIRING_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C

ConditionState       BETWEEN_FIRING_SHOTS_B
Model              NIVlntr_SKN_B
Animation          NIMSST_SKL.NIMSST_STA
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_START_FIRING_ROCKET
End
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED RELOADING_C


; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaVehicleTwinFang

; *** ART Parameters ***
SelectPortrait          SNTwinFang_L
ButtonImage             SNTwinFang

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState         NONE
Model                NVTwinFang
Animation            NVTwinFang.NVTwinFang
AnimationMode        LOOP
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
ParticleSysBone      EXHAUST01 DozerSmokeLight
ParticleSysBone      EXHAUST02 DozerSmokeLight
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Arm01 Arm02 Arm03 Arm04
End

ConditionState         MOVING
Model                NVTwinFang
Animation            NVTwinFang.NVTwinFang
AnimationMode        LOOP
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
ParticleSysBone      EXHAUST02 DozerSmokeHeavy
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Arm01 Arm02 Arm03 Arm04
End

ConditionState         REALLYDAMAGED
Model                NVTwinFang_D
Animation            NVTwinFang_D.NVTwinFang_D
AnimationMode        LOOP
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
ParticleSysBone      EXHAUST01 DozerSmokeLight
ParticleSysBone      EXHAUST02 DozerSmokeLight
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Arm01 Arm02 Arm03 Arm04
End

ConditionState         REALLYDAMAGED MOVING
Model                NVTwinFang_D
Animation            NVTwinFang_D.NVTwinFang_D
AnimationMode        LOOP
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
ParticleSysBone      EXHAUST01 DozerSmokeHeavy
ParticleSysBone      EXHAUST02 DozerSmokeHeavy
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Arm01 Arm02 Arm03 Arm04
End

ConditionState         RUBBLE
Model                NVTwinFang_D
Animation            NVTwinFang_D.NVTwinFang_D
AnimationMode        MANUAL
Turret               TURRET
TurretPitch          TURRETEL
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponRecoilBone     SECONDARY Barrel
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Arm01 Arm02 Arm03 Arm04
End

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone      Tire01
RightFrontTireBone     Tire02
LeftRearTireBone       Tire03
RightRearTireBone      Tire04
MidLeftRearTireBone    Tire05
MidRightRearTireBone   Tire06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

End

Draw  W3DModelDraw ModuleTag_Stabi
OkToChangeModelColor  Yes


ConditionState         NONE
Model                NVTwinFang
Animation            NVTwinFang.NVTwinFang
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Chassis
AnimationSpeedFactorRange  1.6 1.6
End

ConditionState         MOVING
Model                NVTwinFang
Animation            NVTwinFang.NVTwinFang
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Chassis
AnimationSpeedFactorRange  1.6 1.6
End

ConditionState         REALLYDAMAGED
Model                NVTwinFang_D
Animation            NVTwinFang_D.NVTwinFang_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Chassis
AnimationSpeedFactorRange  1.6 1.6
End

ConditionState         REALLYDAMAGED MOVING
Model                NVTwinFang_D
Animation            NVTwinFang_D.NVTwinFang_D
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Chassis
AnimationSpeedFactorRange  1.6 1.6
End

ConditionState         RUBBLE
Model                NVTwinFang_D
Animation            NVTwinFang_D.NVTwinFang_D
AnimationMode        MANUAL
Flags                MAINTAIN_FRAME_ACROSS_STATES
HideSubObject        Chassis
End

End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model              NVTwinFang_N
End

ConditionState  RUBBLE
Model              NONE
End

End

; ***DESIGN parameters ***
DisplayName                OBJECT:TwinFang
Side                       China
EditorSorting              VEHICLE
TransportSlotCount         3            ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions               None
Weapon                   PRIMARY   NONE
Weapon                   SECONDARY ChinaVehicleTwinFangFlakCannon
End

ArmorSet
Conditions     None
Armor          HeavyAntiAirArmor
DamageFX       TankDamageFX
End

BuildCost        1500
BuildTime        15.0          ;in seconds
VisionRange      390
ShroudClearingRange  400

Prerequisites
Object         ChinaWarFactory
Object         ChinaBreederReactor
End

ExperienceValue     100 100 200 400 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       ChinaVehicleTwinFangCommandSet


; *** AUDIO Parameters ***
VoiceSelect      TwinFangVoiceSelect
VoiceMove        TwinFangVoiceMove
VoiceGuard       TwinFangVoiceMove
VoiceAttack      TwinFangVoiceAttack
VoiceAttackAir   TwinFangVoiceAttack
SoundMoveStart   TroopCrawlerMoveStart
SoundMoveStartDamaged  TroopCrawlerMoveStart

UnitSpecificSounds
VoiceCreate      TwinFangVoiceCreate
VoiceCrush       TwinFangVoiceMove
VoiceEnter       TwinFangVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        400.0
InitialHealth    400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate         240   // turn rate, in degrees per sec
TurretPitchRate        240
AllowsPitch            Yes
NaturalTurretPitch     18
MinPhysicalPitch       15
InitiallyDisabled      Yes
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle       Yes
PackTime                         1
UnpackTime                       1
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking   Yes
MoodAttackCheckRate              50
End

Locomotor        SET_NORMAL TwinFangLocomotor
Behavior           PhysicsBehavior ModuleTag_04
Mass             40.0
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_05
ProbabilityModifier  19
DestructionDelay  200
DestructionDelayVariance  100
SinkRate  0.5     ; in Dist/Sec
OCL  FINAL    OCL_ChinaVehicleTwinFangDebris
FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  CreateCrateDie ModuleTag_06
CrateData  SalvageCrateDataChinaTier2
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  TransitionDamageFX ModuleTag_07
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  HordeUpdate ModuleTag_08232
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry             BOX
GeometryMajorRadius  25.0
GeometryMinorRadius  10.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaVehicleTroopCrawler

; *** ART Parameters ***
SelectPortrait          SNTransport_L
ButtonImage             SNTransport

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVTCrawler
End
End

Side  China
EditorSorting  VEHICLE
BuildCost        800  ;price includes redguards
BuildTime        10.0 ;in seconds

Prerequisites
Object  ChinaWarFactory
End

BuildVariations  ChinaVehicleTroopCrawler_Var1 ChinaVehicleTroopCrawler_Var1 ChinaVehicleTroopCrawler_Var2
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE FS_FAKE

Geometry  BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  9.0
GeometryHeight  13.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object ChinaVehicleTroopCrawler_Var1

; *** ART Parameters ***
SelectPortrait          SNTransport_L
ButtonImage             SNTransport

;Main Vehicle
Draw  W3DOverlordTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  FIREPOINT01

ConditionState  NONE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  RUBBLE

;Armor Upgrade
ConditionState  USER_1
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  USER_1 REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  USER_1 RUBBLE

;Armor Upgrade And Recon Scanner
ConditionState  USER_1 WEAPONSET_PLAYER_UPGRADE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  USER_1 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  USER_1 WEAPONSET_PLAYER_UPGRADE RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

LeftFrontTireBone      DUMMWHL01
RightFrontTireBone     DUMMWHL08
LeftRearTireBone       DUMMWHL03
RightRearTireBone      DUMMWHL05
MidLeftFrontTireBone   DUMMWHL02
MidRightFrontTireBone  DUMMWHL07
MidLeftRearTireBone    DUMMWHL04
MidRightRearTireBone   DUMMWHL06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.
End

;Propaganda Speakers
Draw  W3DModelDraw ModuleTag_Speakers01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  USER_2
AliasConditionState  USER_2 REALLYDAMAGED
AliasConditionState  USER_2 RUBBLE

ConditionState  POWER_PLANT_UPGRADED
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

ConditionState  POWER_PLANT_UPGRADED USER_2
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End

ConditionState  POWER_PLANT_UPGRADED USER_2 REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End
AliasConditionState  POWER_PLANT_UPGRADED USER_2 RUBBLE
End

;Recon Scanner
Draw  W3DModelDraw ModuleTag_Recon01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  TURRET ;so instead of hiding specific objects we will tell it what it should show instead
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  TURRET ;so instead of hiding specific objects we will tell it what it should show instead
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
End

Draw  W3DModelDraw ModuleMod_OverWater

DefaultConditionState
Model  NVTCrawler
HideSubObject  FLAGB01
End
AliasConditionState   MOVING

ConditionState        OVER_WATER
ParticleSysBone     WATERFX01 AmphibWaveRest
ParticleSysBone     WATERFX02 AmphibWaveRest
End

ConditionState        OVER_WATER MOVING
ParticleSysBone     WATERFX01 AmphibWave
ParticleSysBone     WATERFX02 AmphibWave
End

End

Draw  W3DModelDraw ModuleMod_Night

DefaultConditionState
Model  NVTCrawler_N
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:TroopCrawler
Side  China
EditorSorting    SYSTEM
TransportSlotCount  4

WeaponSet
Conditions  None
Weapon             PRIMARY  SupportVehicleDummyWeapon
Weapon             TERTIARY SupportVehicleDummyWeapon
AutoChooseSources  TERTIARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   SupportVehicleDummyWeapon
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY TroopCrawlerLongRangeScannerWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  SupportVehicleDummyWeapon
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            TroopCrawlerReconArmor
DamageFX         TankDamageFX
End

BuildCost        500 ;price does not include redguards
BuildTime        5.0           ;in seconds
VisionRange      200           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
ShroudClearingRange  200

Prerequisites
Object  ChinaWarFactory
End

ExperienceValue     50 50 100 150  ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  ChinaTroopCrawlerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TroopCrawlerVoiceSelect
VoiceMove  TroopCrawlerVoiceMove
VoiceGuard  TroopCrawlerVoiceMove
VoiceAttack  TroopCrawlerVoiceAttack
SoundMoveStart  TroopCrawlerMoveStart
SoundMoveStartDamaged  TroopCrawlerMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      TroopCrawlerVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
TruckLandingSound  NoSound ;RocketBuggyLand
TruckPowerslideSound  NoSound ;RocketBuggyPowerslide
VoiceCrush  TroopCrawlerVoiceCrush
VoiceUnload    TroopCrawlerVoiceUnload
VoiceEnter  TroopCrawlerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  TransportAIUpdate ModuleTag_NewAI
Turret
ControlledWeaponSlots  SECONDARY
TurretTurnRate       160
FiresWhileTurning    Yes
NaturalTurretPitch   20        ; this keeps it aimed half way between land and sky
MinIdleScanInterval  250     ; in milliseconds
MaxIdleScanInterval  250     ; in milliseconds
MinIdleScanAngle     0       ; in degrees off the natural turret angle
MaxIdleScanAngle     360     ; in degrees off the natural turret angle
End
End
Locomotor  SET_NORMAL TroopCrawlerLocomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  HelixContain ModuleTag_06
Slots                  8
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
PayloadTemplateName    ChinaInfantryRedguard
ScatterNearbyOnExit    No
HealthRegen%PerSec     10
DamagePercentToUnits   10%
AllowInsideKindOf      INFANTRY PORTABLE_STRUCTURE
ExitDelay              250
NumberOfExitPaths      3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit     Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  ProductionUpdate ModuleTag_ShowDetectionRange01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_DetectionRange03
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       TroopCrawlerDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        TroopCrawlerDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  TroopCrawlerDetecionRangeIndicatorDecalWeapon
End

;Modular Kits Upgrade modules
Behavior  ArmorUpgrade ModuleTag_ModularKits01
TriggeredBy  Upgrade_ChinaCrawlerRecon
End

Behavior  ModelConditionUpgrade ModuleTag_ModularKits02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaCrawlerRecon
End

Behavior  MaxHealthUpgrade ModuleTag_ModularKits03
TriggeredBy    Upgrade_ChinaCrawlerRecon
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  CommandSetUpgrade ModuleTag_ModularKits04
TriggeredBy    Upgrade_ChinaCrawlerRecon
CommandSet     ChinaTroopCrawlerUpgradedCommandSet
End

;Recon Kit Upgrade modules
Behavior  WeaponSetUpgrade ModuleTag_ReconUpgrade01
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet
FXListUpgrade  FX_RocketBuggySwitchWeapons
End

Behavior  CommandSetUpgrade ModuleTag_ReconUpgrade02
CommandSet     ChinaTroopCrawlerUpgradedReconCommandSet
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
ConflictsWith  Upgrade_GLAWorkerWorthlessCommandSet
End

;Speaker Kit Upgrade modules
Behavior  ObjectCreationUpgrade ModuleTag_SpeakerUpgrade01
UpgradeObject  OCL_TrooopCrawlerPropagandaSpeaker
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
FXListUpgrade  FX_RocketBuggySwitchWeapons
End

Behavior  CommandSetUpgrade ModuleTag_SpeakerUpgrade02
CommandSet     ChinaTroopCrawlerUpgradedSpeakerCommandSet
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
End

Behavior  ModelConditionUpgrade ModuleTag_SpeakerUpgrade03
ConditionFlag  POWER_PLANT_UPGRADED
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_SpeakerUpgrade04
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith  Upgrade_GLAWorkerRealCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       SpeakerTowerPropagandaDecalWeapon
ContinuousWeaponDamaged        SpeakerTowerPropagandaDecalWeapon
ContinuousWeaponReallyDamaged  SpeakerTowerPropagandaDecalWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_SpeakerUpgrade05
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_FinalTroopCrawlerDebris
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

; A crushing defeat
Behavior  FXListDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_12
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  10.0
GeometryHeight  13.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
ObjectReskin ChinaVehicleTroopCrawler_Var2 ChinaVehicleTroopCrawler_Var1

;Main Vehicle
Draw  W3DOverlordTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  FIREPOINT01

ConditionState  NONE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  RUBBLE

;Armor Upgrade
ConditionState  USER_1
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  USER_1 REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 REDLIGHT01 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  USER_1 RUBBLE

;Armor Upgrade And Recon Scanner
ConditionState  USER_1 WEAPONSET_PLAYER_UPGRADE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  USER_1 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10 ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  USER_1 WEAPONSET_PLAYER_UPGRADE RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

LeftFrontTireBone      DUMMWHL01
RightFrontTireBone     DUMMWHL08
LeftRearTireBone       DUMMWHL03
RightRearTireBone      DUMMWHL05
MidLeftFrontTireBone   DUMMWHL02
MidRightFrontTireBone  DUMMWHL07
MidLeftRearTireBone    DUMMWHL04
MidRightRearTireBone   DUMMWHL06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.
End

;Propaganda Speakers
Draw  W3DModelDraw ModuleTag_Speakers01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  USER_2
AliasConditionState  USER_2 REALLYDAMAGED
AliasConditionState  USER_2 RUBBLE

ConditionState  POWER_PLANT_UPGRADED
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  POWER_PLANT_UPGRADED RUBBLE

ConditionState  POWER_PLANT_UPGRADED USER_2
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End

ConditionState  POWER_PLANT_UPGRADED USER_2 REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  SPEAKER ;so instead of hiding specific objects we will tell it what it should show instead
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End
AliasConditionState  POWER_PLANT_UPGRADED USER_2 RUBBLE
End

;Recon Scanner
Draw  W3DModelDraw ModuleTag_Recon01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  TURRET ;so instead of hiding specific objects we will tell it what it should show instead
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  TURRET ;so instead of hiding specific objects we will tell it what it should show instead
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.5
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS SPEAKER TURRET FLAGA01 WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
End

ConditionState  MOVING
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.5
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS SPEAKER TURRET FLAGA01 WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
End

ConditionState  REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  ONCE
AnimationSpeedFactorRange  2.0 2.5
TransitionKey  TRANS_DAMAGEDIDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS SPEAKER TURRET FLAGA01 WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
End

ConditionState  REALLYDAMAGED MOVING
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGEDMOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGEDIDLE TRANS_DAMAGEDMOVING
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.5
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS SPEAKER TURRET FLAGA01 WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
End

End

Draw  W3DModelDraw ModuleMod_OverWater

DefaultConditionState
Model  NVTCrawler
HideSubObject  FLAGB01
End
AliasConditionState   MOVING

ConditionState        OVER_WATER
ParticleSysBone     WATERFX01 AmphibWaveRest
ParticleSysBone     WATERFX02 AmphibWaveRest
End

ConditionState        OVER_WATER MOVING
ParticleSysBone     WATERFX01 AmphibWave
ParticleSysBone     WATERFX02 AmphibWave
End

End

Draw  W3DModelDraw ModuleMod_Night

DefaultConditionState
Model  NVTCrawler_N
End

End

End



;------------------------------------------------------------------------------
Object ChinaTroopCrawlerDetectionRangeIndicatorDecalObject

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

;------------------------------------------------------------------------------
Object ChinaVehicleTroopCrawlerPropagandaTower

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  FIREPOINT01

ConditionState  NONE
Model          NVDeva_U2
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior         PropagandaTowerBehavior ModuleTag_Propaganda01
Radius                 150.0
DelayBetweenUpdates    2000 ; in milliseconds
HealPercentEachSecond  1%   ; get this % of max health every second
PulseFX                FX_CrawlerPropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
AffectsSelf            Yes
UpgradeRequired        Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%   ; get this % of max health every second
UpgradedPulseFX        FX_CrawlerPropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
End

Behavior              DestroyDie ModuleTag_05
End

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaVehicleSupplyTruck

; *** ART Parameters ***

SelectPortrait          SNSupplyTruck_L
ButtonImage             SNSupplyTruck

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model            NVSSUPPLYTK
HideSubObject    Cargo01
ShowSubObject    Housecolor01
End
AliasConditionState  DISGUISED
AliasConditionState  DISGUISED LOADED

ConditionState     REALLYDAMAGED
Model            NVSSUPPLYTK_D
ShowSubObject    Housecolor01
End
AliasConditionState  RUBBLE
AliasConditionState  DISGUISED REALLYDAMAGED
AliasConditionState  DISGUISED RUBBLE
AliasConditionState  DISGUISED LOADED REALLYDAMAGED
AliasConditionState  DISGUISED LOADED RUBBLE

ConditionState     CARRYING
ShowSubObject    Cargo01 Housecolor01
End
AliasConditionState  DISGUISED CARRYING
AliasConditionState  DISGUISED LOADED CARRYING

ConditionState     REALLYDAMAGED CARRYING
Model            NVSSUPPLYTK_D
ShowSubObject    Cargo01 Housecolor01
End
AliasConditionState  RUBBLE CARRYING
AliasConditionState  DISGUISED REALLYDAMAGED CARRYING
AliasConditionState  DISGUISED RUBBLE CARRYING
AliasConditionState  DISGUISED LOADED REALLYDAMAGED CARRYING
AliasConditionState  DISGUISED LOADED RUBBLE CARRYING

;;When loaded with pasangers

ConditionState     LOADED
Model            NVSSUPPLYTK
ShowSubObject    NONE
HideSubObject    Cargo01 Housecolor01
End

ConditionState     LOADED REALLYDAMAGED
Model            NVSSUPPLYTK_D
ShowSubObject    NONE
HideSubObject    Cargo01 Housecolor01
End
AliasConditionState  LOADED RUBBLE

ConditionState     LOADED CARRYING
Model            NVSSUPPLYTK
ShowSubObject    NONE
HideSubObject    Cargo01 Housecolor01
End

ConditionState     LOADED REALLYDAMAGED CARRYING
Model            NVSSUPPLYTK_D
ShowSubObject    NONE
HideSubObject    Cargo01 Housecolor01
End
AliasConditionState  LOADED RUBBLE CARRYING

TrackMarks               EXTireTrack.tga

LeftFrontTireBone            Tire01
RightFrontTireBone           Tire02
MidLeftRearTireBone          Tire03
MidRightRearTireBone         Tire04
LeftRearTireBone             Tire05
RightRearTireBone            Tire06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

End

Draw  W3DModelDraw ModuleTag_Transport01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  CARRYING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED CARRYING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE CARRYING
AliasConditionState  DISGUISED
AliasConditionState  DISGUISED CARRYING
AliasConditionState  DISGUISED REALLYDAMAGED
AliasConditionState  DISGUISED REALLYDAMAGED CARRYING
AliasConditionState  DISGUISED RUBBLE
AliasConditionState  DISGUISED RUBBLE CARRYING
AliasConditionState  DISGUISED LOADED
AliasConditionState  DISGUISED LOADED CARRYING
AliasConditionState  DISGUISED LOADED REALLYDAMAGED
AliasConditionState  DISGUISED LOADED REALLYDAMAGED CARRYING
AliasConditionState  DISGUISED LOADED RUBBLE
AliasConditionState  DISGUISED LOADED RUBBLE CARRYING

;;When loaded with pasangers

ConditionState     LOADED
Model            NVSSUPPLYTK_U
End
AliasConditionState  LOADED CARRYING

ConditionState     LOADED REALLYDAMAGED
Model            NVSSUPPLYTK_UD
End
AliasConditionState  LOADED REALLYDAMAGED CARRYING
AliasConditionState  LOADED RUBBLE
AliasConditionState  LOADED RUBBLE CARRYING

End

Draw  W3DModelDraw ModuleTag_EngineExhaust01

ConditionState         NONE
Model                NVSSUPPLYTK_B
HideSubObject        Chassis
ParticleSysBone      EXHAUST01 GLATankEngineSmokeLight
ParticleSysBone      EXHAUST02 GLATankEngineSmokeLight
End

ConditionState         MOVING
Model                NVSSUPPLYTK_B
ParticleSysBone      EXHAUST01 GLATankEngineSmokeHeavy
ParticleSysBone      EXHAUST02 GLATankEngineSmokeHeavy
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:SupplyTruck
Side                 China
EditorSorting        VEHICLE
TransportSlotCount   2                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            600
BuildTime            10.0      ;in seconds
VisionRange          150
ShroudClearingRange  200
Prerequisites
Object  ChinaSupplyCenter
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

ExperienceValue          5 5 5 5     ;Experience point value at each level
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               ChinaSupplyTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect              SupplyTruckVoiceSelect
VoiceMove                SupplyTruckVoiceMove
VoiceAttack              NoSound
SoundEnter               HumveeEnter
SoundExit                HumveeExit
SoundMoveStart           SupplyTruckMoveStart
SoundMoveStartDamaged    SupplyTruckMoveStart

UnitSpecificSounds
VoiceCreate            SupplyTruckVoiceCreate
TruckLandingSound      NoSound
TruckPowerslideSound   NoSound
VoiceSupply            SupplyTruckVoiceSupply
VoiceCrush             SupplyTruckVoiceCrush
VoiceEnter             SupplyTruckVoiceMove

End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
;@todo lorenzen removed the CAN_ATTACK from the chinasupplytruck... ok?
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End
Behavior  SupplyTruckAIUpdate ModuleTag_03
MaxBoxes  4
SupplyCenterActionDelay  400     ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  900 ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  SupplyTruckVoiceSuppliesDepleted
End
Locomotor  SET_NORMAL SupplyTruckLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

ExperienceValue     50 50 50 50 ;Experience point value at each level

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_ChinaSupplyTruckDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_ChinaSupplyTruck_CrushEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransportContain  ModuleTag_05131
Slots              6
DamagePercentToUnits  10%
AllowInsideKindOf   INFANTRY
ExitDelay  100
GoAggressiveOnExit  Yes
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  7.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------

Object ChinaTankShenlong

; *** ART Parameters ***
SelectPortrait          SNShenlong_L
ButtonImage             SNShenlong

Draw  W3DOverlordTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOINT01
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                NVShen
Animation            NVShen.NVShen
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFire
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFire
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
End

ConditionState         MOVING
Model                NVShen
Animation            NVShen.NVShen
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFire
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFire
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
End

ConditionState         REALLYDAMAGED
Model                NVShen_D
Animation            NVShen_D.NVShen_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFire
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFire
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
ParticleSysBone      Fire01 FlameTowerBurnerFire
ParticleSysBone      Fire01 SmokeFactionEvenSmall
ParticleSysBone      Fire02 FlameTowerBurnerFire
ParticleSysBone      Fire02 SmokeFactionEvenSmall
ParticleSysBone      Fire03 SmokeFactionEvenSmall
End

ConditionState         REALLYDAMAGED MOVING
Model                NVShen_D
Animation            NVShen_D.NVShen_D
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFire
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFire
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
ParticleSysBone      Fire01 FlameTowerBurnerFire
ParticleSysBone      Fire01 SmokeFactionEvenSmall
ParticleSysBone      Fire02 FlameTowerBurnerFire
ParticleSysBone      Fire02 SmokeFactionEvenSmall
ParticleSysBone      Fire03 SmokeFactionEvenSmall
End

ConditionState         USER_2
Model                NVShen
Animation            NVShen.NVShen
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
End

ConditionState         USER_2 MOVING
Model                NVShen
Animation            NVShen.NVShen
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVShen_D
Animation            NVShen_D.NVShen_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
ParticleSysBone      Fire01 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire01 SmokeFactionEvenSmall
ParticleSysBone      Fire02 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire02 SmokeFactionEvenSmall
ParticleSysBone      Fire03 SmokeFactionEvenSmall
End

ConditionState         USER_2 REALLYDAMAGED MOVING
Model                NVShen_D
Animation            NVShen_D.NVShen_D
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
WeaponFireFXBone     TERTIARY  Muzzle
WeaponLaunchBone     TERTIARY  Muzzle
ParticleSysBone      FireFx01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
ParticleSysBone      Fire01 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire01 SmokeFactionEvenSmall
ParticleSysBone      Fire02 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire02 SmokeFactionEvenSmall
ParticleSysBone      Fire03 SmokeFactionEvenSmall
End

ConditionState         RUBBLE
Model                NVShen_D
Animation            NVShen_D.NVShen_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   None
WeaponLaunchBone     PRIMARY   None
WeaponFireFXBone     SECONDARY None
WeaponLaunchBone     SECONDARY None
WeaponFireFXBone     TERTIARY  None
WeaponLaunchBone     TERTIARY  None
ParticleSysBone      FireFx01 FlameTowerBurnerFire
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFire
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
ParticleSysBone      Fire01 FlameTowerBurnerFire
ParticleSysBone      Fire01 SmokeFactionEvenSmall
ParticleSysBone      Fire02 FlameTowerBurnerFire
ParticleSysBone      Fire02 SmokeFactionEvenSmall
ParticleSysBone      Fire03 FlameTowerBurnerFire
ParticleSysBone      Fire03 SmokeFactionEvenSmall
End

ConditionState         USER_2 RUBBLE
Model                NVShen_D
Animation            NVShen_D.NVShen_D
AnimationMode        ONCE
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret01
WeaponFireFXBone     PRIMARY   None
WeaponLaunchBone     PRIMARY   None
WeaponFireFXBone     SECONDARY None
WeaponLaunchBone     SECONDARY None
WeaponFireFXBone     TERTIARY  None
WeaponLaunchBone     TERTIARY  None
ParticleSysBone      FireFx01 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx01 SmokeFactionEvenSmall
ParticleSysBone      FireFx02 FlameTowerBurnerFireUpgraded
ParticleSysBone      FireFx02 SmokeFactionEvenSmall
ParticleSysBone      Fire01 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire01 SmokeFactionEvenSmall
ParticleSysBone      Fire02 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire02 SmokeFactionEvenSmall
ParticleSysBone      Fire03 FlameTowerBurnerFireUpgraded
ParticleSysBone      Fire03 SmokeFactionEvenSmall
End


TrackMarks            EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Upgrades01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NVNOverld_U1
Turret               Turret01
HideSubObject        Upgrade01 Upgrade02
End

ConditionState  REALLYDAMAGED
Model                NVNOverld_U1D
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVNOverld_U1D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End
AliasConditionState    USER_1 RUBBLE

End


; ***DESIGN parameters ***
DisplayName          OBJECT:Shenlong
Side                 China
EditorSorting        VEHICLE
TransportSlotCount   5                 ;how many "slots" we take in a transport (0 == not transportable)


;Normal Weaponset
WeaponSet
Conditions  None
Weapon             PRIMARY   ShenlongFlameThrowerWeapon
Weapon             SECONDARY ShenlongFlameThrowerWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Veteran Weaponset
WeaponSet
Conditions  VETERAN
Weapon             PRIMARY   ShenlongFlameThrowerVeteranWeapon
Weapon             SECONDARY ShenlongFlameThrowerVeteranWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerVeteranWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Elite Weaponset
WeaponSet
Conditions  ELITE
Weapon             PRIMARY   ShenlongFlameThrowerEliteWeapon
Weapon             SECONDARY ShenlongFlameThrowerEliteWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerEliteWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Heroic Weaponset
WeaponSet
Conditions  HERO
Weapon             PRIMARY   ShenlongFlameThrowerHeroicWeapon
Weapon             SECONDARY ShenlongFlameThrowerHeroicWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerHeroicWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Normal Black Napalm Weaponset
WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   ShenlongFlameThrowerWeaponUpgraded
Weapon             SECONDARY ShenlongFlameThrowerWeaponUpgraded
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerWeaponUpgraded
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Normal Veteran Black Napalm Weaponset
WeaponSet
Conditions  PLAYER_UPGRADE VETERAN
Weapon             PRIMARY   ShenlongFlameThrowerVeteranWeaponUpgraded
Weapon             SECONDARY ShenlongFlameThrowerVeteranWeaponUpgraded
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerVeteranWeaponUpgraded
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Normal Elite Black Napalm Weaponset
WeaponSet
Conditions  PLAYER_UPGRADE ELITE
Weapon             PRIMARY   ShenlongFlameThrowerEliteWeaponUpgraded
Weapon             SECONDARY ShenlongFlameThrowerEliteWeaponUpgraded
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerEliteWeaponUpgraded
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

;Normal Heroic Black Napalm Weaponset
WeaponSet
Conditions  PLAYER_UPGRADE HERO
Weapon             PRIMARY   ShenlongFlameThrowerHeroicWeaponUpgraded
Weapon             SECONDARY ShenlongFlameThrowerHeroicWeaponUpgraded
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  ShenlongFlameThrowerHeroicWeaponUpgraded
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions         None
Armor              ShenlongTankArmor
DamageFX           HeavyTankDamageFX
End

BuildCost        1900
BuildTime        22.0          ;in seconds
VisionRange      150
ShroudClearingRange  200

Prerequisites
Object   ChinaWarFactory
Object   ChinaBreederReactor
Science  SCIENCE_ChinaTankOverlord
End

ExperienceValue  200 200 400 600   ;Experience point value at each level
ExperienceRequired  0 400 600 1200  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            3  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  ChinaTankShenlongCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ShenlongVoiceSelect
SoundMoveStart         OverlordTankMoveStart
SoundMoveStartDamaged  OverlordTankMoveStart
VoiceMove              ShenlongVoiceMove
VoiceGuard             ShenlongVoiceMove
VoiceAttack            ShenlongVoiceAttack

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          ShenlongVoiceCreate
TurretMoveLoop       OverlordTankTurretMoveLoop
VoiceCrush           ShenlongVoiceMove
VoiceEnter           ShenlongVoiceMove
VoiceUnload          ShenlongVoiceUnload
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        1100.0
InitialHealth    1100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         55
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
TurretFireAngleSweep      PRIMARY 8
TurretSweepSpeedModifier  PRIMARY 0.6
TurretFireAngleSweep      SECONDARY 22.5 ;makes it sweep in a cone of 45 degrees
TurretSweepSpeedModifier  SECONDARY 1.0
TurretFireAngleSweep      TERTIARY 45 ;makes it sweep in a cone of 90 degrees
TurretSweepSpeedModifier  TERTIARY 1.0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL ShenlongLocomotor
Locomotor  SET_NORMAL_UPGRADED NuclearShenlongLocomotor

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    NuclearTankDeathWeapon
StartsActive   No                        ; turned on by upgrade
TriggeredBy    Upgrade_ChinaNuclearTanks
ConflictsWith  Upgrade_ChinaIsotopeStability
End

Behavior  LocomotorSetUpgrade ModuleTag_05
TriggeredBy  Upgrade_ChinaNuclearTanks
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
RequiredStatus  STATUS_RIDER8
CrateData       NuclearTankCrateData
End

;This makes sure that we only drop nuclear upgrade parts after having been upgraded with nuclear engines
Behavior  StatusBitsUpgrade ModuleTag_NukeCrate02
TriggeredBy     Upgrade_ChinaNuclearTanks
StatusToSet     STATUS_RIDER8
End

Behavior  PhysicsBehavior ModuleTag_14
Mass  50.0
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  200    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  125          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

;Normal Death Explosion
Behavior  SlowDeathBehavior ModuleTag_Death01
ExemptStatus  STATUS_RIDER8
ProbabilityModifier  25
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ChinaTankShenlongDebris
FX   FINAL    FX_OverlordExplosionOneFinal
Weapon  FINAL ShenlongDeathExplosionWeapon
End

;Black Napalm Death Explosion
Behavior  SlowDeathBehavior ModuleTag_Death02
RequiredStatus  STATUS_RIDER8
ProbabilityModifier  25
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ChinaTankShenlongDebris
FX   FINAL    FX_OverlordExplosionOneFinal
Weapon  FINAL ShenlongDeathExplosionWeaponUpgraded
End

Behavior  CreateCrateDie ModuleTag_17
CrateData  SalvageCrateDataChinaTier2
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ModelConditionUpgrade ModuleTag_NukeReactorVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaNuclearTanks
End

Behavior  ModelConditionUpgrade ModuleTag_BlackNapalmFlames01
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  WeaponSetUpgrade ModuleTag_BlackNapalmFlames02
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  CommandSetUpgrade ModuleTag_BlackNapalmFlames03
CommandSet  ChinaTankShenlongCommandSetUpgraded
TriggeredBy   Upgrade_ChinaBlackNapalm
End

Behavior  StatusBitsUpgrade ModuleTag_BlackNapalmFlames04
TriggeredBy     Upgrade_ChinaBlackNapalm
StatusToSet     STATUS_RIDER8
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  OverlordContain ModuleTag_InfantryTurret01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       Yes
ExperienceSinkForRider   Yes
;PayloadTemplateName      ChinaTankShenlongNuclearMortarTurret
End

Behavior  ProductionUpdate ModuleTag_Production01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_TurretUpgrade01
UpgradeObject  OCL_ShenlongEMPMissileTurret
TriggeredBy    Upgrade_ChinaHanEMPBomb
ConflictsWith  Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanTacticalNuke
End

Behavior  ObjectCreationUpgrade ModuleTag_TurretUpgrade02
UpgradeObject  OCL_ShenlongFlamerTurret
TriggeredBy    Upgrade_ChinaHanFlameThrower
ConflictsWith  Upgrade_ChinaHanEMPBomb Upgrade_ChinaHanTacticalNuke
End

Behavior  ObjectCreationUpgrade ModuleTag_TurretUpgrade03
UpgradeObject  OCL_ShenlongNuclearMortarTurret
TriggeredBy    Upgrade_ChinaHanTacticalNuke
ConflictsWith  Upgrade_ChinaHanFlameThrower Upgrade_ChinaHanEMPBomb
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  26.0
GeometryMinorRadius  13.0
GeometryHeight  15.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankShenlongFlamerTurret

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones  Yes
AttachToBoneInContainer  FIREPOINT01

ConditionState  NONE
Model                NVShen_U
Turret               TURRET03
TurretPitch          TURRETEL03
HideSubObject        TURRET02 TURRET04 TURRET06 TURRET07
WeaponFireFXBone     PRIMARY Trrt3Mzl
WeaponLaunchBone     PRIMARY Trrt3Mzl
ParticleSysBone      TRRT3FLM01 FlameTowerBurnerFire
ParticleSysBone      TRRT3FLM01 SmokeFactionEvenSmall
End

ConditionState  REALLYDAMAGED
Model                NVShen_UD
Turret               TURRET03
TurretPitch          TURRETEL03
HideSubObject        TURRET02 TURRET04 TURRET06 TURRET07
WeaponFireFXBone     PRIMARY Trrt3Mzl
WeaponLaunchBone     PRIMARY Trrt3Mzl
ParticleSysBone      TRRT3FLM01 FlameTowerBurnerFire
ParticleSysBone      TRRT3FLM01 SmokeFactionEvenSmall
End

ConditionState  USER_2
Model                NVShen_U
Turret               TURRET03
TurretPitch          TURRETEL03
HideSubObject        TURRET02 TURRET04 TURRET06 TURRET07
WeaponFireFXBone     PRIMARY Trrt3Mzl
WeaponLaunchBone     PRIMARY Trrt3Mzl
ParticleSysBone      TRRT3FLM01 FlameTowerBurnerFireUpgraded
ParticleSysBone      TRRT3FLM01 SmokeFactionEvenSmall
End

ConditionState  REALLYDAMAGED USER_2
Model                NVShen_UD
Turret               TURRET03
TurretPitch          TURRETEL03
HideSubObject        TURRET02 TURRET04 TURRET06 TURRET07
WeaponFireFXBone     PRIMARY Trrt3Mzl
WeaponLaunchBone     PRIMARY Trrt3Mzl
ParticleSysBone      TRRT3FLM01 FlameTowerBurnerFireUpgraded
ParticleSysBone      TRRT3FLM01 SmokeFactionEvenSmall
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY ShenlongFlameTurretWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY ShenlongFlameTurretWeaponUpgraded
End


ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   5
MinPhysicalPitch     -20
TurretFireAngleSweep  PRIMARY 15
TurretSweepSpeedModifier  PRIMARY 0.6    ; Sweep slower than you turn (aim for 30 for art)
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250   ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  ModelConditionUpgrade ModuleTag_BlackNapalmFlames01
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  WeaponSetUpgrade ModuleTag_BlackNapalmFlames02
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       9.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankShenlongEMPMissileTurret

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                NVShen_U
Turret               TURRET07
HideSubObject        TURRET02 TURRET03 TURRET04 TURRET06
WeaponFireFXBone     PRIMARY Trrt7Mzl
WeaponLaunchBone     PRIMARY Trrt7Mzl
End

ConditionState  REALLYDAMAGED
Model                NVShen_UD
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions           None
Weapon               PRIMARY ShenlongEmpMissileWeapon
End


ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      250

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250   ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_04
End


Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       9.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankShenlongNuclearMortarTurret

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  FIREPOINT01

ConditionState  NONE
Model                NVShen_U
IdleAnimation        NVShen_U.NVShen_U
AnimationMode        ONCE
Turret               TURRET04
ShowSubObject        WARHEAD
HideSubObject        TURRET02 TURRET03 TURRET06 TURRET07
WeaponFireFXBone     PRIMARY Warhead
WeaponLaunchBone     PRIMARY Warhead
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A

ConditionState  FIRING_A
Model                NVShen_U
IdleAnimation        NVShen_U.NVShen_U
AnimationMode        ONCE
Turret               TURRET04
ShowSubObject        NONE
HideSubObject        TURRET02 TURRET03 TURRET06 TURRET07 WARHEAD
TransitionKey        TRANS_FIRING_A
WeaponFireFXBone     PRIMARY Warhead
WeaponLaunchBone     PRIMARY Warhead
End

ConditionState  REALLYDAMAGED
Model                NVShen_UD
IdleAnimation        NVShen_UD.NVShen_UD
AnimationMode        ONCE
Turret               TURRET04
ShowSubObject        WARHEAD
HideSubObject        TURRET02 TURRET03 TURRET06 TURRET07
WeaponFireFXBone     PRIMARY Warhead
WeaponLaunchBone     PRIMARY Warhead
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End
AliasConditionState  REALLYDAMAGED RELOADING_A
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_A

ConditionState  REALLYDAMAGED FIRING_A
Model                NVShen_UD
IdleAnimation        NVShen_UD.NVShen_UD
AnimationMode        ONCE
Turret               TURRET04
ShowSubObject        NONE
HideSubObject        TURRET02 TURRET03 TURRET06 TURRET07 WARHEAD
TransitionKey        TRANS_FIRING_A
WeaponFireFXBone     PRIMARY Warhead
WeaponLaunchBone     PRIMARY Warhead
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions           None
Weapon               PRIMARY ShenlongMiniNukeCannon
End


ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      360

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180
AllowsPitch          No
FiresWhileTurning    Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250   ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_04
End


Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       9.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaTankOverlord

; *** ART Parameters ***
SelectPortrait          SNOverlord_L
ButtonImage             SNOverlord

Draw  W3DOverlordTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

ConditionState         NONE
Model                NVOvrlrd
Animation            NVOvrlrd.NVOvrlrd
AnimationMode        LOOP
Turret               Turret01
TurretPitch          TurretEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVOvrlrd_d
Animation            NVOvrlrd_d.NVOvrlrd_d
AnimationMode        LOOP
Turret               Turret01
TurretPitch          TurretEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw                     W3DModelDraw ModuleTag_Speaker01
OkToChangeModelColor   Yes
AttachToBoneInAnotherModule  FIREPOINT01
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED

ConditionState  GARRISONED
Model          NVOvrlrd_S
Animation      NVOvrlrd_S.NVOvrlrd_S
AnimationMode  LOOP
Turret         Turret01
End

ConditionState  GARRISONED REALLYDAMAGED
Model          NVOvrlrd_SD
Animation      NVOvrlrd_SD.NVOvrlrd_SD
AnimationMode  LOOP
Turret         Turret01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 LiveWireSparks
End

;Upgraded with Subliminal

ConditionState  GARRISONED DEPLOYED
Model          NVOvrlrd_S
Animation      NVOvrlrd_S.NVOvrlrd_S
AnimationMode  LOOP
Turret         Turret01
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End

ConditionState  GARRISONED DEPLOYED REALLYDAMAGED
Model          NVOvrlrd_SD
Animation      NVOvrlrd_SD.NVOvrlrd_SD
AnimationMode  LOOP
Turret         Turret01
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
End

End

Draw  W3DModelDraw ModuleTag_Upgrades01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NVDeva_U2
Turret               Turret01
HideSubObject        Upgrade01 Upgrade02
End

ConditionState  REALLYDAMAGED
Model                NVNOverld_U1D
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVNOverld_U1
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVNOverld_U1D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVNOverld_U1
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVNOverld_U1D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVNOverld_U1
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVNOverld_U1D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
End
AliasConditionState  USER_1 USER_2 RUBBLE

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Overlord
Side                 China
EditorSorting        VEHICLE
TransportSlotCount   5                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY   OverlordTankGun
Weapon             SECONDARY GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY   OverlordTankGun
Weapon             SECONDARY OverlordBunkerDummyWeapon ;Dummy weapon that will make the overlord drive close enough to the target for the infanty to fire
End


ArmorSet
Conditions         None
Armor              HeavyTankArmor
DamageFX           HeavyTankDamageFX
End

BuildCost        1800
BuildTime        20.0          ;in seconds
VisionRange      275
ShroudClearingRange  300

Prerequisites
Object   ChinaWarFactory
Object   ChinaBreederReactor
Science  SCIENCE_ChinaTankOverlord
End

ExperienceValue     200 200 400 600   ;Experience point value at each level
ExperienceRequired  0   400 600 1200  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            3  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          4  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  ChinaTankOverlordDefaultCommandSet

; *** AUDIO Parameters ***
VoiceSelect  OverlordTankVoiceSelect
SoundMoveStart  OverlordTankMoveStart
SoundMoveStartDamaged  OverlordTankMoveStart
VoiceMove  OverlordTankVoiceMove
VoiceGuard  OverlordTankVoiceMove
VoiceAttack  OverlordTankVoiceAttack

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           OverlordTankVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  OverlordTankTurretMoveLoop
VoiceCrush  OverlordTankVoiceCrush
VoiceEnter  OverlordTankVoiceMove
VoiceUnload      OverlordTankVoiceUnload
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        1100.0
InitialHealth    1100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate         60
TurretPitchRate        60
AllowsPitch            Yes
MinPhysicalPitch       -5
NaturalTurretPitch     2.5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End

Locomotor  SET_NORMAL OverlordLocomotor
Locomotor  SET_NORMAL_UPGRADED NuclearOverlordLocomotor

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    NuclearTankDeathWeapon
StartsActive   No                        ; turned on by upgrade
TriggeredBy    Upgrade_ChinaNuclearTanks
ConflictsWith  Upgrade_ChinaIsotopeStability
End

Behavior  LocomotorSetUpgrade ModuleTag_05
TriggeredBy  Upgrade_ChinaNuclearTanks
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
RequiredStatus  STATUS_RIDER8
CrateData       NuclearTankCrateData
End

;This makes sure that we only drop nuclear upgrade parts after having been upgraded with nuclear engines
Behavior  StatusBitsUpgrade ModuleTag_NukeCrate02
TriggeredBy     Upgrade_ChinaNuclearTanks
StatusToSet     STATUS_RIDER8
End

Behavior  OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
Slots                  1
DamagePercentToUnits         100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret  Yes ; My passengers ride in my turret, that's where the Firepoint bones are
ExperienceSinkForRider  Yes ; I get the Exp for things my turret friend kills
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_OverlordGattlingCannon
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
ConflictsWith  Upgrade_500_10 Upgrade_300_10
End
Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_OverlordPropagandaTower
TriggeredBy    Upgrade_500_10
ConflictsWith  Upgrade_ChinaOverlordGattlingCannon Upgrade_300_10
End
Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_OverlordBattleBunker
TriggeredBy    Upgrade_300_10
ConflictsWith  Upgrade_ChinaOverlordGattlingCannon Upgrade_500_10
End
Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End
Behavior  CommandSetUpgrade ModuleTag_11
CommandSet  ChinaTankOverlordGattlingCannonCommandSet
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
ConflictsWith  Upgrade_500_10 Upgrade_300_10
End
Behavior  CommandSetUpgrade ModuleTag_12
CommandSet  ChinaTankOverlordPropagandaTowerCommandSet
TriggeredBy    Upgrade_500_10
ConflictsWith  Upgrade_ChinaOverlordGattlingCannon Upgrade_300_10
End
Behavior  CommandSetUpgrade ModuleTag_13
CommandSet  ChinaTankOverlordBattleBunkerCommandSet
TriggeredBy    Upgrade_300_10
ConflictsWith  Upgrade_ChinaOverlordGattlingCannon Upgrade_500_10
End

Behavior  ModelConditionUpgrade ModuleTag_Propaganda01
ConditionFlag  GARRISONED
TriggeredBy    Upgrade_500_10
ConflictsWith  Upgrade_ChinaSubliminalMessaging
End

Behavior  ModelConditionUpgrade ModuleTag_Propaganda02
ConditionFlag  DEPLOYED
TriggeredBy    Upgrade_500_10 Upgrade_ChinaSubliminalMessaging
RequiresAllTriggers  Yes
End

Behavior  WeaponSetUpgrade ModuleTag_Bunker03
TriggeredBy  Upgrade_300_10
End

Behavior  SubObjectsUpgrade ModuleTag_OverlordAddonHideTreadCoverBits01
TriggeredBy     Upgrade_300_10
HideSubObjects  ChassisPart01
End

Behavior  SubObjectsUpgrade ModuleTag_OverlordAddonHideTurretBit01
TriggeredBy     Upgrade_300_10 Upgrade_ChinaOverlordGattlingCannon Upgrade_500_10 ; this gets triggered by either one of these upgrades
HideSubObjects  TurretPart01
End

Behavior  PhysicsBehavior ModuleTag_14
Mass  50.0
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  200    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  125          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_16
ProbabilityModifier  25
DestructionDelay  200
DestructionDelayVariance  100
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ChinaTankOverlordDebris
FX   FINAL    FX_OverlordExplosionOneFinal
End

Behavior  CreateCrateDie ModuleTag_17
CrateData  SalvageCrateDataChinaTier2
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ModelConditionUpgrade ModuleTag_DepletedUraniumVissual01
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaUraniumShells
End

Behavior  ModelConditionUpgrade ModuleTag_NukeReactorVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaNuclearTanks
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranTankSpecialists
End

Geometry  BOX
GeometryMajorRadius  26.0
GeometryMinorRadius  13.0
GeometryHeight  15.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankOverlordGattlingCannon

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY   Muzzle
WeaponLaunchBone     SECONDARY Muzzle
HideSubObject        BULLETCHN02
ShowSubObject        BULLETCHN01
End
ConditionState         USING_WEAPON_B
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN02
ShowSubObject        BULLETCHN01
End

ConditionState         ATTACKING
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING USING_WEAPON_B
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState         ATTACKING CONTINUOUS_FIRE_SLOW
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING CONTINUOUS_FIRE_SLOW USING_WEAPON_B
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState        ATTACKING CONTINUOUS_FIRE_MEAN
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  medium-fast
End
ConditionState         ATTACKING CONTINUOUS_FIRE_MEAN USING_WEAPON_B
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  medium-fast
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState         ATTACKING CONTINUOUS_FIRE_FAST
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  1.2 1.2 ;set this state to animate  vryfst
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
ParticleSysBone      Muzzle02 GattlingMuzzleSmoke
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING CONTINUOUS_FIRE_FAST USING_WEAPON_B
Model                NVOvrlrd_G
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  1.2 1.2 ;set this state to animate  vryfst
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
ParticleSysBone      Muzzle02 GattlingMuzzleSmoke
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState         REALLYDAMAGED
Model                NVOvrlrd_GD
Turret               TURRET01
TurretPitch          TURRETEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN02
ShowSubObject        BULLETCHN01
ParticleSysBone      Smoke01 SmokeFactionMedium
ParticleSysBone      Smoke02 SmokeFactionMedium
ParticleSysBone      Smoke03 SmokeFactionMedium
ParticleSysBone      SparkM01 SparksMedium
ParticleSysBone      SparkM02 SparksMedium
End
ConditionState         REALLYDAMAGED USING_WEAPON_B
Model                NVOvrlrd_GD
Turret               TURRET01
TurretPitch          TURRETEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN02
ShowSubObject        BULLETCHN01
ParticleSysBone      Smoke01 SmokeFactionMedium
ParticleSysBone      Smoke02 SmokeFactionMedium
ParticleSysBone      Smoke03 SmokeFactionMedium
ParticleSysBone      SparkM01 SparksMedium
ParticleSysBone      SparkM02 SparksMedium
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
End

ConditionState         ATTACKING REALLYDAMAGED
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING REALLYDAMAGED USING_WEAPON_B
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState         ATTACKING CONTINUOUS_FIRE_SLOW REALLYDAMAGED
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING CONTINUOUS_FIRE_SLOW REALLYDAMAGED USING_WEAPON_B
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState        ATTACKING CONTINUOUS_FIRE_MEAN REALLYDAMAGED
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  medium-fast
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING CONTINUOUS_FIRE_MEAN REALLYDAMAGED USING_WEAPON_B
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  medium-fast
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

ConditionState         ATTACKING CONTINUOUS_FIRE_FAST REALLYDAMAGED
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  1.2 1.2 ;set this state to animate  vryfst
ParticleSysBone     Muzzle01 GattlingMuzzleSmoke
ParticleSysBone     Muzzle02 GattlingMuzzleSmoke
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End
ConditionState         ATTACKING CONTINUOUS_FIRE_FAST REALLYDAMAGED USING_WEAPON_B
Model                NVOvrlrd_GD
Animation            NVOvrlrd_G.NVOvrlrd_G
AnimationMode        LOOP
AnimationSpeedFactorRange  1.2 1.2 ;set this state to animate  vryfst
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
ParticleSysBone      Muzzle02 GattlingMuzzleSmoke
WeaponFireFXBone     SECONDARY Muzzle
WeaponMuzzleFlash    SECONDARY MuzzleFX
HideSubObject        BULLETCHN01
ShowSubObject        BULLETCHN02
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions           None
Weapon               PRIMARY GattlingBuildingGun
AutoChooseSources    PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY GattlingBuildingGunAir
AutoChooseSources    SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
PreferredAgainst     SECONDARY BALLISTIC_MISSILE AIRCRAFT
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY GattlingBuildingGunUpgraded
AutoChooseSources    PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
Weapon               SECONDARY GattlingBuildingGunAirUpgraded
AutoChooseSources    SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
PreferredAgainst     SECONDARY BALLISTIC_MISSILE AIRCRAFT
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   20 ; this keeps it aimed half way between land and sky
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250   ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_04
;nothing
End

Behavior  WeaponBonusUpgrade ModuleTag_05
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  WeaponSetUpgrade ModuleTag_09
TriggeredBy  Upgrade_ChinaChainGuns
End

Geometry             BOX
GeometryMajorRadius  8.0
GeometryMinorRadius  8.0
GeometryHeight       9.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankOverlordPropagandaTower

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  FIREPOINT01

ConditionState  NONE
Model          NVDeva_U2
End

End

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
;<No Data=
End

Behavior         PropagandaTowerBehavior ModuleTag_04
Radius                 150.0
DelayBetweenUpdates    2000 ; in milliseconds
HealPercentEachSecond  1%   ; get this % of max health every second
PulseFX                FX_OverlordPropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
UpgradeRequired        Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%   ; get this % of max health every second
UpgradedPulseFX        FX_OverlordPropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates

End

Behavior              DestroyDie ModuleTag_05
;<No Data=
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCC_Propaganda
ShadowSizeX  310
ShadowSizeY  310

End

;------------------------------------------------------------------------------
Object ChinaTankOverlordBattleBunker

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  FIREPOINT01

ConditionState  NONE
Model          NVOvrlrd_B
End
AliasConditionState  SNOW

ConditionState  REALLYDAMAGED
Model          NVOvrlrd_BD
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 LiveWireSparks
End
AliasConditionState  SNOW REALLYDAMAGED

; night
ConditionState  NIGHT
Model          NVOvrlrd_B
End
AliasConditionState  SNOW NIGHT

ConditionState  NIGHT REALLYDAMAGED
Model          NVOvrlrd_BD
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Flame01 SmolderingFire
ParticleSysBone  Flame01 SmolderingFlameCore
ParticleSysBone  Spark01 LiveWireSparks
End
AliasConditionState  SNOW NIGHT REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              China
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  TransportContain ModuleTag_03
Slots                          5
PassengersAllowedToFire        Yes
AllowInsideKindOf              INFANTRY
ForbidInsideKindOf             NO_GARRISON
WeaponBonusPassedToPassengers  Yes
EnterSound                     GarrisonEnter
ExitSound                      GarrisonExit
End

Behavior  WeaponBonusUpgrade ModuleTag_GarrisonBonuses01
TriggeredBy  Upgrade_CostReduction
End

Behavior              DestroyDie ModuleTag_04
;nothing
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------

Object ChinaVehicleNukeLauncher

; *** ART Parameters ***
SelectPortrait          SNNukeCannon_L
ButtonImage             SNNukeCannon

Draw  W3DTankDraw ModuleTag_01

InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6

OkToChangeModelColor  Yes

ExtraPublicBone  Turret01

DefaultConditionState
Model                            NVNukeCn
WeaponLaunchBone                 PRIMARY Muzzle
WeaponMuzzleFlash                PRIMARY MuzzleFX
WeaponFireFXBone                 PRIMARY Muzzle
WeaponRecoilBone                 PRIMARY Barrel
Turret                           Turret
End

ConditionState                     RUBBLE
Model                            NVNukeCn_D1
End

;*** PACKED STATE -- ready to move ***
ConditionState     MOVING
Animation        NVNukeCn.NVNukeCn
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
AliasConditionState  BETWEEN_FIRING_SHOTS_A
;***
ConditionState     REALLYDAMAGED MOVING
Model            NVNukeCn_D
Animation        NVNukeCn_D.NVNukeCn_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving


;*** UNPACKING STATE  -- preparing to fire ***
ConditionState     UNPACKING
Animation        NVNukeCn.NVNukeCn
AnimationMode    MANUAL
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
;***
ConditionState     REALLYDAMAGED UNPACKING
Model            NVNukeCn_D
Animation        NVNukeCn_D.NVNukeCn_D
AnimationMode    MANUAL
End
AliasConditionState  REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

;*** PACKING STATE -- preparing to move ***
ConditionState     PACKING
Animation        NVNukeCn.NVNukeCn
AnimationMode    MANUAL
End

AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
;***
ConditionState     REALLYDAMAGED PACKING
Model            NVNukeCn_D
Animation        NVNukeCn_D.NVNukeCn_D
AnimationMode    MANUAL
End
AliasConditionState  REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

;*** DEPLOYED STATE -- ready to fire ***
ConditionState   DEPLOYED
Animation        NVNukeCn.NVNukeCn
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  DEPLOYED MOVING
AliasConditionState  DEPLOYED FIRING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED FIRING_B
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState   DEPLOYED REALLYDAMAGED
Model            NVNukeCn_D
Animation        NVNukeCn_D.NVNukeCn_D
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  DEPLOYED REALLYDAMAGED MOVING
AliasConditionState  DEPLOYED REALLYDAMAGED FIRING_A
AliasConditionState  DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
AliasConditionState  DEPLOYED REALLYDAMAGED RELOADING_A
AliasConditionState  DEPLOYED REALLYDAMAGED FIRING_B
AliasConditionState  DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED REALLYDAMAGED RELOADING_B
AliasConditionState  DEPLOYED REALLYDAMAGED FIRING_C
AliasConditionState  DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED REALLYDAMAGED RELOADING_C

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       4.0  ; amount of tread texture to move per second

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDclBone
Animation          EXDclBone.EXDclBone
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  PACKING
AliasConditionState  UNPACKING
AliasConditionState  MOVING
AliasConditionState  MOVING PACKING
AliasConditionState  MOVING UNPACKING

ConditionState       DEPLOYED
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
End
AliasConditionState  MOVING DEPLOYED

End

; ***DESIGN parameters ***
DisplayName       OBJECT:NukeLauncher
Side  China
EditorSorting    VEHICLE
TransportSlotCount  10                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  NONE
Weapon               PRIMARY   NukeCannonGun
Weapon               TERTIARY  NukeCannonDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            BikeLogicTankArmor
DamageFX         TankDamageFX
End

BuildCost        2000
BuildTime        18.0          ;in seconds
VisionRange      150
ShroudClearingRange  150

Prerequisites
Object  ChinaWarFactory
Object  ChinaBreederReactor
Science  SCIENCE_TacticalNukes
End

ExperienceValue     75 100 150 200   ;Experience point value at each level
ExperienceRequired  0 200 400 800   ;Experience points needed to gain each levell
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     ChinaVehicleNukeCannonCommandSet

; *** AUDIO Parameters ***
VoiceSelect            NukeCannonVoiceSelect
VoiceMove              NukeCannonVoiceMove
VoiceGuard             NukeCannonVoiceMove
VoiceAttack            NukeCannonVoiceAttack
SoundMoveStart         NukeCannonMoveStart
SoundMoveStartDamaged  NukeCannonMoveStart

UnitSpecificSounds
VoiceCreate          NukeCannonVoiceCreate
TurretMoveLoop       NukeCannonTurretMoveLoop
VoiceEnter           NukeCannonVoiceMove
Deploy               NukeCannonDeploy
Undeploy             NukeCannonUnDeploy
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE GARRISONABLE_UNTIL_DESTROYED CANNOT_RETALIATE IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        480.0
InitialHealth    480.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_04
Turret
TurretTurnRate         20
TurretPitchRate        20
FirePitch              0            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch            Yes
RecenterTime           5000         ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking ;No they now auto accuire targets set them to hold fire you don't want them to fire
PackTime  2310
UnpackTime  2310
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
End
Locomotor  SET_NORMAL ChinaNukeCannonLocomotor

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
CrateData       NukeCannonWarheadCrateData
End

Behavior  OverlordContain ModuleTag_DeployMarkerDecal01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      ChinaNukeCannonDeployedDecal
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_BattleMasterExplosionOneFinal
OCL  INITIAL  OCL_RadiationFieldSmall
OCL  MIDPOINT OCL_ChinaVehicleNukeCannonDie
OCL  FINAL    OCL_RadiationFieldSmall
FX   FINAL    FX_ChinaVehicleNukeCannonDeathExplosion
End

Behavior  CreateCrateDie ModuleTag_09
CrateData  SalvageCrateDataChinaTier2
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ProductionUpdate ModuleTag_12
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  200    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  125          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  32.0
GeometryMinorRadius  10.0
GeometryHeight  17.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaNukeCannonDeployedDecal

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                5.0
ShadowTexture  SCCDplyMrkr; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  85
ShadowSizeY  85

End

;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object ChinaVehicleListeningOutpost

; *** ART Parameters ***
SelectPortrait          NVLOutpost_L
ButtonImage             NVLOutpost

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVLstnOupst
HideSubObject  LIGHTS SMALLDISH TURRET ARM01 ARM02
End

ConditionState  REALLYDAMAGED
Model  NVLstnOupst_D
HideSubObject  LIGHTS SMALLDISH TURRET ARM01 ARM02
End

ConditionState  RUBBLE
Model  NVLOutpost_D1
HideSubObject  TURRET01
End

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
LeftRearTireBone       TIRE03
RightRearTireBone      TIRE04
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

End

Draw  W3DModelDraw ModuleTag_SmallDish01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVLstnOupst
Animation  NVLstnOupst.NVLstnOupst
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  LIGHTS CHASSIS TURRET ARM01 ARM02
End

ConditionState  DEPLOYED
Model  NVLstnOupst
Animation  NVLstnOupst.NVLstnOupst
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  LIGHTS CHASSIS TURRET ARM01 ARM02
End

ConditionState  REALLYDAMAGED
Model  NVLstnOupst_D
Animation  NVLstnOupst_D.NVLstnOupst_D
AnimationMode  ONCE
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  LIGHTS CHASSIS TURRET ARM01 ARM02
End

ConditionState  REALLYDAMAGED DEPLOYED
Model  NVLstnOupst_D
Animation  NVLstnOupst_D.NVLstnOupst_D
AnimationMode  LOOP
Flags  MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  LIGHTS CHASSIS TURRET ARM01 ARM02
End

ConditionState  RUBBLE
Model  NONE
End

End

Draw  W3DModelDraw ModuleTag_LargeDish01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVLstnOupst
Animation  NVLstnOupst.NVLstnOupst
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  LIGHTS CHASSIS SMALLDISH
End
AliasConditionState  MOVING

ConditionState  UNPACKING
Model  NVLstnOupst
Animation  NVLstnOupst.NVLstnOupst
AnimationMode  MANUAL
HideSubObject  LIGHTS CHASSIS SMALLDISH
End

ConditionState  DEPLOYED
Model  NVLstnOupst
Animation  NVLstnOupst.NVLstnOupst
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  LIGHTS CHASSIS SMALLDISH
Turret  Turret
End
AliasConditionState  DEPLOYED MOVING

ConditionState  PACKING
Model  NVLstnOupst
Animation  NVLstnOupst.NVLstnOupst
AnimationMode  MANUAL
HideSubObject  LIGHTS CHASSIS SMALLDISH
End

ConditionState  REALLYDAMAGED
Model  NVLstnOupst_D
Animation  NVLstnOupst_D.NVLstnOupst_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
HideSubObject  LIGHTS CHASSIS SMALLDISH
End
AliasConditionState  REALLYDAMAGED MOVING

ConditionState  REALLYDAMAGED UNPACKING
Model  NVLstnOupst_D
Animation  NVLstnOupst_D.NVLstnOupst_D
AnimationMode  MANUAL
HideSubObject  LIGHTS CHASSIS SMALLDISH
End

ConditionState  REALLYDAMAGED DEPLOYED
Model  NVLstnOupst_D
Animation  NVLstnOupst_D.NVLstnOupst_D
AnimationMode  ONCE
Flags  START_FRAME_LAST
HideSubObject  LIGHTS CHASSIS SMALLDISH
Turret  Turret
End
AliasConditionState  REALLYDAMAGED DEPLOYED MOVING

ConditionState  REALLYDAMAGED PACKING
Model  NVLstnOupst_D
Animation  NVLstnOupst_D.NVLstnOupst_D
AnimationMode  MANUAL
HideSubObject  LIGHTS CHASSIS SMALLDISH
End

ConditionState  RUBBLE
Model  NONE
End
AliasConditionState  RUBBLE DEPLOYED

End

Draw  W3DModelDraw ModuleTag_HeadLights01

ConditionState  NONE
Model  NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  DEPLOYED
AliasConditionState  REALLYDAMAGED DEPLOYED
AliasConditionState  RUBBLE DEPLOYED
AliasConditionState  NIGHT RUBBLE
AliasConditionState  NIGHT DEPLOYED
AliasConditionState  NIGHT REALLYDAMAGED DEPLOYED
AliasConditionState  NIGHT RUBBLE DEPLOYED

ConditionState  NIGHT
Model  NVLstnOupst
HideSubObject  SMALLDISH CHASSIS TURRET ARM01 ARM02
End
AliasConditionState  NIGHT REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              RVArmsSup_B
Animation          RVArmsSup_B.RVArmsSup_B
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  PACKING
AliasConditionState  UNPACKING
AliasConditionState  MOVING
AliasConditionState  MOVING PACKING
AliasConditionState  MOVING UNPACKING

ConditionState       DEPLOYED
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
End
AliasConditionState  MOVING DEPLOYED

End

; ***DESIGN parameters ***
DisplayName       OBJECT:ListeningOutpost
Side  China
EditorSorting    VEHICLE
TransportSlotCount  8                 ;Just enough to fit into a Chinook.

WeaponSet
Conditions           None
Weapon               PRIMARY   SupportVehicleDummyWeapon
Weapon               TERTIARY  NukeCannonDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
End


ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End
BuildCost        300
BuildTime        5.0          ;in seconds
VisionRange      400
ShroudClearingRange  400

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet  ChinaListeningOutpostCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ListeningOutpostVoiceSelect
VoiceMove              ListeningOutpostVoiceMove
VoiceGuard             ListeningOutpostVoiceMove
VoiceAttack            ListeningOutpostVoiceMove
SoundMoveStart         ListeningOutpostMoveStart
SoundMoveStartDamaged  ListeningOutpostMoveStart
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
VoiceCreate  ListeningOutpostVoiceCreate
VoiceEnter   ListeningOutpostVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE TRANSPORT IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DeployStyleAIUpdate ModuleTag_03
Turret
TurretTurnRate         200
RecenterTime           800
MinIdleScanAngle       45
MaxIdleScanAngle       360
MinIdleScanInterval    0
MaxIdleScanInterval    500
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking ;No they now auto accuire targets set them to hold fire you don't want them to fire
PackTime  1320
UnpackTime  1320
TurretsFunctionOnlyWhenDeployed  Yes
TurretsMustCenterBeforePacking  Yes
ManualDeployAnimations  Yes
End

Behavior  StealthUpdate ModuleTag_04
StealthDelay                 2000
StealthForbiddenConditions   MOVING
RequiredStatus               DEPLOYED
ForbiddenStatus              BOOBY_TRAPPED
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Locomotor  SET_NORMAL ListeningOutpostLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  90.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1789
FX   INITIAL    FX_SupplyTruckExplosionOneFinal
OCL  INITIAL    OCL_InitialListeningOutpostDebris
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_FinalListeningOutpostDebris
End

Behavior  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

; A crushing defeat
Behavior  FXListDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  OCLSpecialPower ModuleTag_Scan01
SpecialPowerTemplate  SpecialAbilityListeningOutpostScan
OCL  OCL_ListeningOutpostAreaScan
CreateLocation  USE_OWNER_OBJECT
End

Behavior  OCLSpecialPower ModuleTag_Scan02
SpecialPowerTemplate  SpecialAbilityListeningOutpostScanEnemies
OCL  OCL_ListeningOutpostDetectionScan
CreateLocation  USE_OWNER_OBJECT
End

Behavior  ObjectCreationUpgrade ModuleTag_DetectionRangeIndicator01
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_DetectionRangeIndicator02
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       GuardDogDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        GuardDogDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  GuardDogDetecionRangeIndicatorDecalWeapon
End

Behavior  ProductionUpdate ModuleTag_DetectionRangeIndicator03
End

Behavior  OverlordContain ModuleTag_DeployMarkerDecal01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      ChinaListeningOutpostDeployedDecal
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long
AflameDamageAmount  3        ; taking this much damage
AflameDamageDelay  500       ; this often.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  10.0
GeometryHeight  22.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaListeningOutpostDeployedDecal

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                50.0
ShadowTexture  SCCDplyMrkrSmall; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  50
ShadowSizeY  50

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaVehicleInternetTruck

; *** ART Parameters ***
SelectPortrait          NVInternetTruck_L
ButtonImage             NVInternetTruck

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVIntTrck
Animation  NVIntTrck.NVIntTrck
AnimationMode  LOOP
;Flags          START_FRAME_FIRST
HideSubObject  RADARBASE01
ShowSubObject  RADARBASE02
AnimationSpeedFactorRange  2.0 2.0
End

ConditionState  REALLYDAMAGED
Model  NVIntTrck_D
Animation  NVIntTrck_D.NVIntTrck_D
AnimationMode  LOOP
;Flags          START_FRAME_FIRST
HideSubObject  RADARBASE01
ShowSubObject  RADARBASE02
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
MidLeftRearTireBone    TIRE03
MidRightRearTireBone   TIRE04
LeftRearTireBone       TIRE05
RightRearTireBone      TIRE06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

End

; ***DESIGN parameters ***
DisplayName       OBJECT:InternetTruck
Side  China
EditorSorting    VEHICLE
TransportSlotCount  8                 ;Just enough to fit into a Chinook.

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End
BuildCost        1600
BuildTime        16.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object             ChinaBreederReactor
Object             ChinaInternetCenter
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet  ChinaInternetTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect            InternetTruckVoiceSelect
VoiceMove              InternetTruckVoiceMove
VoiceGuard             InternetTruckVoiceMove
VoiceAttack            InternetTruckVoiceMove
SoundMoveStart         InternetTruckMoveStart
SoundMoveStartDamaged  InternetTruckMoveStart
SoundEnter             HumveeEnter
SoundExit              HumveeExit


UnitSpecificSounds
VoiceCreate  InternetTruckVoiceCreate
VoiceUnload  InternetTruckVoiceUnload
VoiceEnter   InternetTruckVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        450.0
InitialHealth    450.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL ListeningOutpostLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  90.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  2000
DestructionDelayVariance   1000
FX   INITIAL FX_CrusaderCatchFire
FX   FINAL   FX_SupplyTruckExplosionOneFinal
OCL  FINAL   OCL_FinalInternetTruckDebris
End

Behavior  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

; A crushing defeat
Behavior  FXListDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior = AutoDepositUpdate ModuleTag_AD14475
DepositTiming = 4000     ; in milliseconds
DepositAmount = 10
InitialCaptureBonus = 0     ; no initial bonus
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  7.0
GeometryHeight  14.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------

Object ChinaVehicleInfernoCannon

; *** ART Parameters ***
SelectPortrait          SNInferno_L
ButtonImage             SNInferno

Draw                     W3DTankDraw ModuleTag_01
OkToChangeModelColor   Yes

ConditionState         NONE
Model                NVInferno
Turret               Turret
TurretPitch          TurretEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         REALLYDAMAGED
Model                NVInferno_D
Turret               Turret
TurretPitch          TurretEL
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
End

; ***DESIGN parameters ***
DisplayName         OBJECT:InfernoCannon
Side                China
EditorSorting       VEHICLE
TransportSlotCount  5
WeaponSet
Conditions        None
Weapon            PRIMARY InfernoCannonGun
End
WeaponSet
Conditions        PLAYER_UPGRADE
Weapon            PRIMARY InfernoCannonGunUpgraded
End
ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End
BuildCost           1000
BuildTime           13.0          ;in seconds
VisionRange         150
ShroudClearingRange  150

Prerequisites
Object            ChinaWarFactory
Object            ChinaPropagandaCenter
End

ExperienceValue     50 50 100 150   ;Experience point value at each level
ExperienceRequired  0 100 200 400   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       ChinaVehicleInfernoCannonCommandSet

; *** AUDIO Parameters ***
VoiceSelect        InfernoCannonVoiceSelect
VoiceMove          InfernoCannonVoiceMove
VoiceGuard         InfernoCannonVoiceMove
VoiceAttack        InfernoCannonVoiceAttack
SoundMoveStart     InfernoCannonMoveStart
SoundMoveStartDamaged  InfernoCannonMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      InfernoCannonVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop   NoSound
VoiceCrush       InfernoCannonVoiceCrush
VoiceEnter       InfernoCannonVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  240
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate  25
TurretPitchRate  25
AllowsPitch  Yes
FirePitch  50
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL InfernoLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

; A crushing defeat
Behavior                FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End
Behavior                CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList     OCL_CrusaderTank_CrushEffect
End
Behavior  SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_InfernoCannonDeathEffect
End

Behavior                  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior          CreateCrateDie ModuleTag_10
CrateData  SalvageCrateDataChinaTier1
End

Behavior       WeaponSetUpgrade ModuleTag_11
TriggeredBy  Upgrade_FireStormShells
End

Behavior  WeaponBonusUpgrade ModuleTag_20
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  DestroyDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;    
;------------------------------------------------------------------------------
Object ChinaTankHopper

; *** ART Parameters ***
SelectPortrait          SNHopperTank_L
ButtonImage             SNHopperTank

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVHppr
End
End

Side  China
EditorSorting  VEHICLE
BuildCost        1000
BuildTime        10.0          ;in seconds

Prerequisites
;Science  SCIENCE_MassMobilisation
Object  ChinaWarFactory
End

BuildVariations  ChinaTankHopper_Var1 ChinaTankHopper_Var1 ChinaTankHopper_Var2 ChinaTankHopper_Var3 ChinaTankHopper_Var3 ChinaTankHopper_Var4 ChinaTankHopper_Var5 ChinaTankHopper_Var5 ChinaTankHopper_Var6 ChinaTankHopper_Var7 ChinaTankHopper_Var7 ChinaTankHopper_Var8 ChinaTankHopper_Var9 ChinaTankHopper_Var9 ChinaTankHopper_Var10 ChinaTankHopper_Var11 ChinaTankHopper_Var11 ChinaTankHopper_Var12 ChinaTankHopper_Var13 ChinaTankHopper_Var13 ChinaTankHopper_Var14 ChinaTankHopper_Var15 ChinaTankHopper_Var15 ChinaTankHopper_Var16

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

;*****Hopper Tank Legend*****

;Var1     Radio,Trench hooks
;Var2     Radio,Trench hooks, Flag
;Var3     Radio,Trench hooks, Lamp
;Var4     Radio,Trench hooks, Lamp, Flag

;Var5     Rails, Fuel tank
;Var6     Rails, Fuel tank, Flag
;Var7     Rails, Fuel tank, Lamp
;Var8     Rails, Fuel tank, Lamp, Flag

;Var9     Radio, Fuel tank
;Var10    Radio, Fuel tank, Flag
;Var11    Radio, Fuel tank, Lamp
;Var12    Radio, Fuel tank, Lamp, Flag

;Var13    Rails, Trench hooks
;Var14    Rails, Trench hooks, Flag
;Var15    Rails, Trench hooks, Lamp
;Var16    Rails, Trench hooks, Lamp, Flag

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  13
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
;This varriant is actualy never build but holds all the settings and values
Object ChinaTankHopper_Core

; *** ART Parameters ***
SelectPortrait          SNHopperTank_L
ButtonImage             SNHopperTank

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVHppr
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:HopperTank
Side  China
EditorSorting    SYSTEM
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY  HopperTankGun
Weapon  TERTIARY HopperTankCommanderBinoculars
AutoChooseSources  TERTIARY NONE
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost        500
BuildTime        5.0         ;in seconds
VisionRange      175
ShroudClearingRange  200

Prerequisites
Object  ChinaWarFactory
End

ExperienceValue     60 60 120 200   ;Experience point value at each level
ExperienceRequired  0 100 200 400   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet        ChinaVehicleHopperCommandSet

; *** AUDIO Parameters ***
VoiceSelect     HopperTankVoiceSelect
VoiceMove       HopperTankVoiceMove
VoiceGuard      HopperTankVoiceMove
VoiceAttack     HopperTankVoiceAttack
SoundMoveStart  HopperTankMoveStart
SoundMoveStartDamaged  HopperTankMoveStart

UnitSpecificSounds
VoiceCreate      HopperTankVoiceCreate
VoiceCrush       HopperTankVoiceMove
VoiceEnter       HopperTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90   ; turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY
MinIdleScanAngle       10
MaxIdleScanAngle       50
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         500
End
Locomotor  SET_NORMAL HopperTankLocomotor
Locomotor  SET_NORMAL_UPGRADED NuclearHopperTankLocomotor

Behavior  HordeUpdate ModuleTag_04
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  40.0
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    NuclearTankDeathWeapon
StartsActive   No                        ; turned on by upgrade
TriggeredBy    Upgrade_ChinaNuclearTanks
ConflictsWith  Upgrade_ChinaIsotopeStability
End
Behavior  LocomotorSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_ChinaNuclearTanks
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
RequiredStatus  STATUS_RIDER8
CrateData       NuclearTankCrateData
End

;This makes sure that we only drop nuclear upgrade parts after having been upgraded with nuclear engines
Behavior  StatusBitsUpgrade ModuleTag_NukeCrate02
TriggeredBy     Upgrade_ChinaNuclearTanks
StatusToSet     STATUS_RIDER8
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_11
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End


Behavior  SlowDeathBehavior ModuleTag_12
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  200
DestructionDelayVariance  100
OCL  FINAL    OCL_ChinaTankHopperDebris
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ModelConditionUpgrade ModuleTag_DepletedUraniumVissual01
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaUraniumShells
End

Behavior  ModelConditionUpgrade ModuleTag_NukeReactorVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaNuclearTanks
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.5
GeometryMinorRadius  7.5
GeometryHeight  13
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var1 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var2 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var3 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var4 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 FuelTnk Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var5 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var6 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var7 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var8 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio Hooks Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var9 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var10 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var11 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var12 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Hooks Rail Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End
;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var13 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var14 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var15 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankHopper_Var16 ChinaTankHopper_Core

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
MaxRecoilDistance     1

ConditionState  NONE
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVHppr
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVHppr_D
HideSubObject        FLAGB01
ShowSubObject        Chassis Turret01 Radio FuelTnk Light Upgrade01 Upgrade02
Turret               Turret
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks          EXTnkTrack.tga
TreadDebrisLeft     RocketBuggyDust
TreadDebrisRight    Nada
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Commander01

DefaultConditionState
Model          NVHppr
Animation      NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.0 3.0
Flags          MAINTAIN_FRAME_ACROSS_STATES
Turret         Turret
HideSubObject  FLAGB01        ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  Hatch TnkCmndr
End

ConditionState  REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
End
AliasConditionState  RUBBLE

ConditionState   PREATTACK_C
AnimationMode  ONCE
End

ConditionState   PREATTACK_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_C REALLYDAMAGED
Model          NVHppr_D
Animation      NVHppr_D.NVHppr_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Flag01

ConditionState  NONE
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE
TransitionKey  TRANS_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_IDLE TRANS_MOVING
Model  NVHppr
Animation  NVHppr.NVHppr
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE
TransitionKey  TRANS_DAMAGED_IDLE
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

ConditionState  MOVING REALLYDAMAGED
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
Flags  MAINTAIN_FRAME_ACROSS_STATES2
HideSubObject  FLAGB01
ShowSubObject  FLAGA01 FLAGPOLE
End

TransitionState  TRANS_DAMAGED_IDLE TRANS_DAMAGED_MOVING
Model  NVHppr_D
Animation  NVHppr_D.NVHppr_D
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  1.5 2.0
Flags  MAINTAIN_FRAME_ACROSS_STATES
ShowSubObject  FLAGB01
HideSubObject  CHASSIS TURRET01 TURRET UPGRADE01 UPGRADE02 HATCH TNKCMNDR HOOKS FUELTNK RADIO RAIL FLAGA01 LIGHT
End

End

Draw  W3DModelDraw ModuleTag_Nightlight01

DefaultConditionState
Model          NVHppr_N1
Turret         Turret
End

End

Draw  W3DModelDraw ModuleTag_Nightlight02

DefaultConditionState
Model          NVHppr_N2
Turret         Turret
End

End

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaTankGattling

; *** ART Parameters ***
SelectPortrait          SNGatlingTank_L
ButtonImage             SNGatlingTank

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVGattTank
End
End

Side  China
EditorSorting  VEHICLE
BuildCost        700
BuildTime        7.0          ;in seconds

BuildVariations  ChinaTankGattling_Var1 ChinaTankGattling_Var2 ChinaTankGattling_Var3 ChinaTankGattling_Var4
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

End


;------------------------------------------------------------------------------
Object ChinaTankGattling_Var1

; *** ART Parameters ***
SelectPortrait          SNGatlingTank_L
ButtonImage             SNGatlingTank

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    PRIMARY   MuzzleFX
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponLaunchBone     SECONDARY Muzzle
HideSubObject        UPGRADE01
End

ConditionState         REALLYDAMAGED
Model                NVGattTank_D
End
AliasConditionState  RUBBLE

ConditionState  USING_WEAPON_B
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model                NVGattTank_D
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End



;-----pristine attacking----------------------
ConditionState         ATTACKING
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
End

ConditionState  ATTACKING USING_WEAPON_B
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW ATTACKING
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW ATTACKING USING_WEAPON_B
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN ATTACKING
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN ATTACKING USING_WEAPON_B
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST ATTACKING
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST ATTACKING USING_WEAPON_B
Model                NVGattTank
Animation            NVGattTank.NVGattTank
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

;-----damaged attacking----------------------
ConditionState  REALLYDAMAGED ATTACKING
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
End

ConditionState  REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTank_D
Animation            NVGattTank_D.NVGattTank_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName                OBJECT:GattlingTank
Side                       China
EditorSorting              SYSTEM
TransportSlotCount         3            ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions               None
Weapon                   PRIMARY   GattlingTankGun
PreferredAgainst         PRIMARY   AIRCRAFT
Weapon                   SECONDARY GattlingTankGunAir
End

WeaponSet
Conditions               PLAYER_UPGRADE
Weapon                   PRIMARY   GattlingTankGunUpgraded
PreferredAgainst         PRIMARY   AIRCRAFT
Weapon                   SECONDARY GattlingTankGunAirUpgraded
End

ArmorSet
Conditions     None
Armor          AntiAirVehicle
DamageFX       TankDamageFX
End

BuildCost        700
BuildTime        7.0          ;in seconds
VisionRange      250
ShroudClearingRange  275

Prerequisites
Object         ChinaWarFactory
End

ExperienceValue     50 50 100 150   ;Experience point value at each level
ExperienceRequired  0 80 200 300    ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       ChinaVehicleGattlingTankCommandSet


; *** AUDIO Parameters ***
VoiceSelect      GattlingTankVoiceSelect
VoiceMove        GattlingTankVoiceMove
VoiceGuard       GattlingTankVoiceMove
VoiceAttack      GattlingTankVoiceAttack
VoiceAttackAir   GattlingTankVoiceAttack
SoundMoveStart   GattlingTankMoveStart
SoundMoveStartDamaged  GattlingTankMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      GattlingTankVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop   TurretMoveLoopLoud
VoiceCrush       GattlingTankVoiceCrush
VoiceEnter       GattlingTankVoiceMove
VoiceRapidFire   GattlingTankVoiceRapid
End

; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body               ActiveBody ModuleTag_02
MaxHealth        330.0
InitialHealth    330.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   30 ; this keeps it aimed half way between land and sky
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End

Locomotor        SET_NORMAL GattlingTankLocomotor
Behavior           PhysicsBehavior ModuleTag_04
Mass             40.0
End

; Just explode death
Behavior  SlowDeathBehavior ModuleTag_05
ProbabilityModifier  19
DestructionDelay  200
DestructionDelayVariance  100

SinkRate  0.5     ; in Dist/Sec

OCL  FINAL    OCL_ChinaTankGattlingDebris
FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  CreateCrateDie ModuleTag_06
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  TransitionDamageFX ModuleTag_07
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  HordeUpdate ModuleTag_08
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  WeaponSetUpgrade ModuleTag_09
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponBonusUpgrade ModuleTag_22
TriggeredBy  Upgrade_ChinaChainGuns
End

Behavior  SubObjectsUpgrade ModuleTag_19
TriggeredBy     Upgrade_ChinaChainGuns
ShowSubObjects  UPGRADE01
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankGattling_Var2 ChinaTankGattling_Var1

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    PRIMARY   MuzzleFX
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponLaunchBone     SECONDARY Muzzle
HideSubObject        UPGRADE01
End

ConditionState         REALLYDAMAGED
Model                NVGattTnk2_D
End
AliasConditionState  RUBBLE

ConditionState  USING_WEAPON_B
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model                NVGattTnk2_D
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End



;-----pristine attacking----------------------
ConditionState         ATTACKING
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
End

ConditionState  ATTACKING USING_WEAPON_B
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW ATTACKING
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW ATTACKING USING_WEAPON_B
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN ATTACKING
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN ATTACKING USING_WEAPON_B
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST ATTACKING
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST ATTACKING USING_WEAPON_B
Model                NVGattTnk2
Animation            NVGattTnk2.NVGattTnk2
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

;-----damaged attacking----------------------
ConditionState  REALLYDAMAGED ATTACKING
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
End

ConditionState  REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk2_D
Animation            NVGattTnk2_D.NVGattTnk2_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankGattling_Var3 ChinaTankGattling_Var1

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    PRIMARY   MuzzleFX
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponLaunchBone     SECONDARY Muzzle
HideSubObject        UPGRADE01
End

ConditionState         REALLYDAMAGED
Model                NVGattTnk3_D
End
AliasConditionState  RUBBLE

ConditionState  USING_WEAPON_B
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model                NVGattTnk3_D
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End


;-----pristine attacking----------------------
ConditionState         ATTACKING
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
End

ConditionState  ATTACKING USING_WEAPON_B
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW ATTACKING
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW ATTACKING USING_WEAPON_B
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN ATTACKING
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN ATTACKING USING_WEAPON_B
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST ATTACKING
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST ATTACKING USING_WEAPON_B
Model                NVGattTnk3
Animation            NVGattTnk3.NVGattTnk3
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

;-----damaged attacking----------------------
ConditionState  REALLYDAMAGED ATTACKING
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
End

ConditionState  REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk3_D
Animation            NVGattTnk3_D.NVGattTnk3_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw                       W3DModelDraw ModuleTag_Radar01

DefaultConditionState
Model                NVGattTnk3_R
Animation            NVGattTnk3_R.NVGattTnk3_R
AnimationMode        LOOP
Turret               TURRET01
End

ConditionState         REALLYDAMAGED RUBBLE
Model                NVGattTnk3_DR
Animation            NVGattTnk3_DR.NVGattTnk3_DR
End

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankGattling_Var4 ChinaTankGattling_Var1

Draw                       W3DTankDraw ModuleTag_01
OkToChangeModelColor     Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        MANUAL
Turret               TURRET01
TurretPitch          TURRETEL01
WeaponMuzzleFlash    PRIMARY   MuzzleFX
WeaponFireFXBone     PRIMARY   Muzzle
WeaponLaunchBone     PRIMARY   Muzzle
WeaponLaunchBone     SECONDARY Muzzle
HideSubObject        UPGRADE01
End

ConditionState         REALLYDAMAGED
Model                NVGattTnk4_D
End
AliasConditionState  RUBBLE

ConditionState  USING_WEAPON_B
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model                NVGattTnk4_D
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End



;-----pristine attacking----------------------
ConditionState         ATTACKING
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
End

ConditionState  ATTACKING USING_WEAPON_B
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW ATTACKING
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW ATTACKING USING_WEAPON_B
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN ATTACKING
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN ATTACKING USING_WEAPON_B
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST ATTACKING
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST ATTACKING USING_WEAPON_B
Model                NVGattTnk4
Animation            NVGattTnk4.NVGattTnk4
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

;-----damaged attacking----------------------
ConditionState  REALLYDAMAGED ATTACKING
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
End

ConditionState  REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.5 0.5 ;set this state to animate  extemely sloowly
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
End

ConditionState  CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
AnimationSpeedFactorRange  0.8 0.8 ;set this state to animate  s l o w l y
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
End

ConditionState  CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
AnimationSpeedFactorRange  1.5 1.5 ;set this state to animate  medium-fast
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

ConditionState         CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
End

ConditionState  CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING USING_WEAPON_B
Model                NVGattTnk4_D
Animation            NVGattTnk4_D.NVGattTnk4_D
AnimationMode        LOOP
ParticleSysBone      Muzzle01 GattlingMuzzleSmoke
AnimationSpeedFactorRange  3.0 3.0 ;set this state to animate  vryfst
WeaponMuzzleFlash    SECONDARY MuzzleFX
WeaponFireFXBone     SECONDARY Muzzle
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaVehicleFrog

; *** ART Parameters ***
SelectPortrait           SNFrog
ButtonImage              SNFrog

Draw W3DTruckDraw ModuleTag_01
OkToChangeModelColor Yes

DefaultConditionState
Model NVSpEye
Turret Turret01
TurretPitch  Turretel01
WeaponFireFXBone PRIMARY WeaponA
WeaponLaunchBone PRIMARY WeaponA
HideSubObject Object01
End

ConditionState REALLYDAMAGED
Model NVSpEye_D
Turret Turret01
TurretPitch Turretel01
WeaponFireFXBone PRIMARY WeaponA
WeaponLaunchBone PRIMARY WeaponA
HideSubObject Object01
End

ConditionState WEAPONSET_PLAYER_UPGRADE
Model NVSpEye
Turret Turret01
TurretPitch  Turretel01
WeaponFireFXBone PRIMARY WeaponA
WeaponLaunchBone PRIMARY WeaponA
ShowSubObject Object01
End

ConditionState REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model NVSpEye_D
Turret Turret01
TurretPitch Turretel01
WeaponFireFXBone PRIMARY WeaponA
WeaponLaunchBone PRIMARY WeaponA
ShowSubObject Object01
End

ConditionState RUBBLE
Model NVSpEye_E
Turret Turret01
TurretPitch Turretel01
End

TrackMarks EXTireTrack.tga

Dust RocketBuggyDust
DirtSpray RocketBuggyDirtSpray
; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension = Yes.

LeftRearTireBone WHEEL02
RightRearTireBone WHEEL04
MidLeftRearTireBone WHEEL01
MidRightRearTireBone WHEEL03

TireRotationMultiplier 0.2   ; this * speed = rotation.
;PowerslideRotationAddition 0.0   ; This speed is added to the rotation speed when powersliding.

End

; ***DESIGN parameters ***
DisplayName        OBJECT:Frog
Side   China
EditorSorting     VEHICLE
TransportSlotCount 3

ArmorSet
Conditions        None
Armor             RecondDroneArmor
DamageFX          TankDamageFX
End

BuildCost         250
BuildTime         5.0          ;in seconds
VisionRange       200           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
ShroudClearingRange   200

ExperienceValue 50 50 50 50
IsTrainable No

CrusherLevel 0  ;What can I crush?: 1   infantry, 2   trees, 3   vehicles
CrushableLevel 2  ;What am I?:        0   for infantry, 1   for trees, 2   general vehicles
CommandSet   ChinaFrogScautCommandSet

; *** AUDIO Parameters ***
VoiceSelect             BullfrogVoiceSelect
VoiceMove               BullfrogVoiceMove
VoiceGuard              BullfrogVoiceMove
VoiceAttack             BullfrogVoiceAttack
SoundMoveStart          HumveeMoveStart
SoundMoveStartDamaged   HumveeMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode   SomeNameSomewhereInLookupINIs
VoiceCreate   BullfrogVoiceCreate
VoiceEnter    BullfrogVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority   UNIT
KindOf   PRELOAD SELECTABLE CAN_CAST_REFLECTIONS CANNOT_RETALIATE VEHICLE SCORE IGNORES_SELECT_ALL

Body   ActiveBody ModuleTag_02
MaxHealth         150.0
InitialHealth     150.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap   300
SubdualDamageHealRate   500
SubdualDamageHealAmount   50
End

Behavior   AIUpdateInterface ModuleTag_042351
AutoAcquireEnemiesWhenIdle   No
End
Locomotor   SET_NORMAL ChinaFrogLocomotor

Behavior   PhysicsBehavior ModuleTag_05
Mass   30.0
End

Behavior   SlowDeathBehavior ModuleTag_07
DeathTypes   ALL -CRUSHED -SPLATTED
DestructionDelay   1
FX    FINAL    FX_SupplyTruckExplosionOneFinal
OCL   FINAL    OCL_FinalFrogDebris
End

Behavior                   TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1   Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior   DestroyDie ModuleTag_09
DeathTypes   NONE +CRUSHED +SPLATTED
End

Behavior   FXListDie ModuleTag_10
DeathTypes   NONE +CRUSHED +SPLATTED
DeathFX   FX_CarCrush
End

Behavior   CommandSetUpgrade ModuleTag_14
CommandSet   ChinaFrogScautScanCommandSet
TriggeredBy  Upgrade_ChinaRadar
End

Behavior   OCLSpecialPower ModuleTag_Scan01
SpecialPowerTemplate  SpecialAbilityListeningOutpostScan
OCL  OCL_ListeningOutpostAreaScan
CreateLocation  USE_OWNER_OBJECT
End

Behavior   ProductionUpdate ModuleTag_Horn01
End

Behavior   WeaponSetUpgrade ModuleTag_09A
TriggeredBy   Upgrade_ChinaRadar
End

Behavior   ObjectCreationUpgrade ModuleTag_WeaponSetUpgrade01
UpgradeObject   OCL_FrogRadarModule
TriggeredBy     Upgrade_GLARadarVanScan
End

; A crushing defeat
Behavior   FXListDie ModuleTag_11
DeathTypes   NONE +CRUSHED +SPLATTED
DeathFX   FX_CarCrush
End

Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior   EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes   ALL -CRUSHED -SPLATTED
RequiredStatus   HIJACKED
VeterancyLevels    ALL
GroundCreationList   OCL_HijackerEmerge
AirCreationList   OCL_HijackerEmergeViaParachute
End

Behavior   FXListDie ModuleTag_HijackerEmerge02
RequiredStatus   HIJACKED
DeathTypes   ALL -CRUSHED -SPLATTED
DeathFX   FX_HijackerEmerge
End

Geometry   BOX
GeometryMajorRadius   17.5
GeometryMinorRadius   9.0
GeometryHeight   13.0
GeometryIsSmall   No
Shadow   SHADOW_VOLUME
ShadowSizeX   45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------
Object ChinaFrogRadarModule

Draw = W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer = FIREPOINT01
DefaultConditionState
Model               = NONE
End
End

EditorSorting = SYSTEM
TransportSlotCount = 1

ArmorSet
Conditions      = None
Armor           = InvulnerableArmorAll
DamageFX        = None
End


; *** ENGINEERING Parameters ***
KindOf = PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body = ActiveBody ModuleTag_02
MaxHealth       = 10.0
InitialHealth   = 10.0
End

Behavior = StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate             = 100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange            = 130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned  = No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf       = MINE
ExtraForbiddenKindOf      = UNATTACKABLE
End

Behavior = StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate             = 100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange            = 130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned  = No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf       = DEMOTRAP
ExtraForbiddenKindOf      = UNATTACKABLE
End

Behavior             = DestroyDie ModuleTag_05
End

Geometry            = BOX
GeometryMajorRadius = 500.0
GeometryMinorRadius = 500.0
GeometryHeight      = 20.0
GeometryIsSmall     = Yes

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaTankDragon

; *** ART Parameters ***
SelectPortrait          SNDragonTank_L
ButtonImage             SNDragonTank

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  None
Model  NVDragon
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone     Cylinder12 FlameTowerBurnerFire
ParticleSysBone     Cylinder12 SmokeFactionEvenSmall
End
AliasConditionState  RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  NVDragon_D
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone     Cylinder12 FlameTowerBurnerFire
ParticleSysBone     Cylinder12 SmokeFactionEvenSmall
End
AliasConditionState  RIDER1 RUBBLE

;;;;;Black napalm

ConditionState  RIDER1 WEAPONSET_PLAYER_UPGRADE
Model  NVDragon
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone     Cylinder12 FlameTowerBurnerFireUpgraded
ParticleSysBone     Cylinder12 SmokeFactionEvenSmall
End
ConditionState  RIDER1 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVDragon_D
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone     Cylinder12 FlameTowerBurnerFireUpgraded
ParticleSysBone     Cylinder12 SmokeFactionEvenSmall
End
AliasConditionState  RIDER1 WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;;;Fireball Turret

ConditionState  RIDER2
Model  NVDragon
HideSubObject  Turret
End

ConditionState  RIDER2 REALLYDAMAGED
Model  NVDragon_D
HideSubObject  Turret
End
AliasConditionState  RIDER2 RUBBLE

;;;;;Black napalm

ConditionState  RIDER2 WEAPONSET_PLAYER_UPGRADE
Model  NVDragon
HideSubObject  Turret
End
ConditionState  RIDER2 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVDragon_D
HideSubObject  Turret
End
AliasConditionState  RIDER2 WEAPONSET_PLAYER_UPGRADE RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_FireballTurret01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  None
Model  NVDeva_U2
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 REALLYDAMAGED
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER1 WEAPONSET_PLAYER_UPGRADE
AliasConditionState  RIDER1 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
AliasConditionState  RIDER1 WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;;;Fireball Turret

ConditionState  RIDER2
Model  NVDragon_T
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY WeaponB
ParticleSysBone  Flame01 FlameTowerBurnerFire
ParticleSysBone  Flame01 SmokeFactionEvenSmall
End

ConditionState  RIDER2 REALLYDAMAGED
Model  NVDragon_TD
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY WeaponB
ParticleSysBone  Flame01 FlameTowerBurnerFire
ParticleSysBone  Flame01 SmokeFactionEvenSmall
End
AliasConditionState  RIDER2 RUBBLE

;;;;;Black napalm

ConditionState  RIDER2 WEAPONSET_PLAYER_UPGRADE
Model  NVDragon_T
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY WeaponB
ParticleSysBone  Flame01 FlameTowerBurnerFireUpgraded
ParticleSysBone  Flame01 SmokeFactionEvenSmall
End
ConditionState  RIDER2 WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  NVDragon_TD
Turret  Turret
TurretPitch  TURRETEL
WeaponFireFXBone  PRIMARY WeaponB
WeaponLaunchBone  PRIMARY WeaponB
WeaponFireFXBone  SECONDARY WeaponB
WeaponLaunchBone  SECONDARY WeaponB
ParticleSysBone  Flame01 FlameTowerBurnerFireUpgraded
ParticleSysBone  Flame01 SmokeFactionEvenSmall
End
AliasConditionState  RIDER2 WEAPONSET_PLAYER_UPGRADE RUBBLE

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Dragon
Side  China
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY DragonTankFlameWeapon
Weapon  SECONDARY DragonTankFireWallWeapon
AutoChooseSources  SECONDARY NONE
End
WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE
Weapon  PRIMARY DragonTankFlameWeaponUpgraded
Weapon  SECONDARY DragonTankFireWallWeaponUpgraded
AutoChooseSources  SECONDARY NONE
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY DragonTankFireBallWeapon
Weapon  SECONDARY DragonTankFireBallWeapon
AutoChooseSources  SECONDARY NONE
End
WeaponSet
Conditions  WEAPON_RIDER2 PLAYER_UPGRADE
Weapon  PRIMARY DragonTankFireBallUpgradedWeapon
Weapon  SECONDARY DragonTankFireBallUpgradedWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            DragonTankArmor
DamageFX         TankDamageFX
End
BuildCost        800
BuildTime        8.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  ChinaWarFactory
Object  ChinaPropagandaCenter
End

ExperienceValue  50 50 100 150    ;Experience point value at each level
ExperienceRequired  0 100 150 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet     ChinaTankDragonCommandSet

; *** AUDIO Parameters ***
VoiceSelect  DragonTankVoiceSelect
VoiceMove  DragonTankVoiceMove
VoiceGuard  DragonTankVoiceMove
VoiceAttack  DragonTankVoiceAttack
SoundMoveStart  DragonTankMoveStart
SoundMoveStartDamaged  DragonTankMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      DragonTankVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
VoiceEnter  DragonTankVoiceMove
VoiceFlameLocation  DragonTankVoiceFireStorm
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  120
TurretPitchRate  120
AllowsPitch  Yes
MinPhysicalPitch  -15
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
TurretFireAngleSweep  PRIMARY 15
TurretFireAngleSweep  SECONDARY 60
TurretSweepSpeedModifier  PRIMARY 0.6    ; Sweep slower than you turn (aim for 30 for art)
TurretSweepSpeedModifier  SECONDARY 2.0  ; Sweep faster than you turn
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
MoodAttackCheckRate         33
End
Locomotor  SET_NORMAL DragonLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 ChinaTankDragonCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 ChinaTankDragonFireballCommandSet SET_NORMAL

;;;;Canister Round Upgrade
Rider3  GenericFakeRider3_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER3 ChinaTankDragonCommandSetUpgraded SET_NORMAL
Rider4  GenericFakeRider4_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER4 ChinaTankDragonFireballCommandSetUpgraded SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;This module is only required to make the weapons switch button initially disabled
Behavior  ObjectCreationUpgrade ModuleTag_Transform04
UpgradeObject    OCL_DragontankFireballMode
TriggeredBy      Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith    Upgrade_GLAWorkerRealCommandSet
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    GrenadierSwitchToHighExplosiveRounds
RequiredStatus   STATUS_RIDER2 STATUS_RIDER6
ForbiddenStatus  STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_DragontankFlamethrowerMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
FXListUpgrade    FX_RocketBuggySwitchWeapons
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    STATUS_RIDER6
StatusToClear  STATUS_RIDER7
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform08
CollideWeapon    GrenadierSwitchToHighAirburstRounds
RequiredStatus   STATUS_RIDER1 STATUS_RIDER7
ForbiddenStatus  STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_DragontankFireballMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
FXListUpgrade    FX_RocketBuggySwitchWeapons
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    STATUS_RIDER7
StatusToClear  STATUS_RIDER6
End

;Black Napalm Upgrade Triggers
Behavior  StatusBitsUpgrade ModuleTag_Transform11
TriggeredBy    Upgrade_ChinaBlackNapalm
StatusToSet    STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform12
TriggeredBy    Upgrade_ChinaBlackNapalm
UpgradeObject  OCL_GenericCollisionObjectDummy
End

;Black Napalm Primary Unit Mode Triggers
Behavior  FireWeaponCollide ModuleTag_Transform13 ;This module switches out our rider if we are currently in submachinegun mode
CollideWeapon    GrenadierSwitchToHighExplosiveWithCanisterRounds
RequiredStatus   STATUS_RIDER1 STATUS_RIDER8
End

Behavior  FireWeaponCollide ModuleTag_Transform14 ;This module replaced the standard rider replacement code
CollideWeapon    GrenadierSwitchToHighExplosiveWithCanisterRounds
RequiredStatus   STATUS_RIDER4 STATUS_RIDER6 STATUS_RIDER8
End

;Black Napalm Secondary Unit Mode Triggers
Behavior  FireWeaponCollide  ModuleTag_Transform15 ;This module switches out our rider if we are currently in mortar mode
CollideWeapon    GrenadierSwitchToHighAirburstWithCanisterRounds
RequiredStatus   STATUS_RIDER2 STATUS_RIDER8
End

Behavior  FireWeaponCollide  ModuleTag_Transform16 ;This module replaced the standard rider replacement code
CollideWeapon    GrenadierSwitchToHighAirburstWithCanisterRounds
RequiredStatus   STATUS_RIDER3 STATUS_RIDER7 STATUS_RIDER8
End

;***********************************
;******Transformation Code End******
;***********************************

Behavior  WeaponSetUpgrade ModuleTag_05
TriggeredBy  Upgrade_ChinaBlackNapalm
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED +EXTRA_7
End
Behavior  FXListDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED -EXTRA_7
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED -EXTRA_7
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_09
CrateData  SalvageCrateDataChinaTier1
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

; just explode death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED -EXTRA_7
ProbabilityModifier  25
DestructionDelay  500
DestructionDelayVariance  500
FX   INITIAL  FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_10232
DeathTypes  ALL -CRUSHED -SPLATTED -EXTRA_7
ProbabilityModifier  25
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

; Napalm spills out, and explode death
Behavior  SlowDeathBehavior ModuleTag_102323
DeathTypes  ALL -CRUSHED -SPLATTED -EXTRA_7
ProbabilityModifier  25
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_DragonNapalmSpill
OCL  FINAL    OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_102326
DeathTypes  ALL -CRUSHED -SPLATTED -EXTRA_7
ProbabilityModifier  25
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

;Deaths for pilot kill weapons
Behavior  CreateObjectDie ModuleTag_105235
DeathTypes  NONE +EXTRA_7
CreationList  OCL_DragonTankNerveGasKill
TransferPreviousHealth  Yes
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_13
;   ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedParticleSystem2  Bone:Smoke RandomBone:Yes Psys:DragonTransitionFire
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_DragonDamageTransition
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -EXTRA_7
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED -EXTRA_7
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  11.0   ; Height set to allow clear clipping of projectile stream
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankDragonUnmanned

; *** ART Parameters ***
SelectPortrait          SNDragonTank_L
ButtonImage             SNDragonTank

UpgradeCameo1  Upgrade_Nationalism
UpgradeCameo2  Upgrade_FireStormShells
UpgradeCameo3  Upgrade_ChinaBlackNapalm
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  None
Model  NVDragon
Turret  Turret
End

ConditionState  REALLYDAMAGED
Model  NVDragon_D
Turret  Turret
End
AliasConditionState  RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Dragon
Side                    China
EditorSorting           SYSTEM
TransportSlotCount      3


WeaponSet
Conditions            NONE
Weapon                PRIMARY   SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            DragonTankArmor
DamageFX         TankDamageFX
End

VisionRange             200
ShroudClearingRange  200


IsTrainable             No
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE

Body                    ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor             SET_NORMAL   FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

Behavior  DestroyDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  FXListDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_09
CrateData  SalvageCrateDataChinaTier1
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

; just explode death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  500
DestructionDelayVariance  500
FX   INITIAL  FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_10232
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

; Napalm spills out, and explode death
Behavior  SlowDeathBehavior ModuleTag_102323
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_DragonNapalmSpill
OCL  FINAL    OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_102326
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_DragonDebris
FX   FINAL    FX_DragonTankDeathExplosionFinal
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior        OCLUpdate ModuleTag_Respawn01 ; Context window is a reaction to this, no CommandSet
MinDelay      100
MaxDelay      100
CreateAtEdge  Yes ; as opposed to just creating on self

FactionTriggered  Yes ; This requires a controlling player before it works

FactionOCL    Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  CreateObjectDie ModuleTag_Respawn02
DeathTypes  NONE +SUICIDED
CreationList  OCL_DragonTankGasKillRespawn
TransferPreviousHealth  Yes
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  11.0   ; Height set to allow clear clipping of projectile stream
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object ChinaTankBattleMaster

; *** ART Parameters ***
SelectPortrait          SNBattlemaster_L
ButtonImage             SNBattlemaster

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVBtMstr
End
End

Side  China
EditorSorting  VEHICLE
BuildCost        750
BuildTime        8.0          ;in seconds

Prerequisites
Object  ChinaWarFactory
End

BuildVariations  ChinaTankBattleMaster_Var1 ChinaTankBattleMaster_Var2 ChinaTankBattleMaster_Var3 ChinaTankBattleMaster_Var4 ChinaTankBattleMaster_Var5 ChinaTankBattleMaster_Var6

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranTank
End

Geometry  BOX
GeometryMajorRadius  13.0
GeometryMinorRadius  9.0
GeometryHeight  10
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object ChinaTankBattleMaster_Var1

; *** ART Parameters ***
SelectPortrait          SNBattlemaster_L
ButtonImage             SNBattlemaster

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model                NVBtMstr
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
ConditionState  REALLYDAMAGED
Model                NVBtMstr_D
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Upgrades01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NVBtmstr_U1
Turret               Turret01
HideSubObject        Upgrade01 Upgrade02
End

ConditionState  REALLYDAMAGED
Model                NVBtmstr_U1D
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVBtmstr_U1D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVBtmstr_U1D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVBtmstr_U1D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
End
AliasConditionState  USER_1 USER_2 RUBBLE

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName       OBJECT:BattleMaster
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY BattleMasterTankGun
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost        750
BuildTime        8.0         ;in seconds
VisionRange      250
ShroudClearingRange  275

Prerequisites
Object  ChinaWarFactory
End

ExperienceValue  80 80 150 300    ;Experience point value at each level
ExperienceRequired  0 200 300 600 ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet        ChinaVehicleBattleMasterCommandSet

; *** AUDIO Parameters ***
VoiceSelect  BattleMasterTankVoiceSelect
VoiceMove  BattleMasterTankVoiceMove
VoiceGuard  BattleMasterTankVoiceMove
VoiceAttack  BattleMasterTankVoiceAttack
SoundMoveStart  BattleMasterTankMoveStart
SoundMoveStartDamaged  BattleMasterTankMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           BattleMasterTankVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
VoiceCrush  BattleMasterTankVoiceCrush
VoiceEnter  BattleMasterTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        420.0
InitialHealth    420.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  90   ; turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL BattleMasterLocomotor
Locomotor  SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

Behavior  HordeUpdate ModuleTag_04
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  40.0
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    NuclearTankDeathWeapon
StartsActive   No                        ; turned on by upgrade
TriggeredBy    Upgrade_ChinaNuclearTanks
ConflictsWith  Upgrade_ChinaIsotopeStability
End
Behavior  LocomotorSetUpgrade ModuleTag_07
TriggeredBy  Upgrade_ChinaNuclearTanks
End

;This spawns a crate that only bombtrucks can pickup to gain a nuclear payload
Behavior  CreateCrateDie ModuleTag_NukeCrate01
RequiredStatus  STATUS_RIDER8
CrateData       NuclearTankCrateData
End

;This makes sure that we only drop nuclear upgrade parts after having been upgraded with nuclear engines
Behavior  StatusBitsUpgrade ModuleTag_NukeCrate02
TriggeredBy     Upgrade_ChinaNuclearTanks
StatusToSet     STATUS_RIDER8
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  CreateCrateDie ModuleTag_11
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End


Behavior  SlowDeathBehavior ModuleTag_12
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  200
DestructionDelayVariance  100
OCL  FINAL    OCL_ChinaTankBattleMasterDebris
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ModelConditionUpgrade ModuleTag_DepletedUraniumVissual01
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaUraniumShells
End

Behavior  ModelConditionUpgrade ModuleTag_NukeReactorVissual01
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaNuclearTanks
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired SCIENCE_VeteranTank
End

Geometry  BOX
GeometryMajorRadius  13.0
GeometryMinorRadius  9.0
GeometryHeight  10
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankBattleMaster_Var2 ChinaTankBattleMaster_Var1

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model                NVBmstV2
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVBmstV2_D
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVBmstV2
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVBmstV2_D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVBmstV2
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVBmstV2_D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVBmstV2
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVBmstV2_D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankBattleMaster_Var3 ChinaTankBattleMaster_Var1

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model                NVBmstV3
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVBmstV3_D
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVBmstV3
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVBmstV3_D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVBmstV3
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVBmstV3_D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVBmstV3
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVBmstV3_D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End

;------------------------------------------------------------------------------
ObjectReskin ChinaTankBattleMaster_Var4 ChinaTankBattleMaster_Var1

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model                NVBtMstr
HideSubObject        Turret01
End

ConditionState  REALLYDAMAGED
Model                NVBtMstr_D
HideSubObject        Turret01
End
AliasConditionState  RUBBLE


TrackMarks               EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw  W3DModelDraw ModuleTag_Turret01

OkToChangeModelColor  Yes

ConditionState  NONE
Model                NVBmstV4
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVBmstV4_D
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

End

Draw  W3DModelDraw ModuleTag_Upgrades01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NVBtmstr_U1
Turret               Turret01
HideSubObject        Upgrade01 Upgrade02
End

ConditionState  REALLYDAMAGED
Model                NVBtmstr_U1D
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVBtmstr_U1D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVBtmstr_U1D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVBtmstr_U1D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
End
AliasConditionState  USER_1 USER_2 RUBBLE

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End



;------------------------------------------------------------------------------
ObjectReskin ChinaTankBattleMaster_Var5 ChinaTankBattleMaster_Var1

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model                NVBmstV5
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVBmstV5_D
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVBmstV5
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVBmstV5_D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVBmstV5
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVBmstV5_D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVBmstV5
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVBmstV5_D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End



;------------------------------------------------------------------------------
ObjectReskin ChinaTankBattleMaster_Var6 ChinaTankBattleMaster_Var1

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model                NVBmstV6
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState  REALLYDAMAGED
Model                NVBmstV6_D
HideSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY Barrel
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  RUBBLE

;;;With Reactor
ConditionState         USER_1
Model                NVBmstV6
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 REALLYDAMAGED
Model                NVBmstV6_D
HideSubObject        Upgrade01
ShowSubObject        Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 RUBBLE

;;;With Shells
ConditionState         USER_2
Model                NVBmstV6
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_2 REALLYDAMAGED
Model                NVBmstV6_D
HideSubObject        Upgrade02
ShowSubObject        Upgrade01
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_2 RUBBLE

;;;With Shells and Reactor
ConditionState         USER_1 USER_2
Model                NVBmstV6
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End

ConditionState         USER_1 USER_2 REALLYDAMAGED
Model                NVBmstV6_D
HideSubObject        None
ShowSubObject        Upgrade01 Upgrade02
Turret               Turret01
WeaponFireFXBone     PRIMARY Muzzle
WeaponRecoilBone     PRIMARY BARREL
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponLaunchBone     PRIMARY Muzzle
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate  2.0;  amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaConquerorTank
; *** ART Parameters ***

SelectPortrait = SNConqueror
ButtonImage = SNConqueror

Draw = W3DTankDraw ModuleTag_01
OkToChangeModelColor = Yes
;---DEFAULT----------
DefaultConditionState
Model = NVConqueror
Turret = TURRET
WeaponFireFXBone = PRIMARY WEAPONA
WeaponRecoilBone = PRIMARY BARREL
WeaponLaunchBone = PRIMARY WEAPONA
WeaponFireFXBone = SECONDARY WEAPONB
WeaponMuzzleFlash = SECONDARY WEAPONBFX
WeaponLaunchBone = SECONDARY WEAPONB
WeaponRecoilBone = SECONDARY BARRELALT
HideSubObject = ERA01 ERA02 ERA03
ShowSubObject = TREADCOVERS
End
ConditionState = REALLYDAMAGED
Model = NVConqueror_D
End
AliasConditionState = RUBBLE
;----ERA---------
ConditionState = POWER_PLANT_UPGRADED
ShowSubObject = ERA01 ERA02 ERA03
HideSubObject = TREADCOVERS
End
ConditionState = POWER_PLANT_UPGRADED REALLYDAMAGED
Model = NVConqueror_D
ShowSubObject = ERA01 ERA02 ERA03
HideSubObject = TREADCOVERS
End
AliasConditionState = POWER_PLANT_UPGRADED RUBBLE
;-----------
TrackMarks = EXTnkTrack.tga
TreadAnimationRate = -3.0     ; amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3     ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6     ; fraction of locomotor speed below which we allow pivoting.
End
; ***DESIGN parameters ***
DisplayName = OBJECT:Conqueror
Side = China
EditorSorting = VEHICLE
TransportSlotCount 10
WeaponSet
Conditions = None
Weapon = PRIMARY ConquerorTankGun
Weapon = SECONDARY ConquerorMachineGun
End
WeaponSet
Conditions = PLAYER_UPGRADE
Weapon = PRIMARY ConquerorTankGun_Autoreload
Weapon = SECONDARY ConquerorMachineGun
End
ArmorSet
Conditions = None
Armor = TankArmor
DamageFX = TankDamageFX
End
BuildCost = 1500
BuildTime = 15.0     ; in seconds
VisionRange 225
ShroudClearingRange 250
Prerequisites
Object ChinaWarFactory
Object ChinaPropagandaCenter
Object ChinaBreederReactor
End
ExperienceValue = 125 125 250 500     ; Experience point value at each level
ExperienceRequired = 0 175 350 700     ; Experience points needed to gain each level
IsTrainable = Yes     ; Can gain experience
CrusherLevel = 2     ; What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel = 2     ; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet ChinaVehicleBattleMasterCommandSet
; *** AUDIO Parameters ***
VoiceSelect = T99TankVoiceSelect
VoiceMove = T99TankVoiceMove
VoiceGuard = T99TankVoiceMove
VoiceAttack = T99TankVoiceAttack
SoundMoveStart = ApoTankMoveStart ;BattleMasterTankMoveStart
SoundMoveStartDamaged = ApoTankMoveStart ;BattleMasterTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate = T99TankVoiceCreate
TurretMoveStart = NoSound
TurretMoveLoop = GenericTankTurretMoveLoop
VoiceCrush = T99TankVoiceAttack ;BattleMasterTankVoiceCrush
VoiceEnter = T99TankVoiceMove
End
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
Body = ActiveBody ModuleTag_02
MaxHealth = 700.0
InitialHealth = 700.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 1500
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End
;---- ERA ----------
;Behavior = PowerPlantUpgrade ModuleTag_ERA1
;TriggeredBy = Upgrade_Tank_ERA ;ERA----------
;End
;Behavior = PowerPlantUpdate ModuleTag_ERA2
;RodsExtendTime = 33
;End
; ------------
;Behavior = MaxHealthUpgrade ModuleTag_ERA3
;TriggeredBy = Upgrade_Tank_ERA
;AddMaxHealth = 140.0 ;+20% bei 700
;ChangeType = ADD_CURRENT_HEALTH_TOO     ; Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
;End

Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate 50     ; turn rate, in degrees per sec
ControlledWeaponSlots = PRIMARY SECONDARY
End
;AltTurret
; TurretTurnRate = 180     ; turn rate, in degrees per sec
; ControlledWeaponSlots = SECONDARY ;PRIMARY
;End
;TurretsLinked = Yes
AutoAcquireEnemiesWhenIdle = Yes
End
Locomotor = SET_NORMAL ConquerorLocomotor
Locomotor = SET_NORMAL_UPGRADED NuclearConquerorLocomotor

;Behavior = VeterancyGainCreate ModuleVet_01
;StartingLevel = VETERAN ;ELITE
;ScienceRequired = Tank_SCIENCE_Tree11 ;SCIENCE_BattlemasterTraining
;End

Behavior = HordeUpdate ModuleTag_04
RubOffRadius = 150     ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate = 1000     ; how often to recheck horde status (msec)
Radius = 75     ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf = VEHICLE     ; what KindOf's must match to count towards horde-ness
AlliesOnly = Yes     ; do we only count allies towards horde status?
ExactMatch = Yes     ; do we only count units of our exact same type towards horde status? (overrides kindof)
Count = 5     ; how many units must be within Radius to grant us horde-ness
Action = HORDE     ; when horde-ing, grant us the HORDE bonus
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 60.0
End

Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon = NuclearTankDeathWeapon
StartsActive = No     ; turned on by upgrade
TriggeredBy = Upgrade_ChinaNuclearTanks
End

;Behavior = PointDefenseLaserUpdate ModuleTag_MissileJam
;WeaponTemplate = T99_PointDefenseLaser
;PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
;ScanRate = 0
;ScanRange = 200.0
;PredictTargetVelocityFactor = 1.0
;End

Behavior = LocomotorSetUpgrade ModuleTag_07
TriggeredBy = Upgrade_ChinaNuclearTanks
End
;Behavior = WeaponSetUpgrade ModuleTag_17
;TriggeredBy = Tank_Upgrade_ChinaTankAutoLoader
;End

; A crushing defeat
Behavior = DestroyDie ModuleTag_08
DeathTypes = NONE +CRUSHED +SPLATTED
End
Behavior = FXListDie ModuleTag_09
DeathTypes = NONE +CRUSHED +SPLATTED
DeathFX = FX_CarCrush
End
Behavior = CreateObjectDie ModuleTag_10
DeathTypes = NONE +CRUSHED +SPLATTED
CreationList = OCL_CrusaderTank_CrushEffect
End
Behavior = CreateCrateDie ModuleTag_11
CrateData = SalvageCrateData
; CrateData = EliteTankCrateData
; CrateData = HeroicTankCrateData
End
Behavior = SlowDeathBehavior ModuleTag_12
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier = 25
DestructionDelay = 200
DestructionDelayVariance = 100
OCL = FINAL OCL_ChinaTankConquerorDebris
FX = FINAL FX_GenericTankDeathExplosion
End
Behavior = TransitionDamageFX ModuleTag_13
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End
Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3     ; taking this much damage...
AflameDamageDelay = 500     ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranTankSpecialists
End

Geometry = BOX
GeometryMajorRadius = 16.0
GeometryMinorRadius = 11.0
GeometryHeight = 10
GeometryIsSmall = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45     ; minimum elevation angle above horizon. Used to limit shadow length
End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object ChinaTankECM

; *** ART Parameters ***
SelectPortrait          SNbanshee_L
ButtonImage             SNbanshee

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  WEAPONA01

ConditionState   NONE
Model          NVEcmTnk
Animation      NVEcmTnk.NVEcmTnk
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  HouseColor03 ECMTankSonicRange
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState  POWER_PLANT_UPGRADED
Model          NVEcmTnk
Animation      NVEcmTnk.NVEcmTnk
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksMedium
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksLarge
AnimationSpeedFactorRange  4.0 4.0
End

ConditionState   REALLYDAMAGED
Model          NVEcmTnk_D
Animation      NVEcmTnk_D.NVEcmTnk_D
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  HouseColor03 ECMTankSonicRange
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState   REALLYDAMAGED POWER_PLANT_UPGRADED
Model          NVEcmTnk
Animation      NVEcmTnk.NVEcmTnk
AnimationMode  LOOP
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Spark01 SparksSmall
ParticleSysBone  Spark02 SparksMedium
ParticleSysBone  Spark03 SparksMedium
ParticleSysBone  Spark04 SparksLarge
AnimationSpeedFactorRange  4.0 4.0
End

ConditionState  RUBBLE
Model          NVEcmTnk_D
Animation      NVEcmTnk_D.NVEcmTnk_D
AnimationMode  MANUAL
Flags          MAINTAIN_FRAME_ACROSS_STATES
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       4.0  ; amount of tread texture to move per second
End

; ***DESIGN parameters ***
DisplayName                OBJECT:ECMTank
Side                       China
EditorSorting              VEHICLE
TransportSlotCount         3            ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions               None
Weapon                   PRIMARY   SupportVehicleDummyWeapon
End

ArmorSet
Conditions     None
Armor          TankArmor
DamageFX       ECMTankDamageFX
End
BuildCost        1000
BuildTime        10.0          ;in seconds
VisionRange      200
ShroudClearingRange  200

Prerequisites
Object         ChinaWarFactory
Object         ChinaPropagandaCenter
End

ExperienceValue    70 70 70 70    ;Experience point value at each level
IsTrainable        No             ;Can gain experience
CrusherLevel       2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel     2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

CommandSet  ChinaVehicleECMTankCommandSet

; *** AUDIO Parameters ***
VoiceSelect      FrequencyJammerVoiceSelect
VoiceMove        FrequencyJammerVoiceMove
VoiceGuard       FrequencyJammerVoiceMove
VoiceAttack      FrequencyJammerVoiceMove
SoundMoveStart   FrequencyJammerMoveStart
SoundMoveStartDamaged  FrequencyJammerMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      FrequencyJammerVoiceCreate
VoiceEnter       FrequencyJammerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority      UNIT
KindOf             PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE


Body               ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
End
Locomotor        SET_NORMAL GattlingTankLocomotor
Behavior           PhysicsBehavior ModuleTag_04
Mass             40.0
End


; Just explode death
Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay  1
SinkRate  0.5     ; in Dist/Sec
OCL  FINAL    OCL_ChinaTankECMDebris
FX   FINAL    FX_GattlingExplosionOneFinal
End

Behavior  CreateCrateDie ModuleTag_06
CrateData  SalvageCrateDataChinaTier1
End

Behavior  TransitionDamageFX ModuleTag_07
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_22 ; allows use of command button hunt script with this unit.
End

Behavior  FireWeaponUpdate ModuleTag_MissileJammer01
Weapon  ECMTankMissileJammer
End

Behavior  FireWeaponUpdate ModuleTag_MissileJammer02
Weapon  ECMTankMissileJammerDecalWeapon
End

;ECM Jammer Overchage modules

Behavior  OverchargeBehavior ModuleTag_JammerOvercharge01
HealthPercentToDrainPerSecond     10% ;% of max health to drain per second
NotAllowedWhenHealthBelowPercent  33% ;When currHealth below this, it turns off automatically
End

Behavior  ProductionUpdate ModuleTag_JammerOvercharge02
End

Behavior  PowerPlantUpdate ModuleTag_JammerOvercharge03
RodsExtendTime  1
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge04
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankExtendedMissileJammer
ReactionWeaponDamaged   ECMTankExtendedMissileJammer
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge05
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankCommunicationJammer
ReactionWeaponDamaged   ECMTankCommunicationJammer
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge06
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankVehicleJammer
ReactionWeaponDamaged   ECMTankVehicleJammer
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge07
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankMissileJammerDecalWeapon
ReactionWeaponDamaged   ECMTankMissileJammerDecalWeapon
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge08
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankOverChargeElectricShockSoundEffectWeapon
ReactionWeaponDamaged   ECMTankOverChargeElectricShockSoundEffectWeapon
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge09
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankOverChargeElectricVissualEffectWeaponOne
ReactionWeaponDamaged   ECMTankOverChargeElectricVissualEffectWeaponOne
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge10
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankOverChargeElectricVissualEffectWeaponTwo
ReactionWeaponDamaged   ECMTankOverChargeElectricVissualEffectWeaponTwo
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_JammerOvercharge11
StartsActive   Yes
DamageTypes    NONE +PENALTY
DamageAmount   1
ReactionWeaponPristine  ECMTankOverChargeElectricVissualEffectWeaponThree
ReactionWeaponDamaged   ECMTankOverChargeElectricVissualEffectWeaponThree
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Propaganda Spotlight
Behavior            OCLSpecialPower ModuleTag_PropagandaSpotlight01
SpecialPowerTemplate  SuperweaponPropagandaSpotlight
OCL                   SUPERWEAPON_ChinaPropagandaSpotlight_Light
UpgradeOCL            SCIENCE_Nationalism SUPERWEAPON_ChinaNationalismPropagandaSpotlight_Light
UpgradeOCL            SCIENCE_Patriotism  SUPERWEAPON_ChinaPatriotismPropagandaSpotlight_Light
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_Nationalism
GrantScience  SCIENCE_Nationalism
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight03
TriggeredBy   Upgrade_Fanaticism
GrantScience  SCIENCE_Patriotism
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry             BOX
GeometryMajorRadius  17.0
GeometryMinorRadius  12.0
GeometryHeight       18.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaVehicleDozer

; *** ART Parameters ***
SelectPortrait          SNDozer_L
ButtonImage             SNDozer

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      MANUAL
ParticleSysBone    EXHAUST01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              NVCONSTDOZ_A
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      LOOP
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_IDLE TRANS_CONSTRUCTING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
End

TransitionState   TRANS_MOVING TRANS_CONSTRUCTING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End



;;;;Realy Damaged
ConditionState  REALLYDAMAGED RUBBLE
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      MANUAL
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_IDLE_DAMAGED
End

ConditionState  PREATTACK_A REALLYDAMAGED RUBBLE
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING_DAMAGED
End

ConditionState       MOVING REALLYDAMAGED RUBBLE
Model              NVCONSTDOZ_AD
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_MOVING_DAMAGED
End

ConditionState       ACTIVELY_CONSTRUCTING REALLYDAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      LOOP
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING_DAMAGED
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_IDLE_DAMAGED TRANS_CONSTRUCTING_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
End

TransitionState   TRANS_MOVING_DAMAGED TRANS_CONSTRUCTING_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ.NVCONSTDOZ
AnimationMode      ONCE
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_IDLE_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_MOVING_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_GroundAndDirtParticles01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              NVCONSTDOZ_B
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall ;gush of dirt
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              NVCONSTDOZ_B
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      LOOP
ParticleSysBone    DIRTFX01 DozerDirtFall_Permanent ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall_Permanent ;gush of dirt
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_IDLE TRANS_CONSTRUCTING
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Dozer
Side                 China
EditorSorting        VEHICLE
TransportSlotCount   5                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ;in seconds
VisionRange          150
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  PRIMARY   None
End

WeaponSet
Conditions  MINE_CLEARING_DETAIL
Weapon  PRIMARY   DozerMineDisarmingWeapon
End

ArmorSet
Conditions         None
Armor              BikeLogicDozerArmor ;Special Explosion-Proof Armor
DamageFX           TankDamageFX
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           ChinaDozerCommandSet

; *** AUDIO Parameters ***
VoiceSelect          DozerChinaVoiceSelect
VoiceMove            DozerChinaVoiceMove
VoiceEnter           DozerChinaVoiceMove
VoiceTaskComplete    DozerChinaVoiceBuildComplete
VoiceAttack          DozerChinaVoiceCrush
SoundMoveStart         DozerChinaMoveStart
SoundMoveStartDamaged  DozerChinaMoveStart

UnitSpecificSounds
VoiceCreate         DozerChinaVoiceCreate
VoiceCrush          DozerChinaVoiceCrush
VoiceNoBuild        DozerChinaVoiceBuildNot
VoiceRepair         DozerChinaVoiceRepair
VoiceDisarm         DozerChinaVoiceClearMine
VoiceEnter          DozerChinaVoiceMove
VoiceBuildResponse  DozerChinaVoiceBuild
End



; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor                     SET_NORMAL ChinaVehicleDozerLocomotor

Behavior             PhysicsBehavior ModuleTag_04
Mass               75.0
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ChinaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  ProductionUpdate ModuleTag_CommandSetUpgrade01
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       ChinaDozerCommandSet ; AmericaDozerCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
StatusToClear        STATUS_RIDER2
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade04
CommandSet       ChinaDozerDefenceCommandSet ; AmericaDozerDefenceCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER2
StatusToClear        STATUS_RIDER1
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade06
TriggeredBy          Upgrade_CostReduction
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
End

;This module fires a weapon with a dummy collision object that ensures that we always have collision
Behavior  FireWeaponUpdate ModuleTag_CommandSetUpgrade07
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade08
CollideWeapon   EuropeExcavatorStandardBuildingDecalWeapon
RequiredStatus  STATUS_RIDER1
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade09
CollideWeapon   EuropeExcavatorDefenceBuildingDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Geometry             BOX
GeometryMajorRadius  17.0;new radius to align mine sweeping position
;GeometryMajorRadius  21.0;old radius
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      NO
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;  AI
;------------------------------------------------------------------------------
Object ChinaVehicleDozer_AI

; *** ART Parameters ***
SelectPortrait          SNDozer_L
ButtonImage             SNDozer

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      MANUAL
ParticleSysBone    EXHAUST01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              NVCONSTDOZ_A
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      LOOP
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_IDLE TRANS_CONSTRUCTING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
End

TransitionState   TRANS_MOVING TRANS_CONSTRUCTING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              NVCONSTDOZ_A
Animation          NVCONSTDOZ_A.NVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End



;;;;Realy Damaged
ConditionState  REALLYDAMAGED RUBBLE
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      MANUAL
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_IDLE_DAMAGED
End

ConditionState  PREATTACK_A REALLYDAMAGED RUBBLE
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING_DAMAGED
End

ConditionState       MOVING REALLYDAMAGED RUBBLE
Model              NVCONSTDOZ_AD
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_MOVING_DAMAGED
End

ConditionState       ACTIVELY_CONSTRUCTING REALLYDAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      LOOP
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING_DAMAGED
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_IDLE_DAMAGED TRANS_CONSTRUCTING_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
End

TransitionState   TRANS_MOVING_DAMAGED TRANS_CONSTRUCTING_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ.NVCONSTDOZ
AnimationMode      ONCE
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_IDLE_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_MOVING_DAMAGED
Model              NVCONSTDOZ_AD
Animation          NVCONSTDOZ_AD.NVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUST01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_GroundAndDirtParticles01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              NVCONSTDOZ_B
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall ;gush of dirt
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              NVCONSTDOZ_B
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      LOOP
ParticleSysBone    DIRTFX01 DozerDirtFall_Permanent ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall_Permanent ;gush of dirt
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_IDLE TRANS_CONSTRUCTING
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              NVCONSTDOZ_B
Animation          NVCONSTDOZ_B.NVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
ParticleSysBone    DIRTFX02 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Dozer
Side                 China
EditorSorting        VEHICLE
TransportSlotCount   5                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ;in seconds
VisionRange          150
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  PRIMARY   None
End

WeaponSet
Conditions  MINE_CLEARING_DETAIL
Weapon  PRIMARY   DozerMineDisarmingWeapon
End

ArmorSet
Conditions         None
Armor              BikeLogicDozerArmor ;Special Explosion-Proof Armor
DamageFX           TankDamageFX
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           ChinaDozerCommandSet_AI

; *** AUDIO Parameters ***
VoiceSelect          DozerChinaVoiceSelect
VoiceMove            DozerChinaVoiceMove
VoiceEnter           DozerChinaVoiceMove
VoiceTaskComplete    DozerChinaVoiceBuildComplete
VoiceAttack          DozerChinaVoiceCrush
SoundMoveStart         DozerChinaMoveStart
SoundMoveStartDamaged  DozerChinaMoveStart

UnitSpecificSounds
VoiceCreate         DozerChinaVoiceCreate
VoiceCrush          DozerChinaVoiceCrush
VoiceNoBuild        DozerChinaVoiceBuildNot
VoiceRepair         DozerChinaVoiceRepair
VoiceDisarm         DozerChinaVoiceClearMine
VoiceEnter          DozerChinaVoiceMove
VoiceBuildResponse  DozerChinaVoiceBuild
End



; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor                     SET_NORMAL ChinaVehicleDozerLocomotor

Behavior             PhysicsBehavior ModuleTag_04
Mass               75.0
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_ChinaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_22
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  17.0;new radius to align mine sweeping position
;GeometryMajorRadius  21.0;old radius
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      NO
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;**************************** Cinematic-Only unit ****************************
Object CINE_ChinaInfantryParadeRedGuard

; Unit added per John Lee's request. - GB

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; ------- Standing-Around Animations

DefaultConditionState
Model                NICNSC_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 35
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
TransitionKey        TRANS_Stand
End

ConditionState  REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
End

; ------- Machine Gun Animations

ConditionState  FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      LOOP
TransitionKey      TRANS_Firing
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A

ConditionState  FIRING_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      LOOP
TransitionKey      TRANS_FiringDamaged
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED


; ------- Firing-related Transitions

TransitionState  TRANS_Firing TRANS_FiringDamaged
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE
End

TransitionState  TRANS_Stand TRANS_Firing
Animation        NICNSC_SKL.NICNSC_SA2AA
AnimationMode    ONCE
AnimationSpeedFactorRange  40 40
End

TransitionState  TRANS_Firing TRANS_Stand
Animation        NICNSC_SKL.NICNSC_AA2SA
AnimationMode    ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState  TRANS_Stand TRANS_FiringDamaged
Animation        NICNSC_SKL.NICNSC_ATCST
AnimationMode    ONCE
AnimationSpeedFactorRange  40 40
End

TransitionState  TRANS_FiringDamaged TRANS_Stand
Animation        NICNSC_SKL.NICNSC_ATCED
AnimationMode    ONCE

End

; ------- Bayonet Animations

ConditionState  PREATTACK_C
Animation  NICNSC_SKL.NICNSC_ATB1
AnimationMode    ONCE
TransitionKey    TRANS_Stab
End
AliasConditionState  PREATTACK_C MOVING
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C

ConditionState  FIRING_C
Animation          NICNSC_SKL.NICNSC_ATB2
AnimationMode      ONCE
; this is basically a trick: this guy has a nontrivial animation for firing,
; and a long recycle time between shots. we want him to finish his fire animation
; (unless he's ordered to do something else), so this is just a handy trick that
; says, "if the previous state had this transition key, allow it to finish before
; switching to us, if possible".
WaitForStateToFinishIfPossible  TRANS_Stab
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C

; ------- Parachuting Animations

ConditionState  FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState  TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState  MOVING
Animation          NICNSC_SKL.NICNSC_MAR 12
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B
AliasConditionState  MOVING FIRING_C
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_C
AliasConditionState  MOVING RELOADING_C

ConditionState  MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED
AliasConditionState  MOVING FIRING_C REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
AliasConditionState  MOVING RELOADING_C REALLYDAMAGED

; ------- Bldg-capture

ConditionState  UNPACKING
Animation          NICNSC_SKL.NICNSC_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED

ConditionState  RAISING_FLAG
Animation          NICNSC_SKL.NICNSC_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState  PACKING
Animation          NICNSC_SKL.NICNSC_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState  TRANS_Raising TRANS_Packing
Animation        NICNSC_SKL.NICNSC_FDP2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

; ------- Misc Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

ConditionState  SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Redguard
Side                 China
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY RedguardMachineGun
Weapon  SECONDARY None
Weapon  TERTIARY RedguardBayonet
AutoChooseSources  TERTIARY None
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  100
ShroudClearingRange  200
Prerequisites
Object  ChinaBarracks
End
BuildCost      225
BuildTime      10.0          ;in seconds

ExperienceValue  5 5 10 20   ;Experience point value at each level
ExperienceRequired  0 20 40 80  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     ChinaInfantryRedguardCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RedGuardVoiceSelect
VoiceMove  RedGuardVoiceMove
VoiceAttack  RedGuardVoiceAttack
VoiceGroupSelect  BattleCrySound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        90.0
InitialHealth    90.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL CINE_ParadeRedguardLocomotor

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior  SquishCollide ModuleTag_09
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_15
SpecialPowerTemplate  SpecialAbilityRedGuardCaptureBuilding
UpdateModuleStartsAttack  Yes
InitiateSound          RedGuardVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_16
SpecialPowerTemplate  SpecialAbilityRedGuardCaptureBuilding
StartAbilityRange  5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        10000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
;************************ Cinematic-only unit *********************************
Object CINE_ChinaAmbassador

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NIAMBSDR_SKN
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_IDA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End

ConditionState  MOVING
Animation  NIAMBSDR_SKL.NIAMBSDR_RNA ;***was using WKA but it doesn't exist so I changed it to kill the assert -- Kris
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  MOVING PANICKING
Animation  NIAMBSDR_SKL.NIAMBSDR_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  DYING
Animation  NIAMBSDR_SKL.NIAMBSDR_DTA
Animation  NIAMBSDR_SKL.NIAMBSDR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

;TransitionState  TRANS_Dying TRANS_Flailing
;  Animation  NIAMBSDR_SKL.NIAMBSDR_ADTD1
;  AnimationMode  ONCE
;End

;ConditionState  DYING EXPLODED_FLAILING
;  Animation  NIAMBSDR_SKL.NIAMBSDR_ADTD2
;  AnimationMode  LOOP
;  TransitionKey  TRANS_Flailing
;End

;ConditionState  DYING EXPLODED_BOUNCING
;  Animation  NIAMBSDR_SKL.NIAMBSDR_ADTD3
;  AnimationMode  ONCE
;  TransitionKey  None
;End
End

; ***DESIGN parameters ***
Buildable            No
DisplayName          OBJECT:Ambassador
Side                 China
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
; no weapons
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150

ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL CINE_BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  3000
SinkRate  0.5     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SquishCollide ModuleTag_06
;nothing
End

Behavior  FXListDie ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_RedGuardDie
End
Behavior  FXListDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_GIDieCrushed
End

Behavior  PoisonedBehavior ModuleTag_09
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14
ShadowSizeY  14
ShadowTexture  ShadowI
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_ChinaBunker

; *** ART Parameters ***
SelectPortrait          SNBunker_L
ButtonImage             SNBunker
Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


;day
ConditionState        NONE
Model               NBBunker
HideSubObject       SANDBAGS
End
AliasConditionState   NIGHT

ConditionState        DAMAGED
Model               NBBunker_D
HideSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT

ConditionState        REALLYDAMAGED RUBBLE
Model               NBBunker_E
HideSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT


ConditionState        GARRISONED
Model               NBBunker
ShowSubObject       SANDBAGS
End
AliasConditionState   NIGHT GARRISONED

ConditionState        DAMAGED GARRISONED
Model               NBBunker_D
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT GARRISONED

ConditionState        REALLYDAMAGED RUBBLE GARRISONED
Model               NBBunker_E
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT GARRISONED



ConditionState        SNOW
Model               NBBunker_S
HideSubObject       SANDBAGS
End
AliasConditionState   NIGHT SNOW

ConditionState        DAMAGED SNOW
Model               NBBunker_SD
HideSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT SNOW

ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBBunker_SE
HideSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW


ConditionState        SNOW GARRISONED
Model               NBBunker_S
ShowSubObject       SANDBAGS
End
AliasConditionState   NIGHT SNOW GARRISONED

ConditionState        DAMAGED SNOW GARRISONED
Model               NBBunker_SD
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT SNOW GARRISONED

ConditionState        REALLYDAMAGED RUBBLE SNOW GARRISONED
Model               NBBunker_SE
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBBunker
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBBunker_D
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBBunker_E
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBBunker_S
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBBunker_SD
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBBunker_SE
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD GARRISONED
AliasConditionState   SOLD DAMAGED GARRISONED
AliasConditionState   SOLD REALLYDAMAGED GARRISONED
AliasConditionState   SOLD NIGHT GARRISONED
AliasConditionState   SOLD NIGHT DAMAGED GARRISONED
AliasConditionState   SOLD NIGHT REALLYDAMAGED GARRISONED
AliasConditionState   SOLD SNOW GARRISONED
AliasConditionState   SOLD SNOW DAMAGED GARRISONED
AliasConditionState   SOLD SNOW REALLYDAMAGED GARRISONED
AliasConditionState   SOLD NIGHT SNOW GARRISONED
AliasConditionState   SOLD NIGHT SNOW DAMAGED GARRISONED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED GARRISONED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5
Animation        NBBunker_A5.NBBunker_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5N
Animation        NBBunker_A5N.NBBunker_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5S
Animation        NBBunker_A5S.NBBunker_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5SN
Animation        NBBunker_A5SN.NBBunker_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBunker_AB
Animation        NBBunker_AB.NBBunker_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBunker_ABN
Animation        NBBunker_ABN.NBBunker_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBunker_ABS
Animation        NBBunker_ABS.NBBunker_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBunker_ABSN
Animation        NBBunker_ABSN.NBBunker_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBBunker_AB
Animation        NBBunker_AB.NBBunker_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBBunker_ABN
Animation        NBBunker_ABN.NBBunker_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBBunker_ABS
Animation        NBBunker_ABS.NBBunker_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBBunker_ABSN
Animation        NBBunker_ABSN.NBBunker_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_FirePointBones
OkToChangeModelColor  Yes
DefaultConditionState
Model  NBBnkrFBns
End
End

PlacementViewAngle      -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Bunker
Side  China
EditorSorting      STRUCTURE

Prerequisites
Object             ChinaPropagandaCenter
End

BuildCost          500
BuildTime          10.0           ; in seconds
EnergyProduction   0
VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360
ArmorSet
Conditions       None
Armor            DefenceBunkerArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet        ChinaBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        BunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE
Body               StructureBody ModuleTag_05
MaxHealth        1400.0
InitialHealth    1400.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1500
SubdualDamageHealRate  500
SubdualDamageHealAmount  100

End
;  Behavior                FXListDie ModuleTag_07
;    DeathFX          FX_SmallStructureDeath
;  End

ExperienceValue      20 20 20 20  ; Experience point value at each level

Behavior  GarrisonContain ModuleTag_08
ContainMax                     5
ImmuneToClearBuildingAttacks   Yes
End

Behavior  GenerateMinefieldBehavior     ModuleTag_09
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  ProductionUpdate ModuleTag_10
; nothing, but is required if we have any Object-level Upgrades!
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_13
CreationList   OCL_LargeStructureDebris
End
Behavior              FXListDie ModuleTag_14
DeathFX        FX_StructureSmallDeath
End
Behavior  DestroyDie ModuleTag_06
;nothing
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  16.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object CINE_ChinaVehicleTroopCrawler

; *** ART Parameters ***
SelectPortrait          SNTransport_L
ButtonImage             SNTransport

UpgradeCameo1  Upgrade_Nationalism
UpgradeCameo2  Upgrade_ChinaSubliminalMessaging
UpgradeCameo3  Upgrade_ChinaCrawlerRecon
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState  NONE
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER REDLIGHT01  ;so instead of hiding specific objects we will tell it what it should show instead
End

ConditionState  REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER REDLIGHT01  ;so instead of hiding specific objects we will tell it what it should show instead
End
AliasConditionState  RUBBLE

;Upgraded with Subliminal

ConditionState  USER_2
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER REDLIGHT01  ;so instead of hiding specific objects we will tell it what it should show instead
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End

ConditionState  USER_2 REALLYDAMAGED
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01 ;sage is a retard so if you hide this flag it also hides everything else for reasons unknown
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER REDLIGHT01  ;so instead of hiding specific objects we will tell it what it should show instead
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_2 RUBBLE

;Upgraded with recon kit

ConditionState  USER_1
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER TURRET RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED USER_1
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER TURRET RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End
AliasConditionState  USER_1 RUBBLE

;Upgraded with Subliminal and recon kit

ConditionState  USER_1 USER_2
Model  NVTCrawler
Animation  NVTCrawler.NVTCrawler
AnimationMode  LOOP
HideSubObject  FLAGB01
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER TURRET RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End

ConditionState  REALLYDAMAGED USER_1 USER_2
Model  NVTCrawler_D
Animation  NVTCrawler_D.NVTCrawler_D
AnimationMode  LOOP
HideSubObject  FLAGB01
ShowSubObject  CHASSIS WHEEL01 WHEEL02 WHEEL03 WHEEL04 WHEEL05 WHEEL06 WHEEL07 WHEEL08 SPEAKER TURRET RCNARMR01 RCNARMR02 RCNARMR03 RCNARMR04 RCNARMR05 RCNARMR06 RCNARMR07 RCNARMR08 RCNARMR09 RCNARMR10
Turret  Turret
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  FXBONE01 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE02 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE03 PropagandaSubliminalBroadcast
ParticleSysBone  FXBONE04 PropagandaSubliminalBroadcast
End
AliasConditionState  USER_1 USER_2 RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

LeftFrontTireBone      DUMMWHL01
RightFrontTireBone     DUMMWHL08
LeftRearTireBone       DUMMWHL03
RightRearTireBone      DUMMWHL05
MidLeftFrontTireBone   DUMMWHL02
MidRightFrontTireBone  DUMMWHL07
MidLeftRearTireBone    DUMMWHL04
MidRightRearTireBone   DUMMWHL06

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

End

Draw  W3DModelDraw ModuleMod_OverWater

DefaultConditionState
Model  NVTCrawler
HideSubObject  FLAGB01
End
AliasConditionState   MOVING

ConditionState        OVER_WATER
ParticleSysBone     WATERFX01 AmphibWaveRest
ParticleSysBone     WATERFX02 AmphibWaveRest
End

ConditionState        OVER_WATER MOVING
ParticleSysBone     WATERFX01 AmphibWave
ParticleSysBone     WATERFX02 AmphibWave
End

End

Draw  W3DModelDraw ModuleMod_Night

DefaultConditionState
Model  NVTCrawler_N
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:TroopCrawler
Side  China
EditorSorting    VEHICLE
TransportSlotCount  8                 ;Just enough to fit into a Chinook.

WeaponSet
Conditions  None
Weapon             PRIMARY  SupportVehicleDummyWeapon
Weapon             TERTIARY SupportVehicleDummyWeapon
AutoChooseSources  TERTIARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   SupportVehicleDummyWeapon
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY TroopCrawlerLongRangeScannerWeapon
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  SupportVehicleDummyWeapon
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            TroopCrawlerReconArmor
DamageFX         TankDamageFX
End

BuildCost        700
BuildTime        7.0           ;in seconds
VisionRange      200           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
ShroudClearingRange  200

Prerequisites
Object  ChinaWarFactory
End

ExperienceValue     50 50 100 150  ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  ChinaTroopCrawlerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TroopCrawlerVoiceSelect
VoiceMove  TroopCrawlerVoiceMove
VoiceGuard  TroopCrawlerVoiceMove
VoiceAttack  TroopCrawlerVoiceAttack
SoundMoveStart  TroopCrawlerMoveStart
SoundMoveStartDamaged  TroopCrawlerMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      TroopCrawlerVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
TruckLandingSound  NoSound ;RocketBuggyLand
TruckPowerslideSound  NoSound ;RocketBuggyPowerslide
VoiceCrush  TroopCrawlerVoiceCrush
VoiceUnload    TroopCrawlerVoiceUnload
VoiceEnter  TroopCrawlerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
PingSound                  IRPing
LoudPingSound              IRPingLoud
IRBrightParticleSysName    IRDetectSonarBright
IRGridParticleSysName      IRDetectGrid
IRParticleSysBone          IRFX
End

Behavior  TransportAIUpdate ModuleTag_NewAI
Turret
ControlledWeaponSlots  SECONDARY
TurretTurnRate       160
FiresWhileTurning    Yes
NaturalTurretPitch   20        ; this keeps it aimed half way between land and sky
MinIdleScanInterval  250     ; in milliseconds
MaxIdleScanInterval  250     ; in milliseconds
MinIdleScanAngle     0       ; in degrees off the natural turret angle
MaxIdleScanAngle     360     ; in degrees off the natural turret angle
End
End
Locomotor  SET_NORMAL TroopCrawlerLocomotor TroopCrawlerWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  TransportContain ModuleTag_06
Slots                  8
;InitialPayload         ChinaInfantryRedguard 4
ScatterNearbyOnExit    No
HealthRegen%PerSec     10
DamagePercentToUnits   10%
AllowInsideKindOf      INFANTRY
ExitDelay              250
NumberOfExitPaths      3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit     Yes ; AI Will tell people to set their mood to Aggressive on exiting
End

Behavior  WeaponSetUpgrade ModuleTag_ReconUpgrade01
TriggeredBy    Upgrade_ChinaCrawlerRecon
End

Behavior  ModelConditionUpgrade ModuleTag_ReconUpgrade02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaCrawlerRecon
End

Behavior  MaxHealthUpgrade ModuleTag_ReconUpgrade03
TriggeredBy    Upgrade_ChinaCrawlerRecon
AddMaxHealth   135.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  CommandSetUpgrade ModuleTag_ReconUpgrade04
TriggeredBy    Upgrade_ChinaCrawlerRecon
CommandSet     ChinaTroopCrawlerUpgradedCommandSet
End

Behavior                 ArmorUpgrade ModuleTag_ReconUpgrade05
TriggeredBy            Upgrade_ChinaCrawlerRecon
End

Behavior  ProductionUpdate ModuleTag_ShowDetectionRange01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_DetectionRange03
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
DamageTypes    ALL
DamageAmount   0    ;Effectively all the time when set to zero which we want in this case
ContinuousWeaponPristine       TroopCrawlerDetecionRangeIndicatorDecalWeapon
ContinuousWeaponDamaged        TroopCrawlerDetecionRangeIndicatorDecalWeapon
ContinuousWeaponReallyDamaged  TroopCrawlerDetecionRangeIndicatorDecalWeapon
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  1
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_FinalTroopCrawlerDebris
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

; A crushing defeat
Behavior  FXListDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_12
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior         PropagandaTowerBehavior ModuleTag_Propaganda01
Radius                 150.0
DelayBetweenUpdates    2000 ; in milliseconds
HealPercentEachSecond  1%   ; get this % of max health every second
PulseFX                FX_CrawlerPropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
AffectsSelf            Yes
UpgradeRequired        Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%   ; get this % of max health every second
UpgradedPulseFX        FX_CrawlerPropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
End

Behavior  ModelConditionUpgrade ModuleTag_Propaganda02
ConditionFlag  USER_2
TriggeredBy    Upgrade_ChinaSubliminalMessaging
End

Behavior  FireWeaponUpdate ModuleTag_SpeakerDecal01
Weapon  SpeakerTowerPropagandaDecalWeapon
End

Behavior  HordeUpdate ModuleTag_Horde01
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  10.0
GeometryHeight  13.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object ChinaVehicleConquerorDeadHull
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
ConditionState = NONE
Model = NVConqueror_D1
End
End
; ***DESIGN parameters ***
Side = China
EditorSorting = SYSTEM
TransportSlotCount = 3     ; how many "slots" we take in a transport (0 == not transportable)
; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK
Body = ActiveBody ModuleTag_02
MaxHealth = 1.0
InitialHealth = 1.0
End
Behavior = PhysicsBehavior ModuleTag_03
Mass = 70
AllowBouncing = Yes
End
Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 0     ; min lifetime in msec
MaxLifetime = 0     ; max lifetime in msec
End
Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay = 14000
SinkRate = 2     ; in Dist/Sec
DestructionDelay = 20000
End
Behavior = TransitionDamageFX ModuleTag_06
RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End
Geometry = BOX
GeometryMajorRadius = 9.0
GeometryMinorRadius = 6.0
GeometryHeight = 7.5
GeometryIsSmall = Yes
End
;------------------------------------------------------------------------------
Object HelixRubbleHull

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
DefaultConditionState
Model        = NVHelix_E
;      ParticleSysBone = None OilPoolGrowingBig00
End
End

; ***DESIGN parameters ***
DisplayName      = OBJECT:ComancheHull
Side = China
EditorSorting       = DEBRIS

; *** ENGINEERING Parameters ***
RadarPriority       = NOT_ON_RADAR
KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK UNATTACKABLE CLEARED_BY_BUILD

ArmorSet
Conditions      = None
Armor           = InvulnerableAllArmor
DamageFX        = None
End

Body = ActiveBody ModuleTag_02
MaxHealth       = 1.0
InitialHealth   = 1.0
End

Behavior = PhysicsBehavior ModuleTag_03
Mass   = 50.0
End

Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 10000   ; min lifetime in msec
MaxLifetime = 10000   ; max lifetime in msec
End

Behavior = TransitionDamageFX ModuleTag_06
RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
RubbleParticleSystem2 = Bone:Smoke RandomBone:Yes PSys:SmolderingSmoke
End

Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay         = 1500
SinkRate          = 1    ; in Dist/Sec
DestructionDelay  = 8000
End
End

;------------------------------------------------------------------------------
Object ChinaVehicleFrogDeadHull

; *** ART Parameters ***
Draw   W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

ConditionState   NONE
Model   NVSpEye_E
End
End

; ***DESIGN parameters ***
EditorSorting     DEBRIS
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority   UNIT
KindOf   CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body   ActiveBody ModuleTag_02
MaxHealth         1.0
InitialHealth     1.0
End

Behavior   PhysicsBehavior ModuleTag_Hulk03
Mass   100.0
AllowBouncing   Yes
KillWhenRestingOnGround   Yes
End
Behavior   LifetimeUpdate ModuleTag_Hulk04
MinLifetime   1500   ; min lifetime in msec
MaxLifetime   1600   ; max lifetime in msec
End

Behavior   SlowDeathBehavior ModuleTag_Hulk05
SinkDelay           1500
SinkRate            2     ; in Dist/Sec
DestructionDelay    8000
End


Geometry   BOX
GeometryMajorRadius   9.0
GeometryMinorRadius   6.0
GeometryHeight   7.5
GeometryIsSmall   Yes

End

;------------------------------------------------------------------------------
;This is the MIG as it's crashing
;------------------------------------------------------------------------------
Object ChinaJetMIGHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            NVFighter_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object ChinaJetInfernoMIGHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            NVMiGBmbr_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End




;------------------------------------------------------------------------------
Object ChinaVehicleBattleMasterDeadHull
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVBtMstr_D1
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object ChinaTankOverlordDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVOvrlrd_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Overlord
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End




;------------------------------------------------------------------------------
Object ChinaTankDragonDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVDragon_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Overlord
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End




;------------------------------------------------------------------------------
Object ChinaVehicleTroopCrawlerDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVTCrawler_D1
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_Hulk03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_Hulk04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Hulk05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End


Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaVehicleAssaultTroopCrawlerDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVTClrI_D1
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_Hulk03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_Hulk04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Hulk05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End


Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object InfernoCannonHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NVInferno_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End

End

;------------------------------------------------------------------------------
Object DeadChinaSupplyTruckHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NVSSupplyTK_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End

End

;------------------------------------------------------------------------------
Object DeadChinaGattlingTankHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NVGattTank_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay                  1500
SinkDelayVariance          1500
SinkRate                   2     ; in Dist/Sec
DestructionDelay           12000
DestructionDelayVariance   4000
End

End

;------------------------------------------------------------------------------
Object DeadChinaECMTankHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVEcmTnk_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay                  1500
SinkDelayVariance          1500
SinkRate                   2     ; in Dist/Sec
DestructionDelay           12000
DestructionDelayVariance   4000
End

End

;------------------------------------------------------------------------------
Object ChinaDeadDozerHulk

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
ConditionState     NONE
Model            nvconstdoz_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     100.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object ChinaVehicleListeningOutpostDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVLOUTPOST_D3 ; just the cab of the truck
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_Hulk03
Mass  60.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_Hulk04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Hulk05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End


Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object DeadChinaVehicleTwinFangHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVTwinFang_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  2200   ; min lifetime in msec
MaxLifetime  2200   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay                  1500
SinkDelayVariance          1500
SinkRate                   2     ; in Dist/Sec
DestructionDelay           12000
DestructionDelayVariance   4000
End

End

;------------------------------------------------------------------------------
Object ChinaHanRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NVHan_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object ChinaPropagandaAirshipRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NVAirship_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     6000   ; min lifetime in msec
MaxLifetime     6000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object ChinaVehicleHopperDeadHull
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVHppr_D1
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object ChinaTankShenlongDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVShen_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Overlord
Side  China
EditorSorting    SYSTEM
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaVehicleInternetTruckDeadHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVIntTrck_D1 ; just the cab of the truck
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_Hulk03
Mass  60.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_Hulk04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_Hulk05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End


Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End
;------------------------------------------------------------------------------
Object ChinaTankOverlordBarrelDebris

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  NVOvrlrd_D3
End
End

; ***DESIGN parameters ***
;  DisplayName       OBJECT:RocketBuggyDebris

EditorSorting    DEBRIS
Side  China

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
;  RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000   ; min lifetime in msec
MaxLifetime  15000   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  2000
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes


End

;------------------------------------------------------------------------------
Object ChinaAmbassador

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  NIAMBSDR_SKN
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_STA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_IDA
IdleAnimation  NIAMBSDR_SKL.NIAMBSDR_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End

ConditionState  MOVING
Animation  NIAMBSDR_SKL.NIAMBSDR_RNA ;***was using WKA but it doesn't exist so I changed it to kill the assert -- Kris
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  MOVING PANICKING
Animation  NIAMBSDR_SKL.NIAMBSDR_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  DYING
Animation  NIAMBSDR_SKL.NIAMBSDR_DTA
Animation  NIAMBSDR_SKL.NIAMBSDR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  NIAMBSDR_SKL.NIAMBSDR_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  NIAMBSDR_SKL.NIAMBSDR_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  NIAMBSDR_SKL.NIAMBSDR_ADTD3
AnimationMode  ONCE
TransitionKey  None
End
End

; ***DESIGN parameters ***
Buildable            No
DisplayName          OBJECT:Ambassador
Side                 China
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
; no weapons
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150

ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  3000
SinkRate  0.5     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  SquishCollide ModuleTag_06
;nothing
End

Behavior  FXListDie ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_RedGuardDie
End
Behavior  FXListDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_GIDieCrushed
End

Behavior  PoisonedBehavior ModuleTag_09
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14
ShadowSizeY  14
ShadowTexture  ShadowI
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------------------------------------------------------
Object ChinaInfantryOfficer

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  NIOFCR_SKN
IdleAnimation  NIOFCR_SKL.NIOFCR_STA 0 21
;Regular spice animations
IdleAnimation  NIOFCR_SKL.NIOFCR_IDA
IdleAnimation  NIOFCR_SKL.NIOFCR_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_STAND
End

ConditionState     MOVING
Animation        NIOFCR_SKL.NIOFCR_RNA
AnimationMode    LOOP
ParticleSysBone      None InfantryDustTrails
End

; NORMAL ATTACK
;--------------------------------------------------------
; Drawing gun
ConditionState   PREATTACK_A
Animation      NIOFCR_SKL.NIOFCR_ATAST
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; Firing gun
ConditionState   FIRING_A
Animation      NIOFCR_SKL.NIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
ConditionState   BETWEEN_FIRING_SHOTS_A
Animation      NIOFCR_SKL.NIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_A TRANS_STAND
Animation      NIOFCR_SKL.NIOFCR_ATAED
AnimationMode  ONCE
End
;--------------------------------------------------------

ConditionState   DYING
Animation      NIOFCR_SKL.NIOFCR_DTA
Animation      NIOFCR_SKL.NIOFCR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  NIOFCR_SKL.NIOFCR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  NIOFCR_SKL.NIOFCR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  NIOFCR_SKL.NIOFCR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      NIOFCR_SKL.NIOFCR_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS

;@TODO - MISSING ANIMATION FILE
;ConditionState    FREEFALL
;  Animation       NIOFCR_SKL.NIOFCR_PFL
;  AnimationMode   LOOP
;  TransitionKey   TRANS_Falling
;End
;AliasConditionState  FREEFALL REALLYDAMAGED
;AliasConditionState  FREEFALL DYING
ConditionState   PARACHUTING
Animation      NIOFCR_SKL.NIOFCR_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation      NIOFCR_SKL.NIOFCR_POP
AnimationMode  ONCE
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_STAND
Animation      NIOFCR_SKL.NIOFCR_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Officer
Side  China
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY ChinaOfficerMachineGun
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150
Prerequisites
Object  ChinaBarracks
End

BuildCost      400
BuildTime      10.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  RedGuardVoiceSelect
VoiceGroupSelect  BattleCrySound
VoiceMove  RedGuardVoiceMove
VoiceAttack  RedGuardVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SquishCollide ModuleTag_06
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinChina
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireChina
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RedGuardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinChina
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_09
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;------------------------------------------------------------------------------
;
; ??? This unit is used in a mission for "color".
; This unit is never human-controllable!
; @todo srj -- is this used for ANYTHING?
;
Object ChinaInfantryAgent

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIRngr_SKN
IdleAnimation  AIRngr_SKL.AIRngr_STA 0 21
;Regular spice animations
IdleAnimation  AIRngr_SKL.AIRngr_IDA
IdleAnimation  AIRngr_SKL.AIRngr_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Stand
End

; NORMAL ATTACK (Cutting fence via wirecutters)
ConditionState  PREATTACK_A
Animation  AIRngr_SKL.AIRngr_ATA
AnimationMode  ONCE
TransitionKey  TRANS_FiringA
End
AliasConditionState  FIRING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  FIRING_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED

; SECONDARY ATTACK (Flash-bang grenades)
ConditionState  FIRING_B
Animation  AIRngr_SKL.AIRngr_ATB
AnimationMode  ONCE
WeaponFireFXBone  SECONDARY Muzzle
WeaponLaunchBone  SECONDARY Muzzle
TransitionKey  TRANS_FiringB
End

AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

ConditionState  MOVING
Animation  AIRngr_SKL.AIRngr_RNA 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone      None InfantryDustTrails
End

ConditionState  MOVING REALLYDAMAGED
;
; there is a new, optional number following the animation...
; it represents the distance that a single loop the animation would
; cover. (ie, maybe it has the solder taking three strides, for a
; distance of 30 or so)
;
; how to tweak the number:
;   -- "skidding"?          reduce the number
;   -- "running in place"?  increase the number
;
; note that playing animations at abormal speeds may look odd in some cases.
; (e.g., a "limping" animation played too fast looks really odd.)
;
Animation  AIRngr_SKL.AIRngr_RNB 30
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone      None InfantryDustTrails
End

ConditionState  DYING
Animation  AIRngr_SKL.AIRngr_DTA
Animation  AIRngr_SKL.AIRngr_DTB
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AIRngr_SKL.AIRngr_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS
ConditionState  FREEFALL
Animation  AIRngr_SKL.AIRngr_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  AIRngr_SKL.AIRngr_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  AIRngr_SKL.AIRngr_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  AIRngr_SKL.AIRngr_PTD
AnimationMode  ONCE
End

; RAPPELLING ANIMATIONS
ConditionState  RAPPELLING
Animation  AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState  TRANS_Rappelling TRANS_Stand
Animation  AIRngr_SKL.AIRngr_RPL2
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Agent
Side  China
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY RedguardMachineGun
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150
Prerequisites
Object  ChinaBarracks
Object  ChinaPropagandaCenter
End

BuildCost      600
BuildTime      20.0          ;in seconds

ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience

; *** AUDIO Parameters ***
VoiceSelect  RedGuardVoiceSelect
VoiceGroupSelect  BattleCrySound
VoiceMove  RedGuardVoiceMove
VoiceAttack  RedGuardVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  VeterancyGainCreate ModuleTag_03
StartingLevel  VETERAN
End

Behavior  StealthUpdate ModuleTag_04
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING
FriendlyOpacityMin           50.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End
Behavior  SlowDeathBehavior ModuleTag_07
SinkDelay  3000
SinkRate  0.5     ; in Dist/Sec
DestructionDelay  8000
End


Behavior  SquishCollide ModuleTag_08
;nothing
End


Behavior  FXListDie ModuleTag_09
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_RedGuardDie
End
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_GIDieCrushed
End

Behavior  PoisonedBehavior ModuleTag_11
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End




;------------------------------------------------------------------------------
Object ChinaArtilleryCannon

; *** ART Parameters ***
;  Draw  W3DModelDraw
;    DefaultConditionState
;      Model              AVBomber_B
;    End
;  End

; ***DESIGN parameters ***
;DisplayName         OBJECT:A10Thunderbolt
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          99999.0
ShroudClearingRange  0
ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         None
End


; *** AUDIO Parameters ***
; In the Activation of the superweapon, where it plays only once instead of once per missile.
;  SoundMoveStart  FireArtilleryCannonSound


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK VEHICLE AIRCRAFT UNATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_01
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  DestroyDie ModuleTag_02
;nothing
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  0.001 ; about the weight of grain of salt
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
End

Locomotor  SET_NORMAL ChinaArtilleryBarrageCannonLocomotor

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
Shadow  SHADOW_DECAL
ShadowSizeX  1;
ShadowSizeY  1;
ShadowTexture  ShadowI;

End


;------------------------------------------------------------------------------
Object ChinaGenericVehicleParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMChinaVChute_A
Animation  PMChinaVChute_A.PMChinaVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMChinaVChute_B
Animation  PMChinaVChute_B.PMChinaVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMChinaVChute_C
Animation  PMChinaVChute_C.PMChinaVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMChinaVChute_C
Animation  PMChinaVChute_C.PMChinaVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    15.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.3
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object ChinaCrateParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMChinaVChute_A
Animation  PMChinaVChute_A.PMChinaVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMChinaVChute_B
Animation  PMChinaVChute_B.PMChinaVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMChinaVChute_C
Animation  PMChinaVChute_C.PMChinaVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMChinaVChute_C
Animation  PMChinaVChute_C.PMChinaVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.1
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  NVChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  NVChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  NVChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaTechAirstrikeObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  NVMIGBMB_
Animation  NVMIGBMB_.NVMIGBMB_
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   TechAirstrikeBombChinaWeapon
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               SECONDARY   TechAirstrikeBombChinaWeaponUpgraded
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      2240
MaxDelay      2240
OCL           OCL_CreateRealFortress
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  4800
MaxLifetime  4800
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect01
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon01
InitialDelay  1
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect02
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon02
InitialDelay  1800
End

Behavior  WeaponSetUpgrade ModuleTag_05235
TriggeredBy  Upgrade_ChinaBlackNapalm
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object ChinaJetCargoPlane_Stationary

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model            NVCargoPln
Animation        NVCargoPln.NVCargoPln
AnimationMode    LOOP
End

ConditionState  DAMAGED
Model            NVCargoPln_D
Animation        NVCargoPln_D.NVCargoPln_D
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

End

; ***DESIGN parameters ***
Side             China
DisplayName      OBJECT:Cessna
EditorSorting    VEHICLE

; ***AUDIO parameters ***
SoundAmbient           C130AmbientLoop
SoundOnDamaged         BuildingDamagedStateLight

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE
Body                   ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0
End
ArmorSet
Conditions            None
Armor                 StructureArmor
DamageFX              StructureDamageFXNoShake
End

Behavior  FlammableUpdate ModuleTag_04
FlameDamageLimit  20         ;Catch fire if I take this much fire damage...
FlameDamageExpiration  2000  ;in a span of this long
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  25       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     1
FX   INITIAL  FX_JetBigDeathInitial
OCL  INITIAL  OCL_AmericaJetCargoDeathStart
FX   FINAL    FX_BigPlaneDeath
OCL  FINAL    OCL_AmericaJetCargoHulkDeath
End

Behavior  DestroyDie ModuleTag_DeathTag03
End

Geometry               BOX
GeometryMajorRadius    40.0
GeometryMinorRadius    10.0
GeometryHeight         10.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME

End
;--------------------------------------------------------------------------------------------------------------
Object ECMDisableStream

; *** ART Parameters ***
Draw = W3DLaserDraw ModuleTag_01
Texture = S_ECMBeam.tga
NumBeams = 2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth = 12                       ;The total width of beam
InnerColor = R:50 G:50 B:50 A:200           ;The inside color of the laser (hot)
OuterBeamWidth = 20                       ;The total width of beam
OuterColor = R:10 G:50 B:10 A:100         ;The outside color of the laser (cool)
Tile = No                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
TilingScalar = 0.2                        ;Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)
ScrollRate = -3                          ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments = 1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio = 0                   ;This value overlaps(+) or separates(-) the segments by ratio
End

KindOf = IMMOBILE
ClientUpdate = LaserUpdate ModuleTag_02
MuzzleParticleSystem = ECMGreenLaserFlare
TargetParticleSystem = ECMGreenLaserFlare
End

Behavior = DeletionUpdate ModuleTag_03
MinLifetime = 165   ; min lifetime in msec
MaxLifetime = 120   ; max lifetime in msec
End
End

;--------------------------------------------------------------------------------------------------------------
Object ECMDisableStreamUpgraded

; *** ART Parameters ***
Draw = W3DLaserDraw ModuleTag_01
Texture = S_ECMBeam.tga
NumBeams = 2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth = 12                       ;The total width of beam
InnerColor = R:50 G:50 B:50 A:200           ;The inside color of the laser (hot)
OuterBeamWidth = 20                       ;The total width of beam
OuterColor = R:10 G:50 B:10 A:100         ;The outside color of the laser (cool)
Tile = No                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
TilingScalar = 0.2                        ;Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)
ScrollRate = -3                          ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments = 1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio = 0                   ;This value overlaps(+) or separates(-) the segments by ratio
End

KindOf = IMMOBILE
ClientUpdate = LaserUpdate ModuleTag_02
MuzzleParticleSystem = ECMGreenLaserFlare
TargetParticleSystem = ECMGreenLaserFlareUpgraded
End

Behavior = DeletionUpdate ModuleTag_03
MinLifetime = 125   ; min lifetime in msec
MaxLifetime = 500   ; max lifetime in msec
End
End
;--------------------------------------------------------------------------------------------------
Object ChinaFuelBombHelix

SelectPortrait = SSClusterBomb
ButtonImage    = SSClusterBomb

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = EXNapalmBomb ;EXCBU
End
End
Scale = 1.00

; ***DESIGN parameters ***
DisplayName  = OBJECT:Fuel
Side         = China
EditorSorting  = SYSTEM

BuildCost    = 600
BuildTime    = 12.0

ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PRELOAD NO_COLLIDE UNATTACKABLE

Body = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_DaisyCutterGasFXOnlyHelix
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
FX         = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_06
Mass                = 75.0
AerodynamicFriction = 0.1
ForwardFriction     = 0.1
CenterOfMassOffset  = 0.13
End

Behavior = HeightDieUpdate ModuleTag_10
TargetHeight = 1.0
TargetHeightIncludesStructures = No
End

Behavior = CreateObjectDie ModuleTag_05
DeathTypes = ALL
CreationList = OCL_DaisyCutterGasFXOnlyHelix
End

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
End
;------------------------------------------------------------------------------
Object NuclearTankHunterNuclearMissile

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = EXStinger01
ParticleSysBone = None WarheadTrail
End
ConditionState = JAMMED
ParticleSysBone = None SparksMedium
ParticleSysBone = None WarheadTrail
End
End

; ***DESIGN parameters ***
EditorSorting   = SYSTEM
VisionRange = 0.0
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth       = 56.0
InitialHealth   = 56.0
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End

; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
FX         = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_04
Mass = 1
End

Behavior = MissileAIUpdate ModuleTag_05
TryToFollowTarget = Yes
FuelLifetime = 0
InitialVelocity = 100                ; in dist/sec
IgnitionDelay = 0
DistanceToTravelBeforeTurning = 10
IgnitionFX = FX_BuggyMissileIgnition
End
Locomotor = SET_NORMAL TankHunterMissileLocomotor

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
End
;------------------------------------------------------------------------------
Object HelixNukeBomb

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model         = EXHelixBMB
Animation = EXHelixBMB.EXHelixBMB
AnimationMode = ONCE
End
End

; ***DESIGN parameters ***
DisplayName         = OBJECT:Missile
EditorSorting       = SYSTEM
VisionRange         = 0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount  = 1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PRELOAD NO_COLLIDE UNATTACKABLE
Body = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior = MissileAIUpdate ModuleTag_07
TryToFollowTarget = No
FuelLifetime = 10000
InitialVelocity = 0
IgnitionDelay = 0
End
Locomotor = SET_NORMAL HelixBombLocomotor

Behavior = PhysicsBehavior ModuleTag_06
Mass = 300.0
End

Behavior = HeightDieUpdate ModuleTag_10
TargetHeight = 1.0
TargetHeightIncludesStructures = yes
End

Behavior = DestroyDie ModuleTag_12
End

Behavior = FireWeaponWhenDeadBehavior ModuleTag_15
DeathTypes = ALL -LASERED
DeathWeapon   = HelixNukeBombDetonationWeapon
StartsActive  = Yes
End

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
End
;------------------------------------------------------------------------------
Object EMPPulseBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          NVEmpbmb
End
End

; ***DESIGN parameters ***
DisplayName            OBJECT:EMPPulseBomb
Side                   China
EditorSorting          SYSTEM
TransportSlotCount     1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange            0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon
SoundEnter             ChinaEMPBombDropped

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; alas, this DOES need ai...
Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End


Behavior  HeightDieUpdate ModuleTag_05
TargetHeight  15.0
TargetHeightIncludesStructures  No
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_EMPPulseEffectSpheroids
End

Behavior  FXListDie ModuleTag_07
DeathFX  WeaponFX_EMPPulseImpact
OrientToObject  No
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Geometry  SPHERE                      ;Collision geometry
GeometryMajorRadius  1.0              ;Collision major radius
GeometryMinorRadius  1.0              ;Collision minor radius
GeometryHeight  1.0                   ;Height for geometry
GeometryIsSmall  Yes                  ;Is small geometry

End

;-------------------------------------------------------------------------------
Object TwinFangFlakProjectile

KindOf  IMMOBILE INERT

ClientUpdate  LaserUpdate ModuleTag_02
TargetParticleSystem  FlakExplosionLenz
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  10   ; min lifetime in msec
MaxLifetime  10   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_04
End

End

;-------------------------------------------------------------------------------
Object Han100mmCannonProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVTankShel
ParticleSysBone      None HanGunshipCannonShellTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  DestroyDie ModuleTag_04
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -40
SecondHeight  -45
FirstPercentIndent  50%
SecondPercentIndent  51%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  DeletionUpdate ModuleTag_Remove
MinLifetime  4000
MaxLifetime  4000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  0.8

End

;-------------------------------------------------------------------------------
Object Han100mmEmpCannonProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVTankShel
ParticleSysBone      None HanGunshipEmpCannonShellTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  DestroyDie ModuleTag_04
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -40
SecondHeight  -45
FirstPercentIndent  50%
SecondPercentIndent  51%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_0723516
DeathWeapon    Han100mmEmpCannonDissableWeapon
StartsActive   Yes
End

Behavior  DeletionUpdate ModuleTag_Remove
MinLifetime  4000
MaxLifetime  4000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  0.8

End

;------------------------------------------------------------------------------
Object HanFlameThrowerFlameProjectile ; this projectile while update the flames after black napalm and thus you don't require a new weaponset upgrade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ConditionState     NONE
Model            EXFlame
ParticleSysBone  NONE ALPHA_FlameThrowerTrail01
ParticleSysBone  NONE ALPHA_FlameThrowerTrail02
ParticleSysBone  NONE ALPHA_FlameThrowerTrail03
ParticleSysBone  NONE ALPHA_FlameThrowerTrail04
ParticleSysBone  NONE ALPHA_FlameThrowerTrail05
ParticleSysBone  NONE ALPHA_FlameThrowerTrail06
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke01
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke02
ParticleSysBone  NONE FlameThrowerTrail02
End

ConditionState     WEAPONSET_PLAYER_UPGRADE
Model            EXFlameBlack
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail01
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail02
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail03
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail04
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail05
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail06
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke01
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke02
ParticleSysBone  NONE FlameThrowerTrail02Upgraded
End

End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  -40
SecondHeight  -45
FirstPercentIndent  50%
SecondPercentIndent  51%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             1  ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  WeaponSetUpgrade ModuleTag_064
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_07
DeathWeapon    HanFlameWeaponDetonation
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_08
DeathWeapon    HanFlameWeaponDetonationUpgraded
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.4

End

;------------------------------------------------------------------------------
Object HanTacticalNuke

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVHan_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          FX_GenericMissileDeath
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                No
FuelLifetime                     0
InitialVelocity                  0                ; in dist/sec
IgnitionDelay                    800
DistanceToTravelBeforeTurning    0
DistanceToTargetBeforeDiving     100000 ; When I hit this close to target, I ignore PreferredHeight.
IgnitionFX                       FX_HanTacticalNukeIgnition
DistanceScatterWhenJammed        100
End

Locomotor  SET_NORMAL RocketBuggyMissileLocomotor

Behavior  DeletionUpdate ModuleTag_Remove
MinLifetime  8000
MaxLifetime  8000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object HanNukeExplosion

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_01
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    HanGunshipTacticalNukeRadiationFieldSpawnWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_04
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object HanEMPBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVHan_Bmb
HideSubObject  BOMB01 BOMB02
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE;
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_04
End

Behavior  PhysicsBehavior ModuleTag_06
Mass                 75.0
AerodynamicFriction  0.1  ; this is now friction-per-sec
ForwardFriction      0.1  ; this is now friction-per-sec
CenterOfMassOffset   0.13  ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_10
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_11
DeathWeapon    HanGunshipEmpBombDamageWeapon
StartsActive   Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object HanNukeBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVHan_Bmb
HideSubObject  BOMB02 BOMB03
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE;
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_04
End

Behavior  PhysicsBehavior ModuleTag_06
Mass                 75.0
AerodynamicFriction  0.1  ; this is now friction-per-sec
ForwardFriction      0.1  ; this is now friction-per-sec
CenterOfMassOffset   0.13  ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_10
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_11
DeathWeapon    HanGunshipNuclearBombDamageWeapon
StartsActive   Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object HanNukeBombExplosion

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_01
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    HanGunshipTacticalNukeBombRadiationFieldSpawnWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_04
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object HanNapalmBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVHan_Bmb
HideSubObject  BOMB01 BOMB03
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE;
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_04
End

Behavior  PhysicsBehavior ModuleTag_06
Mass                 75.0
AerodynamicFriction  0.1  ; this is now friction-per-sec
ForwardFriction      0.1  ; this is now friction-per-sec
CenterOfMassOffset   0.13  ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_10
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Napalm01
DeathWeapon    HanGunshipNapalmBombDamageWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Napalm02
DeathWeapon    HanGunshipNapalmBombUpgradedDamageWeapon
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object NapalmCanisterBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          EXNplmCan
Animation      EXNplmCan.EXNplmCan
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName            OBJECT:EMPPulseBomb
Side                   China
EditorSorting          SYSTEM
TransportSlotCount     1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange            0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; alas, this DOES need ai...
Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_05
TargetHeight  5.0
TargetHeightIncludesStructures  No
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Napalm01
DeathWeapon    NapalmInfernoFirestorm
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Napalm02
DeathWeapon    NapalmInfernoFirestormBlackNapalm
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  SpecialPowerCompletionDie ModuleTag_ads07
SpecialPowerTemplate  SuperweaponNapalmStrike
End

Behavior  DestroyDie ModuleTag_08
End

Geometry  SPHERE                      ;Collision geometry
GeometryMajorRadius  1.0              ;Collision major radius
GeometryMinorRadius  1.0              ;Collision minor radius
GeometryHeight  1.0                   ;Height for geometry
GeometryIsSmall  Yes                  ;Is small geometry
Scale  0.8

End

;------------------------------------------------------------------------------
Object NapalmCanisterBombVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          EXNplmCan
Animation      EXNplmCan.EXNplmCan
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName            OBJECT:EMPPulseBomb
Side                   China
EditorSorting          SYSTEM
TransportSlotCount     1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange            0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               ChinaHellstormStrikeBombsDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

; alas, this DOES need ai...
Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_05
TargetHeight  5.0
TargetHeightIncludesStructures  No
End


Behavior  FireWeaponWhenDeadBehavior ModuleTag_Napalm01
DeathWeapon    NapalmInfernoFirestorm
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Napalm02
DeathWeapon    NapalmInfernoFirestormBlackNapalm
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  SpecialPowerCompletionDie ModuleTag_ads07
SpecialPowerTemplate  SuperweaponNapalmStrike
End

Behavior  DestroyDie ModuleTag_08
End

Geometry  SPHERE                      ;Collision geometry
GeometryMajorRadius  1.0              ;Collision major radius
GeometryMinorRadius  1.0              ;Collision minor radius
GeometryHeight  1.0                   ;Height for geometry
GeometryIsSmall  Yes                  ;Is small geometry
Scale  0.8

End

;------------------------------------------------------------------------------
Object NapalmMissile ;flak missile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVMiG_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget    Yes
FuelLifetime         10000
InitialVelocity      75                ; in dist/sec
IgnitionDelay        30
IgnitionFX           FX_NapalmMissileIgnition
End
Locomotor  SET_NORMAL NapalmMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object InfernoMigNapalmCanister

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NVMiGBmbr_M
Animation  NVMiGBmbr_M.NVMiGBmbr_M
AnimationMode  LOOP
Flags  RANDOMSTART
End

End
; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    35 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  MiGBombReleaseSoundDummyWeapon
End

Behavior  HeightDieUpdate ModuleTag_0623
TargetHeight  1.0
TargetHeightIncludesStructures  Yes
OnlyWhenMovingDown  Yes
InitialDelay                     4000 ; Can't explode in the first second so we don't explode on the pad
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_0744
DeathWeapon    HellfireBomberSmallFireFieldCreationWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_082
DeathWeapon    HellfireBomberSmallFireFieldUpgradedCreationWeapon
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object NukeCannonShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  NVNeutrShell
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  70  ; Height of Bezier control points above highest intervening terrain
SecondHeight  180
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponUpdate ModuleTag_03232
Weapon    NukeCannonGunFireFXWeapon
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     80
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object NukeCannonShellHeroic

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  NVNeutrShell
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  70  ; Height of Bezier control points above highest intervening terrain
SecondHeight  180
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponUpdate ModuleTag_03232
Weapon    NukeCannonGunFireFXWeaponHeroic
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_PushOverTree01
DestructionDelay     80
FXList               FX_Nada

Blast1Enabled        Yes
Blast1Delay          1
Blast1InnerRadius    20.0
Blast1OuterRadius    80.0
Blast1MaxDamage      0.0
Blast1MinDamage      0.0
Blast1ToppleSpeed    0.5
Blast1PushForce      10.0

Blast2Enabled        No
Blast3Enabled        No
Blast4Enabled        No
Blast5Enabled        No
Blast6Enabled        No
Blast7Enabled        No
Blast8Enabled        No
Blast9Enabled        No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object NukeCannonShellExplosion

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_01
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    NukeCannonGunRadiationFieldSpawnWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_04
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object ClusterMinesBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          EXClstrMBmb
End
End

; ***DESIGN parameters ***
DisplayName            OBJECT:ClusterMinesBomb
Side                   China
EditorSorting          SYSTEM
TransportSlotCount     1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange            0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon
SoundEnter             ChinaClusterMinesDropped

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; alas, this DOES need ai...
Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FXListDie ModuleTag_Clusters02
DeathFX  WeaponFX_ClusterMineImpact
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  60.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_07
;nothing
End

Behavior  GenerateMinefieldBehavior ModuleTag_05
MineName                 ChinaClusterMineField
DistanceAroundObject     120
GenerateOnlyOnDeath      Yes
SmartBorder              Yes
SmartBorderSkipInterior  No
AlwaysCircular           Yes
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

;;;;Cluster Bombs released on detonation
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster01
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster02
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster03
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster04
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster05
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster06
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster07
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster08
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster09
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster10
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster11
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster12
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster13
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster14
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster15
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster16
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster17
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster18
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster19
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster20
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster21
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster22
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster23
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster24
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster25
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster26
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster27
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster28
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster29
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster30
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster31
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster32
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster33
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster34
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster35
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster36
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster37
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster38
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster39
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster40
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster41
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster42
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster43
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster44
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster45
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster46
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster47
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster48
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster49
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_Cluster50
DeathWeapon    ClusterMineBombMineScatterWeapon
StartsActive   Yes
End


Geometry  SPHERE                      ;Collision geometry
GeometryMajorRadius  1.0              ;Collision major radius
GeometryMinorRadius  1.0              ;Collision minor radius
GeometryHeight  1.0                   ;Height for geometry
GeometryIsSmall  Yes                  ;Is small geometry

End

;------------------------------------------------------------------------------
Object ClusterMinesBombClusters

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_054131
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  DumbProjectileBehavior ModuleTag_0332
TumbleRandomly                   Yes
DetonateCallsKill                Yes
FirstHeight                      20
SecondHeight                     20
FirstPercentIndent               50%
SecondPercentIndent              90%
End


Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
End

Geometry  Sphere
GeometryIsSmall  No
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object ChinaClusterMine

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXClstrMine
ParticleSysBone  NONE MineFX
End

ConditionState  RUBBLE
Model  EXClstrMine
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:ClusterMine
EditorSorting    MISC_MAN_MADE

ArmorSet
Conditions       None
Armor            MineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  STICK_TO_TERRAIN_SLOPE DEMOTRAP IMMOBILE NO_HEAL_ICON CAN_ATTACK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  LifetimeUpdate ModuleTag_0245
MinLifetime  1
MaxLifetime  1
End

Behavior  PhysicsBehavior ModuleTag_025242
Mass            45.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL
SinkDelay  200
SinkRate  1.5
DestructionDelay  5000
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object ChinaClusterMineField

; *** ART Parameters ***
SelectPortrait          SSMineBunker_L
ButtonImage             SSMineBunker

Draw  W3DModelDraw ModuleTag_01

ConditionState  NONE
Model  EXClstrMine_F
Animation  EXClstrMine_F.EXClstrMine_F
AnimationMode  ONCE
TransitionKey  TRANS_DEPLOYED
End

ConditionState  USER_2
Model  EXClstrMine_F
ParticleSysBone  Mine01 MineFX
ParticleSysBone  Mine02 MineFX
ParticleSysBone  Mine03 MineFX
ParticleSysBone  Mine04 MineFX
ParticleSysBone  Mine05 MineFX
ParticleSysBone  Mine06 MineFX
ParticleSysBone  Mine07 MineFX
ParticleSysBone  Mine08 MineFX
WaitForStateToFinishIfPossible  TRANS_DEPLOYED
End

ConditionState  USER_2 DAMAGED
Model  EXClstrMine_F
ShowSubObject  MINE01 MINE03 MINE04 MINE05 MINE07 MINE08
HideSubObject  MINE02 MINE06
ParticleSysBone  Mine01 MineFX
ParticleSysBone  Mine03 MineFX
ParticleSysBone  Mine04 MineFX
ParticleSysBone  Mine05 MineFX
ParticleSysBone  Mine07 MineFX
ParticleSysBone  Mine08 MineFX
WaitForStateToFinishIfPossible  TRANS_DEPLOYED
End

ConditionState  USER_2 REALLYDAMAGED
Model  EXClstrMine_F
ShowSubObject  MINE01 MINE03 MINE05 MINE07
HideSubObject  MINE02 MINE04 MINE06 MINE08
ParticleSysBone  Mine01 MineFX
ParticleSysBone  Mine03 MineFX
ParticleSysBone  Mine05 MineFX
ParticleSysBone  Mine07 MineFX
WaitForStateToFinishIfPossible  TRANS_DEPLOYED
End

ConditionState  RUBBLE
Model  NONE
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:StructureMine
Side               China
EditorSorting      MISC_MAN_MADE

KindOf  DEMOTRAP NO_HEAL_ICON

ArmorSet
Conditions       None
Armor            MineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; alas, this DOES need ai...
Behavior  AIUpdateInterface ModuleTag_AI01
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay        2000 ; msec
FriendlyOpacityMin  100.0%
FriendlyOpacityMax  100.0%
InnateStealth       Yes
OrderIdleEnemiesToAttackMeUponReveal  Yes
End

; this is a misleading name, since it's really single-Mine Behavior...
Behavior  MinefieldBehavior ModuleTag_04
DetonationWeapon             ClusterMineWeapon
DetonatedBy                  ENEMIES NEUTRAL
ScootFromStartingPointTime   1000
RepeatDetonateMoveThresh     5.0
NumVirtualMines              8
Regenerates                  No            ; Cluster mines do not regenerate.
End

Behavior  ModelConditionUpgrade ModuleTag_19
ConditionFlag  USER_2
TriggeredBy    Upgrade_CostReduction
End

Geometry             CYLINDER
GeometryMajorRadius  30.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object ChinaStandardMine

; *** ART Parameters ***
SelectPortrait          SSMineBunker_L
ButtonImage             SSMineBunker

Draw  W3DModelDraw ModuleTag_01

ConditionState     NONE
Model            EXMine_N
ParticleSysBone  Mine01 MineFX
ParticleSysBone  Mine02 MineFX
ParticleSysBone  Mine03 MineFX
ParticleSysBone  Mine04 MineFX
ParticleSysBone  Mine05 MineFX
ParticleSysBone  Mine06 MineFX
ParticleSysBone  Mine07 MineFX
ParticleSysBone  Mine08 MineFX
End

ConditionState     RUBBLE
Model            NONE
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:StructureMine
Side               China
EditorSorting      MISC_MAN_MADE

KindOf  DEMOTRAP NO_HEAL_ICON

ArmorSet
Conditions       None
Armor            MineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; alas, this DOES need ai...
Behavior  AIUpdateInterface ModuleTag_AI01
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay        2000 ; msec
FriendlyOpacityMin  100.0%
FriendlyOpacityMax  100.0%
InnateStealth       Yes
OrderIdleEnemiesToAttackMeUponReveal  Yes
End

; this is a misleading name, since it's really single-Mine Behavior...
Behavior  MinefieldBehavior ModuleTag_04
DetonationWeapon             StructureMineWeapon
DetonatedBy                  ENEMIES
RepeatDetonateMoveThresh     5.0
NumVirtualMines              8
Regenerates                  Yes
StopsRegenAfterCreatorDies   Yes
DegenPercentPerSecondAfterCreatorDies  3.33%  ; take about 30 seconds to die.
End

; Standard mines DO heal.
Behavior  AutoHealBehavior ModuleTag_05
StartsActive       Yes
HealingAmount      20
HealingDelay       5000 ; msec
StartHealingDelay  15000 ; wait this long after we are damaged to start healing
End

Geometry             CYLINDER
GeometryMajorRadius  30.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object DragonTankFlameProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NULL
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End
Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  350
DetonateOnNoFuel  Yes
InitialVelocity  120                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  2
GarrisonHitKillRequiredKindOf  INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount  2
GarrisonHitKillFX  FX_DragonFlameGarrisonBuildingHit
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.

End
Locomotor  SET_NORMAL DragonTankFlameLocomotor

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke02
PristineParticleSystem8   bone:NULL OnlyOnce:Yes  0  0 PSys:FlameThrowerTrail02
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object FlamethrowerProjectileStream

; *** ART Parameters ***
Draw  W3DProjectileStreamDraw ModuleTag_01
Texture  EXfthrowerStream.tga
Width  1.5
TileFactor  3.0 ; put the texture on the line segment this many times
ScrollRate  2.0; scroll the texture offset this fast
MaxSegments  4 ; only play the first X if there are a ton of them. 0 means play all
End

; *** ENGINEERING Parameters ***
KindOf  INERT
Behavior  ProjectileStreamUpdate ModuleTag_02
;nothing
End

End

;------------------------------------------------------------------------------
Object DragonTankFlameProjectileUpgraded

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NULL
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End
Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  350
DetonateOnNoFuel  Yes
InitialVelocity  120                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  2
GarrisonHitKillRequiredKindOf  INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount  2
GarrisonHitKillFX  FX_DragonFlameGarrisonBuildingHit
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.

End
Locomotor  SET_NORMAL DragonTankFlameLocomotor

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerSmoke02
PristineParticleSystem8   bone:NULL OnlyOnce:Yes  0  0 PSys:FlameThrowerTrail02Upgraded
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object FlamethrowerProjectileStreamUpgraded

; *** ART Parameters ***
Draw  W3DProjectileStreamDraw ModuleTag_01
Texture  EXfthrowerStreamUpgraded.tga
Width  1.5
TileFactor  3.0 ; put the texture on the line segment this many times
ScrollRate  2.0; scroll the texture offset this fast
MaxSegments  4 ; only play the first X if there are a ton of them. 0 means play all
End

; *** ENGINEERING Parameters ***
KindOf  INERT
Behavior  ProjectileStreamUpdate ModuleTag_02
;nothing
End

End

;------------------------------------------------------------------------------
Object PyroFlameProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NULL
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             1  ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke02
PristineParticleSystem8   bone:NULL OnlyOnce:Yes  0  0 PSys:FlameThrowerTrail02
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object PyroFlameProjectileUpgraded

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NULL
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             1  ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerSmoke02
PristineParticleSystem8   bone:NULL OnlyOnce:Yes  0  0 PSys:FlameThrowerTrail02Upgraded
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object BlackLotusTrackingDevice ;Created by Black Lotus

;No drawable because it's invisible
; *** ART Parameters ***

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  200.0  ;Allow the stickybomb to show itself to user?
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
StickyBombCreated  LotusTrackingDeviceSet
End

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf   PROJECTILE MINE NO_COLLIDE

Body  HighlanderBody ModuleTag_NewBody
MaxHealth  1.0
InitialHealth  1.0
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           50.0%
InnateStealth                Yes
End

Behavior  StickyBombUpdate ModuleTag_04
End

Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay  1
Weapon               FINAL   LotusTrackingDeviceOverloadWeapon
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object BlackLotusTrackingDeviceEMPEffectSpheroid

KindOf  NO_COLLIDE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXEMPSphere
Animation        EXEMPSphere.EXEMPSphere
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     10000
Lifetime             500
StartFadeTime        100
StartScale           0.01
TargetScaleMin       0.50
TargetScaleMax       1.20
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         10.0
DisableFXParticleSystem  EMPSparks
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object BlackLotusTrackingDeviceEMPEffectSpheroid_Structure

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     10000
Lifetime             500
StartFadeTime        100
StartScale           0.01
TargetScaleMin       0.50
TargetScaleMax       1.20
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         20.0
DisableFXParticleSystem  EMPSparks
VictimForbiddenKindOf         VEHICLE
VictimRequiredKindOf         STRUCTURE
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End



;------------------------------------------------------------------------------
Object InfernoTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState         NONE
Model                AVTankShel
ParticleSysBone      None InfernoTrail
End
ConditionState         USER_1
Model                AVTankShel
ParticleSysBone      None InfernoTrailUpgraded
End
End

; *** AUDIO Parameters ***
SoundAmbient  InfernoCannonIncomingWhistle

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_09
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  170
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  10
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  Yes
OnlyWhenMovingDown  Yes
InitialDelay                     4000 ; Can't explode in the first second so we don't explode on the pad
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_07
DeathWeapon    SmallFireFieldCreationWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_08
DeathWeapon    SmallFireFieldUpgradedCreationWeapon
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  ModelConditionUpgrade ModuleTag_0932
ConditionFlag  USER_1
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  FXListDie ModuleTag_0228
DeathFX  WeaponFX_InfernoTankShellDetonation
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object NukeneerMiniNuke

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ConditionState  NONE
Model          EXMiniNuke
Animation      EXMiniNuke.EXMiniNuke
AnimationMode  LOOP
ParticleSysBone      None NukeneerMiniNukeExhaust
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  IncomingShellRocketWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_InfantryKill01
DeathWeapon    NukeneerMiniNukeInfantryKiller
StartsActive   Yes
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicNukeneerMiniNuke NukeneerMiniNuke
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model          EXMiniNuke
Animation      EXMiniNuke.EXMiniNuke
AnimationMode  LOOP
ParticleSysBone      None HeroicNukeneerMiniNukeExhaust
End
End
End

;------------------------------------------------------------------------------
Object NukeneerNukeExplosion

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE INERT NO_COLLIDE UNATTACKABLE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_01
MaxHealth         120.0
InitialHealth     120.0
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    NukeneerMiniNukeRadiationFieldSpawnWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_04
End

Geometry             CYLINDER
GeometryMajorRadius  25.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object DragonTankFlamethrowerProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NULL
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End
Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  1000
DetonateOnNoFuel  Yes
InitialVelocity  120                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  2
GarrisonHitKillRequiredKindOf  INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount  2
GarrisonHitKillFX  FX_DragonFlameGarrisonBuildingHit
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL DragonTankFlamethrowerLocomotor

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_FlameThrowerSmoke02
PristineParticleSystem8   bone:NULL OnlyOnce:Yes  0  0 PSys:FlameThrowerTrail02
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object DragonTankFlamethrowerProjectileUpgraded

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NULL
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End
Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  1000
DetonateOnNoFuel  Yes
InitialVelocity  120                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  2
GarrisonHitKillRequiredKindOf  INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount  2
GarrisonHitKillFX  FX_DragonFlameGarrisonBuildingHit
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL DragonTankFlamethrowerLocomotor

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail01 ; Covers gap at beginning of line
PristineParticleSystem2   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail02
PristineParticleSystem3   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail03
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail04
PristineParticleSystem4   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail05
PristineParticleSystem5   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerTrail06
PristineParticleSystem6   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerSmoke01
PristineParticleSystem7   bone:NULL OnlyOnce:Yes  0  0 PSys:ALPHA_BlackFlameThrowerSmoke02
PristineParticleSystem8   bone:NULL OnlyOnce:Yes  0  0 PSys:FlameThrowerTrail02Upgraded
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object HopperTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  WeaponBonusUpgrade ModuleTag_06
TriggeredBy  Upgrade_ChinaUraniumShells
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object BattleMasterTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  WeaponBonusUpgrade ModuleTag_06
TriggeredBy  Upgrade_ChinaUraniumShells
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object OverlordTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  None GenericTankShellLargeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  WeaponBonusUpgrade ModuleTag_06
TriggeredBy  Upgrade_ChinaUraniumShells
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrower01
ParticleSysBone  None ShenlongFlameThrower02
ParticleSysBone  None ShenlongFlameThrower03
ParticleSysBone  None ShenlongFlameThrower04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongFlameThrowerDamageWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongFlameThrowerSecondaryDamageWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongFlameThrowerDamageWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongFlameThrowerSecondaryDamageWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrower01
ParticleSysBone  None ShenlongFlameThrower02
ParticleSysBone  None ShenlongFlameThrower03
ParticleSysBone  None ShenlongFlameThrower04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke

End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongVeteranFlameThrowerDamageWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongVeteranFlameThrowerSecondaryDamageWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongVeteranFlameThrowerDamageWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongVeteranFlameThrowerSecondaryDamageWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

;This Module triggers the % based bonuses found on the damage weapons
Behavior  WeaponBonusUpgrade ModuleTag_VeterancyBonus01
TriggeredBy  Upgrade_CostReduction
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrower01
ParticleSysBone  None ShenlongFlameThrower02
ParticleSysBone  None ShenlongFlameThrower03
ParticleSysBone  None ShenlongFlameThrower04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke

End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongEliteFlameThrowerDamageWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongEliteFlameThrowerSecondaryDamageWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongEliteFlameThrowerDamageWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongEliteFlameThrowerSecondaryDamageWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

;This Module triggers the % based bonuses found on the damage weapons
Behavior  WeaponBonusUpgrade ModuleTag_VeterancyBonus01
TriggeredBy  Upgrade_CostReduction
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrower01
ParticleSysBone  None ShenlongFlameThrower02
ParticleSysBone  None ShenlongFlameThrower03
ParticleSysBone  None ShenlongFlameThrower04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke

End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongHeroicFlameThrowerDamageWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongHeroicFlameThrowerSecondaryDamageWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongHeroicFlameThrowerDamageWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongHeroicFlameThrowerSecondaryDamageWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

;This Module triggers the % based bonuses found on the damage weapons
Behavior  WeaponBonusUpgrade ModuleTag_VeterancyBonus01
TriggeredBy  Upgrade_CostReduction
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallProjectileUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrowerUpgraded01
ParticleSysBone  None ShenlongFlameThrowerUpgraded02
ParticleSysBone  None ShenlongFlameThrowerUpgraded03
ParticleSysBone  None ShenlongFlameThrowerUpgraded04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsUpgradedWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongFlameThrowerDamageUpgradedWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongFlameThrowerDamageSecondaryUpgradedWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongFlameThrowerDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongFlameThrowerDamageSecondaryUpgradedWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallVeteranProjectileUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrowerUpgraded01
ParticleSysBone  None ShenlongFlameThrowerUpgraded02
ParticleSysBone  None ShenlongFlameThrowerUpgraded03
ParticleSysBone  None ShenlongFlameThrowerUpgraded04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke

End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsUpgradedWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongVeteranFlameThrowerDamageUpgradedWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongVeteranFlameThrowerSecondaryDamageUpgradedWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongVeteranFlameThrowerDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongVeteranFlameThrowerSecondaryDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

;This Module triggers the % based bonuses found on the damage weapons
Behavior  WeaponBonusUpgrade ModuleTag_VeterancyBonus01
TriggeredBy  Upgrade_CostReduction
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallEliteProjectileUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrowerUpgraded01
ParticleSysBone  None ShenlongFlameThrowerUpgraded02
ParticleSysBone  None ShenlongFlameThrowerUpgraded03
ParticleSysBone  None ShenlongFlameThrowerUpgraded04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke

End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsUpgradedWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongEliteFlameThrowerDamageUpgradedWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongEliteFlameThrowerSecondaryDamageUpgradedWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongEliteFlameThrowerDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongEliteFlameThrowerSecondaryDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

;This Module triggers the % based bonuses found on the damage weapons
Behavior  WeaponBonusUpgrade ModuleTag_VeterancyBonus01
TriggeredBy  Upgrade_CostReduction
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object ShenlongFlameWallHeroicProjectileUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NONE;EXShnFlm
;Flame Particles
ParticleSysBone  None ShenlongFlameThrowerUpgraded01
ParticleSysBone  None ShenlongFlameThrowerUpgraded02
ParticleSysBone  None ShenlongFlameThrowerUpgraded03
ParticleSysBone  None ShenlongFlameThrowerUpgraded04
;Smoke Particles
ParticleSysBone  None ShenlongFlameThrowerSmoke

End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget  No
FuelLifetime  0
DetonateOnNoFuel  No
InitialVelocity  110                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  200000
DistanceToTargetForLock  0  ; If it gets within 100 of the target, it kills the target.
KillSelfDelay                    500
End
Locomotor  SET_NORMAL ShenlongFlameLocomotor

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         ShenlongKillInfantryInGarrisonsUpgradedWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  FireWeaponUpdate ModuleTag_Damage01
Weapon  ShenlongHeroicFlameThrowerDamageUpgradedWeapon
End

Behavior  FireWeaponUpdate ModuleTag_Damage02
Weapon  ShenlongHeroicFlameThrowerSecondaryDamageUpgradedWeapon
InitialDelay  400
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon    ShenlongHeroicFlameThrowerDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon02
DeathWeapon    ShenlongHeroicFlameThrowerSecondaryDamageUpgradedWeapon
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_026
MinLifetime  1100
MaxLifetime  1100
End

;This Module triggers the % based bonuses found on the damage weapons
Behavior  WeaponBonusUpgrade ModuleTag_VeterancyBonus01
TriggeredBy  Upgrade_CostReduction
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object DisruptorMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXFlkRckt
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget    Yes
FuelLifetime         10000
InitialVelocity      75                ; in dist/sec
IgnitionDelay        30
IgnitionFX           FX_NapalmMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object DisruptorEmpMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVMiG_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget    Yes
FuelLifetime         10000
InitialVelocity      75                ; in dist/sec
IgnitionDelay        30
IgnitionFX           FX_NapalmMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.2

End


;------------------------------------------------------------------------------
Object NeutronMissile

; *** ART Parameters ***
Draw                W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState    NONE
Model           NBNRocket
End
ConditionState    DAMAGED REALLYDAMAGED RUBBLE
Model           NONE
End

End

; ***DESIGN parameters ***
DisplayName         OBJECT:NeutronMissile
KindOf              UNATTACKABLE
EditorSorting       SYSTEM
VisionRange  300.0
ShroudClearingRange  0
TransportSlotCount  10
ArmorSet
Conditions        None
Armor             ProjectileArmor
DamageFX          None
End

; *** AUDIO Parameters ***
; SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         99999999.0
InitialHealth     99999999.0
End

Behavior  NeutronMissileUpdate ModuleTag_03
DistanceToTravelBeforeTurning  300       ; goes straight up a long ways first
MaxTurnRate  7200                        ; huge, since it turns off-camera
ForwardDamping  0.1
RelativeSpeed  2.0
LaunchFX  FX_NeutronMissileLaunch
IgnitionFX  FX_NeutronMissileIgnition
TargetFromDirectlyAbove  500      ; aim for an intermed spot directly above the target, so we come straight down onto it
SpecialAccelFactor  1
SpecialSpeedTime  1500
SpecialSpeedHeight  160
SpecialJitterDistance  0.4
DeliveryDecalRadius  210
DeliveryDecal
Texture            SCCNuclearMissile_China
Style              SHADOW_ALPHA_DECAL
OpacityMin         25%
OpacityMax         50%
OpacityThrobTime   500
Color              R:255 G:0 B:0 A:255
OnlyVisibleToOwningPlayer  Yes
End
End

Behavior  HeightDieUpdate ModuleTag_04
TargetHeight         40.0
TargetHeightIncludesStructures  Yes
OnlyWhenMovingDown   Yes
SnapToGroundOnDeath  Yes
InitialDelay                     1000 ; Can't explode in the first second so we don't explode on the pad
End

Behavior  SpecialPowerCompletionDie ModuleTag_05
SpecialPowerTemplate  SuperweaponNeutronMissile
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_NeutronMissileBallOfDeath
End

Behavior  FXListDie ModuleTag_07
DeathFX  FX_NeutronMissileBallOfDeathSound
End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Geometry  CYLINDER
GeometryIsSmall  Yes
GeometryMajorRadius  7.0
GeometryHeight  60.0

End

Object NeutronMissileBallOfDeath

KindOf  NO_COLLIDE UNATTACKABLE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXNukeSphere
Animation        EXNukeSphere.EXNukeSphere
AnimationMode       LOOP
ParticleSysBone  None NeutronMissileBallImplode
ParticleSysBone  None NeutronMissileBallFlare
End
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Body  ActiveBody ModuleTag_Health
MaxHealth         99999999.0
InitialHealth     99999999.0
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     1
EffectRadius         0.000001
Lifetime             3000
StartFadeTime        300
StartScale           0.20
TargetScaleMin       2.20
TargetScaleMax       2.50
StartColor           R:255 G:255 B:255
EndColor             R:0 G:0 B:0
DoesNotAffectMyOwnBuildings  Yes
DoesNotAffect        ALLIES ENEMIES NEUTRALS
End

Behavior        OCLUpdate ModuleTag_03
OCL           OCL_NeutronMissileDummyObject
MinDelay      2000
MaxDelay      2000
End

Behavior        OCLUpdate ModuleTag_jada03
OCL           OCL_NeutronMissileShockWaveBall
MinDelay      2000
MaxDelay      2000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  NeutronMissileBallFlameWeapon
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  NeutronBallOfDeathLightEffectWeapon
End

Behavior  LifetimeUpdate ModuleTag_08
MinLifetime  2800   ; min lifetime in msec
MaxLifetime  2800   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             SPHERE
GeometryMajorRadius  30.0
GeometryIsSmall      No
End

Object NeutronMissileShockwaveSphereOfDeath

KindOf  NO_COLLIDE UNATTACKABLE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            ExNukeShock
Animation        ExNukeShock.ExNukeShock
AnimationMode    LOOP
End
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Body  ActiveBody ModuleTag_Health
MaxHealth         99999999.0
InitialHealth     99999999.0
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     1
EffectRadius         0.000001
Lifetime             1200
StartFadeTime        300
StartScale           0.60
TargetScaleMin       6.00
TargetScaleMax       6.00
StartColor           R:255 G:255 B:255
EndColor             R:0 G:0 B:0
DoesNotAffect        ALLIES ENEMIES NEUTRALS
End

Behavior  LifetimeUpdate ModuleTag_08
MinLifetime  1300   ; min lifetime in msec
MaxLifetime  1300   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             SPHERE
GeometryMajorRadius  30.0
GeometryIsSmall      No
End

Object NeutronMissileFlashObject

Behavior  FXListDie ModuleTag_14
DeathFX   FX_NukeFlash
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1100   ; min lifetime in msec
MaxLifetime  1100   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             SPHERE
GeometryMajorRadius  30.0
GeometryIsSmall      No
End

Object NeutronMissileDUMMYObject

; ***DESIGN parameters ***
DisplayName         OBJECT:NeutronMissile
EditorSorting       SYSTEM
VisionRange  300.0
ShroudClearingRange  0
ArmorSet
Conditions        None
Armor             ProjectileArmor
DamageFX          None
End

; *** AUDIO Parameters ***
; SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_01
MaxHealth         99999999.0
InitialHealth     99999999.0
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FXListDie ModuleTag_08234545435243524542
DeathFX  WeaponFX_NeutronMissileBallLensFlare
End

Behavior  NeutronMissileSlowDeathBehavior ModuleTag_06
DestructionDelay     3501
FXList               FX_Nuke

Blast1Enabled        Yes
Blast1Delay          300     ;in milliseconds
Blast1ScorchDelay    100     ;in milliseconds
Blast1InnerRadius    120.0    ;objects inside this get the full damage
Blast1OuterRadius    230.0   ;objects inside this get some of the full damage
Blast1MaxDamage      400.0  ;damage within inner radius of blast
Blast1MinDamage      250.0   ;always do at least this much damage to objects
Blast1ToppleSpeed    0.5     ;higher #'s topple faster
Blast1PushForce      10.0    ;higher #'s push more

Blast2Enabled        Yes
Blast2Delay          600    ;in milliseconds
Blast2ScorchDelay    180     ;in milliseconds
Blast2InnerRadius    120.0    ;objects inside this get the full damage
Blast2OuterRadius    230.0   ;objects inside this get some of the full damage
Blast2MaxDamage      400.0  ;damage within inner radius of blast
Blast2MinDamage      250.0   ;always do at least this much damage to objects
Blast2ToppleSpeed    0.45    ;higher #'s topple faster
Blast2PushForce      8.0     ;higher #'s push more

Blast3Enabled        Yes
Blast3Delay          900    ;in milliseconds
Blast3ScorchDelay    260     ;in milliseconds
Blast3InnerRadius    120.0    ;objects inside this get the full damage
Blast3OuterRadius    230.0   ;objects inside this get some of the full damage
Blast3MaxDamage      400.0  ;damage within inner radius of blast
Blast3MinDamage      250.0   ;always do at least this much damage to objects
Blast3ToppleSpeed    0.42    ;higher #'s topple faster
Blast3PushForce      6.0     ;higher #'s push more

Blast4Enabled        Yes
Blast4Delay          1200    ;in milliseconds
Blast4ScorchDelay    340     ;in milliseconds
Blast4InnerRadius    120.0    ;objects inside this get the full damage
Blast4OuterRadius    230.0   ;objects inside this get some of the full damage
Blast4MaxDamage      400.0  ;damage within inner radius of blast
Blast4MinDamage      250.0   ;always do at least this much damage to objects
Blast4ToppleSpeed    0.40    ;higher #'s topple faster
Blast4PushForce      6.0     ;higher #'s push more

Blast5Enabled        Yes
Blast5Delay          1500    ;in milliseconds
Blast5ScorchDelay    420     ;in milliseconds
Blast5InnerRadius    120.0    ;objects inside this get the full damage
Blast5OuterRadius    230.0   ;objects inside this get some of the full damage
Blast5MaxDamage      400.0  ;damage within inner radius of blast
Blast5MinDamage      250.0   ;always do at least this much damage to objects
Blast5ToppleSpeed    0.38    ;higher #'s topple faster
Blast5PushForce      6.0     ;higher #'s push more

Blast6Enabled        Yes
Blast6Delay          1800    ;in milliseconds
Blast6ScorchDelay    500     ;in milliseconds
Blast6InnerRadius    120.0    ;objects inside this get the full damage
Blast6OuterRadius    230.0   ;objects inside this get some of the full damage
Blast6MaxDamage      400.0  ;damage within inner radius of blast
Blast6MinDamage      250.0   ;always do at least this much damage to objects
Blast6ToppleSpeed    0.35    ;higher #'s topple faster
Blast6PushForce      4.0     ;higher #'s push more

Blast7Enabled        Yes
Blast7Delay          2100  ;in milliseconds, don't do the damage wave
Blast7InnerRadius    120.0    ;objects inside this get the full damage
Blast7OuterRadius    230.0   ;objects inside this get some of the full damage
Blast7MaxDamage      400.0  ;damage within inner radius of blast
Blast7MinDamage      250.0   ;always do at least this much damage to objects
Blast7ScorchDelay    620     ;in milliseconds
Blast7OuterRadius    210.0   ;objects inside this get some of the full damage

Blast8Enabled        Yes
Blast8Delay          2400  ;in milliseconds, don't do the damage wave
Blast8InnerRadius    120.0    ;objects inside this get the full damage
Blast8OuterRadius    230.0   ;objects inside this get some of the full damage
Blast8MaxDamage      400.0  ;damage within inner radius of blast
Blast8MinDamage      250.0   ;always do at least this much damage to objects
Blast8ScorchDelay    700     ;in milliseconds
Blast8OuterRadius    210.0   ;objects inside this get some of the full damage

Blast9Enabled        Yes
Blast9Delay          2700  ;in milliseconds, don't do the damage wave
Blast9InnerRadius    120.0    ;objects inside this get the full damage
Blast9OuterRadius    230.0   ;objects inside this get some of the full damage
Blast9MaxDamage      400.0  ;damage within inner radius of blast
Blast9MinDamage      250.0   ;always do at least this much damage to objects
Blast9ScorchDelay    800     ;in milliseconds
Blast9OuterRadius    210.0   ;objects inside this get some of the full damage

OCL             MIDPOINT   OCL_NukeRadiationField
OCL             INITIAL    OCL_NuclearMissileCraterObject
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_08
DeathWeapon    NuclearMissileShockwaveSpawnerWeapon1
StartsActive   Yes
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  7.0
GeometryHeight  60.0

End

Object NuclearMissileShockwaveDelayObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         9999.0
InitialHealth     9999.0
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_08
DeathWeapon    NuclearMissileShockwaveSpawnerWeapon2
StartsActive   Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  300  ; 45 seconds
MaxLifetime  300
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
End

Geometry             CYLINDER
GeometryMajorRadius  70.0
GeometryHeight       1.0
GeometryIsSmall      No

End

Object NuclearMissileShockwaveObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

ArmorSet
Conditions       None
Armor            HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         9999.0
InitialHealth     9999.0
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  NuclearMissileShockwaveWeapon
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  2701  ; 45 seconds
MaxLifetime  2701
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_07
End

Geometry             CYLINDER
GeometryMajorRadius  70.0
GeometryHeight       1.0
GeometryIsSmall      No

End


;------------------------------------------------------------------------------
Object DragonTankFireStormSpawner

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  StatusBitsUpgrade ModuleTag_09322416
StatusToSet  STATUS_RIDER8
TriggeredBy  Upgrade_FireStormShells
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    FirestormSmallCreationWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
RequiredStatus  STATUS_RIDER8
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    BlackNapalmFirestormSmallCreationWeapon
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
RequiredStatus  STATUS_RIDER8
End

Behavior  LifetimeUpdate ModuleTag_10
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

End


;------------------------------------------------------------------------------
Object InfernoCannonFireStormSpawner

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    FirestormSmallCreationWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    BlackNapalmFirestormSmallCreationWeapon
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Behavior  LifetimeUpdate ModuleTag_10
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

End

;------------------------------------------------------------------------------
Object TankHunterExplosiveSatchelProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXSatchel
ParticleSysBone  None GenericTankShellTrail
End
ConditionState  RUBBLE
Model  NONE
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_0332
TumbleRandomly                   No
DetonateCallsKill                Yes
FirstHeight                      30
SecondHeight                     30
FirstPercentIndent               50%
SecondPercentIndent              90%
FlightPathAdjustDistPerSecond    100
End

;we wait before destroying ourselfs to transfer experince for veterancy
Behavior  SlowDeathBehavior ModuleTag_Removeme01
DestructionDelay  6000
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    ChinaInfantryTankHunterSatchelChargeDelayedDetonationWeapon
StartsActive   Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object TankHunterExplosiveSatchelExplosionObject

; ***DESIGN parameters ***
EditorSorting      SYSTEM

ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE ALWAYS_VISIBLE NO_COLLIDE CAN_ATTACK UNATTACKABLE IMMOBILE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  ChinaInfantryTankHunterSatchelChargeDetonationWeapon
InitialDelay  3000
End

Behavior  DeletionUpdate ModuleTag_Remove
MinLifetime  3500
MaxLifetime  3500
End

End

;------------------------------------------------------------------------------
Object ShenlongGarrisonClearingProjectile

; ***DESIGN parameters ***
EditorSorting  SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             1
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;------------------------------------------------------------------------------
Object ShenlongEmpMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVMiG_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Missile
EditorSorting        SYSTEM
VisionRange          0.0  ; Projectiles can't see, but superweapons *may need to*
TransportSlotCount   1    ; since Napalm Strike carries us as payload, not weapon
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL +DETONATED
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill    Yes
TryToFollowTarget    Yes
FuelLifetime         10000
InitialVelocity      75                ; in dist/sec
IgnitionDelay        30
IgnitionFX           FX_NapalmMissileIgnition
End
Locomotor  SET_NORMAL TankHunterMissileLocomotor

Behavior  FireWeaponWhenDeadBehavior ModuleTag_0723516
DeathWeapon    ShenlongEmpMissileDissableWeapon
StartsActive   Yes
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  1.2

End

;------------------------------------------------------------------------------
Object ShenlongMiniNuke

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ConditionState  NONE
Model          EXMiniNuke
Animation      EXMiniNuke.EXMiniNuke
AnimationMode  LOOP
ParticleSysBone      None NukeneerMiniNukeExhaust
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  IncomingShellRocketWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  60
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_InfantryKill01
DeathWeapon    NukeneerMiniNukeInfantryKiller
StartsActive   Yes
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object ChinaParaBombOneParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End
Draw  W3DModelDraw ModuleTag_Bomb01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVParaBomb
HideSubObject  Bomb02 Bomb03
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParaBombParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    5.0   ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE PRELOAD
ParachuteOpenSound   ParachuteOpen
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger01
Weapon  ParaBombSoundTriggerWeapon
End

Behavior  HeightDieUpdate ModuleTag_Death01
TargetHeight  10.0
TargetHeightIncludesStructures  No
End

Behavior  InstantDeathBehavior ModuleTag_Death02
FX          FX_SpiritCarpetBomb
Weapon      ParaBombsExplosionWeapon
End

Behavior  DestroyDie ModuleTag_Death03
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object ChinaParaBombTwoParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End
Draw  W3DModelDraw ModuleTag_Bomb01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVParaBomb
HideSubObject  Bomb01 Bomb03
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End


; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParaBombParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    5.0   ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE PRELOAD
ParachuteOpenSound   ParachuteOpen
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger01
Weapon  ParaBombSoundTriggerWeapon
End

Behavior  HeightDieUpdate ModuleTag_Death01
TargetHeight  10.0
TargetHeightIncludesStructures  No
End

Behavior  InstantDeathBehavior ModuleTag_Death02
OCL         OCL_SmartBombExplosion
Weapon      ParaBombsHeavyExplosionWeapon
End

Behavior  DestroyDie ModuleTag_Death03
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object ChinaParaBombThreeParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  EXBmbCh
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End
Draw  W3DModelDraw ModuleTag_Bomb01
OkToChangeModelColor  Yes
DefaultConditionState
Model  NVParaBomb
HideSubObject  Bomb01 Bomb02
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End


; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParaBombParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    5.0   ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE PRELOAD
ParachuteOpenSound   ParachuteOpen
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger01
Weapon  ParaBombSoundTriggerWeapon
End

Behavior  HeightDieUpdate ModuleTag_Death01
TargetHeight  10.0
TargetHeightIncludesStructures  No
End

Behavior  InstantDeathBehavior ModuleTag_Death02
OCL         OCL_NukeCannonExplosion
Weapon      ParaBombsNuclearExplosionWeapon
End

Behavior  DestroyDie ModuleTag_Death03
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object DragonTankFireballProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXFlmBall
ParticleSysBone  None InfernoTrail
ParticleSysBone  NONE ALPHA_FlameThrowerTrail01
ParticleSysBone  NONE ALPHA_FlameThrowerTrail02
ParticleSysBone  NONE ALPHA_FlameThrowerTrail03
ParticleSysBone  NONE ALPHA_FlameThrowerTrail04
ParticleSysBone  NONE ALPHA_FlameThrowerTrail05
ParticleSysBone  NONE ALPHA_FlameThrowerTrail06
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke01
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke02
ParticleSysBone  NONE FlameThrowerTrail02
End
ConditionState  USER_1
Model  EXBNFlmBall
ParticleSysBone  None InfernoTrailUpgraded
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail01
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail02
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail03
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail04
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail05
ParticleSysBone  NONE ALPHA_BlackFlameThrowerTrail06
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke01
ParticleSysBone  NONE ALPHA_FlameThrowerSmoke02
ParticleSysBone  NONE FlameThrowerTrail02Upgraded
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             2 ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_DragonFlameGarrisonBuildingHit
End

Behavior  ModelConditionUpgrade ModuleTag_0932
ConditionFlag  USER_1
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  StatusBitsUpgrade ModuleTag_09322416
StatusToSet  STATUS_RIDER8
TriggeredBy  Upgrade_ChinaBlackNapalm
End

Behavior  SlowDeathBehavior ModuleTag_03
RequiredStatus  STATUS_RIDER8
DestructionDelay  2000
Weapon  INITIAL  DragonTankFireBallFireFieldWeapon
Weapon  MIDPOINT DragonTankFireBallFireFieldWeapon
Weapon  FINAL    DragonTankFireBallFireFieldWeapon
End

Behavior  SlowDeathBehavior ModuleTag_03462789
RequiredStatus  STATUS_RIDER8
DestructionDelay  2000
Weapon  INITIAL  DragonTankFireBallFireFieldUpgradedWeapon
Weapon  MIDPOINT DragonTankFireBallFireFieldUpgradedWeapon
Weapon  FINAL    DragonTankFireBallFireFieldUpgradedWeapon
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_079867
DeathWeapon    SmallFireFieldCreationWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_0868764
DeathWeapon    SmallFireFieldUpgradedCreationWeapon
StartsActive   No
TriggeredBy    Upgrade_ChinaBlackNapalm
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;--------------------------------------------------------------------------------------------------------------
Object ECMBurstSatelliteBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser4.tga
NumBeams  3                        ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  1                  ;The total width of beam
InnerColor  R:20 G:25 B:5 A:100     ;The inside color of the laser (hot)
OuterBeamWidth  50                 ;The total width of beam
OuterColor  R:200 G:255 B:0  A:75  ;The outside color of the laser (cool)
Tile  Yes                          ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  35                     ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                        ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  1             ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  0.05                 ;Stretches tiling if value = 1.0, otherwise shrinks it (1.0 is natural)
End

KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  ECMBurstSatelliteFlare
TargetParticleSystem  ECMBurstSatelliteGroundImpactFlare
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  260   ; min lifetime in msec
MaxLifetime  500   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_04
End
End
;------------------------------------------------------------------------------
Object ChinaJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            NVCargoPln
Animation        NVCargoPln.NVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            NVCargoPln_D
Animation        NVCargoPln_D.NVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  REALLYDAMAGED
Model            NVCargoPln_D
Animation        NVCargoPln_D.NVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  RUBBLE
Model            NVCargoPln_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NVCargoPln_A2
Animation        NVCargoPln_A2.NVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            NVCargoPln_A2
Animation        NVCargoPln_A2.NVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            NVCargoPln_A2
Animation        NVCargoPln_A2.NVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End


; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ShaanxiAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior     OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponClusterMines
OCL                   SUPERWEAPON_ClusterMines
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_13
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaJetBomberPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            NVBomber
Animation        NVBomber.NVBomber
AnimationMode    LOOP
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            NVBomber_D
Animation        NVBomber_D.NVBomber_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  REALLYDAMAGED
Model            NVBomber_D
Animation        NVBomber_D.NVBomber_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  RUBBLE
Model            NVBomber_D1
Animation        NVBomber_D1.NVBomber_D1
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NVBomber_A1
Animation        NVBomber_A1.NVBomber_A1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            NVBomber_A1
Animation        NVBomber_A1.NVBomber_A1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            NVBomber_A1
Animation        NVBomber_A1.NVBomber_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End


; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ChinaH8BomberAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior     OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponEMPPulse
OCL                   SUPERWEAPON_EMPPulse
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponECMBomb
UpgradeOCL            SCIENCE_ECMBomb3 SUPERWEAPON_ECMBomb3
UpgradeOCL            SCIENCE_ECMBomb2 SUPERWEAPON_ECMBomb2
OCL                   SUPERWEAPON_ECMBomb1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_13
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaJetBadgerBomber

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            NVXianH6
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            NVXianH6_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model            NVXianH6_D1
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  XianH6AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        700.0
InitialHealth    700.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End

Locomotor  SET_NORMAL BadgerLocomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior     OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponNapalmStrike
OCL                   SUPERWEAPON_NapalmStrike
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End


Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
Scale  0.93

End

;------------------------------------------------------------------------------
Object ChinaJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            NVCargoPln
Animation        NVCargoPln.NVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            NVCargoPln_D
Animation        NVCargoPln_D.NVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  REALLYDAMAGED
Model            NVCargoPln_D
Animation        NVCargoPln_D.NVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  RUBBLE
Model            NVCargoPln_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NVCargoPln_A2
Animation        NVCargoPln_A2.NVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            NVCargoPln_A2
Animation        NVCargoPln_A2.NVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            NVCargoPln_A2
Animation        NVCargoPln_A2.NVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End


; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ShaanxiAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior     OCLSpecialPower ModuleTag_08
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End
Behavior     OCLSpecialPower ModuleTag_10
SpecialPowerTemplate  SuperweaponClusterMines
OCL                   SUPERWEAPON_ClusterMines
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End
Behavior     OCLSpecialPower ModuleTag_11
SpecialPowerTemplate  SuperweaponEMPPulse
OCL                   SUPERWEAPON_EMPPulse
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_13
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaJetSpyPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            NVSpyPln
Animation        NVSpyPln.NVSpyPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
;ParticleSysBone  ECM_BONE SpyPlaneECMJammer
AnimationSpeedFactorRange  1.5 1.5
End
ConditionState  DAMAGED
Model            NVSpyPln_D
Animation        NVSpyPln_D.NVSpyPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
;ParticleSysBone  ECM_BONE SpyPlaneECMJammer
AnimationSpeedFactorRange  1.5 1.5
End
ConditionState  REALLYDAMAGED
Model            NVSpyPln_D
Animation        NVSpyPln_D.NVSpyPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
;ParticleSysBone  ECM_BONE SpyPlaneECMJammer
AnimationSpeedFactorRange  1.5 1.5
End
ConditionState  RUBBLE
Model            NVSpyPln_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ChinaSpyPlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
;KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL SpyPlaneLocomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior                OCLSpecialPower ModuleTag_SpyPlane01
SpecialPowerTemplate  SuperweaponChinaSpyPlane
OCL                   SUPERWEAPON_China_SpyPlane
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaJetLightCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            NVMinePln
Animation        NVMinePln.NVMinePln
AnimationMode    LOOP
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            NVMinePln_D
Animation        NVMinePln_D.NVMinePln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            NVMinePln_D
Animation        NVMinePln_D.NVMinePln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End
ConditionState  RUBBLE
Model            NVMinePln_D1
Animation        NVMinePln_D1.NVMinePln_D1
AnimationMode    LOOP
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NONE
End
ConditionState  DOOR_1_OPENING
Model            NVMinePln_A1
Animation        NVMinePln_A1.NVMinePln_A1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            NVMinePln_A1
Animation        NVMinePln_A1.NVMinePln_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ShaanxiAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        375.0
InitialHealth    375.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior     OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponClusterMines
OCL                   SUPERWEAPON_ClusterMines
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_13
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaParaBomberPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            NVPrBmbr
Animation        NVPrBmbr.NVPrBmbr
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  ENGINE01 JetBlackTrailThin
ParticleSysBone  ENGINE02 JetBlackTrailThin
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            NVPrBmbr_D
Animation        NVPrBmbr_D.NVPrBmbr_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  REALLYDAMAGED
Model            NVPrBmbr_D
Animation        NVPrBmbr_D.NVPrBmbr_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  ENGINE03 JetBlackTrailThin
ParticleSysBone  ENGINE04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  RUBBLE
Model            NVPrBmbr_D1
Animation        NVPrBmbr_D1.NVPrBmbr_D1
AnimationMode    MANUAL
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            NVPrBmbr
Animation        NVPrBmbr.NVPrBmbr
AnimationMode    MANUAL
HideSubObject    CHASSIS DOOR01 DOOR02
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            NVPrBmbr
Animation        NVPrBmbr.NVPrBmbr
AnimationMode    ONCE
ShowSubObject    DOOR01 DOOR02
HideSubObject    CHASSIS
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            NVPrBmbr
Animation        NVPrBmbr.NVPrBmbr
AnimationMode    ONCE_BACKWARDS
ShowSubObject    DOOR01 DOOR02
HideSubObject    CHASSIS
Flags            START_FRAME_LAST
End
End


; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 China
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         ChinaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  ChinaParaBomberAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  ChinaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponParaBombs
UpgradeOCL            SCIENCE_ParaBombs3 SUPERWEAPON_ParaBombs3
UpgradeOCL            SCIENCE_ParaBombs2 SUPERWEAPON_ParaBombs2
OCL                   SUPERWEAPON_ParaBombs1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaTankBattleMaster_Optimized

; *** ART Parameters ***
SelectPortrait          SNBattlemaster_L
ButtonImage             SNBattlemaster

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                NVBtMstr
End
End

Side  China
EditorSorting  SYSTEM
BuildCost        1500
BuildTime        12.0          ;in seconds

BuildVariations  ChinaTankBattleMaster_Var1 ChinaTankBattleMaster_Var2 ChinaTankBattleMaster_Var3 ChinaTankBattleMaster_Var4 ChinaTankBattleMaster_Var5 ChinaTankBattleMaster_Var6
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaTankHopper_Optimized

; *** ART Parameters ***
SelectPortrait          SNHopperTank_L
ButtonImage             SNHopperTank

Side  China
EditorSorting  SYSTEM
BuildCost        2000
BuildTime        15.0          ;in seconds

BuildVariations  ChinaTankHopper_Var1 ChinaTankHopper_Var1 ChinaTankHopper_Var2 ChinaTankHopper_Var3 ChinaTankHopper_Var3 ChinaTankHopper_Var4 ChinaTankHopper_Var5 ChinaTankHopper_Var5 ChinaTankHopper_Var6 ChinaTankHopper_Var7 ChinaTankHopper_Var7 ChinaTankHopper_Var8 ChinaTankHopper_Var9 ChinaTankHopper_Var9 ChinaTankHopper_Var10 ChinaTankHopper_Var11 ChinaTankHopper_Var11 ChinaTankHopper_Var12 ChinaTankHopper_Var13 ChinaTankHopper_Var13 ChinaTankHopper_Var14 ChinaTankHopper_Var15 ChinaTankHopper_Var15 ChinaTankHopper_Var16
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaTankGattling_Optimized

; *** ART Parameters ***
SelectPortrait          SNGatlingTank_L
ButtonImage             SNGatlingTank

Side  China
EditorSorting  SYSTEM
BuildCost        1400
BuildTime        10.5          ;in seconds

BuildVariations  ChinaTankGattling_Var1 ChinaTankGattling_Var2 ChinaTankGattling_Var3 ChinaTankGattling_Var4
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaVehicleTroopCrawler_Optimized

; *** ART Parameters ***
SelectPortrait          SNTransport_L
ButtonImage             SNTransport

Side  China
EditorSorting  SYSTEM
BuildCost        1600
BuildTime        15 ;in seconds

BuildVariations  ChinaVehicleTroopCrawler_Var1 ChinaVehicleTroopCrawler_Var1 ChinaVehicleTroopCrawler_Var1 ChinaVehicleTroopCrawler_Var2
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE FS_FAKE

End

;------------------------------------------------------------------------------
Object ChinaInfantryRedguard_Optimized

; *** ART Parameters ***
SelectPortrait          SNRedGuard_L
ButtonImage             SNRedGuard

Side  China
EditorSorting  SYSTEM
BuildCost        300
BuildTime        15.0          ;in seconds

BuildVariations  ChinaInfantryRedguard_Var1
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryTankHunter_Optimized

; *** ART Parameters ***
SelectPortrait          SNTankHunter_L
ButtonImage             SNTankHunter

Side  China
EditorSorting  SYSTEM
BuildCost        500
BuildTime        7.5          ;in seconds

BuildVariations  ChinaInfantryTankHunter_Var1
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryPyroTechnician_Optimized

; *** ART Parameters ***
SelectPortrait          SNPyroTechnic_L
ButtonImage             SNPyroTechnic

Side  China
EditorSorting  SYSTEM
BuildCost        600
BuildTime        12.0          ;in seconds

Prerequisites
Object  ChinaBarracks
Object  ChinaWarFactory
End

BuildVariations  ChinaInfantryPyroTechnician_Var1
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End

;------------------------------------------------------------------------------
Object ChinaInfantryMinigunner_Optimized

; *** ART Parameters ***
SelectPortrait          SNMiniGunner_L
ButtonImage             SNMiniGunner

Side  China
EditorSorting  SYSTEM
BuildCost        1000
BuildTime        10.5          ;in seconds

Prerequisites
Object  ChinaBarracks
Object  ChinaWarFactory
End

BuildVariations  ChinaInfantryMinigunner_Var1
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

End
;--------------------------------------------------------
Object BenzinFieldMediumHelix ; created by Helix

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
DefaultConditionState
Model = EXDecalR150
ParticleSysBone = NONE BenzinFieldMedium
ParticleSysBone = NONE BenzinFieldMediumInitial
End
End

; ***DESIGN parameters ***
EditorSorting = SYSTEM
KindOf = IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

; ***AUDIO parameters ***

; *** ENGINEERING Parameters ***
ArmorSet
Conditions      = None
Armor           = BenzinArmor
End

; *** ENGINEERING Parameters ***
Body = ActiveBody ModuleTag_02
MaxHealth        = 200.0
InitialHealth    = 200.0
End

ExperienceValue = 1 1 1 1

Behavior = OverlordContain ModuleTag_AutoAttackObject
Slots  = 1
DamagePercentToUnits  = 100%
AllowInsideKindOf     = PORTABLE_STRUCTURE
PayloadTemplateName   = BenzinFieldAutoAttackObject
End

Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 120000
MaxLifetime = 120000
End

Behavior = SlowDeathBehavior ModuleTag_06
DeathTypes = NONE +EXPLODED +BURNED
DestructionDelay = 500
Weapon = FINAL FirestormSmallCreationWeapon
End

Behavior = DestroyDie ModuleTag_07
DeathTypes = ALL -EXPLODED -BURNED
End

Behavior = FXListDie ModuleTag_08
DeathFX = FX_ToxicPoolDie
End

Geometry            = CYLINDER
GeometryMajorRadius = 75.0
GeometryHeight      = 1.0
GeometryIsSmall     = No
End

;--------------------------------------------------------
Object BenzinFieldAutoAttackObject

; ***DESIGN parameters ***
EditorSorting = SYSTEM
KindOf = IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE PORTABLE_STRUCTURE

TransportSlotCount = 1

; *** ENGINEERING Parameters ***
ArmorSet
Conditions      = None
Armor           = HazardousMaterialArmor
End

; *** ENGINEERING Parameters ***
Body = ActiveBody ModuleTag_02
MaxHealth        = 200.0
InitialHealth    = 200.0
End

;  Behavior = LifetimeUpdate ModuleTag_04
;    MinLifetime = 240000
;    MaxLifetime = 240000
;  End

;  Behavior = SlowDeathBehavior ModuleTag_06
;    DeathTypes = NONE +EXPLODED +BURNED
;    DestructionDelay = 500
;    Weapon = FINAL FirestormSmallCreationWeapon
;  End

Behavior = DestroyDie ModuleTag_07
;    DeathTypes = ALL -EXPLODED -BURNED
End

;  Behavior = FXListDie ModuleTag_08
;    DeathFX = FX_ToxicPoolDie
;  End

Geometry            = CYLINDER
GeometryMajorRadius = 75.0
GeometryHeight      = 1.0
GeometryIsSmall     = No
End
;------------------------------------------------------------------------------
Object FactionChina

; ***DESIGN parameters ***
Side                 China
DisplayName          FACTION:China
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ComancheLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

End

;------------------------------------------------------------------------------
Object BurningNapalmFieldObject


; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

;   ***AUDIO parameters ***
SoundAmbient NapalmPuddleFireLoop

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  IgnitedNapalmPuddleFireSpawnerWeapon
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  1800
MaxLifetime  2000
End

Behavior  DestroyDie ModuleTag_07
End

End

Object NapalmPuddleFireFieldScatterObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_HEAL_ICON
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   10.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  HeightDieUpdate ModuleTag_08
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  15000   ; min lifetime in msec
MaxLifetime  30000   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_042
DeathWeapon    NapalmPuddleFireField
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_09
End

End

Object FireFieldNapalmPuddle

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None InfernoCannonFire
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  MiGBombSmallFireFieldWeapon
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2000
MaxLifetime  2000
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object SataliteHackOneRevealObject

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior         SpyVisionUpdate ModuleTag_01
NeedsUpgrade   Yes
SelfPowered    Yes
SpyOnKindof    COMMANDCENTER
TriggeredBy    Upgrade_ChinaSatelliteHackOne
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_02
MinLifetime  6000
MaxLifetime  6000
End

End

;------------------------------------------------------------------------------
Object Frenzy_InvisibleMarker_Level1
; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None FrenzyCloud
ParticleSysBone  None ChinaFrenzyRank1Icon
ParticleSysBone  None ChinaFrenzyRadiusRing
End
End


KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK ; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE ; Must be clear
BonusDuration  25000             ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  250                  ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_THREE ; And which bonus to give
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1 ;one pulse
MaxLifetime  1
End
End

;------------------------------------------------------------------------------
Object Frenzy_InvisibleMarker_Level2
; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None FrenzyCloud
ParticleSysBone  None ChinaFrenzyRank2Icon
ParticleSysBone  None ChinaFrenzyRadiusRing
End
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK ; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE ; Must be clear
BonusDuration  50000             ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  250                  ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_THREE ; And which bonus to give
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1
MaxLifetime  1
End
End

;------------------------------------------------------------------------------
Object Frenzy_InvisibleMarker_Level3
; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None FrenzyCloud
ParticleSysBone  None ChinaFrenzyRank3Icon
ParticleSysBone  None ChinaFrenzyRadiusRing
End
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK ; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE ; Must be clear
BonusDuration  100000            ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  250                  ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_THREE ; And which bonus to give
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1
MaxLifetime  1
End
End

;------------------------------------------------------------------------------
Object PropagandaBattleCryDelayObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  DestroyDie ModuleTag_08
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_233
Weapon  PropagandaAirshipBattleCryWeapon
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object PropagandaBattleCryDelayObject3

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  DestroyDie ModuleTag_08
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  100
MaxLifetime  100
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object PropagandaBattleCryDelayObject2

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Die01
DeathTypes  ALL
ProbabilityModifier   33
DestructionDelay   1
FX   INITIAL  FX_PropagandaAirshipBattlecryTrololo1
End

Behavior  SlowDeathBehavior ModuleTag_Die02
DeathTypes  ALL
ProbabilityModifier   33
DestructionDelay   1
FX   INITIAL  FX_PropagandaAirshipBattlecryTrololo2
End

Behavior  SlowDeathBehavior ModuleTag_Die03
DeathTypes  ALL
ProbabilityModifier   33
DestructionDelay   1
FX   INITIAL  FX_PropagandaAirshipBattlecryTrololo3
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1
MaxLifetime  1
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object PropagandaBattleCryMarker

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None FrenzyCloud
ParticleSysBone  None BattleCryFrenzyDragonHead
ParticleSysBone  None BattleCryFrenzyRadiusRing
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf   CAN_ATTACK   ; Must be set
ForbiddenAffectKindOf  AIRCRAFT DEMOTRAP UNATTACKABLE STRUCTURE; Does not affect air units
BonusDuration          12000        ; How long effect lasts
BonusDelay             100000       ; How often to pulse (short lifetime will trump, of course)
BonusRange             200          ; Keep in line with radius cursor size in special power template
BonusConditionType     VETERAN      ; And which bonus to give
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

End
;------------------------------------------------------------------------------
Object PropagandaBattleCryTrollMarker

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None FrenzyCloud
ParticleSysBone  None BattleCryFrenzyTrollHead
ParticleSysBone  None BattleCryFrenzyRadiusRing
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf   CAN_ATTACK   ; Must be set
ForbiddenAffectKindOf  AIRCRAFT DEMOTRAP UNATTACKABLE ; Does not affect air units
BonusDuration          12000        ; How long effect lasts
BonusDelay             100000       ; How often to pulse (short lifetime will trump, of course)
BonusRange             200          ; Keep in line with radius cursor size in special power template
BonusConditionType     VETERAN      ; And which bonus to give
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

End


;------------------------------------------------------------------------------
Object EMPPulseEffectSpheroid

KindOf  NO_COLLIDE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXEMPSphere
Animation        EXEMPSphere.EXEMPSphere
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     30000
Lifetime             3000
StartFadeTime        300
StartScale           0.01
TargetScaleMin       5.00
TargetScaleMax       6.00
;   SpinRateMax          0.05; NIX'D by MLorenzen, nov 11
StartColor           R:32 G:64 B:255
EndColor             R:0 G:0 B:0
DoesNotAffectMyOwnBuildings  No

DisableFXParticleSystem  EMPSparks

End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  1200
MaxLifetime  1700
End

Geometry             SPHERE
GeometryMajorRadius  30.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object HanEMPBombEffectSpheroid

KindOf  NO_COLLIDE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXEMPSphere
Animation        EXEMPSphere.EXEMPSphere
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     10000
Lifetime             500
StartFadeTime        100
StartScale           0.01
TargetScaleMin       3.00
TargetScaleMax       3.00
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         50
DisableFXParticleSystem  EMPSparks
DoesNotAffect        ALLIES
End

Behavior  CreateObjectDie ModuleTag_03
CreationList  OCL_HanEMPBombField
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object HanEMPBombEmpFieldSphere

KindOf  NO_COLLIDE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXEMPSphere
Animation        EXEMPSphere.EXEMPSphere
AnimationMode    LOOP_PINGPONG
End
End

;   ***AUDIO parameters ***
SoundAmbient EMPFieldAmbientLoop

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     10000
Lifetime             15000
StartFadeTime        10000
StartScale           1.60
TargetScaleMin       1.69
TargetScaleMax       1.70
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         50
DisableFXParticleSystem  EMPSparks
DoesNotAffect        ALLIES
End

Behavior  InstantDeathBehavior ModuleTag_03
FX  WeaponFX_HanEMPBombFieldDeathFX
End

Behavior  FireWeaponUpdate ModuleTag_ScanningEffect01
Weapon  HanGunshipEmpFieldDamageWeapon
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object ECMBombDummyTargetingSmallObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 China

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT

Body  ActiveBody ModuleTag_04
MaxHealth        20000000.0
InitialHealth    20000000.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL ChinaECMBombTargetDummyLocomotor

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  15000
MaxLifetime  15000
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object ECMBombDummyTargetingMediumObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 China

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT

Body  ActiveBody ModuleTag_04
MaxHealth        20000000.0
InitialHealth    20000000.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL ChinaECMBombTargetDummyLocomotor

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  25000
MaxLifetime  25000
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object ECMBombDummyTargetingLargeObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 China

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT

Body  ActiveBody ModuleTag_04
MaxHealth        20000000.0
InitialHealth    20000000.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL ChinaECMBombTargetDummyLocomotor

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  35000
MaxLifetime  35000
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object ChinaBurningDeadPyroInfantry

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  NIPyro_SKN_D
Animation  CIBURN_SKL.CIBURN_FLA
AnimationMode  ONCE
Flags  START_FRAME_FIRST
AnimationSpeedFactorRange  1.0 1.30
ParticleSysBone  None FireFactionLarge
End

End

; ***DESIGN parameters ***
Side  China
EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

VisionRange  150
DisplayName  OBJECT:FlamingInfantry

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS INFANTRY CAN_ATTACK IMMOBILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1500
MaxLifetime  2500
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes           ALL
DestructionDelay     1
OCL                  INITIAL OCL_BurnedBloodyGoreExplosion
FX                   INITIAL WeaponFX_PatriotMissileDetonation
FX                   FINAL   FX_InfantryGoreExplosion
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death03232
DeathTypes     ALL
DeathWeapon    PyroDeathExplosionWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death032323
DeathTypes    ALL
DeathWeapon   PyroDeathExplosionUpgradedWeapon
StartsActive  No
TriggeredBy   Upgrade_ChinaBlackNapalm
End

End

;------------------------------------------------------------------------------
Object ChinaRunningBurningPyroInfantry

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  NIPyro_SKN_D
Animation  CIBURN_SKL.CIBURN_RNA
AnimationMode  LOOP
Flags  RANDOMSTART
ParticleSysBone  Bone_FX1 FireFactionLarge
End

ConditionState  DYING
Model  NIPyro_SKN_D
Animation  CIBURN_SKL.CIBURN_FLA
AnimationMode  ONCE
Flags  START_FRAME_FIRST
AnimationSpeedFactorRange  1.0 1.30
ParticleSysBone  None FireFactionLarge
End

End

; ***DESIGN parameters ***
Side  China
EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

VisionRange  150
DisplayName  OBJECT:FlamingInfantry

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK INFANTRY PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  WanderAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL PanicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1500
MaxLifetime  2500
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes           ALL
DestructionDelay     0
OCL                  INITIAL OCL_BurnedBloodyGoreExplosion
FX                   INITIAL WeaponFX_PatriotMissileDetonation
FX                   FINAL   FX_InfantryGoreExplosion
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death03232
DeathTypes     ALL
DeathWeapon    PyroDeathExplosionWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death032323
DeathTypes    ALL
DeathWeapon   PyroDeathExplosionUpgradedWeapon
StartsActive  No
TriggeredBy   Upgrade_ChinaBlackNapalm
End

Geometry  CYLINDER
GeometryMajorRadius  3.0
GeometryMinorRadius  3.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object NapalmFieldDeathSpawnerObject

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  0.1
MaxLifetime  0.1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death03232
DeathTypes     ALL
DeathWeapon    PyroDeathExplosionWeapon
StartsActive   Yes
ConflictsWith  Upgrade_ChinaBlackNapalm
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death032323
DeathTypes    ALL
DeathWeapon   PyroDeathExplosionUpgradedWeapon
StartsActive  No
TriggeredBy   Upgrade_ChinaBlackNapalm
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object NuclearTankDeathExplosion

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  0.1
MaxLifetime  0.1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Death03232
DeathTypes     ALL
DeathWeapon    NuclearTankDeathDamageWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_07
End

End

;------------------------------------------------------------------------------
Object CrawlerScannerTrail

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          None
ParticleSysBone  None ScanningTrail
End
End

; ***DESIGN parameters ***

EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        99999.0
InitialHealth    99999.0
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound


Behavior  PhysicsBehavior ModuleTag_06
Mass  0.1
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  15% ; Percentage of shot distance control points are placed
SecondPercentIndent  50%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  StealthUpdate ModuleStealth_MeNoSee01
StealthDelay                 0 ; msec
InnateStealth                Yes ;Requires upgrade first
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ChinaCrawlerScannerObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None ScanningField
ParticleSysBone  None ScanningFieldPingEffect
End
End

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         TankDamageFX
End

VisionRange      100

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              80   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150 ;John, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              80   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150 ;John, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              80   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150 ;John, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              80   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150 ;John, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              80   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150 ;John, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              80   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             150 ;John, enable this for independant balancing!
CanDetectWhileGarrisoned   Yes ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    Yes ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthUpdate ModuleStealth_MeNoSee01
StealthDelay                 0 ; msec
InnateStealth                Yes ;Requires upgrade first
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime        1000
MaxLifetime        1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  -1.0

End

;------------------------------------------------------------------------------
Object BlackLotusStealthDetectionObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor
Locomotor  SET_PANIC  GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
PingSound                  IRPing
;    LoudPingSound              IRPingLoud
;    IRBrightParticleSysName    IRDetectSonarBright
;    IRGridParticleSysName      IRDetectGrid
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  LifetimeUpdate ModuleTag_033
MinLifetime  1400
MaxLifetime  1400
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaIsotopeUpgradeRequirementDummyObject

; ***DESIGN parameters ***
DisplayName            UPGRADE:IsotopeStability
Side                   China
EditorSorting          SYSTEM

Prerequisites
Object  ChinaIsotopeRequirementDummyObject
End

End

;------------------------------------------------------------------------------
Object ChinaIsotopeRequirementDummyObject


; ***DESIGN parameters ***
DisplayName            UPGRADE:NuclearTanks
Side                   China
EditorSorting          SYSTEM

End

;------------------------------------------------------------------------------
;Spy plane bombs ?!?
; hell yea!
Object SpyPlaneBomb

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  China
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  220.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  ChinaSpyPlanePictureSound

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  SpecialPowerCompletionDie ModuleTag_ads07
SpecialPowerTemplate  SuperweaponChinaSpyPlane
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_SpyPlaneStealthDetectAndSightField
End

End

;------------------------------------------------------------------------------
Object SpyPlaneStealthDetectObject

; ***DESIGN parameters ***
Side  China
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         TankDamageFX
End

VisionRange      220

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime        15000
MaxLifetime        15000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  -1.0

End

;------------------------------------------------------------------------------
Object HopperTankBinocularsRevealerObject

; ***DESIGN parameters ***
VisionRange     450.0
ShroudClearingRange  450.0
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10
MaxLifetime  10
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object PyroFireWallFireField

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None NapalmPoolSmoke
ParticleSysBone  None NapalmPoolFire
ParticleSysBone  None NapalmPoolFire
ParticleSysBone  None NapalmPoolFireMainRing
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE NO_HEAL_ICON

; *** AUDIO Parameters ***
SoundAmbient  GenericFireMediumLoop

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  PyroFireWalFieldWeapon
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2500
MaxLifetime  4000
End

End

;------------------------------------------------------------------------------
Object PyroFireWallFireFieldUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None NapalmPoolSmoke
ParticleSysBone  None NapalmPoolFireUpgraded
ParticleSysBone  None NapalmPoolFireUpgraded
ParticleSysBone  None NapalmPoolFireMainRingUpgraded
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE NO_HEAL_ICON

; *** AUDIO Parameters ***
SoundAmbient  GenericFireMediumLoop

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  PyroFireWalFieldWeaponUpgraded
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2500
MaxLifetime  4000
End

End

;------------------------------------------------------------------------------
Object FireWallSegment

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None FireWallSegmentSystem
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  NO_COLLIDE UNATTACKABLE NO_HEAL_ICON

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth         50.0
InitialHealth     50.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  50.0
End
Behavior  WanderAIUpdate ModuleTag_04
End
Locomotor  SET_NORMAL InchForwardLocomotor

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  FireWallSegmentWeapon
End

Behavior  DeletionUpdate ModuleTag_06
MinLifetime  4000
MaxLifetime  4000
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object FireWallSegmentUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None FireWallSegmentUpgradedSystem
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  NO_COLLIDE UNATTACKABLE NO_HEAL_ICON

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth         50.0
InitialHealth     50.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  50.0
End
Behavior  WanderAIUpdate ModuleTag_04
End
Locomotor  SET_NORMAL InchForwardLocomotor

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  FireWallSegmentUpgradedWeapon
End

Behavior  DeletionUpdate ModuleTag_06
MinLifetime  4000
MaxLifetime  4000
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object FireFieldSmall

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None InfernoCannonFire
ParticleSysBone  None InfernoCannonFlare
ParticleSysBone  None InfernoCannonRing
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE NO_HEAL_ICON

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
;nothing
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  SmallFireFieldWeapon
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2500
MaxLifetime  2500
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object FireFieldUpgradedSmall

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  None InfernoCannonFireUpgraded
ParticleSysBone  None InfernoCannonFlareUpgraded
ParticleSysBone  None InfernoCannonRingUpgraded
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE NO_COLLIDE NO_HEAL_ICON

; *** ENGINEERING Parameters ***
Body  InactiveBody ModuleTag_02
;nothing
End
Behavior  FireWeaponUpdate ModuleTag_03
Weapon  SmallFireFieldWeaponUpgraded
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  2500
MaxLifetime  2500
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No

End


;------------------------------------------------------------------------------
Object DisruptorEMPEffectSpheroid

KindOf  NO_COLLIDE
EditorSorting  SYSTEM
Draw                 W3DModelDraw ModuleTag_01
ConditionState     None
Model            EXEMPSphere
Animation        EXEMPSphere.EXEMPSphere
End
End

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     5500
Lifetime             500
StartFadeTime        100
StartScale           0.01
TargetScaleMin       2.00
TargetScaleMax       3.00
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         15
DisableFXParticleSystem  EMPSparks
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End



;------------------------------------------------------------------------------
Object ChinaNuclearMissileCrater

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  SCCBox
End
End

Side  China
EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE FS_FAKE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  140000
MaxLifetime  140000
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  NeutronMissileCraterShadowEffect
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       5.0
GeometryIsSmall      No
ShadowTexture  EXNukeCrtr_B; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  450
ShadowSizeY  450
Scale  10

End

;------------------------------------------------------------------------------
Object ChinaNuclearMissileCrater_Shadow

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  SCCBox
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  140000
MaxLifetime  140000
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale  10
Shadow  SHADOW_DECAL
ShadowTexture  EXNukeCrtr_A
ShadowSizeX  450
ShadowSizeY  450

End

;------------------------------------------------------------------------------
Object ECMTankJammerDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXECMRadius
ShadowSizeX  270
ShadowSizeY  270

End

;------------------------------------------------------------------------------
Object SpeakerTowerPropagandaDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_Propaganda
ShadowSizeX  310
ShadowSizeY  310

End

;------------------------------------------------------------------------------
Object PropagandaCenterDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_Propaganda
ShadowSizeX  415
ShadowSizeY  415

End

;------------------------------------------------------------------------------
;This object is purely for vissuals
Object TankHunterExplosiveSatchelDummyObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXSatchel
End
End

Draw  W3DModelDraw ModuleTag_Timer01
ConditionState  NONE
Model  BmbCntr3
Animation  BmbCntr3.BmbCntr3
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  FireWeaponUpdate ModuleTag_05
Weapon  ChinaInfantryTankHunterTimedBombTickSoundWeapon
End

;This timer should match the exact time the satchel explodes
Behavior  DeletionUpdate ModuleTag_033
MinLifetime  3500
MaxLifetime  3500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object BlackLotusStealthDetectionDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE CLEARED_BY_BUILD

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  50
MaxLifetime  50
End

Scale   50.0
ShadowTexture  EXRdrIcn
ShadowSizeX  30
ShadowSizeY  30

End


;------------------------------------------------------------------------------
Object BlackLotusStealthDetectionRangeIndicatorTimerObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerWorthlessCommandSet ModuleTag_ShowWeaponRange02
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  2000
MaxLifetime  2000
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaHanGunshipVoiceNapalmUpgradeObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE PORTABLE_STRUCTURE

; *** AUDIO Parameters ***
SoundEnter               HanVoiceNapalmBombUpgraded

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_23205
End

End

;------------------------------------------------------------------------------
Object ChinaHanGunshipVoiceEMPUpgradeObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE PORTABLE_STRUCTURE

; *** AUDIO Parameters ***
SoundEnter               HanVoiceEmPulseBombUpgraded

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_23205
End

End

;------------------------------------------------------------------------------
Object ChinaHanGunshipVoiceNuclearUpgradeObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE PORTABLE_STRUCTURE

; *** AUDIO Parameters ***
SoundEnter               HanVoiceNuclearBombUpgraded

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_23205
End

End

;------------------------------------------------------------------------------
Object ParaBombPayloadDummy

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   1

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  2000
MaxLifetime  2000
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object ParaBombSoundTriggerDummyObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   1

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundEnter  ChinaParaBombsBombDropped

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object ListeningOutpostScanPing

Draw  W3DModelDraw ModuleTag_Test01
ConditionState  None
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
ConditionState  POWER_PLANT_UPGRADED
Model  NONE
ParticleSysBone  None ListeningOutpostAreaScanPingEffect
End
End

; ***DESIGN parameters ***
VisionRange      600.0
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  DynamicShroudClearingRangeUpdate ModuleTag_02
FinalVision  0.0
ShrinkDelay  10000
ShrinkTime  5000
GrowDelay  0
GrowTime  1000
GrowInterval  10 ; Faster than most
ChangeInterval  80 ; Faster than most
GridDecalTemplate
Texture            EXGrid
Style              SHADOW_ADDITIVE_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   500
Color              R:255 G:0 B:0 A:0 //dim blue, additive
End
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  6000   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  6000
End

Behavior  BoneFXDamage ModuleTag_Transform21
End

Behavior  BoneFXUpdate ModuleTag_Transform03
PristineFXList1  bone:NULL OnlyOnce:Yes 0   0   FXList:FX_ListeningOutpostAreaScanPing
PristineFXList2  bone:NULL OnlyOnce:Yes 100 100 FXList:FX_ListeningOutpostAreaScanPing
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100%
FriendlyOpacityMax  100%
End

End

;------------------------------------------------------------------------------
Object DragonTankRemoveUpgradeFlamethrowerObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform06
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  2000
MaxLifetime  2000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object DragonTankRemoveUpgradeFireballObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  2000
MaxLifetime  2000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This instantly heals the parrent unit
Object ChinaPropagandaSpotlightInstantHealDummyDrone

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW
ConditionState  NONE
Model  None
ParticleSysBone  None ChinaSpotlightRank1Icon
ParticleSysBone  None ChinaSpotlightRadiusRing
End
ConditionState  USER_1
Model  None
ParticleSysBone  None ChinaSpotlightRank1Icon
ParticleSysBone  None ChinaSpotlightRadiusRing
End
ConditionState  USER_2
Model  None
ParticleSysBone  None ChinaSpotlightRank1Icon
ParticleSysBone  None ChinaSpotlightRadiusRing
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor
Locomotor  SET_PANIC GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
RepairRange  1         ;How far I can zip around while repair (only moves when he stops welding)
RepairMinAltitude  3.0   ;My minimum repair hover altitude.
RepairMaxAltitude  3.0   ;My maximum repair hover altitude.
RepairRatePerSecond  99999.0 ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  1
RepairMaxReadyTime  1
RepairMinWeldTime  1
RepairMaxWeldTime  1
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  1000
MaxLifetime  1000
End

Behavior  ModelConditionUpgrade ModuleTag_18
ConditionFlag  USER_1
TriggeredBy  Upgrade_Nationalism
End

Behavior  ModelConditionUpgrade ModuleTag_19
ConditionFlag  USER_2
TriggeredBy    Upgrade_Fanaticism
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;The visual effect of the propaganda spotlight
;note that it changes appearance depending on which level of horde bonus has been researched
Object ChinaPropagandaSpotlightVissualDummyDrone

Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXPropSpot_A
End
ConditionState  USER_1
Model  EXPropSpot_B
End
ConditionState  USER_2
Model  EXPropSpot_B
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL PropagandaSpotLightDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
End

Behavior  ModelConditionUpgrade ModuleTag_18
ConditionFlag  USER_1
TriggeredBy  Upgrade_Nationalism
End

Behavior  ModelConditionUpgrade ModuleTag_19
ConditionFlag  USER_2
TriggeredBy    Upgrade_Fanaticism
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  30000
MaxLifetime  30000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Scale  1.3

End


;------------------------------------------------------------------------------
;The visual effect of the propaganda spotlight
;note that it changes appearance depending on which level of horde bonus has been researched
Object ChinaPropagandaSpotlightVissualDummyDroneNationalism

Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXPropSpot_A
End
ConditionState  USER_1
Model  EXPropSpot_B
End
ConditionState  USER_2
Model  EXPropSpot_B
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL PropagandaSpotLightDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
End

Behavior  ModelConditionUpgrade ModuleTag_18
ConditionFlag  USER_1
TriggeredBy  Upgrade_Nationalism
End

Behavior  ModelConditionUpgrade ModuleTag_19
ConditionFlag  USER_2
TriggeredBy    Upgrade_Fanaticism
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  45000
MaxLifetime  45000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Scale  1.3

End


;------------------------------------------------------------------------------
;The visual effect of the propaganda spotlight
;note that it changes appearance depending on which level of horde bonus has been researched
Object ChinaPropagandaSpotlightVissualDummyDronePatriotism

Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXPropSpot_A
End
ConditionState  USER_1
Model  EXPropSpot_B
End
ConditionState  USER_2
Model  EXPropSpot_B
End
End

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL PropagandaSpotLightDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
End

Behavior  ModelConditionUpgrade ModuleTag_18
ConditionFlag  USER_1
TriggeredBy  Upgrade_Nationalism
End

Behavior  ModelConditionUpgrade ModuleTag_19
ConditionFlag  USER_2
TriggeredBy    Upgrade_Fanaticism
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  60000
MaxLifetime  60000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Scale  1.3

End

;------------------------------------------------------------------------------
;This object makes sure the selected unit(and the ones surrounding it) always gets the horde bonus
Object ChinaPropagandaSpotlightDummyDrone

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
End

Behavior  HordeUpdate ModuleTag_0464684
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  100          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  30000
MaxLifetime  30000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This object makes sure the selected unit(and the ones surrounding it) always gets the horde bonus
Object ChinaPropagandaSpotlightDummyDroneNationalism

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
End

Behavior  HordeUpdate ModuleTag_0464684
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  100          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  45000
MaxLifetime  45000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This object makes sure the selected unit(and the ones surrounding it) always gets the horde bonus
Object ChinaPropagandaSpotlightDummyDronePatriotism

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
End

Behavior  HordeUpdate ModuleTag_0464684
RubOffRadius  150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
UpdateRate  1000     ; how often to recheck horde status (msec)
Radius  100          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
KindOf  VEHICLE      ; what KindOf's must match to count towards horde-ness
AlliesOnly  Yes      ; do we only count allies towards horde status?
Count  5             ; how many units must be within Radius to grant us horde-ness
Action  HORDE        ; when horde-ing, grant us the HORDE bonus
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  60000
MaxLifetime  60000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;Triggers healing/repair effect from Propaganda Spotlight
Object ChinaPropagandaSpotlightDummyRepairDrone

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
RepairMinAltitude  20.0    ;My minimum repair hover altitude.
RepairMaxAltitude  20.0    ;My maximum repair hover altitude.
RepairRatePerSecond  20.0  ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  30000
MaxLifetime  30000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;Triggers healing/repair effect from Propaganda Spotlight
Object ChinaPropagandaSpotlightDummyRepairDroneNationalism

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
RepairMinAltitude  30.0    ;My minimum repair hover altitude.
RepairMaxAltitude  30.0    ;My maximum repair hover altitude.
RepairRatePerSecond  24.0  ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  45000
MaxLifetime  45000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;Triggers healing/repair effect from Propaganda Spotlight
Object ChinaPropagandaSpotlightDummyRepairDronePatriotism

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
RepairMinAltitude  24.0    ;My minimum repair hover altitude.
RepairMaxAltitude  24.0    ;My maximum repair hover altitude.
RepairRatePerSecond  40.0  ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  60000
MaxLifetime  60000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This one is used for units such as the ECM Tank to prevent them from out repairing the damage they takes from their active ability
Object ChinaPropagandaSpotlightSlowerDummyRepairDrone

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
RepairMinAltitude  24.0    ;My minimum repair hover altitude.
RepairMaxAltitude  24.0    ;My maximum repair hover altitude.
RepairRatePerSecond  16.0   ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  30000
MaxLifetime  30000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This one is used for units such as the ECM Tank to prevent them from out repairing the damage they takes from their active ability
Object ChinaPropagandaSpotlightSlowerDummyRepairDroneNationalism

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
RepairMinAltitude  24.0    ;My minimum repair hover altitude.
RepairMaxAltitude  24.0    ;My maximum repair hover altitude.
RepairRatePerSecond  16.0   ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  45000
MaxLifetime  45000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This one is used for units such as the ECM Tank to prevent them from out repairing the damage they takes from their active ability
Object ChinaPropagandaSpotlightSlowerDummyRepairDronePatriotism

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON VEHICLE EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BattleDronePanicLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  4      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  4   ;How far away I'm allowed to wander from master while guarding.
AttackRange  4        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  4  ;How far I'm allowed to wander from target.
ScoutRange  4         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  4   ;How far I'm allowed to wander from scout point.
RepairMinAltitude  24.0    ;My minimum repair hover altitude.
RepairMaxAltitude  24.0    ;My maximum repair hover altitude.
RepairRatePerSecond  16.0   ;How many health points can I repair per second.
RepairWhenBelowHealth%  99 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  60000
MaxLifetime  60000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;Broadcasts map-wide propaganda for all allied units
Object ChinaGlobalPropagandaBroadcastObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior         PropagandaTowerBehavior ModuleTag_16
Radius                         99999.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  15000
MaxLifetime  15000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;Broadcasts map-wide propaganda for all allied units
Object ChinaGlobalPropagandaBroadcastSubliminalObject

; ***DESIGN parameters ***
Side                 China
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE NO_HEAL_ICON EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1    ;How far away I'm allowed to wander from master while guarding.
AttackRange  1         ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1   ;How far I'm allowed to wander from target.
ScoutRange  1          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior         PropagandaTowerBehavior ModuleTag_16
Radius                         99999.0
DelayBetweenUpdates            2000                                    ;in milliseconds
HealPercentEachSecond          1%                                      ;get this % of max health every second
UpgradeRequired                Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond  2%                                      ;get this % of max health every second
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  25000
MaxLifetime  25000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;-----------------------------------------------------------------------------
;This crate is spawned by the propaganda center constantly but will only activate once the appropriate power is unlocked
Object PropagandaCenterBroadcastArrayCrate

; ***DESIGN parameters ***
Side             China
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  PropagandaCenterBroadcastArrayUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_BroadcastArray
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object PropagandaCenterBroadcastArrayUpgradePurchasedObject

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  PropagandaCenterBroadCastArrayStatusTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object RadioInterceptsDishWeaponStatusTriggerDummyObject

; ***DESIGN parameters ***
Side  China
EditorSorting      SYSTEM
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  RadioIntercepts

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  CommandCenterRadioInterceptsStatusTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;-----------------------------------------------------------------------------
;This object needs to be spawned on or very close to the Chinese command center to make the initial radio intercepts upgrade be free
Object RadioInterceptsDishInitialFreeUpgradeCrate

; ***DESIGN parameters ***
Side             China
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  RadioInterceptsDishFreeUpgradeCrate
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  100.0
GeometryIsSmall  No

End

;-----------------------------------------------------------------------------
;This one is only used on the starting command center
Object RadioInterceptsDishFreeUpgradeCrate

; ***DESIGN parameters ***
Side             China
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  RadioInterceptsDishWeaponStatusTriggerDummyObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_CommunicationsDownload
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  BoneFXDamage ModuleTag_RadioIntercepts01
End

Behavior  BoneFXUpdate ModuleTag_RadioIntercepts02
PristineOCL1  bone:NULL OnlyOnce:Yes 1 1 OCL:OCL_RadioInterceptsInitialScanCrate
PristineOCL2  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryIsSmall  No

End

;-----------------------------------------------------------------------------
;This one is used on any command center build after the first one
Object RadioInterceptsDishUpgradeCrate

; ***DESIGN parameters ***
Side             China
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  RadioInterceptsDishWeaponStatusTriggerDummyObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_CommunicationsDownload
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryIsSmall  No

End

;-----------------------------------------------------------------------------
;This object makes sure that the moment you select the power for the first time you get a free scan right away
Object RadioInterceptsInitialScanCrate

; ***DESIGN parameters ***
Side             China
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  RadioInterceptsCommandCenterSpyVisionObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_CommunicationsDownload
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  BoneFXDamage ModuleTag_RadioIntercepts01
End

Behavior  BoneFXUpdate ModuleTag_RadioIntercepts02
PristineOCL3       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL3        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL3  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryIsSmall  No

End

;-----------------------------------------------------------------------------
Object RadioInterceptsCommandCenterVisionSpawnerObject

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  RadioIntercepts

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  BoneFXDamage ModuleTag_RadioIntercepts01
End

Behavior  BoneFXUpdate ModuleTag_RadioIntercepts02
;This spawns the spy vision effect every two minutes
PristineOCL1       bone:NULL OnlyOnce:No 120000 120000 OCL:OCL_RadioInterceptsCommandCenterSpyVision
DamagedOCL1        bone:NULL OnlyOnce:No 120000 120000 OCL:OCL_RadioInterceptsCommandCenterSpyVision
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 120000 120000 OCL:OCL_RadioInterceptsCommandCenterSpyVision

;This spawns a crate that is only triggered upon enemy capture to ensure the dummy objects are removed after capture
PristineOCL2       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_RadioInterceptsDishRemoveIfCapturedCrate
DamagedOCL2        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_RadioInterceptsDishRemoveIfCapturedCrate
ReallyDamagedOCL2  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_RadioInterceptsDishRemoveIfCapturedCrate

;This spawns a crate that is only triggered upon enemy capture to ensure the dummy objects are removed after capture
PristineOCL3       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL3        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL3  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

End

;-----------------------------------------------------------------------------
Object RadioInterceptsCommandCenterSpyVisionObject

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** AUDIO Parameters ***
SoundEnter             CIAIntelligenceActivate

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior         SpyVisionUpdate ModuleTag_01
NeedsUpgrade   Yes
SelfPowered    Yes
SpyOnKindof    VEHICLE ;INFANTRY
TriggeredBy    Upgrade_CostReduction
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_02
MinLifetime  6000
MaxLifetime  6000
End

End

;------------------------------------------------------------------------------
Object ChinaCommandCenterCapturedRadioInterceptsSelfDestructSpawnerCrate

; ***DESIGN parameters ***
DisplayName       OBJECT:Crate
EditorSorting    MISC_MAN_MADE IMMOBILE

; *** ENGINEERING Parameters ***
KindOf  CRATE

Behavior  UnitCrateCollide ModuleTag_02
ForbiddenKindOf  PROJECTILE VEHICLE INFANTRY DRONE AIRCRAFT
RequiredKindOf  STRUCTURE
ForbidOwnerPlayer  Yes
BuildingPickup  Yes
UnitCount  1
UnitName  ChinaCommandCenterCapturedRadioInterceptsSelfDestructObject
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1000
MaxLifetime  1000
End

Shadow               SHADOW_VOLUME
Geometry  BOX
GeometryMajorRadius  4.0
GeometryMinorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object ChinaCommandCenterCapturedRadioInterceptsSelfDestructObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM

Behavior  DestroyDie ModuleTag_01
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_03
DeathWeapon    CommandCenterRadioInterceptDummyObjectRemovalAlternativeWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object ListeningOutpostStealthDetectionScanObject

Draw  W3DModelDraw ModuleTag_Test01
ConditionState  None
Model  NONE
ParticleSysBone  None ListeningOutpostScanForEnemiesPingEffect
End
End

; ***DESIGN parameters ***
Side             China
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_HEAL_ICON
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor
Locomotor  SET_PANIC  GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              900   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_033
MinLifetime  10000
MaxLifetime  10000
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  ListeningOutpostStealthScanRevealWeapon
End

Behavior  BoneFXDamage ModuleTag_Transform21
End

Behavior  BoneFXUpdate ModuleTag_Transform03
PristineFXList1  bone:NULL OnlyOnce:Yes 0    0    FXList:FX_ListeningOutpostEnemyScanPing
PristineFXList2  bone:NULL OnlyOnce:Yes 200  200  FXList:FX_ListeningOutpostEnemyScanPing
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End
;------------------------------------------------------------------------------
Object ChinaVeteranTankSpecialists

; *** ART Parameters ***
ButtonImage  CHIVeteranHeavyTank

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1500
BuildTime          45.0           ; in seconds
MaxSimultaneousOfType   1

Prerequisites
Science  SCIENCE_VeteranTank
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  ChinaAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_VeteranTankSpecialists
End

End

;------------------------------------------------------------------------------
Object ChinaHelixGattlingCannon

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE

DefaultConditionState
Model               = NVHelix_G
Turret              = TURRET01
TurretPitch         = TURRETEL
WeaponFireFXBone    = PRIMARY Muzzle
WeaponLaunchBone    = PRIMARY Launch
WeaponMuzzleFlash   = PRIMARY MuzzleFX
End
ConditionState        = CONTINUOUS_FIRE_SLOW
Model               = NVHelix_G
Animation           = NVHelix_G.NVHelix_G
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.1 0.1 ;set this state to animate  s l o w l y
End
ConditionState       = CONTINUOUS_FIRE_MEAN
Model               = NVHelix_G
Animation           = NVHelix_G.NVHelix_G
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.2 0.2 ;set this state to animate  medium-fast
End
ConditionState        = CONTINUOUS_FIRE_FAST
Model               = NVHelix_G
Animation           = NVHelix_G.NVHelix_G
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.3 0.3 ;set this state to animate  vryfst
ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
End

ConditionState = USING_WEAPON_B
Model               = NVHelix_G
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
ConditionState        = CONTINUOUS_FIRE_SLOW USING_WEAPON_B
Model               = NVHelix_G
Animation           = NVHelix_G.NVHelix_G
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.1 0.1 ;set this state to animate  s l o w l y
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
ConditionState       = CONTINUOUS_FIRE_MEAN USING_WEAPON_B
Model               = NVHelix_G
Animation           = NVHelix_G.NVHelix_G
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.2 0.2 ;set this state to animate  medium-fast
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
ConditionState        = CONTINUOUS_FIRE_FAST USING_WEAPON_B
Model               = NVHelix_G
Animation           = NVHelix_G.NVHelix_G
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.3 0.3 ;set this state to animate  vryfst
ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End

ConditionState        = REALLYDAMAGED
Model               = NVHelix_GD
ParticleSysBone     = Smoke01 SmokeFactionMedium
ParticleSysBone     = Smoke02 SmokeFactionMedium
ParticleSysBone     = Smoke03 SmokeFactionMedium
ParticleSysBone     = SparkM01 SparksMedium
ParticleSysBone     = SparkM02 SparksMedium
End
ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
Model               = NVHelix_GD
Animation           = NVHelix_GD.NVHelix_GD
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.1 0.1 ;set this state to animate  s l o w l y
End
ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED
Model               = NVHelix_GD
Animation           = NVHelix_GD.NVHelix_GD
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.2 0.2 ;set this state to animate  medium-fast
End
ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED
Model               = NVHelix_GD
Animation           = NVHelix_GD.NVHelix_GD
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.3 0.3 ;set this state to animate  vryfst
ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
End

ConditionState        = REALLYDAMAGED USING_WEAPON_B
Model               = NVHelix_GD
ParticleSysBone     = Smoke01 SmokeFactionMedium
ParticleSysBone     = Smoke02 SmokeFactionMedium
ParticleSysBone     = Smoke03 SmokeFactionMedium
ParticleSysBone     = SparkM01 SparksMedium
ParticleSysBone     = SparkM02 SparksMedium
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED USING_WEAPON_B
Model               = NVHelix_GD
Animation           = NVHelix_GD.NVHelix_GD
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.1 0.1 ;set this state to animate  s l o w l y
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED USING_WEAPON_B
Model               = NVHelix_GD
Animation           = NVHelix_GD.NVHelix_GD
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.2 0.2 ;set this state to animate  medium-fast
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED USING_WEAPON_B
Model               = NVHelix_GD
Animation           = NVHelix_GD.NVHelix_GD
AnimationMode       = LOOP
AnimationSpeedFactorRange = 0.3 0.3 ;set this state to animate  vryfst
ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
WeaponMuzzleFlash   = SECONDARY MuzzleFX
End
End

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1
WeaponSet
Conditions          = None
Weapon              = PRIMARY GattlingHelixGun
PreferredAgainst    = PRIMARY INFANTRY
End

ArmorSet
Conditions     = None
Armor          = InvulnerableAllArmor
End
VisionRange     = 200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE

Body            = StructureBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
TurretTurnRate      = 180
TurretPitchRate     = 180
AllowsPitch         = Yes
FiresWhileTurning   = Yes
MinPhysicalPitch    = -90
End
AutoAcquireEnemiesWhenIdle = Yes
MoodAttackCheckRate = 50
End

Behavior = DestroyDie ModuleTag_04
End

Behavior = WeaponBonusUpgrade ModuleTag_05
TriggeredBy = Upgrade_ChinaChainGuns
End

Geometry            = BOX
GeometryMajorRadius = 8.0
GeometryMinorRadius = 8.0
GeometryHeight      = 9.0
GeometryIsSmall     = No
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixPropagandaTower

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE

ConditionState = NONE
Model         = NVHELIX_S
Animation     = NVHELIX_S.NVHELIX_S
AnimationMode = LOOP
End
ConditionState = REALLYDAMAGED
Model         = NVHELIX_SD
ParticleSysBone = Smoke01 SmolderingSmoke
ParticleSysBone = Smoke02 SmolderingSmoke
ParticleSysBone = Flame01 SmolderingFire
ParticleSysBone = Flame01 SmolderingFlameCore
ParticleSysBone = Spark01 LiveWireSparks
End
; night
ConditionState = NIGHT
Model         = NVHELIX_S
Animation     = NVHELIX_S.NVHELIX_S
AnimationMode = LOOP
End
End

PlacementViewAngle = -45

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

ArmorSet
Conditions     = None
Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange     = 200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound ;TurretMoveLoop
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE
Body            = StructureBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior = AIUpdateInterface ModuleTag_03
End

Behavior        = PropagandaTowerBehavior ModuleTag_04
Radius                = 150.0
DelayBetweenUpdates   = 2000 ; in milliseconds
HealPercentEachSecond = 1%   ; get this % of max health every second
PulseFX               = FX_HelixPropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
UpgradeRequired       = Upgrade_ChinaSubliminalMessaging
UpgradedHealPercentEachSecond = 1.5%   ; get this % of max health every second
UpgradedPulseFX       = FX_HelixPropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
End

Behavior             = DestroyDie ModuleTag_05
;<No Data>
End

Geometry            = BOX
GeometryMajorRadius = 6.0
GeometryMinorRadius = 6.0
GeometryHeight      = 10.0
GeometryIsSmall     = No
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixBattleBunker

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE

ConditionState = NONE
Model         = NVHELIX_B
End
ConditionState = REALLYDAMAGED
Model         = NVHELIX_BD
ParticleSysBone = Smoke01 SmolderingSmoke
ParticleSysBone = Smoke02 SmolderingSmoke
ParticleSysBone = Flame01 SmolderingFire
ParticleSysBone = Flame01 SmolderingFlameCore
ParticleSysBone = Spark01 LiveWireSparks
End
; night
ConditionState = NIGHT
Model         = NVHELIX_B
End
ConditionState = NIGHT REALLYDAMAGED
Model         = NVHELIX_BD
ParticleSysBone = Smoke01 SmolderingSmoke
ParticleSysBone = Smoke02 SmolderingSmoke
ParticleSysBone = Flame01 SmolderingFire
ParticleSysBone = Flame01 SmolderingFlameCore
ParticleSysBone = Spark01 LiveWireSparks
End
End

PlacementViewAngle = -45

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

ArmorSet
Conditions     = None
Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange     = 200

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE
Body            = StructureBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior             = DestroyDie ModuleTag_04
End

Geometry            = BOX
GeometryMajorRadius = 6.0
GeometryMinorRadius = 6.0
GeometryHeight      = 10.0
GeometryIsSmall     = No
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixRadar

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE

DefaultConditionState
Model = NVHelixRad
Animation = NVHelixRad.NVHelixRad
AnimationMode = LOOP
End
ConditionState = REALLYDAMAGED
Model = NVHelixRad_D
Animation = NVHelixRad_D.NVHelixRad_D
AnimationMode = LOOP
End
AliasConditionState = RUBBLE
End

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

ArmorSet
Conditions     = None
Armor          = RadarAddonArmor
End
VisionRange     = 300
ShroudClearingRange = 500

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI
Body            = StructureBody ModuleTag_02
MaxHealth       = 500.0
InitialHealth   = 500.0
End

Behavior = AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle = No
End

Behavior = DestroyDie ModuleTag_04
End

Behavior = StealthDetectorUpdate ModuleTag_44 ;+
DetectionRate   = 250
DetectionRange  = 250
CanDetectWhileGarrisoned = No
CanDetectWhileContained  = Yes
ExtraForbiddenKindOf     INFANTRY MINE DEMOTRAP
End

Behavior = FXListDie ModuleTag_D09
DeathFX  = FX_StructureTinyDeath
End

Behavior = UpgradeDie  ModuleTag_12D
DeathTypes = ALL
UpgradeToRemove = Upgrade_400_10
End

Geometry            = BOX
GeometryMajorRadius = 8.0
GeometryMinorRadius = 8.0
GeometryHeight      = 9.0
GeometryIsSmall     = Yes
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixIncendiaryBombModule ;unused

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE
ProjectileBoneFeedbackEnabledSlots = PRIMARY  ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

DefaultConditionState
Model = NVHelixBMB
WeaponLaunchBone = PRIMARY BOMB
End
ConditionState = RELOADING_A
Model = NVHelixBMB_A
Animation = NVHelixBMB_A.NVHelixBMB_A
AnimationMode = ONCE
End
End

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

;  WeaponSet
;    Conditions          = None
;    Weapon              = PRIMARY HelixIncendiaryBombWeapon
;  End

ArmorSet
Conditions     = None
Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange     = 100

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound ;TurretMoveLoop
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE

Body            = StructureBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior = AIUpdateInterface ModuleTag_03
MoodAttackCheckRate        = 250
AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
End

Behavior             = DestroyDie ModuleTag_04
End

Geometry            = BOX
GeometryMajorRadius = 1.0
GeometryMinorRadius = 1.0
GeometryHeight      = 1.0
GeometryIsSmall     = Yes
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixNukeBombModule

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE
ProjectileBoneFeedbackEnabledSlots = PRIMARY  ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

DefaultConditionState
Model = NVHelixBMB
WeaponLaunchBone = PRIMARY BOMB
End
ConditionState = RELOADING_A
Model = NVHelixBMB_A
Animation = NVHelixBMB_A.NVHelixBMB_A
AnimationMode = ONCE
End
End

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

WeaponSet
Conditions          = None
Weapon              = PRIMARY HelixNukeBombWeapon
End

ArmorSet
Conditions     = None
Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange     = 100

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound ;TurretMoveLoop
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE

Body            = StructureBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior = AIUpdateInterface ModuleTag_03
MoodAttackCheckRate        = 250
AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
End

Behavior             = DestroyDie ModuleTag_04
End

Geometry            = BOX
GeometryMajorRadius = 1.0
GeometryMinorRadius = 1.0
GeometryHeight      = 1.0
GeometryIsSmall     = Yes
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;-----------------------------------------------------------------------------
Object ChinaHelixNukeRL

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE

DefaultConditionState
Model               = NVHelixNuke
Turret            = TURRET
TurretPitch       = TURRETEL
WeaponLaunchBone  = PRIMARY WeaponA
WeaponFireFXBone  = PRIMARY WeaponAFX
End
ConditionState      = REALLYDAMAGED
Model             = NVHelixNuke_D
End
AliasConditionState = RUBBLE
End

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

WeaponSet
Conditions          = None
Weapon              = PRIMARY   ChinaHelixNuclearMissileLauncher
End

ArmorSet
Conditions     = None
Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange     = 200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound ;TurretMoveLoop
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE

Body = StructureBody ModuleTag_02
MaxHealth       = 120.0
InitialHealth   = 120.0
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY
TurretTurnRate      = 90
TurretPitchRate     = 90
AllowsPitch         = Yes
FiresWhileTurning   = Yes
MinPhysicalPitch    = -90
End
AutoAcquireEnemiesWhenIdle = Yes
End

Behavior             = DestroyDie ModuleTag_04
End

Geometry            = BOX
GeometryMajorRadius = 8.0
GeometryMinorRadius = 8.0
GeometryHeight      = 9.0
GeometryIsSmall     = No
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixECM

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
ExtraPublicBone = WEAPONA01
AttachToBoneInContainer = CHASSISBONE
ParticlesAttachedToAnimatedBones = Yes

DefaultConditionState
Model = NVHelixECM
Turret = TURRET
TurretPitch = TURRETEL
End
ConditionState = REALLYDAMAGED
Model = NVHelixECM_D
End
AliasConditionState = RUBBLE
End

PlacementViewAngle = -45

; ***DESIGN parameters ***
Side             = China
EditorSorting    = SYSTEM
TransportSlotCount = 1

WeaponSet
Conditions = None
Weapon     = PRIMARY   HelixBansheeVehicleDisabler
End
WeaponSet
Conditions = PLAYER_UPGRADE
Weapon     = PRIMARY   HelixBansheeVehicleDisablerUpgraded
Weapon     = SECONDARY HelixBansheeBuildingDisablerUpgraded
End

;Behavior = WeaponSetUpgrade ModuleTag_35A
;TriggeredBy = Upgrade_ChinaECMPower
;End

ArmorSet
Conditions = None
Armor      = InvulnerableAllArmor
End
VisionRange = 200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI INERT PROP UNATTACKABLE

Body            = StructureBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY SECONDARY
TurretTurnRate      = 180
TurretPitchRate     = 180
AllowsPitch         = Yes
FiresWhileTurning   = Yes
MinPhysicalPitch    = -90
End
AutoAcquireEnemiesWhenIdle = Yes
MoodAttackCheckRate = 50
End

Behavior = DestroyDie ModuleTag_04
End

Geometry            = BOX
GeometryMajorRadius = 8.0
GeometryMinorRadius = 8.0
GeometryHeight      = 9.0
GeometryIsSmall     = No
Shadow              = SHADOW_VOLUME
ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object ChinaHelixGaussCannon

; *** ART Parameters ***
Draw                    = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  = Yes
AttachToBoneInContainer = CHASSISBONE

DefaultConditionState
Model               = NVHelix_GC
Turret              = TURRET
TurretPitch         = TURRETEL
WeaponRecoilBone    = PRIMARY BARREL
WeaponFireFXBone    = PRIMARY Muzzle
WeaponLaunchBone    = PRIMARY Muzzle
WeaponMuzzleFlash   = PRIMARY MuzzleFX
End

ConditionState        = USING_WEAPON_B
WeaponRecoilBone    = SECONDARY BARREL
WeaponMuzzleFlash   = SECONDARY MuzzleFX
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
End

ConditionState        = REALLYDAMAGED
Model               = NVHelix_GCD
ParticleSysBone     = TURRETEL SmokeFactionMedium
ParticleSysBone     = TURRETEL SparksMedium
End

ConditionState        = USING_WEAPON_B REALLYDAMAGED
Model               = NVHelix_GCD
ParticleSysBone     = TURRETEL SmokeFactionMedium
ParticleSysBone     = TURRETEL SparksMedium
WeaponRecoilBone    = SECONDARY BARREL
WeaponMuzzleFlash   = SECONDARY MuzzleFX
WeaponFireFXBone    = SECONDARY Muzzle
WeaponLaunchBone    = SECONDARY Muzzle
End
End

; ***DESIGN parameters ***
Side             = China
DisplayName      = OBJECT:GattlingAddon
EditorSorting    = SYSTEM
TransportSlotCount = 1

WeaponSet
Conditions       = None
Weapon           = PRIMARY  Han100mmCannonWeapon
End

ArmorSet
Conditions = None
Armor      = InvulnerableAllArmor
DamageFX   = TankDamageFX
End
VisionRange = 200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop  = NoSound
VoiceRapidFire  = NoSound
End

; *** ENGINEERING Parameters ***
KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IGNORED_IN_GUI INERT PROP UNATTACKABLE

Body            = StructureBody ModuleTag_02
MaxHealth     = 420.0
InitialHealth = 420.0
SubdualDamageCap = 560
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
TurretTurnRate      = 180
TurretPitchRate     = 180
AllowsPitch         = Yes
FiresWhileTurning   = Yes
MinPhysicalPitch    = -90
End
AutoAcquireEnemiesWhenIdle = Yes
MoodAttackCheckRate = 50
End

Behavior = DestroyDie ModuleTag_04
End

;Behavior = WeaponBonusUpgrade ModuleTag_05
;TriggeredBy = Upgrade_ChinaAutoCannonShells
;End

Behavior = UpgradeDie ModuleTag_12D
DeathTypes = ALL
UpgradeToRemove = Upgrade_600_15
End

Geometry            = BOX
GeometryMajorRadius = 8.0
GeometryMinorRadius = 8.0
GeometryHeight      = 9.0
GeometryIsSmall     = No
ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object ChinaSpeakerTowerUpgradeJammerMode

; *** ART Parameters ***
ButtonImage             SNJammerTower

; ***DESIGN parameters ***
DisplayName  Object:MedicOutpost
Side  China
EditorSorting      SYSTEM

BuildCost          300
BuildTime          10.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

Prerequisites
Object  ChinaPropagandaCenter
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  RussianRadarTowerPassiveModeTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object ChinaSpeakerTowerUpgradeSensorMode

; *** ART Parameters ***
ButtonImage             SNSensorTower

; ***DESIGN parameters ***
DisplayName  Object:MedicOutpost
Side  China
EditorSorting      SYSTEM

BuildCost          300
BuildTime          10.0 ;seconds

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

Prerequisites
Object  ChinaPropagandaCenter
Object  ChinaBreederReactor
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          RussianComponentTowerUpgrade
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  500
MaxLifetime  500
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  RussianRadarTowerAirraidModeTriggerWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;--------------------------------------------------------------------------------------------------------
;--The objects below are the dummy objects that trigger the transition from uprading to upgraded towers--
;--------------------------------------------------------------------------------------------------------
Object ChinaSpeakerTowerUpgradingToTowerJammer

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState   None
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState   SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End

; ***DESIGN parameters ***
Side  China
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf           PRELOAD PORTABLE_STRUCTURE IMMOBILE MP_COUNT_FOR_VICTORY
Body               StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_ChinaSpeakerTowerJammer
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade01
TriggeredBy     Upgrade_ChinaSubliminalMessaging
ShowSubObjects  BANNERUP01
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

Object ChinaSpeakerTowerUpgradingToTowerSensor

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState   None
Model          NBPTwr
Animation      NBPTwr.NBPTwr
AnimationMode  LOOP
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState   SNOW
Model          NBPTwr_S
Animation      NBPTwr_S.NBPTwr_S
AnimationMode  LOOP
HideSubObject  ECMUP01 BANNERUP01
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE
End

; ***DESIGN parameters ***
Side  China
EditorSorting      SYSTEM

VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf           PRELOAD PORTABLE_STRUCTURE IMMOBILE MP_COUNT_FOR_VICTORY
Body               StructureBody ModuleTag_05
MaxHealth      1300.0
InitialHealth  1300.0

SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL -SUICIDED
CreationList   OCL_LargeStructureDebris
End

Behavior         FXListDie ModuleTag_14
DeathTypes     ALL -SUICIDED
DeathFX        FX_StructureSmallDeath
End

Behavior  DestroyDie ModuleTag_06
DeathTypes     ALL
End

Behavior         CreateObjectDie ModuleTag_13231
DeathTypes     NONE +SUICIDED
CreationList   OCL_ChinaSpeakerTowerSensor
TransferPreviousHealth  Yes
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon        SuicideWeapon
InitialDelay  150
End

Behavior  SubObjectsUpgrade ModuleTag_Upgrade01
TriggeredBy     Upgrade_ChinaSubliminalMessaging
ShowSubObjects  BANNERUP01
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  22.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaPropagandaCenterBroadcastArray

; *** ART Parameters ***
ButtonImage             SSGlobalArray

; ***DESIGN parameters ***
Side  China
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          30.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  BroadcastArray

Prerequisites
Science  SCIENCE_WarPropaganda
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          ChinaAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_BroadcastArray
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object ChinaCommandCenterRadioInterceptsDish

; *** ART Parameters ***
ButtonImage             SSRadioInterceptsDish

; ***DESIGN parameters ***
Side  China
EditorSorting      SYSTEM

BuildCost          500
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  RadioIntercepts

Prerequisites
Science  SCIENCE_CommunicationsDownload
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate          ChinaAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  1
MaxLifetime  1
End

Behavior         CreateObjectDie ModuleTag_13
DeathTypes     ALL
CreationList   OCL_RadioInterceptsDishUpgradeCrate
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End
;------------------------------------------------------------------------------
Object ECMBurstSatelliteCursor

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes
DefaultConditionState
Model          NVSat
Animation      NVSat.NVSat
AnimationMode  ONCE
End
End
Draw  W3DScienceModelDraw ModuleTag_RankOneRing
RequiredScience  SCIENCE_ECMBomb1
DefaultConditionState
Model          NVSat_A3
Animation      NVSat_A3.NVSat_A3
AnimationMode  LOOP
HideSubObject  RING02 RING03
End
End
Draw  W3DScienceModelDraw ModuleTag_RankTwoRing
RequiredScience  SCIENCE_ECMBomb2
DefaultConditionState
Model          NVSat_A3
Animation      NVSat_A3.NVSat_A3
AnimationMode  LOOP
HideSubObject  RING01 RING03
End
End
Draw  W3DScienceModelDraw ModuleTag_RankThreeRing
RequiredScience  SCIENCE_ECMBomb3
DefaultConditionState
Model          NVSat_A3
Animation      NVSat_A3.NVSat_A3
AnimationMode  LOOP
HideSubObject  RING01 RING02
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40
MaxLifetime  40
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      No
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteGoingBackUp

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE_BACKWARDS
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_06
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL  ECMBurstSatelliteGoingBackUp

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  LifetimeUpdate ModuleTag_043
MinLifetime  10000
MaxLifetime  10000
End

Behavior  DestroyDie ModuleTag_06222
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End


;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteComingDownRankOne

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End
End

; ***DESIGN parameters ***
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM


ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL ECMBurstSatelliteDropppingLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50000.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_ChinaECMBurstSatelliteActiveRankOne
End

Behavior  HeightDieUpdate ModuleTag_082
TargetHeight  175.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  6000
MaxLifetime  6000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponECMBomb
End

Behavior  DestroyDie ModuleTag_0622
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteActiveRankOne

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState   NONE
Model          NVSat_A2
Animation      NVSat_A2.NVSat_A2
AnimationMode  LOOP
ParticleSysBone  NONE ECMBurstSatelliteBeamRings
End
AliasConditionState  POWER_PLANT_UPGRADED
ConditionState   POWER_PLANT_UPGRADING
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL ECMBurstSatelliteLocomotor

Behavior  DestroyDie ModuleTag_04
End

Behavior  PowerPlantUpgrade ModuleTag_05
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_06
RodsExtendTime  1350
End

Behavior  LifetimeUpdate ModuleTag_073
MinLifetime  16350
MaxLifetime  16350
End

Behavior  CreateObjectDie ModuleTag_08
DeathTypes    ALL
CreationList  OCL_ChinaECMBurstSatelliteGoingBackUp
End

Behavior  BoneFXDamage ModuleTag_09
End

Behavior  BoneFXUpdate ModuleTag_10
PristineOCL1     bone:NULL OnlyOnce:No  33   33   OCL:OCL_ChinaECMBurstSatelliteActiveRankOneDecal
PristineOCL2     bone:NULL OnlyOnce:Yes 1350 1350 OCL:OCL_ChinaECMBurstSatelliteActiveRankOneAreaEffect
PristineFXList1  bone:NULL OnlyOnce:Yes 1350 1350 FXList:FX_ECMBurstSatelliteActivate
End

Behavior  FireWeaponUpdate ModuleTag_11
Weapon        ECMBurstSatelliteBeamEffect
InitialDelay  1350
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteActiveRankOneAreaEffect

; *** ART Parameters ***s
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXECMFld
ParticleSysBone  BONEFX01 ECMBurstSatelliteElectricalEffectSmall
ParticleSysBone  BONEFX01 ECMBurstSatelliteElectricalRingEffectSmall
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE UNATTACKABLE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

;   ***AUDIO parameters ***
SoundAmbient ECMBombAreaAmbientLoopSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ECMBombMissileJammer1
End

Behavior  FireWeaponUpdate ModuleTag_035
Weapon  ECMBombVehicleJammer1
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  15000
MaxLifetime  15000
End

Behavior  BoneFXDamage ModuleTag_09
End

Behavior  BoneFXUpdate ModuleTag_10
PristineFXList1  bone:NULL OnlyOnce:Yes 0  0  FXList:FX_ECMBurstSatelliteGroundImpactFlaresRankOne
PristineFXList2  bone:NULL OnlyOnce:No  50 50 FXList:FX_ECMBurstSatelliteGroundImpactFlaresRankOne
End

Behavior  DestroyDie ModuleTag_08
End

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteRankOneDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE CLICK_THROUGH NO_COLLIDE FS_FAKE

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  33
MaxLifetime  33
End

Behavior  DestroyDie ModuleTag_0622
End

Scale  50.0
ShadowTexture  SCCECMBurst; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  200
ShadowSizeY  200

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteComingDownRankTwo

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End
End

; ***DESIGN parameters ***
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM


ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL ECMBurstSatelliteDropppingLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50000.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_ChinaECMBurstSatelliteActiveRankTwo
End

Behavior  HeightDieUpdate ModuleTag_082
TargetHeight  175.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  6000
MaxLifetime  6000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponECMBomb
End

Behavior  DestroyDie ModuleTag_0622
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteActiveRankTwo

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState   NONE
Model          NVSat_A2
Animation      NVSat_A2.NVSat_A2
AnimationMode  LOOP
ParticleSysBone  NONE ECMBurstSatelliteBeamRings
End
AliasConditionState  POWER_PLANT_UPGRADED
ConditionState   POWER_PLANT_UPGRADING
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL ECMBurstSatelliteLocomotor

Behavior  DestroyDie ModuleTag_04
End

Behavior  PowerPlantUpgrade ModuleTag_05
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_06
RodsExtendTime  1350
End

Behavior  LifetimeUpdate ModuleTag_073
MinLifetime  26350
MaxLifetime  26350
End

Behavior  CreateObjectDie ModuleTag_08
DeathTypes    ALL
CreationList  OCL_ChinaECMBurstSatelliteGoingBackUp
End

Behavior  BoneFXDamage ModuleTag_09
End

Behavior  BoneFXUpdate ModuleTag_10
PristineOCL1     bone:NULL OnlyOnce:No  33   33   OCL:OCL_ChinaECMBurstSatelliteActiveRankTwoDecal
PristineOCL2     bone:NULL OnlyOnce:Yes 1350 1350 OCL:OCL_ChinaECMBurstSatelliteActiveRankTwoAreaEffect
PristineFXList1  bone:NULL OnlyOnce:Yes 1350 1350 FXList:FX_ECMBurstSatelliteActivate
End

Behavior  FireWeaponUpdate ModuleTag_11
Weapon        ECMBurstSatelliteBeamEffect
InitialDelay  1350
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteActiveRankTwoAreaEffect

; *** ART Parameters ***s
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXECMFld
ParticleSysBone  BONEFX01 ECMBurstSatelliteElectricalEffectMedium
ParticleSysBone  BONEFX01 ECMBurstSatelliteElectricalRingEffectMedium
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE UNATTACKABLE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

;   ***AUDIO parameters ***
SoundAmbient ECMBombAreaAmbientLoopSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ECMBombMissileJammer2
End

Behavior  FireWeaponUpdate ModuleTag_035
Weapon  ECMBombVehicleJammer2
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  25000
MaxLifetime  25000
End

Behavior  BoneFXDamage ModuleTag_09
End

Behavior  BoneFXUpdate ModuleTag_10
PristineFXList1  bone:NULL OnlyOnce:Yes 0  0  FXList:FX_ECMBurstSatelliteGroundImpactFlaresRankTwo
PristineFXList2  bone:NULL OnlyOnce:No  50 50 FXList:FX_ECMBurstSatelliteGroundImpactFlaresRankTwo
End

Behavior  DestroyDie ModuleTag_08
End

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteRankTwoDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE CLICK_THROUGH NO_COLLIDE FS_FAKE

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  33
MaxLifetime  33
End

Behavior  DestroyDie ModuleTag_0622
End

Scale  50.0
ShadowTexture  SCCECMBurst; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  300
ShadowSizeY  300

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteComingDownRankThree

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End
End

; ***DESIGN parameters ***
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM


ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL ECMBurstSatelliteDropppingLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50000.0
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_ChinaECMBurstSatelliteActiveRankThree
End

Behavior  HeightDieUpdate ModuleTag_082
TargetHeight  175.0
TargetHeightIncludesStructures  Yes
End

Behavior  LifetimeUpdate ModuleTag_0432
MinLifetime  6000
MaxLifetime  6000
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponECMBomb
End

Behavior  DestroyDie ModuleTag_0622
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteActiveRankThree

Draw                       W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState   NONE
Model          NVSat_A2
Animation      NVSat_A2.NVSat_A2
AnimationMode  LOOP
ParticleSysBone  NONE ECMBurstSatelliteBeamRings
End
AliasConditionState  POWER_PLANT_UPGRADED
ConditionState   POWER_PLANT_UPGRADING
Model          NVSat_A1
Animation      NVSat_A1.NVSat_A1
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
VisionRange          200.0
ShroudClearingRange  200.0
EditorSorting        SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  100
InitialHealth  100
End

KindOf  NO_COLLIDE UNATTACKABLE

Behavior  ChinookAIUpdate ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor  SET_NORMAL ECMBurstSatelliteLocomotor

Behavior  DestroyDie ModuleTag_04
End

Behavior  PowerPlantUpgrade ModuleTag_05
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_06
RodsExtendTime  1350
End

Behavior  LifetimeUpdate ModuleTag_073
MinLifetime  36350
MaxLifetime  36350
End

Behavior  CreateObjectDie ModuleTag_08
DeathTypes    ALL
CreationList  OCL_ChinaECMBurstSatelliteGoingBackUp
End

Behavior  BoneFXDamage ModuleTag_09
End

Behavior  BoneFXUpdate ModuleTag_10
PristineOCL1     bone:NULL OnlyOnce:No  33   33   OCL:OCL_ChinaECMBurstSatelliteActiveRankThreeDecal
PristineOCL2     bone:NULL OnlyOnce:Yes 1350 1350 OCL:OCL_ChinaECMBurstSatelliteActiveRankThreeAreaEffect
PristineFXList1  bone:NULL OnlyOnce:Yes 1350 1350 FXList:FX_ECMBurstSatelliteActivate
End

Behavior  FireWeaponUpdate ModuleTag_11
Weapon        ECMBurstSatelliteBeamEffect
InitialDelay  1350
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteActiveRankThreeAreaEffect

; *** ART Parameters ***s
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXECMFld
ParticleSysBone  BONEFX01 ECMBurstSatelliteElectricalEffectLarge
ParticleSysBone  BONEFX01 ECMBurstSatelliteElectricalRingEffectLarge
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE UNATTACKABLE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

;   ***AUDIO parameters ***
SoundAmbient ECMBombAreaAmbientLoopSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

Behavior  FireWeaponUpdate ModuleTag_03
Weapon  ECMBombMissileJammer3
End

Behavior  FireWeaponUpdate ModuleTag_035
Weapon  ECMBombVehicleJammer3
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  35000
MaxLifetime  35000
End

Behavior  BoneFXDamage ModuleTag_09
End

Behavior  BoneFXUpdate ModuleTag_10
PristineFXList1  bone:NULL OnlyOnce:Yes 0  0  FXList:FX_ECMBurstSatelliteGroundImpactFlaresRankThree
PristineFXList2  bone:NULL OnlyOnce:No  50 50 FXList:FX_ECMBurstSatelliteGroundImpactFlaresRankThree
End

Behavior  DestroyDie ModuleTag_08
End

End

;------------------------------------------------------------------------------
Object ChinaECMBurstSatelliteRankThreeDecalObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE CLICK_THROUGH NO_COLLIDE FS_FAKE

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  33
MaxLifetime  33
End

Behavior  DestroyDie ModuleTag_0622
End

Scale  50.0
ShadowTexture  SCCECMBurst; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  400
ShadowSizeY  400

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object ChinaBunker_AI

; *** ART Parameters ***
SelectPortrait          SNBunker_L
ButtonImage             SNBunker

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes


;day
ConditionState        NONE
Model               NBBunker
HideSubObject       SANDBAGS
End
AliasConditionState   NIGHT

ConditionState        DAMAGED
Model               NBBunker_D
HideSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT

ConditionState        REALLYDAMAGED RUBBLE
Model               NBBunker_E
HideSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT


ConditionState        GARRISONED
Model               NBBunker
ShowSubObject       SANDBAGS
End
AliasConditionState   NIGHT GARRISONED

ConditionState        DAMAGED GARRISONED
Model               NBBunker_D
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT GARRISONED

ConditionState        REALLYDAMAGED RUBBLE GARRISONED
Model               NBBunker_E
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT GARRISONED



ConditionState        SNOW
Model               NBBunker_S
HideSubObject       SANDBAGS
End
AliasConditionState   NIGHT SNOW

ConditionState        DAMAGED SNOW
Model               NBBunker_SD
HideSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT SNOW

ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               NBBunker_SE
HideSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW


ConditionState        SNOW GARRISONED
Model               NBBunker_S
ShowSubObject       SANDBAGS
End
AliasConditionState   NIGHT SNOW GARRISONED

ConditionState        DAMAGED SNOW GARRISONED
Model               NBBunker_SD
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01  SmolderingFire
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Fire01  SmolderingFlameCore
ParticleSysBone     Fire02  SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Fire02  SmolderingFlameCore
End
AliasConditionState   DAMAGED NIGHT SNOW GARRISONED

ConditionState        REALLYDAMAGED RUBBLE SNOW GARRISONED
Model               NBBunker_SE
ShowSubObject       SANDBAGS
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire01 SmolderingFlameCore
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire02 SmolderingFlameCore
ParticleSysBone     Fire03 SmolderingFire
ParticleSysBone     Fire03 SmolderingFlameCore
ParticleSysBone     Fire04 SmolderingFire
ParticleSysBone     Fire04 SmolderingFlameCore
ParticleSysBone     Fire05 SmolderingFire
ParticleSysBone     Fire05 SmolderingFlameCore
ParticleSysBone     Smoke01  SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED



;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               NBBunker
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               NBBunker_D
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               NBBunker_E
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               NBBunker_S
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               NBBunker_SD
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               NBBunker_SE
HideSubObject       SANDBAGS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD GARRISONED
AliasConditionState   SOLD DAMAGED GARRISONED
AliasConditionState   SOLD REALLYDAMAGED GARRISONED
AliasConditionState   SOLD NIGHT GARRISONED
AliasConditionState   SOLD NIGHT DAMAGED GARRISONED
AliasConditionState   SOLD NIGHT REALLYDAMAGED GARRISONED
AliasConditionState   SOLD SNOW GARRISONED
AliasConditionState   SOLD SNOW DAMAGED GARRISONED
AliasConditionState   SOLD SNOW REALLYDAMAGED GARRISONED
AliasConditionState   SOLD NIGHT SNOW GARRISONED
AliasConditionState   SOLD NIGHT SNOW DAMAGED GARRISONED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED GARRISONED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBunker_A4
Animation        NBBunker_A4.NBBunker_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBunker_A4N
Animation        NBBunker_A4N.NBBunker_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBunker_A4S
Animation        NBBunker_A4S.NBBunker_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBunker_A4SN
Animation        NBBunker_A4SN.NBBunker_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
ParticleSysBone  Smoke04 BuildUpSmokeChina
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
ParticleSysBone  Smoke04 BuildUpSnowSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
ParticleSysBone  Smoke04 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            NBBunker_A6
Animation        NBBunker_A6.NBBunker_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            NBBunker_A6N
Animation        NBBunker_A6N.NBBunker_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            NBBunker_A6S
Animation        NBBunker_A6S.NBBunker_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            NBBunker_A6SN
Animation        NBBunker_A6SN.NBBunker_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5
Animation        NBBunker_A5.NBBunker_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5N
Animation        NBBunker_A5N.NBBunker_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5S
Animation        NBBunker_A5S.NBBunker_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            NBBunker_A5SN
Animation        NBBunker_A5SN.NBBunker_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             NBBunker_AB
Animation        NBBunker_AB.NBBunker_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             NBBunker_ABN
Animation        NBBunker_ABN.NBBunker_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             NBBunker_ABS
Animation        NBBunker_ABS.NBBunker_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             NBBunker_ABSN
Animation        NBBunker_ABSN.NBBunker_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             NBBunker_AB
Animation        NBBunker_AB.NBBunker_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             NBBunker_ABN
Animation        NBBunker_ABN.NBBunker_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             NBBunker_ABS
Animation        NBBunker_ABS.NBBunker_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             NBBunker_ABSN
Animation        NBBunker_ABSN.NBBunker_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_FirePointBones
OkToChangeModelColor  Yes
DefaultConditionState
Model  NBBnkrFBns
End
End

PlacementViewAngle      -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Bunker
Side  China
EditorSorting      STRUCTURE

Prerequisites
Object             ChinaPropagandaCenter
End

BuildCost          500
BuildTime          10.0           ; in seconds
EnergyProduction   0
VisionRange        360.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  360
ArmorSet
Conditions       None
Armor            DefenceBunkerArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet        ChinaBunkerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        BunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE
Body               StructureBody ModuleTag_05
MaxHealth        2000.0
InitialHealth    2000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
SubdualDamageCap  1500
SubdualDamageHealRate  500
SubdualDamageHealAmount  100

End

ExperienceValue  50 50 50 50     ; Experience point value at each level

Behavior  GarrisonContain ModuleTag_08
ContainMax                     5
EnterSound                     GarrisonEnter
ExitSound                      GarrisonExit
ImmuneToClearBuildingAttacks   Yes
End

Behavior  GenerateMinefieldBehavior     ModuleTag_09
TriggeredBy            Upgrade_400_10
MineName               ChinaStandardMine
SmartBorder            Yes
AlwaysCircular         Yes
End

Behavior  ProductionUpdate ModuleTag_10
; nothing, but is required if we have any Object-level Upgrades!
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_13
CreationList   OCL_LargeStructureDebris
End
Behavior              FXListDie ModuleTag_14
DeathFX        FX_StructureSmallDeath
End
Behavior  DestroyDie ModuleTag_06
;nothing
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant Upgrade_CostReduction
End
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade02
UpgradeToGrant Upgrade_400_10
End
Behavior   ObjectCreationUpgrade ModuleTag_AlwaysGrantedUpgrade03
UpgradeObject   OCL_Bunker
TriggeredBy   Upgrade_CostReduction
End
Behavior   GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade04
UpgradeToGrant   Upgrade_CostReduction
End


Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  16.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End