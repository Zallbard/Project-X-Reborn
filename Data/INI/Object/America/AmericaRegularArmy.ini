;------------------------------------------------------------------------------
;  Дрон Микроволновой
;------------------------------------------------------------------------------
Object AmericaVehicleTerrorDrone

; *** ART Parameters ***
SelectPortrait          SATerrorDrone_L
ButtonImage             SATerrorDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                AVTrDrn_SKN
End
End

Side  America
EditorSorting  VEHICLE
BuildCost        800
BuildTime        10.0          ;in seconds

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

BuildVariations  AmericaVehicleTerrorDrone_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  6.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaVehicleTerrorDrone_Var1

; *** ART Parameters ***
SelectPortrait          SATerrorDrone_L
ButtonImage             SATerrorDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              AVTrDrn_SKN
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDA 0 10
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDB
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDC
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDD
AnimationMode      ONCE
TransitionKey      TRANS_NOT_DUGIN
AnimationSpeedFactorRange  1.0 1.2
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_RNA 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       RIDER1 MOVING ATTACKING
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_RNB 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       RIDER1 ATTACKING
Model              AVTrDrn_SKN_A
Animation          AVTrDrn_SKL.AVTrDrn_ATA
AnimationMode      LOOP
AnimationSpeedFactorRange  2.0 2.0
TransitionKey      TRANS_NOT_DUGIN
End

; ----- DIGGING ANIMATIONS

ConditionState       RIDER2
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_DIG
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_DUGIN
End
AliasConditionState  RIDER2 ATTACKING
AliasConditionState  RIDER2 MOVING
AliasConditionState  RIDER2 MOVING ATTACKING

TransitionState      TRANS_DUGIN TRANS_NOT_DUGIN
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_POP
AnimationMode      ONCE
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE
TransitionKey      TRANS_PARACHUTING
Flags              START_FRAME_LAST
End
AliasConditionState  PARACHUTING

TransitionState      TRANS_PARACHUTING TRANS_NOT_DUGIN
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE_BACKWARDS
End

; ----- DAMAGED CONDITIONS

ConditionState       REALLYDAMAGED
Model              AVTrDrn_SKN_D
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDA 0 10
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDB
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDC
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDD
AnimationMode      ONCE
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
AnimationSpeedFactorRange  1.0 1.2
ParticleSysBone    B_BODY02 SparksMedium
End
AliasConditionState  REALLYDAMAGED RIDER1

ConditionState       REALLYDAMAGED RIDER1 MOVING
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_RNA 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
ParticleSysBone    B_BODY02 SparksMedium
End

ConditionState       REALLYDAMAGED RIDER1 MOVING ATTACKING
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_RNB 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
ParticleSysBone    B_BODY02 SparksMedium
End

ConditionState       REALLYDAMAGED RIDER1 ATTACKING
Model              AVTrDrn_SKN_DA
Animation          AVTrDrn_SKL.AVTrDrn_ATA
AnimationMode      LOOP
AnimationSpeedFactorRange  2.0 2.0
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
ParticleSysBone    B_BODY02 SparksMedium
End

; ----- DIGGING ANIMATIONS

ConditionState       REALLYDAMAGED RIDER2
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_DIG
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_DAMAGED_DUGIN
End
AliasConditionState  REALLYDAMAGED RIDER2 ATTACKING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING ATTACKING

TransitionState      TRANS_DAMAGED_DUGIN TRANS_DAMAGED_NOT_DUGIN
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_POP
AnimationMode      ONCE
End

; ----- PARACHUTING ANIMATIONS
ConditionState       REALLYDAMAGED FREEFALL
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE
TransitionKey      TRANS_DAMAGED_PARACHUTING
Flags              START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED PARACHUTING

TransitionState      TRANS_DAMAGED_PARACHUTING TRANS_DAMAGED_NOT_DUGIN
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE_BACKWARDS
End

End

Draw  W3DModelDraw ModuleTag_DirtPatch01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              NONE
TransitionKey      TRANS_STAND
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 MOVING
AliasConditionState  RIDER1 MOVING ATTACKING
AliasConditionState  RIDER1 ATTACKING
AliasConditionState  FREEFALL
AliasConditionState  PARACHUTING
AliasConditionState  REALLYDAMAGED RIDER1
AliasConditionState  REALLYDAMAGED RIDER1 MOVING
AliasConditionState  REALLYDAMAGED RIDER1 MOVING ATTACKING
AliasConditionState  REALLYDAMAGED RIDER1 ATTACKING
AliasConditionState  REALLYDAMAGED FREEFALL
AliasConditionState  REALLYDAMAGED PARACHUTING

; ----- DIGGING ANIMATIONS

TransitionState      TRANS_STAND TRANS_DUGIN
Model              AVTrDrn_DRT
Animation          AVTrDrn_DRT.AVTrDrn_DRT
AnimationMode      ONCE
AnimationSpeedFactorRange  2.0 2.0
END
ConditionState       RIDER2
Model              AVTrDrn_DRT
Animation          AVTrDrn_DRT.AVTrDrn_DRT
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_DUGIN
End
AliasConditionState  RIDER2 ATTACKING
AliasConditionState  RIDER2 MOVING
AliasConditionState  RIDER2 MOVING ATTACKING
AliasConditionState  REALLYDAMAGED RIDER2
AliasConditionState  REALLYDAMAGED RIDER2 ATTACKING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING ATTACKING

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model                AVTrDrn_BOX
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TerrorDrone
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon             PRIMARY   TerrorDronePlasmaCutterBuildingWeapon
PreferredAgainst   PRIMARY   STRUCTURE
Weapon             SECONDARY TerrorDronePlasmaCutterVehicleWeapon
PreferredAgainst   SECONDARY VEHICLE
Weapon             TERTIARY  TerrorDroneBorrowWeapon
AutoChooseSources  TERTIARY  NONE
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   NONE
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY NONE
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  NONE
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            TerrorDroneArmor
DamageFX         TruckDamageFX
End

VisionRange  200
ShroudClearingRange  200

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDroneControlCenter AmericaDetentionCamp
End

BuildCost  500
BuildTime  5.0          ;in seconds

ExperienceValue  40 40 40 40    ;Experience point value at each level
IsTrainable  No             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            TerrorDroneVoiceSelect
VoiceMove              TerrorDroneVoiceMove
VoiceGuard             TerrorDroneVoiceMove
VoiceAttack            TerrorDroneVoiceAttack

SoundMoveLoop          TerrorDroneMoveLoop
SoundMoveLoopDamaged   TerrorDroneMoveLoop

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED ;NO_COLLIDE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        200.0
InitialHealth    200.0

SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate  0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL TerrorDroneLocomotor TerrorDroneCliffLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  InstantDeathBehavior ModuleTag_Death01
DeathTypes           ALL
FX   FX_TerrorDroneDeathEffect
OCL  OCL_AmericanTerrorDroneDeathEffect
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaTerrorDroneCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaTerrorDroneCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform02
UpgradeObject    OCL_TerrorDroneUnBurrow
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
FXListUpgrade    FX_TerrorDronePopoutofGround
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform04
MaxQueueEntries  1
End

;************************************
;******Transformation Code End********
;************************************

Behavior  FireWeaponUpdate ModuleTag_CollisionRemoval01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CollisionRemoval02
CollideWeapon   TerrorDroneCollisionRemovalWeapon
RequiredStatus  IS_FIRING_WEAPON
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  StealthUpdate ModuleTag_Stealth01
RequiredStatus               STATUS_RIDER2
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  6.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
;  Дрон Термит
;------------------------------------------------------------------------------
Object AmericaVehicleTermiteDrone

; *** ART Parameters ***
SelectPortrait          SATermiteDrone_L
ButtonImage             SATermiteDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_HVR
AnimationMode      LOOP
ParticleSysBone    NONE TermiteHoveringWave
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
End
End

Side  America
EditorSorting  VEHICLE
BuildCost        600
BuildTime        6.0          ;in seconds

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

BuildVariations  AmericaVehicleTermiteDrone_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  6.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaVehicleTermiteDrone_Var1

; *** ART Parameters ***
SelectPortrait          SATermiteDrone_L
ButtonImage             SATermiteDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_HVR
AnimationMode      LOOP
ParticleSysBone    NONE TermiteHoveringWave
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
TransitionKey      TRANS_NORMAL
End
AliasConditionState  RIDER1

TransitionState      TRANS_NORMAL TRANS_DEPLOYED
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
ParticleSysBone    NONE TermiteHoveringWave
End

TransitionState      TRANS_DEPLOYED TRANS_NORMAL
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE_BACKWARDS
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
ParticleSysBone    NONE TermiteHoveringWave
End

ConditionState       RIDER2
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
Turret             Turret
Flags              START_FRAME_LAST
TransitionKey      TRANS_DEPLOYED
End

;Damaged conditions

ConditionState       REALLYDAMAGED RIDER1
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_HVR
AnimationMode      LOOP
ParticleSysBone    NONE TermiteHoveringWave
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
TransitionKey      TRANS_DAMAGED_NORMAL
ParticleSysBone    HOUSECOLOR02 SparksMedium
End

TransitionState      TRANS_DAMAGED_NORMAL TRANS_DAMAGED_DEPLOYED
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
ParticleSysBone    NONE TermiteHoveringWave
End

TransitionState      TRANS_DAMAGED_DEPLOYED TRANS_DAMAGED_NORMAL
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE_BACKWARDS
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
ParticleSysBone    NONE TermiteHoveringWave
End

ConditionState       REALLYDAMAGED RIDER2
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
Turret             Turret
Flags              START_FRAME_LAST
TransitionKey      TRANS_DAMAGED_DEPLOYED
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model                AVTermite_BOX
End
End


; ***DESIGN parameters ***
DisplayName         OBJECT:TermiteDrone
Side                America
EditorSorting       SYSTEM
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  SECONDARY TermiteDroneMicrowavePulseGunDummyWeapon
AutoChooseSources  SECONDARY NONE
Weapon  TERTIARY  TermiteDroneMicrowavePulseGunDummyWeapon
AutoChooseSources  TERTIARY NONE
WeaponLockSharedAcrossSets  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  SECONDARY TermiteDroneMicrowavePulseGun
Weapon  TERTIARY  TermiteDroneMicrowavePulseGunDummyWeapon
AutoChooseSources  TERTIARY NONE
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         TruckDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  SentryDroneArmorUpgraded
DamageFX               None
End

BuildCost        300
BuildTime        6.0          ;in seconds
VisionRange      100
ShroudClearingRange  200

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue  50 50 50 50
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            TermiteDroneVoiceSelect
VoiceMove              TermiteDroneVoiceMove
VoiceGuard             TermiteDroneVoiceMove
VoiceAttack            TermiteDroneVoiceMove
;SoundMoveStart         TermiteMoveStart
;SoundMoveStartDamaged  TermiteMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
Deploy               DirtExplosion
Undeploy             TerrorDroneBurstOutOfGround
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         360
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY TERTIARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ;No they now auto accuire targets set them to hold fire you don't want them to fire
MoodAttackCheckRate  33
TurretsLinked  Yes
End
Locomotor  SET_NORMAL TermiteDroneLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaTermiteDroneCommandSet         SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaTermiteDroneDeployedCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform02
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  GrantUpgradeCreate ModuleTag_Transform04
UpgradeToGrant      Upgrade_ChinaOverlordGattlingCannon
End

Behavior  LockWeaponCreate ModuleTag_Transform05
SlotToLock  SECONDARY
End

Behavior  FireWeaponUpdate ModuleTag_Transform06
Weapon  GenericCollisionDummyWeapon
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
UpgradeObject    OCL_TermiteDroneSwitchModeDelayObject
TriggeredBy      Upgrade_ChinaOverlordGattlingCannon
End

;Primary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_TermiteDroneStandardMode
ConflictsWith    Upgrade_ChinaOverlordGattlingCannon
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
FXListUpgrade    FX_TerrorDronePopoutofGround
End

;Secondary Unit Mode Triggers
Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_TermiteDroneDeployMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
FXListUpgrade    FX_TerrorDroneDigInGround
End

Behavior  FireWeaponCollide ModuleTag_Transform10
CollideWeapon   TermiteDroneEmitterDecalWeapon
RequiredStatus  STATUS_RIDER2
End

Behavior  FireWeaponCollide ModuleTag_Transform11
CollideWeapon   TermiteDroneDeployedCollisionDummyWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End


Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL
DestructionDelay   1
OCL  FINAL OCL_AmericanTermiteDroneDeathEffect
FX   FINAL FX_TermiteDroneDeathEffect
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
RequiredStatus               STATUS_RIDER2
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  8.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------
; Дрон Снабжения
;------------------------
Object AmericaVehicleSupplyDronePurchasedByAirdrop

; *** ART Parameters ***
SelectPortrait  SASupplyDrone_L
ButtonImage     SASupplyDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVWrkHrs
End
End

Side  America
EditorSorting  SYSTEM
BuildCost  500
BuildTime  10.0      ;in seconds

Prerequisites
Object  AmericaSupplyCenter
Object  FactionBasePowerActive
Science  SCIENCE_LogisticsEffeciency
End

BuildVariations  AmericaVehicleSupplyDroneDeliveredByChinookObject
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER POWERED DRONE SCORE

End

;------------------------------------------------------------------------------
Object AmericaVehicleSupplyDrone

; *** ART Parameters ***
SelectPortrait  SASupplyDrone_L
ButtonImage     SASupplyDrone

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState    NONE
Model          AVWrkHrs
HideSubObject  CARGO01
End

ConditionState   CARRYING
Model          AVWrkHrs
ShowSubObject  CARGO01
End

ConditionState   REALLYDAMAGED
Model          AVWrkHrs_D
HideSubObject  CARGO01
End
AliasConditionState  RUBBLE

ConditionState   REALLYDAMAGED CARRYING
Model          AVWrkHrs_D
ShowSubObject  CARGO01
End
AliasConditionState  RUBBLE CARRYING

TrackMarks               EXTireTrack.tga

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.
End

; ***DESIGN parameters ***
DisplayName          OBJECT:SupplyDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   2                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            500
BuildTime            10.0      ;in seconds
VisionRange          150
ShroudClearingRange  200

Prerequisites
Object  AmericaSupplyCenter
Object  FactionBasePowerActive
Science  SCIENCE_LogisticsEffeciency
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               StopOnlyGenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect            SupplyDroneVoiceSelect
VoiceMove              SupplyDroneVoiceMove
VoiceGuard             SupplyDroneVoiceMove
SoundMoveStart         SupplyDroneMoveStart
SoundMoveStartDamaged  SupplyDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
VoiceSupply          SupplyDroneVoiceSupply
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER POWERED DRONE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  300
SubdualDamageHealRate  500
SubdualDamageHealAmount  25
End

Behavior  ChinookAIUpdate ModuleTag_03
MaxBoxes                 2
SupplyCenterActionDelay  4000     ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  3000  ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
UpgradedSupplyBoost  15    ; increase in value of the crates when supply lines has been upgraded
End
Locomotor  SET_NORMAL SupplyDroneLocomotor

;This transport contain can't actually be used by anything but its required for the ChinookAIUpdate supply code to work properly
Behavior  TransportContain ModuleTag_Supply01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
ForbidInsideKindOf     AIRCRAFT HUGE_VEHICLE INFANTRY VEHICLE
ExitDelay              100
NumberOfExitPaths      1
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL FX_SupplyDroneExplosionOneFinal
OCL  FINAL OCL_AmericaSupplyDroneDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_AmericaSupplyDroneDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  BOX
GeometryMajorRadius  15.6
GeometryMinorRadius  8.0
GeometryHeight  12.6
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------
; Дрон Охраны
;------------------------

Object AmericaVehicleSentryDrone

; *** ART Parameters ***
SelectPortrait          SAsentry_L
ButtonImage             SAsentry

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      LOOP
Turret             TURRET01
HideSubObject      HOUSECOLOR03 GUN01 GUNUPGRADE01 MUZZLEFX01 MGMZLFX01
ParticleSysBone    RADAR GLAVanRadarEffect
End

ConditionState       REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
ParticleSysBone    TURRET01 SparksMedium
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Gun01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      MANUAL
Turret             GUN_TURRET
HideSubObject      CHASSIS HOUSECOLOR03 GUNUPGRADE01
WeaponFireFXBone   PRIMARY MgMzlFX
WeaponLaunchBone   PRIMARY MgMzlFX
WeaponMuzzleFlash  PRIMARY MgMzlFX
WeaponMuzzleFlash  SECONDARY MuzzleFX
End
AliasConditionState  MOVING
AliasConditionState  ATTACKING MOVING
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      MANUAL
Turret             GUN_TURRET
HideSubObject      CHASSIS HOUSECOLOR03 GUNUPGRADE01
WeaponFireFXBone   PRIMARY MgMzlFX
WeaponLaunchBone   PRIMARY MgMzlFX
WeaponMuzzleFlash  PRIMARY MgMzlFX
WeaponMuzzleFlash  SECONDARY MuzzleFX
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED ATTACKING MOVING
AliasConditionState  ATTACKING REALLYDAMAGED

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      MANUAL
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      LOOP
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      MANUAL
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED ATTACKING MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      LOOP
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End

End

Draw  W3DModelDraw ModuleTag_Antenna

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             GUN_TURRET
HideSubObject      CHASSIS HOUSECOLOR04 TURRET01 GUN01 GUNUPGRADE01 MUZZLEFX01 MGMZLFX01
End

ConditionState  MOVING
AnimationMode      LOOP
End

ConditionState  REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
End

ConditionState  MOVING REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      LOOP
End

End

Draw  W3DModelDraw ModuleTag_Headlights01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVSentry_N
Turret  Turret
End

ConditionState  RUBBLE
Model  NONE
End

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDtectDcl_B
WaitForStateToFinishIfPossible  TRANS_SHOW_DETECTION_RANGE
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              EXDtectDcl
Animation          EXDtectDcl.EXDtectDcl
AnimationMode      ONCE
TransitionKey      TRANS_SHOW_DETECTION_RANGE
End

End

; ***DESIGN parameters ***
DisplayName         OBJECT:SentryDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  NONE
Weapon  PRIMARY SentryDroneGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY SentryDroneGunUpgraded
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         TruckDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SentryDroneArmorUpgraded
DamageFX         TruckDamageFX
End

Prerequisites
Object             FactionBasePowerActive
End

BuildCost        500
BuildTime        7.0          ;in seconds
VisionRange      200
ShroudClearingRange  250

ExperienceValue  50 50 50 50
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaVehicleSentryDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            SentryDroneVoiceSelect
VoiceMove              SentryDroneVoiceMove
VoiceGuard             SentryDroneVoiceMove
VoiceAttack            SentryDroneVoiceMove
SoundMoveStart         SentryDroneMoveStart
SoundMoveStartDamaged  SentryDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         90
TurretPitchRate        90
FirePitch              0            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch            No
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY TERTIARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaDroneWeapons
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End

Locomotor  SET_NORMAL SentryLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleSentryDroneDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  ProductionUpdate ModuleTag_ShowDetectionRange01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  OverlordContain ModuleTag_ShowDetectionRange03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericanSentryDroneDetectionRangeIndicatorDecalObject
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object AmericanSentryDroneDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

;------------------------
; Дрон Ремонта
;------------------------
Object AmericaVehicleRepairDrone

; *** ART Parameters ***
SelectPortrait          SARepairDrone_L
ButtonImage             SARepairDrone

Draw  W3DOverlordTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOINT01

DefaultConditionState
Model          AVRepairDr
End

ConditionState   PREATTACK_A
Model          AVRepairDr
Animation      AVRepairDr.AVRepairDr
AnimationMode  ONCE
End

ConditionState   REALLYDAMAGED
Model          AVRepairDr_D
ParticleSysBone  TURRET01 SparksMedium
End

ConditionState   REALLYDAMAGED PREATTACK_A
Model          AVRepairDr_D
Animation      AVRepairDr_D.AVRepairDr_D
AnimationMode  ONCE
End

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone            TIRE01
RightFrontTireBone           TIRE02
LeftRearTireBone             TIRE03
RightRearTireBone            TIRE04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks            EXTireTrack.tga

End


; ***DESIGN parameters ***
DisplayName         OBJECT:RepairDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  TERTIARY SupportVehicleDummyWeapon
End

ArmorSet
Conditions       None
Armor            RepairDroneArmor
DamageFX         TruckDamageFX
End

Prerequisites
Object             FactionBasePowerActive
End

BuildCost        600
BuildTime        8.0          ;in seconds

VisionRange  200
ShroudClearingRange  200

ExperienceValue  50 50 100 150   ;Experience point value at each level
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaRepairDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            RepairDroneVoiceSelect
VoiceMove              RepairDroneVoiceMove
VoiceGuard             RepairDroneVoiceMove
VoiceAttack            RepairDroneVoiceMove
SoundMoveStart         RocketBuggyMoveStart
SoundMoveStartDamaged  RocketBuggyMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE DRONE POWERED

Body  ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle    Yes
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End
Locomotor  SET_NORMAL HumveeLocomotor


Behavior  OverlordContain ModuleTag_PointDefenceLaser01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      RepairDronePointDefenceLaserObject
ExperienceSinkForRider   Yes ; I get the Exp for things my turret friend kills
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_PointDefenceLaser02
StartsActive   No
TriggeredBy    Upgrade_AmericaPointDefenceLasers
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       AvengerPDLDecalWeapon
ContinuousWeaponDamaged        AvengerPDLDecalWeapon
ContinuousWeaponReallyDamaged  AvengerPDLDecalWeapon
;No rubble weapon as this decal should disappear when dead
;ContinuousWeaponRubble
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  FINAL OCL_AmericaRepairDroneDebris
FX   FINAL FX_AmericaRepairDroneDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_RepairDecal01
Weapon  RepairDroneDecalWeapon
End

Behavior  BoneFXDamage ModuleTag_Repair01
End

Behavior  BoneFXUpdate ModuleTag_Repair02
PristineOCL1       bone:NULL OnlyOnce:No 200 200 OCL:OCL_RepairDroneHealingAura
DamagedOCL1        bone:NULL OnlyOnce:No 200 200 OCL:OCL_RepairDroneHealingAura
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 200 200 OCL:OCL_RepairDroneHealingAura
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
Scale  0.95

End

;------------------------------------------------------------------------------
Object RepairDronePointDefenceLaserObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model          NONE
End
AliasConditionState  REALLYDAMAGED

ConditionState   WEAPONSET_PLAYER_UPGRADE
Model          AVRepairDr_L
End

ConditionState   REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          AVRepairDr_LD
End

End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   1

VisionRange      250
ShroudClearingRange  150

WeaponSet
Conditions  None
Weapon  PRIMARY   NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   RepairDronePointDefenseLaser
End

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate       36000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  1
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaPointDefenceLasers
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object RepairDroneHealingFieldObject

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AutoHealBehavior ModuleTag_Repair01
HealingAmount  5.0
HealingDelay  200
Radius  80.0
StartsActive  Yes
KindOf  DRONE
ForbiddenKindOf  AIRCRAFT
;UnitHealPulseParticleSystemName  VehicleRepairingEffect
SkipSelfForHealing  Yes
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  200
MaxLifetime  200
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_RepairDroneVehicleRepairCrate
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the repair drone constantly but will only activate once a workshop has been constructed
Object RepairDroneVehicleRepairCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM


; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  RepairDroneVehicleHealingFieldObject
RequiredKindOf  DRONE
ForbiddenKindOf  INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  No
ForbidOwnerPlayer  No
PickupScience  SCIENCE_DroneWorkshop
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  100
MaxLifetime  100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object RepairDroneVehicleHealingFieldObject

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AutoHealBehavior ModuleTag_Repair02
HealingAmount  6.0
HealingDelay  200
Radius  80.0
StartsActive  Yes
KindOf  VEHICLE
ForbiddenKindOf  DRONE AIRCRAFT
;UnitHealPulseParticleSystemName  VehicleRepairingEffect
SkipSelfForHealing  Yes
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  200
MaxLifetime  200
End

End

;------------------------
; Дрон Разведки Рекон
;------------------------
Object AmericaVehicleReconDrone

; *** ART Parameters ***
SelectPortrait          SAReconDrone_L
ButtonImage             SAReconDrone

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model          AVRcnDrn
Animation      AVRcnDrn.AVRcnDrn
AnimationMode  ONCE_BACKWARDS
Turret         TURRET
Flags          MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState   PREATTACK_A
Model          AVRcnDrn
Animation      AVRcnDrn.AVRcnDrn
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_A
Model          AVRcnDrn
Animation      AVRcnDrn.AVRcnDrn
AnimationMode  ONCE
End

ConditionState   REALLYDAMAGED
Model          AVRcnDrn_D
Animation      AVRcnDrn_D.AVRcnDrn_D
End
AliasConditionState  RUBBLE

ConditionState   REALLYDAMAGED PREATTACK_A
Model          AVRcnDrn_D
Animation      AVRcnDrn_D.AVRcnDrn_D
AnimationMode  ONCE
End

ConditionState   REALLYDAMAGED USING_WEAPON_A
Model          AVRcnDrn_D
Animation      AVRcnDrn_D.AVRcnDrn_D
AnimationMode  ONCE
End

TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

; ***DESIGN parameters ***
DisplayName         OBJECT:ReconDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY  ReconDroneMineDisarmingWeapon
Weapon  TERTIARY ReconDroneTargetDesignator
End

Prerequisites
Object  FactionBasePowerActive
End

ArmorSet
Conditions       None
Armor            RecondDroneArmor
DamageFX         TruckDamageFX
End

BuildCost        200
BuildTime        5.0          ;in seconds
VisionRange          130
ShroudClearingRange  350

ExperienceValue  10 10 10 10
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaReconDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ReconDroneVoiceSelect
VoiceMove              ReconDroneVoiceMove
VoiceGuard             ReconDroneVoiceMove
VoiceAttack            ReconDroneVoiceMove
SoundMoveStart         ReconDroneMoveStart
SoundMoveStartDamaged  ReconDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         180
ControlledWeaponSlots  TERTIARY
NaturalTurretAngle     0
MinIdleScanInterval    1000 ; in milliseconds
MaxIdleScanInterval    1000 ; in milliseconds
MinIdleScanAngle       20   ; in degrees off the natural turret angle
MaxIdleScanAngle       180  ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  No
TurretsLinked Yes
End
Locomotor  SET_NORMAL ReconDroneLocomotor

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100    ;how often to rescan for stealthed things in my sight (msec)
DetectionRange             150    ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No     ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No     ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE   ;we can only detect MINES, not other stealthed things
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100    ;how often to rescan for stealthed things in my sight (msec)
DetectionRange             150    ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No     ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No     ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP ;we can only detect MINES, not other stealthed things
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   1
FX   INITIAL  FX_ReconDroneDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleReconDroneDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------------------
; Дрон Разведки Шпион
;-----------------------------------
Object AmericaVehicleSpyDrone

; *** ART Parameters ***
SelectPortrait          SAPredatorDrone_L
ButtonImage             SAPredatorDrone

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       CHASSIS

ConditionState  NONE
Model  AVSpyDr
Animation  AVSpyDr.AVSpyDr
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  AVSpyDr_D
Animation  AVSpyDr_D.AVSpyDr_D
AnimationMode  LOOP
ParticleSysBone    NONE SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_Rotor01

ConditionState  NONE
Model  AVSpyDr_U
Animation  AVSpyDr_U.AVSpyDr_U
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  AVSpyDr_UD
Animation  AVSpyDr_UD.AVSpyDr_UD
AnimationMode  LOOP
End

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDtectDcl_B
WaitForStateToFinishIfPossible  TRANS_SHOW_DETECTION_RANGE
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              EXDtectDcl
Animation          EXDtectDcl.EXDtectDcl
AnimationMode      ONCE
TransitionKey      TRANS_SHOW_DETECTION_RANGE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:SpyDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions       None
Weapon           PRIMARY   PredatorDroneFollowWeapon
Weapon           SECONDARY PredatorDroneRevealDummyWeapon
End

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         SmallTankDamageFX
End

Prerequisites
Object  AmericaDetentionCamp AmericaDroneControlCenter
;Object  AmericaStrategyCenter
End

VisionRange          200
ShroudClearingRange  200
BuildCost            500
BuildTime            5.0
IsTrainable      No
ExperienceValue     5 5 5 5     ;Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            PredatorVoiceSelect
VoiceMove              PredatorVoiceMove
VoiceGuard             PredatorVoiceMove
VoiceAttack            PredatorVoiceMove
SoundMoveStart         SpyDroneMoveStart
SoundMoveStartDamaged  SpyDroneMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          PredatorVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE AIRCRAFT DRONE IGNORES_SELECT_ALL CANNOT_RETALIATE SCORE PRODUCED_AT_HELIPAD

CommandSet       AmericaDroneGlobalHawkCommandSet

Body  ActiveBody ModuleTag_02
MaxHealth        90.0
InitialHealth    90.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End
Locomotor  SET_NORMAL GlobalHawkLocomtor


Behavior  PhysicsBehavior ModuleTag_06
Mass  50.0
End

Behavior  DestroyDie ModuleTag_07
DeathTypes  ALL
End

Behavior                  CreateObjectDie ModuleTag_08
DeathTypes  ALL
CreationList       OCL_AmericaScoutDroneExplode
End

Behavior  MaxHealthUpgrade ModuleTag_10
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   22.5
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  SpecialAbility ModuleTag_ScannerSweep01
SpecialPowerTemplate      SpecialAbilityPredatorDroneScanner
UpdateModuleStartsAttack  Yes
StartsPaused              No
InitiateSound             PredatorVoiceScan
End

Behavior  SpecialAbilityUpdate ModuleTag_ScannerSweep02
SpecialPowerTemplate                SpecialAbilityPredatorDroneScanner
StartAbilityRange                   15.0
PreparationTime                     0
SpecialObjectAttachToBone           None
SpecialObject                       PredatorDroneScannerSweepObject
MaxSpecialObjects                   5
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes     ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          No      ;This would prevent multiple charges placed on the same object.
UnpackTime                          450.0     ;slight delay to drop bomb
PackTime                            0.0
FlipOwnerAfterUnpacking             No
FleeRangeAfterCompletion            0.0     ;Dees not run away after finishing ability
UnpackSound                         NoSound
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No      ; we are a helicopter, we can see everything
NeedToFaceTarget                    No      ; can drop the bomb at any angle to target
PersistentPrepTime                  100
PersistenceRequiresRecharge         Yes
End

Behavior  FireWeaponCollide ModuleTag_ScannerSweep03
CollideWeapon   PredatorDroneScanningPingEffectWeapon
RequiredStatus  USING_ABILITY
End

Behavior  FireWeaponUpdate ModuleTag_ScannerSweep04
Weapon  GenericCollisionDummyWeapon
End

Behavior            OCLSpecialPower ModuleTag_PulseDetection01
SpecialPowerTemplate  SpecialAbilitySentryDroneDetectionPulse
OCL                   OCL_SentryDroneStealthDetectionPulse
CreateLocation        USE_OWNER_OBJECT
End

Behavior  StealthUpdate ModuleTag_Stealth01
RequiredStatus               USING_ABILITY
StealthDelay                 3000 ; msec
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_AmericaStealthCoating
End

Behavior  ProductionUpdate ModuleTag_DetectionRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_DetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  OverlordContain ModuleTag_ShowDetectionRange03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericaPredatorDroneDetectionRangeIndicatorDecalObject
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaPredatorDroneDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

;-----------------------------------
; Дрон поддержки Мул
;-----------------------------------
Object AmericaVehicleMuleDrone

; *** ART Parameters ***
SelectPortrait          SAMule_L
ButtonImage             SAMule

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVMule
End
End

Prerequisites
Object             FactionBasePowerActive
End

Side  America
EditorSorting  VEHICLE
BuildCost        400
BuildTime        5.0          ;in seconds

BuildVariations  AmericaVehicleMule_Var1 AmericaVehicleMule_Var2 AmericaVehicleMule_Var3 AmericaVehicleMule_Var4 AmericaVehicleMule_Var5 AmericaVehicleMule_Var6
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

End

;------------------------------------------------------------------------------
Object AmericaVehicleMule_Core

; *** ART Parameters ***
SelectPortrait          SAMule_L
ButtonImage             SAMule

UpgradeCameo1  Upgrade_AmericaDroneArmor

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVMule
End
End

; ***DESIGN parameters ***
DisplayName         OBJECT:Mule
Side                America
EditorSorting       SYSTEM
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  NONE
Weapon  PRIMARY   MuleDroneMinigunWeapon
Weapon  SECONDARY MuleDroneHoldfireFollowWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         TruckDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  SentryDroneArmorUpgraded
DamageFX               None
End

Prerequisites
Object             FactionBasePowerActive
End

BuildCost        400
BuildTime        5.0          ;in seconds
VisionRange      200
ShroudClearingRange  250

ExperienceValue  50 50 50 50
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaVehicleMuleDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MuleDroneVoiceSelect
VoiceMove              MuleDroneVoiceMove
VoiceGuard             MuleDroneVoiceMove
VoiceAttack            MuleDroneVoiceAttack
SoundMoveStart         MuleDroneMoveStart
SoundMoveStartDamaged  MuleDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_0223121
MaxHealth        250.0
InitialHealth    250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         180
TurretPitchRate        180
FirePitch              0            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch            No
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      No
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    1000    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       150     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End
Locomotor  SET_NORMAL CrusaderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_MuleDroneDeathEffect
FX   FINAL    FX_AmericaMuleDroneDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  MuleDroneWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  MuleDroneWeaponBonusDecalWeapon
End

;Countermeasure grenades
Behavior            OCLSpecialPower ModuleTag_FireFlares01
SpecialPowerTemplate  SpecialAbilityMuleDroneFlares
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_FireFlares02
CollideWeapon   MuleDroneCounterMeasureFlareLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  9.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var1 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES02 CRATES03 CRATES04 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var2 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES03 CRATES04 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var3 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES04 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var4 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES03 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var5 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES03 CRATES04 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var6 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES03 CRATES04 CRATES05 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;-----------------------------------
; Противотанковый дрон хантер киллер
;-----------------------------------
Object AmericaJetHunterKillerDrone

; *** ART Parameters ***
SelectPortrait          SAHunterKiller_L
ButtonImage             SAHunterKiller

Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY SECONDARY

DefaultConditionState
Model                AVHntrKlr
HideSubObject        BurnerFX01 BurnerFX02
WeaponLaunchBone     PRIMARY   WeaponA
WeaponLaunchBone     SECONDARY WeaponB
End

ConditionState         JETEXHAUST
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
; afterburner
HideSubObject        BurnerFX01 BurnerFX02
End

ConditionState         REALLYDAMAGED
Model                AVHntrKlr_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke01 SparksMedium
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                AVHntrKlr_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke01 SparksMedium
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                AVHntrKlr_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke01 SparksMedium
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; afterburner
HideSubObject        BurnerFX01 BurnerFX02
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End


ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                AVHntrKlr_D
HideSubObject        None
ShowSubObject        None
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Smoke03 JetSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End
AliasConditionState         RUBBLE

End

Draw                 W3DModelDraw ModuleTag_TargetingLaser01

DefaultConditionState
Model            None
AltTurretPitch   LASER01
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  FIRING_A
AliasConditionState  USER_1

ConditionState     USER_1 FIRING_A
Model            AVJetLsr
Animation        AVJetLsr.AVJetLsr
AnimationMode    ONCE
TransitionKey    TRANS_START_FIRING
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End



; ***DESIGN parameters ***
DisplayName              OBJECT:HunterKiller
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0

WeaponSet
Conditions             None
Weapon                 PRIMARY   HunterKillerDroneMissileWeapon
Weapon                 SECONDARY HunterKillerDroneMissileWeapon
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  CountermeasuresAirplaneArmor
DamageFX               None
End

BuildCost                1000
BuildTime                14.0
ExperienceValue          100 100 100 100
IsTrainable              No             ;Can gain experience

CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               AmericaJetHunterKillerDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect             HunterKillerVoiceSelect
VoiceMove               HunterKillerVoiceMove
VoiceAttack             HunterKillerVoiceAttack
VoiceGuard              HunterKillerVoiceGuardArea
SoundAmbient            RaptorAmbientLoop

UnitSpecificSounds
VoiceCreate           HunterKillerVoiceCreate
Afterburner           RaptorAfterburner
VoiceGarrison         HunterKillerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT DRONE
Body                    ActiveBody ModuleTag_02
MaxHealth             150.0
InitialHealth         150.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_HunterKillerDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_HunterKillerDeathFinalBlowUp
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate         0
ControlledWeaponSlots  SECONDARY
End
TurretsLinked               Yes

OutOfAmmoDamagePerSecond   10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  5
ParkingOffset              3             ; scooch it a little forward so the tail doesn't hit the doors
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor  SET_NORMAL HunterKillerLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior  MaxHealthUpgrade ModuleTag_DroneArmor01
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   110.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  ModelConditionUpgrade ModuleTag_LaserGuidance02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaLaserMissiles
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000    ; Time between flare volleys
NumberOfVolleys        12     ; Number of times the volleys will fire before reloading
ReloadTime             0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End


Behavior = StealthUpdate ModuleTag_Stealth02
StealthDelay                          = 3000 ; msec
StealthForbiddenConditions            = FIRING_PRIMARY ATTACKING USING_ABILITY TAKING_DAMAGE
RevealDistanceFromTarget              = 20.0f
FriendlyOpacityMin                    = 5.0%
FriendlyOpacityMax                    = 10.0%
InnateStealth                         = No
OrderIdleEnemiesToAttackMeUponReveal  = Yes
End

Behavior = StealthUpgrade ModuleTag_Stealth03
TriggeredBy = Upgrade_AmericaStealthCoating
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
; Дрон обороны Гуардиан 
;------------------------------------------------------------------------------
Object AmericaVehicleGuardianDrone

; *** ART Parameters ***
SelectPortrait          SAGuardian_L
ButtonImage             SAGuardian

Draw  W3DTankDraw ModuleTag_01

MaxRecoilDistance     2.0
RecoilSettleSpeed     4.0
OkToChangeModelColor  Yes

ConditionState       NONE
Model              AVGuardDr
Animation          AVGuardDr.AVGuardDr
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_NORMAL
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 NIGHT
AliasConditionState  DISGUISED NIGHT

;Transitions
TransitionState      TRANS_NORMAL TRANS_DUG_IN
Model              AVGuardDr
Animation          AVGuardDr.AVGuardDr
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

TransitionState      TRANS_DUG_IN TRANS_NORMAL
Model              AVGuardDr_A
Animation          AVGuardDr_A.AVGuardDr_A
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

ConditionState  RIDER2
Model              AVGuardDr
Animation          AVGuardDr.AVGuardDr
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_DUG_IN
End
AliasConditionState  RIDER2 NIGHT

;Damaged Conditions
ConditionState       REALLYDAMAGED
Model              AVGuardDr_D
Animation          AVGuardDr_D.AVGuardDr_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_DAMAGED_NORMAL
ParticleSysBone    TURRET SparksMedium
End
AliasConditionState  RIDER1 REALLYDAMAGED
AliasConditionState  RIDER1 REALLYDAMAGED NIGHT
AliasConditionState  DISGUISED REALLYDAMAGED
AliasConditionState  DISGUISED REALLYDAMAGED NIGHT

;Transitions
TransitionState      TRANS_DAMAGED_NORMAL TRANS_DAMAGED_DUG_IN
Model              AVGuardDr_D
Animation          AVGuardDr_D.AVGuardDr_D
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

TransitionState      TRANS_DAMAGED_DUG_IN TRANS_DAMAGED_NORMAL
Model              AVGuardDr_AD
Animation          AVGuardDr_AD.AVGuardDr_AD
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

ConditionState       RIDER2 REALLYDAMAGED
Model              AVGuardDr_D
Animation          AVGuardDr_D.AVGuardDr_D
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_DAMAGED_DUG_IN
ParticleSysBone    TURRET SparksMedium
End
AliasConditionState  RIDER2 REALLYDAMAGED NIGHT


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_DirtPatch01

DefaultConditionState
Model              AVGuardDr_A2
Animation          AVGuardDr_A2.AVGuardDr_A2
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
HideSubObject      DIRT
TransitionKey      TRANS_NORMAL
End
AliasConditionState  RIDER1
AliasConditionState  NIGHT RIDER1

TransitionState  TRANS_NORMAL TRANS_DUG_IN
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

ConditionState  RIDER2
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_DUG_IN
ShowSubObject      DIRT
End
AliasConditionState  NIGHT RIDER2

TransitionState  TRANS_DUG_IN TRANS_NORMAL
Model              AVGuardDr_A3
Animation          AVGuardDr_A3.AVGuardDr_A3
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

ConditionState        SNOW
Model              AVGuardDr_A2S
Animation          AVGuardDr_A2S.AVGuardDr_A2S
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
HideSubObject      DIRT
TransitionKey      TRANS_SNOW_NORMAL
End
AliasConditionState  SNOW RIDER1
AliasConditionState  SNOW NIGHT RIDER1

TransitionState  TRANS_SNOW_NORMAL TRANS_SNOW_DUG_IN
Model              AVGuardDr_A2S
Animation          AVGuardDr_A2S.AVGuardDr_A2S
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

ConditionState  SNOW RIDER2
Model              AVGuardDr_A2S
Animation          AVGuardDr_A2S.AVGuardDr_A2S
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_SNOW_DUG_IN
ShowSubObject      DIRT
End
AliasConditionState  SNOW NIGHT RIDER2

TransitionState  TRANS_SNOW_DUG_IN TRANS_SNOW_NORMAL
Model              AVGuardDr_A3S
Animation          AVGuardDr_A3S.AVGuardDr_A3S
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

End


; ***DESIGN parameters ***
DisplayName         OBJECT:GuardianDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY   GuardianDroneStandardGunDummyWeapon
Weapon  SECONDARY GuardianDroneStandardGun
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY   GuardianDroneDugInGunDummyWeapon
Weapon  SECONDARY GuardianDroneDugInGun
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         SmallTankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SentryDroneArmorUpgraded
DamageFX         None
End

Prerequisites
Object  FactionBasePowerActive
End

BuildCost        750
BuildTime        9.0          ;in seconds
VisionRange      200
ShroudClearingRange  250

ExperienceValue         60 60 60 60
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            GuardianDroneVoiceSelect
VoiceMove              GuardianDroneVoiceMove
VoiceGuard             GuardianDroneVoiceMove
VoiceAttack            GuardianDroneVoiceAttack
SoundMoveStart         SentryDroneMoveStart
SoundMoveStartDamaged  SentryDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  200
SubdualDamageHealAmount  25
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         90
TurretPitchRate        90
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      No
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
TurretsLinked  Yes
MoodAttackCheckRate  33
End
Locomotor  SET_NORMAL     GuardianDroneLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaVehicleGuardianDroneCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaVehicleGuardianDroneCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform02
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  GrantUpgradeCreate ModuleTag_Transform04
UpgradeToGrant      Upgrade_ChinaOverlordGattlingCannon
End

Behavior  FireWeaponUpdate ModuleTag_Transform05
Weapon  GenericCollisionDummyWeapon
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GuardianDroneSwitchModeDelayObject
TriggeredBy      Upgrade_ChinaOverlordGattlingCannon
End

;Primary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
UpgradeObject   OCL_GuardianDroneStandardMode
ConflictsWith   Upgrade_ChinaOverlordGattlingCannon
FXListUpgrade   FX_GuardianDronePopoutofGround
End

Behavior  MaxHealthUpgrade ModuleTag_Transform08
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ConflictsWith   Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth    -250.0 ; And remove them when i come back out
ChangeType      PRESERVE_RATIO
End

;Secondary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
UpgradeObject   OCL_GuardianDroneDiginMode
FXListUpgrade   FX_GuardianDroneDigInGround
End

Behavior  MaxHealthUpgrade ModuleTag_Transform10
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
AddMaxHealth    250.0 ; Give me 250 more hit points when dug in
ChangeType      PRESERVE_RATIO
End

Behavior  FireWeaponCollide ModuleTag_Transform11
CollideWeapon   GuardianDroneDuginCollisionDummyWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_GuardianDroneDeathEffect
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  ProductionUpdate ModuleTag_14
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
; Транспортный авиа Дрон Лифтер
;------------------------------------------------------------------------------
Object AmericaVehicleDroneLifter

; *** ART Parameters ***
SelectPortrait          SADroneLifter_L
ButtonImage             SADroneLifter


Draw  W3DModelDraw                         ModuleTag_01 ; Helicopter

ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd

DefaultConditionState
Model  AVDrnLftr
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_HOVERING
End

TransitionState  TRANS_HOVERING TRANS_MOVING
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  AVDrnLftr_SKL.AVDrnLftr_FLA
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_MOVING
End

TransitionState  TRANS_MOVING TRANS_HOVERING
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

TransitionState  TRANS_DAMAGED_HOVERING TRANS_DAMAGED_MOVING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_FLA
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_DAMAGED_MOVING
End

TransitionState  TRANS_DAMAGED_MOVING TRANS_DAMAGED_HOVERING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVDrnLftr_D
HideSubObject  Props01
HideSubObject  Props02
TransitionKey  TRANS_DAMAGED_HOVERING
End

OkToChangeModelColor  Yes
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  OVER_WATER
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  MOVING SNOW
AliasConditionState  MOVING SNOW REALLYDAMAGED
AliasConditionState  MOVING OVER_WATER
AliasConditionState  MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING SNOW OVER_WATER
AliasConditionState  MOVING SNOW OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING
AliasConditionState  POWER_PLANT_UPGRADED MOVING REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW OVER_WATER REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  POWER_PLANT_UPGRADED SNOW REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  POWER_PLANT_UPGRADED OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED SNOW OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

Draw                     W3DModelDraw ModuleTag_DismissEffectPositions01

ConditionState  NONE
Model  AVStrLftr_B
WeaponLaunchBone  TERTIARY WeaponB
End

ConditionState  LOADED
Model  AVStrLftr_B
WeaponLaunchBone  TERTIARY WeaponA
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:DroneLifter
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0
BuildCost            1000
BuildTime            10.0          ;in seconds

WeaponSet
Conditions  NONE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  SuicideUnresistableWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  NONE
End

Prerequisites
Object             AmericaSupplyCenter
End

ExperienceValue      50 50 50 50 ;Experience point value at each level
IsTrainable          No
CommandSet           AmericaVehicleDroneLifterCommandSet

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

; *** AUDIO Parameters ***
VoiceSelect      DroneAirlifterVoiceSelect
VoiceMove        DroneAirlifterVoiceMove
SoundAmbient     DroneLifterAmbientLoop
SoundAmbientRubble     NoSound
SoundEnter       HumveeEnter
SoundExit        HumveeExit
UnitSpecificSounds
VoiceCreate          DroneAirlifterVoiceCreate
VoiceUnload          DroneAirlifterVoiceUnload
VoiceCombatDrop      DroneAirlifterVoiceCombatDrop
VoiceClearBuilding   RangerVoiceClearBuilding ;Special combat drop that clears buildings!
VoiceGarrison        DroneAirlifterVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE IGNORES_SELECT_ALL PRODUCED_AT_HELIPAD DRONE

Body  ActiveBody ModuleTag_03
MaxHealth        300.0
InitialHealth    300.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End


Behavior  ChinookAIUpdate ModuleTag_07
NumRopes                 4
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it

AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
RotorWashParticleSystem     HelixRotorWashRing
End
Locomotor  SET_NORMAL    OspreyLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_09
Mass  50.0
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   75.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  CommandSetUpgrade ModuleTag_Stealth01
CommandSet   AmericaVehicleDroneLifterUpgradedCommandSet
TriggeredBy  Upgrade_AmericaStealthCoating
End

Behavior  OCLSpecialPower ModuleTag_Stealth02
SpecialPowerTemplate  SpecialAbilityAmericaStealthMode
OCL                   OCL_HunterKillerStealthMode
CreateLocation        USE_OWNER_OBJECT
End

Behavior  StealthUpdate ModuleTag_Stealth03
RequiredStatus               STATUS_RIDER2
StealthDelay                 500 ; msec
StealthForbiddenConditions   ATTACKING
FriendlyOpacityMin           25.0%
FriendlyOpacityMax           75.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code Start ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_08
Slots                  8
DamagePercentToUnits   100%
HealthRegen%PerSec     40%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
BurnedDeathToUnits     Yes
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  CreateObjectDie ModuleTag_Dismiss04
DeathTypes  NONE +SUICIDED
CreationList  OCL_DroneLifterDismiss
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Dismiss05
DeathTypes  NONE +SUICIDED
DestructionDelay  33
End

;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code End ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  FXListDie ModuleTag_05
DeathTypes  ALL -SUICIDED
DeathFX  FX_DroneLifterStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_076
DeathTypes                       ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                DroneLifterRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  6500 ; this is triggers the delay on the rotor wash particle effects
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;----------------------------------
; Вангуард Оператор
;----------------------------------

Object AmericaInfantryVanguard
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAVanguard_L
ButtonImage             SAVanguard

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIVngrd_SKN
End

End

BuildCost  350
BuildTime  8.0

Prerequisites
Object  AmericaBarracks
Object  AmericaAirfield AmericaWarFactory
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryVanguard_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryVanguard_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAVanguard_L
ButtonImage             SAVanguard

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ------- Standing-Around Animations

DefaultConditionState
Model                AIVngrd_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 35
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
TransitionKey        TRANS_STAND
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Attack Animations
ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  None
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A

ConditionState       FIRING_A  REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_Firing_Damaged
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  None
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_Damaged
End
AliasConditionState  RELOADING_A REALLYDAMAGED

; ------------- Deploying Mine Drone --------------------

ConditionState       PREATTACK_B
Model              AIVngrd_SKN_B
Animation          NICNSC_F_SKL.NICNSC_F_MDPL
AnimationMode      ONCE
TransitionKey      TRANS_UNPACKING_MINE_DRONE
End
AliasConditionState  PREATTACK_B REALLYDAMAGED

ConditionState       FIRING_B
Model              AIVngrd_SKN
Animation          NICNSC_SKL.NICNSC_STA
AnimationMode      LOOP
TransitionKey      TRANS_PLANTING_MINE_DRONE
End
AliasConditionState  RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  FIRING_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

; ---- Throwing Bomb Drone

ConditionState  PREATTACK_C
Model          AIVngrd_SKN_D
Animation      UIMOB01_SKL.AIVngrd_ATD
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C RELOADING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState  FIRING_C
Model          AIVngrd_SKN_D
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C BETWEEN_FIRING_SHOTS_C

TransitionState      TRANS_THROW TRANS_STAND
Model          AIVngrd_SKN_D
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState RELOADING_C
Model      AIVngrd_SKN_D
Animation  UIMOB01_SKL.UIMOB01_IDA1
End
AliasConditionState  RELOADING_C FIRING_C
AliasConditionState  RELOADING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED FIRING_C
AliasConditionState  RELOADING_C REALLYDAMAGED BETWEEN_FIRING_SHOTS_C

; ------------- Damage Transitions --------------------

TransitionState  TRANS_StandDamaged TRANS_RunDamaged
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE
AnimationSpeedFactorRange  2 2
End
TransitionState  TRANS_RunDamaged TRANS_StandDamaged
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2 2
Flags            START_FRAME_LAST
End
TransitionState  TRANS_STAND TRANS_StandDamaged
Animation        NICNSC_SKL.NICNSC_AA2SA
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  4 5
Flags            START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_STAND
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End
AliasConditionState  SPECIAL_CHEERING REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Vanguard
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   VanguardAutoShotgunWeapon

Weapon             SECONDARY VanguardMineDroneDeployWeapon
AutoChooseSources  SECONDARY NONE

Weapon             TERTIARY  VanguardBombDroneWeapon
PreferredAgainst   TERTIARY  STRUCTURE
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
Object  AmericaAirfield AmericaWarFactory
End
BuildCost  350
BuildTime  8.0          ;in seconds

ExperienceValue  30 30 50 70    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryVanguardCommandSet

; *** AUDIO Parameters ***
VoiceSelect        VanguardVoiceSelect
VoiceMove          VanguardVoiceMove
VoiceGuard         VanguardVoiceMove
VoiceAttack        VanguardVoiceAttack
VoiceFear          VanguardVoiceFear

UnitSpecificSounds
VoiceEnter          VanguardVoiceMove
VoiceEnterHostile   VanguardVoiceMove
VoiceGarrison       VanguardVoiceGarrison
VoiceCreate         VanguardVoiceCreate
VoiceClearBuilding  VanguardVoiceBombDrone
VoiceGetHealed      VanguardVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1  AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryVanguardCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior            OCLSpecialPower ModuleTag_AttackDrone01
SpecialPowerTemplate  SpecialAbilityVanguardDeployAttackDrone
OCL                   OCL_VanguardAttackDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_VanguardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_VanguardSurrender
OCL                  INITIAL OCL_VanguardSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-----------------------------
;  Морской Котик
;-----------------------------
Object AmericaInfantrySeal
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SASeal_L
ButtonImage             SASeal

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AISEAL_SKN
End
End

BuildCost  700
BuildTime  10.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
Science  SCIENCE_Rank1
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantrySeal_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantrySeal_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SASeal_L
ButtonImage             SASeal

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                AISEAL_SKN
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponFireFXBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; C4 Placement animations
ConditionState       PREATTACK_C
Animation          AIHERO_SKL.AIHERO_ATC
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
End

ConditionState       FIRING_C
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
TransitionKey      TRANS_Placing_C4
End

ConditionState       RELOADING_C
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Placing_C4
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C


; Injured  C4 Placement animations
ConditionState       PREATTACK_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC1
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
End

ConditionState       FIRING_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
TransitionKey      TRANS_Placing_C4_Injured
End

ConditionState       RELOADING_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Placing_C4_Injured
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

;;;;Brand new swimming animations

ConditionState       OVER_WATER
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWI
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Swimming_Idle
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  OVER_WATER PREATTACK_C
AliasConditionState  OVER_WATER FIRING_C
AliasConditionState  OVER_WATER RELOADING_C
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_C
AliasConditionState  OVER_WATER PREATTACK_C REALLYDAMAGED
AliasConditionState  OVER_WATER FIRING_C REALLYDAMAGED
AliasConditionState  OVER_WATER RELOADING_C REALLYDAMAGED
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
AliasConditionState  OVER_WATER SPECIAL_CHEERING
AliasConditionState  OVER_WATER SPECIAL_CHEERING REALLYDAMAGED


; moving
ConditionState         OVER_WATER MOVING
Model                AISEAL_SKN_B
Animation            AIHERO_SKL.AIHERO_SWM
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Swimming
End
AliasConditionState  OVER_WATER MOVING FIRING_A
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  OVER_WATER MOVING RELOADING_A
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  OVER_WATER MOVING REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING FIRING_A REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING FIRING_C
AliasConditionState  OVER_WATER MOVING FIRING_C REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING RELOADING_C
AliasConditionState  OVER_WATER MOVING RELOADING_C REALLYDAMAGED

; Firing animation
ConditionState       OVER_WATER FIRING_A
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWA
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Firing
End
AliasConditionState  OVER_WATER FIRING_A REALLYDAMAGED
AliasConditionState  OVER_WATER FIRING_B
AliasConditionState  OVER_WATER FIRING_B REALLYDAMAGED

ConditionState       OVER_WATER BETWEEN_FIRING_SHOTS_A
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWB
AnimationMode      LOOP
TransitionKey      TRANS_Swimming_Reloading
Flags              RANDOMSTART
WaitForStateToFinishIfPossible  TRANS_Swimming_Firing
End
AliasConditionState  OVER_WATER RELOADING_A
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  OVER_WATER RELOADING_A REALLYDAMAGED
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_B
AliasConditionState  OVER_WATER RELOADING_B
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  OVER_WATER RELOADING_B REALLYDAMAGED


; dying anims
ConditionState       OVER_WATER DYING
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Dying
End


End

; ***DESIGN parameters ***
DisplayName          OBJECT:Seal
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None

Weapon            PRIMARY   SealSubMachineGunWeapon
PreferredAgainst  PRIMARY   INFANTRY

Weapon            SECONDARY SealSubMachineGunVehicleWeapon

Weapon            TERTIARY  SealC4ExplosiveChargeWeapon
PreferredAgainst  TERTIARY  STRUCTURE

End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
Science  SCIENCE_Rank1
End
BuildCost  700
BuildTime  10.0          ;in seconds

ExperienceValue     40 60  80  100  ;Experience point value at each level
ExperienceRequired  0  300 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet

; *** AUDIO Parameters ***
VoiceSelect        SealVoiceSelect
VoiceMove          SealVoiceMove
VoiceGuard         SealVoiceMove
VoiceAttack        SealVoiceAttack

UnitSpecificSounds
VoiceEnter         SealVoiceMove
VoiceEnterHostile  SealVoiceMove
VoiceGarrison      SealVoiceMove
VoiceCreate          SealVoiceCreate
VoiceGetHealed       SealVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL SealLandLocomotor SealWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantrySealCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             2.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_SealDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_SealDie
OCL                  INITIAL OCL_AmericaExplodedDeathSEAL
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_SealDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL   OCL_AmericaExplodedDeathSEAL
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-----------------------------
;  Рэйнджер
;-----------------------------
Object AmericaInfantryRanger
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIRngr_SKN
End

End

BuildCost  110
BuildTime  5.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryRanger_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryRanger_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; --- Idle
DefaultConditionState
Model              AIRngr_SKN
IdleAnimation      AIRngr_SKL.AIRngr_NIA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_NIB
IdleAnimation      AIRngr_SKL.AIRngr_NIC
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
TransitionKey      TRANS_Rifle_Stand
End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_Rifle_StandInjured
End

TransitionState      TRANS_Rifle_Stand TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRNGR_NAT
AnimationMode      LOOP
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_FiringAInjured
End

TransitionState      TRANS_Rifle_StandInjured TRANS_Rifle_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Rifle_FiringAInjured TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

; --- attacking (flashbang)
ConditionState   PREATTACK_B
Model          AIRngr_SKN_3
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
TransitionKey  NONE
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B RELOADING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B RELOADING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState  FIRING_B
Model          AIRngr_SKN_3
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED FIRING_B BETWEEN_FIRING_SHOTS_B

ConditionState RELOADING_B
Model      AIRngr_SKN_3
Animation  UIMOB01_SKL.UIMOB01_IDA1
TransitionKey  NONE
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_B FIRING_B
AliasConditionState  RELOADING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED FIRING_B
AliasConditionState  RELOADING_B REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_NRN 30
AnimationMode      LOOP
Flags              RANDOMSTART
ParticleSysBone    None InfantryDustTrails
TransitionKey      NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NONE
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Rifle_Dying TRANS_Rifle_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Rifle_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Rifle_Falling TRANS_Rifle_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Rifle_Chute TRANS_Rifle_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Rifle_Chute TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED


ConditionState       RAISING_FLAG
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Rifle_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Rifle_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Rifle_Raising TRANS_Rifle_Packing
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; --- RAPPELLING ANIMATIONS
ConditionState       RAPPELLING
Animation          AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Rifle_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState      TRANS_Rifle_Rappelling TRANS_Rifle_Stand
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

TransitionState      TRANS_Rifle_Rappelling TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Ranger
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions                  WEAPON_RIDER1
Weapon                      PRIMARY   RangerAdvancedCombatRifle
Weapon                      SECONDARY RangerFlashBangGrenadeWeapon
AutoChooseSources           SECONDARY NONE
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  110
BuildTime  5.0

ExperienceValue     20 20 40 60     ;Experience point value at each level
ExperienceRequired  0  40 60 120    ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryRangerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RangerVoiceSelect
VoiceMove  RangerVoiceMove
VoiceGuard  RangerVoiceMove
VoiceAttack  RangerVoiceAttack
VoiceFear  RangerVoiceFear
VoiceTaskComplete  RangerVoiceCaptureComplete

UnitSpecificSounds
VoiceEnter  RangerVoiceMove
VoiceEnterHostile  RangerVoiceMove
VoiceGarrison  RangerVoiceGarrison
VoiceCreate          RangerVoiceCreate
VoiceSubdue          RangerVoiceSubdue
VoiceClearBuilding   RangerVoiceClearBuilding
VoiceGetHealed       RangerVoiceMove
VoicePrimaryWeaponMode  RangerVoiceModeGun
VoiceSecondaryWeaponMode  RangerVoiceModeFlashBang
End

UnitSpecificFX
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
CombatDropKillFX  FX_RangerCombatDropKill
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE CAN_RAPPEL SCORE

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryRangerCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RangerSurrender
OCL                  INITIAL OCL_RangerSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_18
SpecialPowerTemplate       SpecialAbilityRangerCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RangerVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_19
SpecialPowerTemplate   SpecialAbilityRangerCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   15
End

Behavior  LockWeaponCreate ModuleTag_21
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

;This grants the player the "SCIENCE" to capture surrendered soldiers/infantry
Behavior  GrantScienceUpgrade ModuleTag_GrantScience01
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_CapturePrisoners
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-----------------------------
;  Пилот
;-----------------------------
Object AmericaInfantryPilot
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAPilot_L
ButtonImage             SAPilot

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AIRPlt_SKN
IdleAnimation  AIRPlt_SKL.AIRPlt_STA 0 20
IdleAnimation  AIRPlt_SKL.AIRPlt_IDA
IdleAnimation  AIRPlt_SKL.AIRPlt_IDB
AnimationMode  ONCE
HideSubObject  HEAD02 HELMET
TransitionKey  TRANS_Stand
End

ConditionState  FREEFALL
Animation  AIRPlt_SKL.AIRPLT_PFL
AnimationMode  ONCE
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  AIRPlt_SKL.AIRPlt_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
WaitForStateToFinishIfPossible  TRANS_Falling
End
AliasConditionState  PARACHUTING DYING

ConditionState  MOVING
Animation  AIRPlt_SKL.AIRPlt_RNA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
ParticleSysBone      None InfantryDustTrails
End

; climbing
ConditionState       CLIMBING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING

ConditionState       CLIMBING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End

ConditionState       RAPPELLING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End

; Brand new swimming animations
ConditionState       OVER_WATER
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWI
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Swimming_Idle
End

ConditionState         OVER_WATER MOVING
Model                AIRPlt_SKN_B
Animation            AIHERO_SKL.AIHERO_SWM
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Swimming
End

ConditionState       OVER_WATER DYING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Dying
End

ConditionState  DYING
Animation  AIRPlt_SKL.AIRPlt_DTA
Animation  AIRPlt_SKL.AIRPlt_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIRPlt_SKL.AIRPlt_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIRPlt_SKL.AIRPlt_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIRPlt_SKL.AIRPlt_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AIRPLT_SKL.AIRPLT_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  AIRPlt_SKL.AIRPlt_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName  OBJECT:Pilot
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1               ;how many "slots" we take in a transport (0 == not transportable)
ExperienceValue     10 10 10 10 ;Experience point value at each level
ExperienceRequired   0 1 2 3 ;Experience points needed to gain each level
IsTrainable      Yes  ;Can gain experience
CommandSet  AmericaInfantryPilotCommandSet

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  PilotVoiceSelect
VoiceMove  PilotVoiceMove
VoiceAttack  PilotVoiceMove
VoiceGarrison  PilotVoiceMove
VoiceFear  PilotVoiceFear
UnitSpecificSounds
VoiceEnter  PilotVoiceEnter
VoiceEnterHostile      PilotVoiceEnter
VoiceGetHealed       PilotVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON SCORE IGNORES_SELECT_ALL

Behavior  VeterancyGainCreate ModuleTag_02
; omit the "ScienceRequired" so that this upgrade always occurs.
; Pilots should never (repeat, never) be less than VETERAN status.
StartingLevel  VETERAN
End

Behavior  VeterancyCrateCollide       ModuleTag_03
RequiredKindOf  VEHICLE      ; we only give our bonus to VEHICLEs we collide with
ForbiddenKindOf  DOZER CLIFF_JUMPER ; but not to TRANSPORTs or DOZERs!
EffectRange  0               ; 0=="affect only the thing you collide with"
AddsOwnerVeterancy  Yes      ; we add our own veterancy to the target (rather than just +1 level)
IsPilot  Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
End

Body  ActiveBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor SealWaterLocomotor

Behavior  AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
MinHealth  0.5 ;  don't enter a vehicle less than 50% healthy.
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PilotDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_PilotSurrender
OCL                  INITIAL OCL_PilotSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;-----------------------------
;  Следопыт
;-----------------------------
Object AmericaInfantryPathfinder
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAPathfinder1_L
ButtonImage             SAPathfinder1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIPFDR_SKN
End
End

BuildCost  400
BuildTime  10.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
;Science  SCIENCE_Pathfinder
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryPathfinder_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryPathfinder_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAPathfinder1_L
ButtonImage             SAPathfinder1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AIPFDR_SKN
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  SILENCER BINOC
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Rider1_Standing
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Rider1_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   RIDER1 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
TransitionKey  TRANS_Rider1_FiringA
End
AliasConditionState  RIDER1 FIRING_A MOVING

ConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_Rider1_FiringA
End
AliasConditionState  RIDER1 RELOADING_A
AliasConditionState  RIDER1 PREATTACK_A


;Using Binoculars
ConditionState   RIDER1 USING_WEAPON_C
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  SILENCER
ShowSubObject  BINOC
End

ConditionState  RIDER1 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Rider1_Dying
End

TransitionState  TRANS_Rider1_Dying TRANS_Rider1_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Rider1_Flailing
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  RIDER1 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Rider1_Falling
End
AliasConditionState  RIDER1 FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Rider1_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING


TransitionState  TRANS_Rider1_Falling TRANS_Rider1_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Rider1_Chute TRANS_Rider1_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Silencer attached conditions

ConditionState  RIDER2
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Rider2_Standing
End

ConditionState  RIDER2 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  RANDOMSTART
TransitionKey  TRANS_Rider2_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   RIDER2 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_FiringA
End
AliasConditionState  RIDER2 FIRING_A MOVING

ConditionState   RIDER2 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
WaitForStateToFinishIfPossible  TRANS_Rider2_FiringA
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 PREATTACK_A

;Using Binoculars
ConditionState   RIDER2 USING_WEAPON_C
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  NONE
ShowSubObject  BINOC SILENCER
End

ConditionState  RIDER2 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_Dying
End

TransitionState  TRANS_Rider2_Dying TRANS_Rider2_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_Flailing
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  None
End

ConditionState  RIDER2 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_Falling
End
AliasConditionState  RIDER2 FREEFALL DYING

ConditionState  RIDER2 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Rider2_Chute
End
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState  TRANS_Rider2_Falling TRANS_Rider2_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Rider2_Chute TRANS_Rider2_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

;Snow Conditions

ConditionState  SNOW RIDER1
Model  AIPFDR_SKN_S
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Snow_Rider1_Standing
End

ConditionState  SNOW RIDER1 MOVING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Snow_Rider1_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   SNOW RIDER1 FIRING_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
TransitionKey  TRANS_Snow_Rider1_FiringA
End
AliasConditionState  SNOW RIDER1 FIRING_A MOVING

ConditionState   SNOW RIDER1 BETWEEN_FIRING_SHOTS_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_Snow_Rider1_FiringA
End
AliasConditionState  SNOW RIDER1 RELOADING_A
AliasConditionState  SNOW RIDER1 PREATTACK_A

;Attaching Silencer
ConditionState  SNOW RIDER1 PREATTACK_B
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
End

;Using Binoculars
ConditionState   SNOW RIDER1 USING_WEAPON_C
Model          AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  SILENCER
ShowSubObject  BINOC
End

ConditionState  SNOW RIDER1 DYING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Snow_Rider1_Dying
End

TransitionState  TRANS_Snow_Rider1_Dying TRANS_Snow_Rider1_Flailing
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  SNOW RIDER1 DYING EXPLODED_FLAILING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Snow_Rider1_Flailing
End

ConditionState  SNOW RIDER1 DYING EXPLODED_BOUNCING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SNOW RIDER1 FREEFALL
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Snow_Rider1_Falling
End
AliasConditionState  SNOW RIDER1 FREEFALL DYING

ConditionState  SNOW RIDER1 PARACHUTING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Snow_Rider1_Chute
End
AliasConditionState  SNOW RIDER1 PARACHUTING DYING


TransitionState  TRANS_Snow_Rider1_Falling TRANS_Snow_Rider1_Chute
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Snow_Rider1_Chute TRANS_Snow_Rider1_Standing
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Silencer attached conditions

ConditionState  SNOW RIDER2
Model  AIPFDR_SKN_S
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Snow_Rider2_Standing
End

ConditionState  SNOW RIDER2 MOVING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  RANDOMSTART
TransitionKey  TRANS_Snow_Rider2_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   SNOW RIDER2 FIRING_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_FiringA
End
AliasConditionState  SNOW RIDER2 FIRING_A MOVING

ConditionState   SNOW RIDER2 BETWEEN_FIRING_SHOTS_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
WaitForStateToFinishIfPossible  TRANS_Snow_Rider2_FiringA
End
AliasConditionState  SNOW RIDER2 RELOADING_A
AliasConditionState  SNOW RIDER2 PREATTACK_A

;Detaching Silencer
ConditionState  SNOW RIDER2 PREATTACK_B
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

;Using Binoculars
ConditionState   SNOW RIDER2 USING_WEAPON_C
Model          AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  NONE
ShowSubObject  BINOC SILENCER
End

ConditionState  SNOW RIDER2 DYING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_Dying
End

TransitionState  TRANS_Snow_Rider2_Dying TRANS_Snow_Rider2_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

ConditionState  SNOW RIDER2 DYING EXPLODED_FLAILING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_Flailing
End

ConditionState  SNOW RIDER2 DYING EXPLODED_BOUNCING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  None
End

ConditionState  SNOW RIDER2 FREEFALL
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_Falling
Model  AIPFDR_SKN_S
End
AliasConditionState  SNOW RIDER2 FREEFALL DYING

ConditionState  SNOW RIDER2 PARACHUTING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Snow_Rider2_Chute
End
AliasConditionState  SNOW RIDER2 PARACHUTING DYING

TransitionState  TRANS_Snow_Rider2_Falling TRANS_Snow_Rider2_Chute
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Snow_Rider2_Chute TRANS_Snow_Rider2_Standing
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:Pathfinder
Side  America
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   USAPathfinderSniperRifle
PreferredAgainst   PRIMARY   INFANTRY
Weapon             TERTIARY  USAPathfinderBinoculars
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   USAPathfinderSilencedSniperRifle
PreferredAgainst   PRIMARY   INFANTRY
Weapon             TERTIARY  USAPathfinderBinoculars
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions  None
Armor       RifleHumanArmor
DamageFX    InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

Prerequisites
Object  AmericaBarracks
Object  AmericaDetentionCamp AmericaDroneControlCenter
Science  SCIENCE_Pathfinder
End

BuildCost  400
BuildTime  10.0          ;in seconds

ExperienceValue  40 40 60 80    ;Experience point value at each level
ExperienceRequired  0 50 100 200  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  PathfinderVoiceSelect
VoiceMove  PathfinderVoiceMove
VoiceGuard  PathfinderVoiceMove
VoiceAttack  PathfinderVoiceAttack
VoiceFear  PathfinderVoiceFear
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff
VoiceFear  PathfinderVoiceFear

UnitSpecificSounds
VoiceCreate           PathfinderVoiceCreate
VoiceGarrison  PathfinderVoiceGarrison
VoiceEnter  PathfinderVoiceMove
VoiceEnterHostile   PathfinderVoiceMove
VoiceGetHealed       PathfinderVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE CANNOT_RETALIATE ATTACK_NEEDS_LINE_OF_SIGHT

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         0
TurretPitchRate        0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  250
End

Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor

Behavior  ExperienceScalarUpgrade ModuleTag_05
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  StealthUpdate ModuleTag_09
StealthDelay                 2000
ForbiddenStatus              DETECTED
FriendlyOpacityMin           30.0%
FriendlyOpacityMax           80.0%
PulseFrequency               500
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryPathfinderCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryPathfinderCommandSet SET_NORMAL

;;;;We only use this for a split second and then never again
Rider3  AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryPathfinderCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    PathfinderSwitchToUnSilencedRifle
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    PathfinderSwitchToSilencedRifle
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

;************************************
;******Transformation Code End********
;************************************

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PathfinderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_PathfinderSurrender
OCL                  INITIAL OCL_PathfinderSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;----------------------------------
; Защитник РПГ
;----------------------------------
Object AmericaInfantryMissileDefender
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAMissleDefender_L
ButtonImage             SAMissleDefender

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIMslDfr_SKN
End

End

BuildCost  250
BuildTime  5.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryMissileDefender_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryMissileDefender_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAMissleDefender_L
ButtonImage             SAMissleDefender

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;***NOTE***
;A little history -- the MissileDefender now uses the assets of the TankHunter.
;The TH uses assets of the GLA tunnel defender, and the TD uses assets of the NEW
;MD. It was a design/art/code decision because the new missile defender animations
;don't suit that of a mobile/offensive unit with packing and unpacking.

DefaultConditionState
Model              AIMslDfr_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
AnimationMode      ONCE
HideSubObject      LASER01
TransitionKey      TRANS_Stand
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Nada
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER1 MOVING RELOADING_A
AliasConditionState  RIDER1 MOVING RELOADING_C
AliasConditionState  RIDER1 MOVING RELOADING_B

ConditionState       RIDER1 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 1.8
End

ConditionState       RIDER1 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState       RIDER1 FIRING_C
Animation          NITHNT_SKL.NITHNT_ATB
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 1.8
End
AliasConditionState  RIDER1 FIRING_B

ConditionState       RIDER1 BETWEEN_FIRING_SHOTS_C
Animation          NITHNT_SKL.NITHNT_ATB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 RELOADING_C
AliasConditionState  RIDER1 PREATTACK_C
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 RELOADING_B

;;;;;;Swith to Laser animations Lock :

TransitionState      TRANS_Stand TRANS_RIDER2_Stand
Animation          NITHNT_SKL.NITHNT_PBA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.2 1.2
End

TransitionState      TRANS_RIDER2_Stand TRANS_Stand
ShowSubObject      LASER01
Animation          NITHNT_SKL.NITHNT_PBA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.2 1.2
End

;;;;;;Laser Lock Activated:

ConditionState       RIDER2
ShowSubObject      LASER01
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
TransitionKey      TRANS_RIDER2_Stand
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End

ConditionState       RIDER2 MOVING
ShowSubObject      LASER01
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Nada
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING RELOADING_C
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState       RIDER2 FIRING_A
ShowSubObject      LASER01
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      LOOP
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 RELOADING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 FIRING_C
AliasConditionState  RIDER2 RELOADING_C
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER2 PREATTACK_A

;Death animations:

ConditionState       RIDER1 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER1 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 DYING EXPLODED_FLAILING

ConditionState       RIDER1 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
TransitionKey      Nada
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 DYING EXPLODED_BOUNCING

;PARACHUTING ANIMATIONS
ConditionState      RIDER1 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  RIDER1 FREEFALL DYING
AliasConditionState  RIDER2 FREEFALL
AliasConditionState  RIDER2 FREEFALL DYING


ConditionState       RIDER1 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING
AliasConditionState  RIDER2 PARACHUTING
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:MissileTeam
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   MissileDefenderMissileWeapon
Weapon             SECONDARY MissileDefenderMissileAirWeapon
Weapon             TERTIARY  MissileDefenderLaserGuidedMissileWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   MissileDefenderLaserGuidanceWeapon
Weapon             SECONDARY MissileDefenderLaserGuidanceInitialRangeDummyWeapon
Weapon             TERTIARY  MissileDefenderLaserGuidedMissileWeapon_Dummy
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  250
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  MissileDefenderVoiceSelect
VoiceMove  MissileDefenderVoiceMove
VoiceGuard  MissileDefenderVoiceMove
VoiceAttack  MissileDefenderVoiceAttack
VoiceAttackAir  MissileDefenderVoiceAttack
VoiceFear  MissileDefenderVoiceFear

UnitSpecificSounds
VoiceGarrison  MissileDefenderVoiceGarrison
VoiceCreate           MissileDefenderVoiceCreate
VoiceEnter  MissileDefenderVoiceMove
VoiceGetHealed       MissileDefenderVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT


Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_03
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  AssistedTargetingUpdate ModuleTag_038
AssistingClipSize    1                        ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
AssistingWeaponSlot  TERTIARY                 ; And the weapon to use.  Should have huge range and no natural clip.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_CBHunt ; allows use of command button hunt script with this unit.
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryMissileDefenderCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryMissileDefenderCommandSet SET_NORMAL

;;;;We only use this for a split second and then never again
Rider3  AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryMissileDefenderCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    MissileDefenderSwitchToStandardMode
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     HIJACKED
StatusToClear   REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform08
CollideWeapon    MissileDefenderSwitchToLaserlockMode
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
StatusToSet     REPULSOR
StatusToClear   HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MissileDefenderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderSurrender
OCL                  INITIAL OCL_MissileDefenderSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;----------------------------------
; Отряд Джавелина
;----------------------------------
Object AmericaInfantryJavelin
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAJavelin_L
ButtonImage             SAJavelin

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIJvln_SKN
End
End

BuildCost  650
BuildTime  8.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryJavelin_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryJavelin_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAJavelin_L
ButtonImage             SAJavelin

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal state
DefaultConditionState
Model              AIJvln_SKN
IdleAnimation      UISMSD_SKL.UISMSD_STB 0 15
IdleAnimation      UISMSD_SKL.UISMSD_IDC
IdleAnimation      UISMSD_SKL.UISMSD_IDD
AnimationMode      ONCE
Turret             UISMSD_MAINRT
ShowSubObject      MISSILE
TransitionKey      TRANS_STAND
WeaponFireFXBone   PRIMARY   Muzzle01
WeaponLaunchBone   PRIMARY   Muzzle01
WeaponLaunchBone   SECONDARY Muzzle01
WeaponFireFXBone   SECONDARY Muzzle01
End

ConditionState       MOVING
Animation          UISMSD_SKL.UISMSD_WKA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING
AliasConditionState  DEPLOYED MOVING
AliasConditionState  DEPLOYED MOVING ATTACKING

;Deploy animation
ConditionState     UNPACKING
Animation        UISMSD_SKL.AIJVLN_JDP
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING

;Deployed animations
ConditionState   DEPLOYED
IdleAnimation  UISMSD_SKL.AIJVLN_JIDA 0 30
IdleAnimation  UISMSD_SKL.AIJVLN_JIDB
IdleAnimation  UISMSD_SKL.AIJVLN_JIDC
AnimationMode  ONCE
TransitionKey  TRANS_DEPLOYED
End

;Deployed attacking animation
ConditionState     DEPLOYED PREATTACK_A
Animation        UISMSD_SKL.AIJVLN_JAT
AnimationMode    ONCE
Flags            START_FRAME_LAST
TransitionKey    TRANS_FIRING_A
End
AliasConditionState  DEPLOYED PREATTACK_B
AliasConditionState  DEPLOYED PREATTACK_C
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState     DEPLOYED FIRING_A
Animation        UISMSD_SKL.AIJVLN_JAT
AnimationMode    ONCE
HideSubObject    MISSILE
TransitionKey    TRANS_FIRING_A
End
AliasConditionState  DEPLOYED FIRING_B

ConditionState     DEPLOYED BETWEEN_FIRING_SHOTS_A
Animation        UISMSD_SKL.AIJVLN_JIDA
AnimationMode    LOOP
HideSubObject    MISSILE
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B

;Packup animation
ConditionState     PACKING
Animation        UISMSD_SKL.AIJVLN_JDP
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  ATTACKING PACKING
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_A

;Cheering animations
ConditionState   SPECIAL_CHEERING
Animation      UISMSD_SKL.UISMSD_CHB
AnimationMode  ONCE
Turret         UISMSD_MAINRT
End

;Regulair Death animations
ConditionState     DYING
Animation  UISMSD_SKL.UISMSD_DTA
Animation  UISMSD_SKL.UISMSD_DTB
AnimationMode  ONCE
TransitionKey  TRANS_DYING
End
AliasConditionState  DEPLOYED DYING

TransitionState  TRANS_DYING TRANS_Flailing
Animation      UISMSD_SKL.UISMSD_ADTF1
Animation      UISMSD_SKL.UISMSD_ADTG21
AnimationMode  ONCE
End

ConditionState   DYING EXPLODED_FLAILING
Animation      UISMSD_SKL.UISMSD_ADTF2
Animation      UISMSD_SKL.UISMSD_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End
AliasConditionState  DEPLOYED DYING EXPLODED_FLAILING

ConditionState   DYING EXPLODED_BOUNCING
Animation      UISMSD_SKL.UISMSD_ADTF3
Animation      UISMSD_SKL.UISMSD_ADTG23
AnimationMode  ONCE
End
AliasConditionState  DEPLOYED DYING EXPLODED_BOUNCING

End


; ***DESIGN parameters ***
DisplayName       OBJECT:Javelin
Side  America
EditorSorting  SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon               SECONDARY JavelinMissileWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 VETERAN
Weapon               SECONDARY JavelinMissileVeteranWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 ELITE
Weapon               SECONDARY JavelinMissileEliteWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 HERO
Weapon               SECONDARY JavelinMissileHeroicWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon               SECONDARY JavelinAirburstMissileWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 VETERAN
Weapon               SECONDARY JavelinAirburstMissileVeteranWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 ELITE
Weapon               SECONDARY JavelinAirburstMissileEliteWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 HERO
Weapon               SECONDARY JavelinAirburstMissileHeroicWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

VisionRange  220
ShroudClearingRange  220

BuildCost  650
BuildTime  8.0          ;in seconds

ExperienceValue     60 80  100 120  ;Experience point value at each level
ExperienceRequired  0  200 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect     JavelinVoiceSelect
VoiceMove       JavelinVoiceMove
VoiceGuard      JavelinVoiceMove
VoiceAttack     JavelinVoiceAttack
VoiceFear       JavelinVoiceFear

UnitSpecificSounds
VoiceGarrison   JavelinVoiceMove
VoiceCreate     JavelinVoiceCreate
VoiceEnter      JavelinVoiceMove
VoiceGetHealed  JavelinVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON REJECT_UNMANNED SCORE CANNOT_RETALIATE

Body  HiveStructureBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0

PropagateDamageTypesToSlavesWhenExisting  ALL -STATUS
End

Behavior  DeployStyleAIUpdate ModuleTag_03
PackTime  462
UnpackTime  462
ManualDeployAnimations  No
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryJavelinTeamCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryJavelinTeamCommandSet SET_NORMAL

;;;;We only use this for a split second and then never again
Rider3  AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryJavelinTeamCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    JavelinSwitchToStandardMissiles
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     HIJACKED
StatusToClear   REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    JavelinSwitchToAirburstMissiles
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
StatusToSet     REPULSOR
StatusToClear   HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************

Behavior             SpawnBehavior ModuleTag_SpawnTeam01
SpawnNumber            1
SpawnReplaceDelay      2000
SpawnTemplateName      AmericaInfantryJavelinTeamMember
InitialBurst           0
OneShot                Yes
ExitByBudding          Yes
SpawnedRequireSpawner  Yes
AggregateHealth        No
SlavesHaveFreeWill     No
End

Behavior  QueueProductionExitUpdate ModuleTag_SpawnTeam02
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      2000
InitialBurst   1
End

Behavior  ExperienceScalarUpgrade ModuleTag_0323
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_JavelinTeamDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  FINAL OCL_AmericaExplodedDeathJavelinTeam01
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathJavelinTeam01
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryJavelinTeamMember
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAJavelin_L
ButtonImage             SAJavelin

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIJvln_SKN_B
IdleAnimation  NIHCKR_SKL.NIHCKR_KI1 0 10
IdleAnimation  NIHCKR_SKL.NIHCKR_KI2
IdleAnimation  NIHCKR_SKL.NIHCKR_KI3
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

TransitionState  TRANS_Stand Trans_Moving
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.5 3.5
End

TransitionState  Trans_Moving TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  MOVING
Animation  NIHCKR_SKL.NIHCKR_RNA 14
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  Trans_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING UNPACKING
AliasConditionState  MOVING UNPACKING REALLYDAMAGED


ConditionState  FREEFALL
Animation  NIHCKR_SKL.NIHCKR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  NIHCKR_SKL.NIHCKR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING


ConditionState  DYING
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  NIHCKR_SKL.NIHCKR_ADTG1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  NIHCKR_SKL.NIHCKR_ADTG2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  NIHCKR_SKL.NIHCKR_ADTG3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  NIHCKR_SKL.NIHCKR_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Falling TRANS_Chute
Animation  NIHCKR_SKL.NIHCKR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_PTD
AnimationMode  ONCE
End

End

;**** DESIGN parameters ***
Side  America
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildTime  0.0

IsTrainable  No             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  SlavedUpdate ModuleTag_04
GuardMaxRange  15      ;How far away from master I'm allowed when master is idle (doesn't wander)
StayOnSameLayerAsMaster  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_0323
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_JavelinTeamMemberDeathObject
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_AmericaExplodedDeathJavelinTeam02
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
OCL                  FINAL   OCL_JavelinTeamMemberDeathObject
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathJavelinTeam02
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  800 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryJavelinTeamMemberDeathObject
Scale 0.90
; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIJvln_SKN_B
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING
End

;**** DESIGN parameters ***
Side  America
EditorSorting  SYSTEM

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05242
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End
; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;----------------------------------
; Зеленый Берет
;----------------------------------
Object AmericaInfantryGreenBeret
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SAGreenBeret_L
ButtonImage              SAGreenBeret

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIGrnBrt_SKN
End

End

BuildCost  125
BuildTime  5.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryGreenBeret_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryGreenBeret_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SAGreenBeret_L
ButtonImage              SAGreenBeret


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; --- Idle
DefaultConditionState
Model              AIGrnBrt_SKN
IdleAnimation      AIRngr_SKL.AIRngr_NIA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_NIB
IdleAnimation      AIRngr_SKL.AIRngr_NIC
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
TransitionKey      TRANS_Stand

End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRNGR_NAT
AnimationMode      LOOP
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_FiringAInjured
End

TransitionState      TRANS_Rifle_StandInjured TRANS_Rifle_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Rifle_FiringAInjured TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End


; --- attacking (Flashbang Grenade)
ConditionState   PREATTACK_B
Model          AIGrnBrt_SKN2
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
TransitionKey  NONE
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B RELOADING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B RELOADING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState  FIRING_B
Model          AIGrnBrt_SKN2
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED FIRING_B BETWEEN_FIRING_SHOTS_B

ConditionState RELOADING_B
Model      AIGrnBrt_SKN2
Animation  UIMOB01_SKL.UIMOB01_IDA1
TransitionKey  NONE
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_B FIRING_B
AliasConditionState  RELOADING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED FIRING_B
AliasConditionState  RELOADING_B REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

; --- attacking (Grenade Launcher)
ConditionState       PREATTACK_C
Animation          AIRngr_SKL.AIRngr_ATBA
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End
AliasConditionState  PREATTACK_C MOVING
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C

ConditionState       FIRING_C
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End

ConditionState       BETWEEN_FIRING_SHOTS_C
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringB
WaitForStateToFinishIfPossible  TRANS_FiringB
End
AliasConditionState  RELOADING_C

TransitionState      TRANS_Stand TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATBST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringB TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATBST2
AnimationMode      ONCE
End

ConditionState       PREATTACK_C REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2A
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End
AliasConditionState  PREATTACK_C MOVING REALLYDAMAGED
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState       FIRING_C REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringBInjured
WaitForStateToFinishIfPossible  TRANS_FiringBInjured
End
AliasConditionState  RELOADING_C REALLYDAMAGED

TransitionState      TRANS_StandInjured TRANS_FiringBInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringBInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST2
AnimationMode      ONCE
End

; -- cross-attack transitions

TransitionState      TRANS_FiringA TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringB TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4 4
End


; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_NRN 30
AnimationMode      LOOP
Flags              RANDOMSTART
ParticleSysBone    None InfantryDustTrails
TransitionKey      NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NONE
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState      TRANS_Falling TRANS_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState      TRANS_Chute TRANS_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End
TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED


ConditionState       RAISING_FLAG
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Raising TRANS_Packing
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; --- RAPPELLING ANIMATIONS
ConditionState       RAPPELLING
Animation          AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState      TRANS_Rappelling TRANS_Stand
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

TransitionState      TRANS_Rappelling TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:GreenBeret
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions                  WEAPON_RIDER1
Weapon                      PRIMARY   GreenBeretAdvancedCombatRifle
Weapon                      SECONDARY RangerFlashBangGrenadeWeapon
AutoChooseSources           SECONDARY NONE
Weapon                      TERTIARY  GreenBeret40mmGrenadeLauncherWeapon
AutoChooseSources           TERTIARY  NONE
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  125
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 40 60 120  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryGreenBeretCommandSet

; *** AUDIO Parameters ***
VoiceSelect        GreenBeretVoiceSelect
VoiceMove          GreenBeretVoiceMove
VoiceGuard         GreenBeretVoiceMove
VoiceAttack        GreenBeretVoiceAttack
VoiceFear          GreenBeretVoiceFear
VoiceTaskComplete  GreenBeretVoiceCaptureComplete

UnitSpecificSounds
VoiceEnter           GreenBeretVoiceMove
VoiceEnterHostile    GreenBeretVoiceMove
VoiceGarrison        GreenBeretVoiceGarrison
VoiceCreate          GreenBeretVoiceCreate
VoiceSubdue          GreenBeretVoiceSubdue
VoiceClearBuilding   GreenBeretVoiceClearBuilding
VoiceGetHealed       GreenBeretVoiceMove
VoicePrimaryWeaponMode    GreenBeretVoiceModeGun
VoiceSecondaryWeaponMode  GreenBeretVoiceModeFlashBang
VoiceTertiaryWeaponMode   GreenBeretVoiceModeGrenade
End

UnitSpecificFX
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
CombatDropKillFX  FX_RangerCombatDropKill
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE CAN_RAPPEL SCORE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryGreenBeretCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  ProductionUpdate ModuleTag_08
; nothing
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GreenBeretDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_GreenBeretSurrender
OCL                  INITIAL OCL_GreenBeretSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_18
SpecialPowerTemplate       SpecialAbilityRangerCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          GreenBeretVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_19
SpecialPowerTemplate   SpecialAbilityRangerCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   15
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End

Behavior  LockWeaponCreate ModuleTag_21
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;----------------------------------
; Гренадер Энфорсер
;----------------------------------
Object AmericaInfantryEnforcer
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAEnforcer_L
ButtonImage             SAEnforcer

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIEnfrcr_SKN
End
End

BuildCost  600
BuildTime  7.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryEnforcer_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryEnforcer_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SAEnforcer_L
ButtonImage              SAEnforcer

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                AIEnfrcr_SKN
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Model                AIEnfrcr_B_SKN
Animation            AIRngr_SKL.AIRngr_NRN 30
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Model             AIEnfrcr_B_SKN
Animation         AIRngr_SKL.AIRngr_RNB 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

;Firing animation

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B
End
AliasConditionState  FIRING_A

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B
End
AliasConditionState  RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A

; Injured Arc Firing mode animation
ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B_Injured
End
AliasConditionState  FIRING_A REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B_Injured
End
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_Firing_B TRANS_Firing_B_Injured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Enforcer
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         NONE
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeDefaultWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         VETERAN
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeVeteranWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         ELITE
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeEliteWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         HERO
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeHeroicWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

VisionRange          220
ShroudClearingRange  220

BuildCost  600
BuildTime  7.0          ;in seconds

ExperienceValue      40 60  80  100  ;Experience point value at each level
ExperienceRequired   0  200 300 400  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryEnforcerCommandSet

; *** AUDIO Parameters ***
VoiceSelect            EnforcerVoiceSelect
VoiceMove              EnforcerVoiceMove
VoiceGuard             EnforcerVoiceMove
VoiceAttack            EnforcerVoiceAttack
VoiceFear              EnforcerVoiceFear

UnitSpecificSounds
VoiceCreate          EnforcerVoiceCreate
VoiceGarrison        EnforcerVoiceGarrison
VoiceEnter           EnforcerVoiceMove
VoiceEnterHostile    EnforcerVoiceMove
VoiceGetHealed       EnforcerVoiceMove
VoicePrimaryWeaponMode    EnforcerVoiceModeTimed
VoiceSecondaryWeaponMode  EnforcerVoiceModeProxomity
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryEnforcerCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                 ArmorUpgrade ModuleTag_Upgrade02
TriggeredBy            Upgrade_AmericaChemicalSuits
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_AmericaExplodedDeathEnforcer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathEnforcer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;----------------------------------
; Стрелок Дельта
;----------------------------------
Object AmericaInfantryDeltaGunner
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIDltaGnr_SKN
End

End

BuildCost  400
BuildTime  6.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryDeltaGunner_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryDeltaGunner_Var1

; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIDltaGnr_SKN
IdleAnimation      AIRngr_SKL.AIRngr_STA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDA
IdleAnimation      AIRngr_SKL.AIRngr_IDB
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
TransitionKey      TRANS_Stand
End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRngr_ATA
AnimationMode      LOOP
TransitionKey      TRANS_FiringA
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_FiringAInjured
End

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_A2WAA
AnimationMode      ONCE
End

TransitionState      TRANS_Stand TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATAST
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringA TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATAED
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_StandInjured TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringAInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Stand TRANS_Move
Animation          AIRngr_SKL.AIRngr_STA2RNA
AnimationMode      ONCE
End

; --- attacking (Machine Gun Air)
ConditionState       USING_WEAPON_B
Animation          AIRngr_SKL.AIRNGR_ATE
AnimationMode      LOOP
TransitionKey      TRANS_FiringB
End
AliasConditionState  USING_WEAPON_B REALLYDAMAGED


; ----- MORTAR ATTACK ANIMATIONS

ConditionState       PREATTACK_C
Model              AIDltaGnr_SKN_B
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE
TransitionKey      TRANS_USING_MORTAR
End
AliasConditionState  PREATTACK_C REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_C
Model              AIDltaGnr_SKN_B
IdleAnimation      AIRngr_SKL.AIRngr_MIA 0 7
IdleAnimation      AIRngr_SKL.AIRngr_MIB
AnimationMode      ONCE
TransitionKey      TRANS_USING_MORTAR
WaitForStateToFinishIfPossible  TRANS_START_FIRING_MORTAR
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState       FIRING_C
Model              AIDltaGnr_SKN_B
Animation          AIRngr_SKL.AIRNGR_MAT
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_MORTAR
End
AliasConditionState  FIRING_C REALLYDAMAGED

;Transitions
TransitionState      TRANS_USING_MORTAR TRANS_Stand
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End
TransitionState      TRANS_START_FIRING_MORTAR TRANS_Stand
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End

TransitionState      TRANS_USING_MORTAR TRANS_StandInjured
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End
TransitionState      TRANS_START_FIRING_MORTAR TRANS_StandInjured
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End



; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_RNA 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState      TRANS_Falling TRANS_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState      TRANS_Chute TRANS_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End
TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

; --- RAPPELLING ANIMATIONS
ConditionState       RAPPELLING
Animation          AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState      TRANS_Rappelling TRANS_Stand
Animation          AIRngr_SKL.AIRngr_RPL2
AnimationMode      ONCE
End

TransitionState      TRANS_Rappelling TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_RPL2
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:DeltaGunner
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions                  WEAPON_RIDER1
Weapon                      PRIMARY   DeltaGunnnerMachineGun
Weapon                      SECONDARY DeltaGunnnerMachineGunAir
PreferredAgainst            SECONDARY AIRCRAFT
Weapon                      TERTIARY  DeltaGunnnerMortarBarrageWeapon
AutoChooseSources           TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  400
BuildTime  6.0          ;in seconds

ExperienceValue     40 40  70  90   ;Experience point value at each level
ExperienceRequired  0  200 300 500  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryDeltaGunnerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        DeltaForceOperatorVoiceSelect
VoiceMove          DeltaForceOperatorVoiceMove
VoiceGuard         DeltaForceOperatorVoiceMove
VoiceAttack        DeltaForceOperatorVoiceAttack
VoiceAttackAir     DeltaForceOperatorVoiceAttackAir
VoiceFear          DeltaForceOperatorVoiceFear

UnitSpecificSounds
VoiceEnter           DeltaForceOperatorVoiceMove
VoiceEnterHostile    DeltaForceOperatorVoiceMove
VoiceGarrison        DeltaForceOperatorVoiceGarrison
VoiceCreate          DeltaForceOperatorVoiceCreate
VoiceGetHealed       DeltaForceOperatorVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor


Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryDeltaGunnerCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_DeltaGunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerSurrender
OCL                  INITIAL OCL_DeltaGunnerSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryDeltaGunnerSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIDltaGnr_SKN
Animation          AIRngr_SKL.AIRngr_SUR
AnimationMode      ONCE
HideSubObject      SAW
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Model              AIDltaGnr_SKN
Animation          AIRngr_SKL.AIRngr_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedDeltaGunnerRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_DeltaGunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
; Полковник Бартон
;------------------------------------------------------------------------------
Object AmericaInfantryColonelBurton
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SABurton_L
ButtonImage             SABurton


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                AIHERO_SKN
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY  Muzzle
WeaponFireFXBone     PRIMARY  Muzzle
WeaponMuzzleFlash    PRIMARY  MuzzleFX
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; Grenade Firing animation

ConditionState       FIRING_C
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringC
End

ConditionState       BETWEEN_FIRING_SHOTS_C
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringC
End
AliasConditionState  RELOADING_C

; Injured Grenade Firing animation
ConditionState       FIRING_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringCInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringCInjured
End
AliasConditionState  RELOADING_C REALLYDAMAGED

TransitionState      TRANS_FiringC TRANS_FiringCInjured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; Stab animations
ConditionState       PREATTACK_B
Animation          AIHERO_SKL.AIHERO_ATC
AnimationMode      ONCE
TransitionKey      TRANS_Stabbing
HideSubObject      MUZZLEFX01
End
AliasConditionState  PREATTACK_B MOVING
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
TransitionKey      TRANS_Stabbing
HideSubObject      MUZZLEFX01
End
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

TransitionState      TRANS_Stabbing TRANS_Stand
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
End

; Injured Stab animations
ConditionState       PREATTACK_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC1
AnimationMode      ONCE
TransitionKey      TRANS_StabbingInjured
HideSubObject      MUZZLEFX01
End
AliasConditionState  PREATTACK_B MOVING REALLYDAMAGED
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
TransitionKey      TRANS_StabbingInjured
HideSubObject      MUZZLEFX01
End
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_StabbingInjured TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
End

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ColonelBurton
Side                 America
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          250
ShroudClearingRange  300
Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End
BuildCost  1500
BuildTime  20.0          ;in seconds

ExperienceValue      50 100 100 150  ; Experience point value at each level
ExperienceRequired   0 200 300 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaInfantryColonelBurtonCommandSet
MaxSimultaneousOfType  1

WeaponSet
Conditions           None
Weapon               PRIMARY   ColonelBurtonSniperRifleWeapon
Weapon               SECONDARY ColonelBurtonKnifeWeapon
AutoChooseSources    SECONDARY NONE
Weapon               TERTIARY  ColonelBurton30mmGrenadeWeapon
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End


; *** AUDIO Parameters ***
VoiceSelect  ColonelBurtonVoiceSelect
VoiceMove  ColonelBurtonVoiceMove
VoiceAttack  ColonelBurtonVoiceAttack
VoiceFear  ColonelBurtonVoiceFear
VoiceGuard  ColonelBurtonVoiceMove
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff

UnitSpecificSounds
VoiceSubdue            ColonelBurtonVoiceAttackKnife
VoiceCreate            ColonelBurtonVoiceCreate
VoiceGarrison          ColonelBurtonVoiceGarrison
VoiceEnter             ColonelBurtonVoiceMove
VoiceEnterHostile      ColonelBurtonVoiceMove
VoiceGetHealed         ColonelBurtonVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE HERO REJECT_UNMANNED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_TERTIARY
HintDetectableConditions     IS_FIRING_WEAPON
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
EnemyDetectionEvaEvent       EnemyColonelBurtonDetected
OwnDetectionEvaEvent         OwnColonelBurtonDetected
End

Behavior  SpecialAbility ModuleTag_08
SpecialPowerTemplate  SpecialAbilityColonelBurtonRemoteCharges
UpdateModuleStartsAttack  Yes
InitiateSound              ColonelBurtonVoicePlantRemoteCharge
End

Behavior  SpecialAbilityUpdate ModuleTag_09
SpecialPowerTemplate  SpecialAbilityColonelBurtonRemoteCharges
StartAbilityRange  0.0
PreparationTime  0
SpecialObject  RemoteC4Charge
MaxSpecialObjects  150 ; used to be 8 but if you can actualy manage to place that many charges without beeing spotted you should not be punished for it
SpecialObjectsPersistWhenOwnerDies  No ;Charges are removed instantly when owner dies (nobody can detonate).
AlwaysValidateSpecialObjects  Yes      ;Coupled with the above setting, this one is necessary for code optimization.
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets  Yes        ;This prevents multiple charges placed on the same object.
UnpackTime               3000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
PackTime                 0
SkipPackingWithNoTarget  Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
FlipOwnerAfterUnpacking  Yes
FleeRangeAfterCompletion  100.0         ;Runs away after finishing ability
UnpackSound                ColonelBurtonPlantCharge
LoseStealthOnTrigger       Yes
PreTriggerUnstealthTime    2500 ; in milliseconds
End

Behavior  SpecialAbility ModuleTag_10
SpecialPowerTemplate  SpecialAbilityColonelBurtonTimedCharges
UpdateModuleStartsAttack  Yes
InitiateSound              ColonelBurtonVoicePlantTimedCharge
End

Behavior  SpecialAbilityUpdate ModuleTag_11
SpecialPowerTemplate  SpecialAbilityColonelBurtonTimedCharges
StartAbilityRange  0.0
PreparationTime  0
SpecialObject  TimedC4Charge
MaxSpecialObjects  150 ; used to be 8 but if you can actualy manage to place that many charges without beeing spotted you should not be punished for it
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets  Yes        ;This prevents multiple charges placed on the same object.
UnpackTime               3000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
FlipOwnerAfterUnpacking  Yes
FleeRangeAfterCompletion  100.0         ;Runs away after finishing ability
UnpackSound                ColonelBurtonPlantCharge
LoseStealthOnTrigger       Yes
PreTriggerUnstealthTime    2500 ; in milliseconds

End

Behavior  ExperienceScalarUpgrade ModuleTag_12
TriggeredBy    Upgrade_AmericaAdvancedTraining
AddXPScalar    1.0 ;Increases experience gained by an additional 100%
End

Behavior  BoneFXDamage ModuleTag_HeroDecal01
End

Behavior  BoneFXUpdate ModuleTag_HeroDecal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_AmericanHeroUnitDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_AmericanHeroUnitDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_AmericanHeroUnitDecal
End

;  Behavior  FireWeaponUpdate ModuleTag_HeroDecal01
;    Weapon  AmericanHeroUnitDecalWeapon
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ColonelBurtonDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ColonelBurtonDie
OCL                  INITIAL OCL_AmericaExplodedDeathBurton
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_ColonelBurtonDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathBurton
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_18
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14
ShadowSizeY  14
ShadowTexture  ShadowI
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
; Основной танк Крестоносец 1 
;------------------------------------------------------------------------------
Object AmericaTankCrusader

; *** ART Parameters ***
SelectPortrait         = SXCrusader
ButtonImage            = SXCrusader

Draw = W3DTankDraw ModuleTag_01
DefaultConditionState
Model               = AVLeoAdv
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER
End
ConditionState       = REALLYDAMAGED RUBBLE
Model              = AVLeoAdv_D
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER
End
ConditionState       = WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
ShowSubObject       = LAUNCHER
End
ConditionState       = REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv_D
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
ShowSubObject       = LAUNCHER
End

ConditionState       = WEAPONSET_HERO
Model              = AVLeoAdv_L
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER RODS01 STEALTHGENERATO
End
ConditionState       = WEAPONSET_HERO REALLYDAMAGED RUBBLE
Model              = AVLeoAdv_LD
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER RODS01 STEALTHGENERATO
End
ConditionState       = WEAPONSET_HERO WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv_L
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = RODS01 STEALTHGENERATO
ShowSubObject       = LAUNCHER
End
ConditionState       = WEAPONSET_HERO REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv_LD
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = RODS01 STEALTHGENERATO
ShowSubObject       = LAUNCHER
End

TrackMarks           = EXTnkTrack.tga
TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor = Yes
End

; ***DESIGN parameters ***
DisplayName      = OBJECT:Crusader
Side                   = America
EditorSorting          = VEHICLE
TransportSlotCount     = 5

WeaponSet
Conditions           = None
Weapon               = PRIMARY CrusaderTankGun
;Weapon               = SECONDARY CrusaderMachineGun
;Weapon               = TERTIARY CrusaderAntiGun
;PreferredAgainst     = PRIMARY STRUCTURE
;AutoChooseSources    = PRIMARY FROM_SCRIPT FROM_AI
;AutoChooseSources    = SECONDARY FROM_SCRIPT FROM_AI
End
WeaponSet
Conditions           = PLAYER_UPGRADE
Weapon               = PRIMARY CrusaderTankGun
Weapon               = TERTIARY CrusaderMissileWeapon
End
;WeaponSet
;Conditions           = HERO
;Weapon               = PRIMARY LaserTankWeapon
;End
;WeaponSet
;Conditions           = HERO PLAYER_UPGRADE
;Weapon               = PRIMARY LaserTankWeapon
;Weapon               = TERTIARY CrusaderMissileWeapon
;End

ArmorSet
Conditions           = None
Armor                = TankArmor
DamageFX             = TankDamageFX
End
;ArmorSet
;  Conditions           = PLAYER_UPGRADE
;  Armor                = UpgradedTankArmor
;  DamageFX             = TankDamageFX
;End
BuildCost              = 900
BuildTime              = 10.0          ;in seconds
VisionRange            = 250
ShroudClearingRange = 275
Prerequisites
Object = AmericaWarFactory
End
ExperienceValue        = 100 100 200 400 ;Experience point value at each level
ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
IsTrainable            = Yes  ;Can gain experience
CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet             = AmericaTankCrusaderCommandSet

; *** AUDIO Parameters ***
VoiceSelect           = CrusaderTankVoiceSelect
VoiceMove             = CrusaderTankVoiceMove
VoiceGuard            = CrusaderTankVoiceMove
VoiceAttack           = CrusaderTankVoiceAttack
SoundMoveStart        = CrusaderTankMoveStart
SoundMoveStartDamaged = CrusaderTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate         = CrusaderTankVoiceCreate
VoiceEnter             = CrusaderTankVoiceMove
TurretMoveStart     = NoSound
TurretMoveLoop      = TurretMoveLoop
SoundEject          = PilotSoundEject
VoiceEject          = PilotVoiceEject
VoiceCrush          = CrusaderTankVoiceCrush
End

; *** ENGINEERING Parameters ***
RadarPriority          = UNIT
KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT VEHICLE SCORE

Body                   = ActiveBody ModuleTag_02
MaxHealth       = 500
InitialHealth   = 500
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate       = 60
ControlledWeaponSlots= PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle = Yes
End
Locomotor            = SET_NORMAL CrusaderLocomotor
Behavior = PhysicsBehavior ModuleTag_04
Mass                 = 50.0
End

;Drones
Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior = ProductionUpdate ModuleTag_405
MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
End

Behavior = ExperienceScalarUpgrade ModuleTag_08
TriggeredBy   = Upgrade_AmericaAdvancedTraining
AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
End

Behavior = MaxHealthUpgrade ModuleTag_09
TriggeredBy   = Upgrade_AmericaCompositeArmor
AddMaxHealth  = 100.0
ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

; Turret fly off death
Behavior = SlowDeathBehavior ModuleTag_10
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier  = 50
DestructionDelay  = 500
DestructionDelayVariance  = 100
FX  = INITIAL  FX_GenericTankDeathEffect
OCL = MIDPOINT OCL_GenericTankDeathEffect
FX  = FINAL    FX_GenericTankDeathExplosion
OCL = FINAL    OCL_CrusaderTurret
End

; Catch fire, and explode death
Behavior = SlowDeathBehavior ModuleTag_11
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier  = 50
DestructionDelay  = 2000
DestructionDelayVariance  = 300
FX  = INITIAL  FX_CrusaderCatchFire
OCL = FINAL    OCL_GenericTankDeathEffect
FX  = FINAL    FX_GenericTankDeathExplosion
End

Behavior                 = TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior = InstantDeathBehavior ModuleTag_13
DeathTypes = NONE +CRUSHED +SPLATTED
OCL    = OCL_CrusaderTank_CrushEffect
FX     = FX_CarCrush
End

Behavior                    = CreateCrateDie ModuleTag_CratesChange
CrateData             = SalvageCrateData
;CrateData             = EliteTankCrateData
;CrateData             = HeroicTankCrateData
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Behavior = ObjectCreationUpgrade ModuleTag_HeroSFX
;UpgradeObject = OCL_HeroicUnitRankUp
;TriggeredBy   = Upgrade_Veterancy_HEROIC
;FXListUpgrade = FX_HeroicUnitRankUp
;End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

;Behavior = WeaponSetUpgrade ModuleTag_22
;TriggeredBy = Upgrade_AmericaTOWMissile
;End

;Behavior = VeterancyGainCreate ModuleTag_AIVeterancy1
;StartingLevel = VETERAN
;ScienceRequired = SCIENCE_AIForcePromotionVeteran
;End

;Behavior = VeterancyGainCreate ModuleTag_AIVeterancy2
;StartingLevel = ELITE
;ScienceRequired = SCIENCE_AIForcePromotionElite
;End

;Behavior = VeterancyGainCreate ModuleTag_AIVeterancy3
;StartingLevel = HEROIC
;ScienceRequired = SCIENCE_AIForcePromotionHeroic
;End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry               = BOX
GeometryMajorRadius    = 15.0
GeometryMinorRadius    = 10.0
GeometryHeight         = 10.0
GeometryIsSmall        = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------------------------------------------------
; Основной танк Крестоносец 2 
;------------------------------------------------------------------------------
Object AmericaTankCrusaderII

; *** ART Parameters ***
SelectPortrait          SACLeopard_L
ButtonImage             SACLeopard


Draw  W3DTankDraw ModuleTag_01

DefaultConditionState
Model                AVCrusader
Animation            AVCrusader.AVCrusader
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
Turret               Turret
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY TurretMS
WeaponLaunchBone     PRIMARY TurretMS
WeaponMuzzleFlash    PRIMARY TurretFX
WeaponFireFXBone     TERTIARY TurretMG
WeaponLaunchBone     TERTIARY TurretMG
WeaponMuzzleFlash    TERTIARY TurretMGFX
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
TransitionKey        TRANS_TRACK_MODE
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

;;;;;Transition Animations
TransitionState        TRANS_TRACK_MODE TRANS_HOVER_MODE
Model                AVCrusader
Animation            AVCrusader.AVCrusader
AnimationMode        ONCE
Flags                PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret               Turret
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;;;;When in Hover Mode
ConditionState         USER_1
Model                AVCrusader_H
Animation            AVCrusader_H.AVCrusader_H
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_HOVER_MODE
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 SNOW
AliasConditionState  USER_1 SNOW NIGHT

;;;;;Damaged Conditions
ConditionState         REALLYDAMAGED
Model                AVCrusader_D
Animation            AVCrusader_D.AVCrusader_D
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
Turret               Turret
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
TransitionKey        TRANS_DAMAGED_TRACK_MODE
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW NIGHT REALLYDAMAGED
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW NIGHT RUBBLE

;;;;;Transition Animations
TransitionState        TRANS_DAMAGED_TRACK_MODE TRANS_DAMAGED_HOVER_MODE
Model                AVCrusader_D
Animation            AVCrusader_D.AVCrusader_D
AnimationMode        ONCE
Flags                PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret               Turret
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;;;;When in Hover Mode
ConditionState         REALLYDAMAGED USER_1
Model                AVCrusader_HD
Animation            AVCrusader_HD.AVCrusader_HD
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_DAMAGED_HOVER_MODE
End
AliasConditionState  NIGHT REALLYDAMAGED USER_1
AliasConditionState  RUBBLE USER_1
AliasConditionState  NIGHT RUBBLE USER_1
AliasConditionState  SNOW REALLYDAMAGED USER_1
AliasConditionState  SNOW NIGHT REALLYDAMAGED USER_1
AliasConditionState  SNOW RUBBLE USER_1
AliasConditionState  SNOW NIGHT RUBBLE USER_1

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End


Draw  W3DModelDraw ModuleTag_DownDraftEffects01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW REALLYDAMAGED


ConditionState         USER_1
Model                NVDeva_U2
ParticleSysBone      NONE ShattererDownDraft
End
AliasConditionState    USER_1 REALLYDAMAGED


ConditionState         USER_1 SNOW
Model                NVDeva_U2
ParticleSysBone      NONE ShattererDownDraftSnow
End
AliasConditionState    USER_1 SNOW REALLYDAMAGED


ConditionState         USER_1 OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE AmphibWaveRest
ParticleSysBone      NONE HoverCraftLandingShipEffect
End
AliasConditionState    USER_1 OVER_WATER REALLYDAMAGED
AliasConditionState    USER_1 SNOW OVER_WATER
AliasConditionState    USER_1 SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName             OBJECT:CrusaderII
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      5

WeaponSet
Conditions         NONE
Weapon             PRIMARY  CrusaderIITankGun
Weapon             TERTIARY CrusaderTankCoaxialMachineGun
PreferredAgainst   TERTIARY INFANTRY
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY  CrusaderIITankGunUpgraded
Weapon             TERTIARY CrusaderTankCoaxialMachineGunUpgraded
PreferredAgainst   TERTIARY INFANTRY
End

ArmorSet
Conditions            None
Armor                 TankArmor
DamageFX              TankDamageFX
End

ArmorSet
Conditions            PLAYER_UPGRADE
Armor                 HoverTankArmor
DamageFX              TankDamageFX
End

BuildCost               1000
BuildTime               10.0          ;in seconds
VisionRange             250
ShroudClearingRange     275

Prerequisites
Object  AmericaWarFactory
;    Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue         100 100 200 400 ;Experience point value at each level
ExperienceRequired      0   200 300 600 ;Experience points needed to gain each level
IsTrainable             Yes             ;Can gain experience
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              AmericaTankCrusaderCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CrusaderTankVoiceSelect
VoiceMove              CrusaderTankVoiceMove
VoiceGuard             CrusaderTankVoiceMove
VoiceAttack            CrusaderTankVoiceAttack
SoundMoveStart         CrusaderTankMoveStart
SoundMoveStartDamaged  CrusaderTankMoveStart

UnitSpecificSounds
VoiceCreate          CrusaderTankVoiceCreate
VoiceEnter           CrusaderTankVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           CrusaderTankVoiceCrush
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body                    ActiveBody ModuleTag_02
MaxHealth        500
InitialHealth    500

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
SubdualDamageCap  960
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         60
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor             SET_NORMAL CrusaderLocomotor
Locomotor             SET_NORMAL_UPGRADED CrusaderHoverLocomotor CrusaderOverWaterHoverLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

Behavior  ProductionUpdate ModuleTag_07
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

;Drone Upgrades
Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

;Avanced Training
Behavior  ExperienceScalarUpgrade ModuleTag_08
TriggeredBy    Upgrade_AmericaAdvancedTraining
AddXPScalar    1.0 ;Increases experience gained by an additional 100%
End

;Laser Range Finder
Behavior  SubObjectsUpgrade ModuleTag_LaserRangeFinder01
TriggeredBy     Upgrade_AmericaLaserRangeFinders
ShowSubObjects  LASER01
End

Behavior  WeaponSetUpgrade ModuleTag_LaserRangeFinder02
TriggeredBy  Upgrade_AmericaLaserRangeFinders
End

;Composite Armor
Behavior  MaxHealthUpgrade ModuleTag_09
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   125.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  SubObjectsUpgrade ModuleTag_145623Q123
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;Hover Upgrade
Behavior  LocomotorSetUpgrade ModuleTag_HoverDrive01
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  ModelConditionUpgrade ModuleTag_HoverDrive02
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_HoverDrive03
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
StatusToSet    STATUS_RIDER2
FXListUpgrade  FX_HoverModeTransitionSoundFX
End

Behavior  MaxHealthUpgrade ModuleTag_HoverDrive04
AddMaxHealth   -200.0 ;Minus 40%
ChangeType     PRESERVE_RATIO
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  ArmorUpgrade ModuleTag_HoverDrive05
TriggeredBy   Upgrade_GLAWorkerWorthlessCommandSet
End

;Negative modifier to ensure that composite armor does not give more than 25% bonus armour with the hover mode
Behavior  MaxHealthUpgrade ModuleTag_HoverDrive06
AddMaxHealth   -50.0
ChangeType     PRESERVE_RATIO
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet Upgrade_AmericaCompositeArmor
RequiresAllTriggers  Yes
End

Behavior  CommandSetUpgrade ModuleTag_HoverDrive07
CommandSet  AmericaTankCrusaderUpgradedCommandSet
TriggeredBy  Upgrade_AmericaCrusaderHoverDrive
End

; --- begin Death modules ---
;Track Mode - Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
ExemptStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_CrusaderIITankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_CrusaderTurret
End

;Track Mode - Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_1121
ExemptStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_CrusaderIITankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

;Hover Mode - Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_102
RequiredStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_HoverCrusaderTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_CrusaderiIITurret
End

;Hover Mode - Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_112
RequiredStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   500
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_HoverCrusaderTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderIITank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_salvage01
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End
; --- end Death modules ---

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry                BOX
GeometryMajorRadius     15.0
GeometryMinorRadius     10.0
GeometryHeight          10.0
GeometryIsSmall         Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;--------------------------------
; Боевой Хамви
;--------------------------------
Object AmericaVehicleHumvee

; *** ART Parameters ***
SelectPortrait          SAHummer_L
ButtonImage             SAHummer

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVHUMVEE
Turret  Turret01
HideSubObject  MissileUp01
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  REALLYDAMAGED
Model  AVHUMVEE_d
Turret  Turret01
HideSubObject  MissileUp01
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  RUBBLE

;;;; Snow States

ConditionState  SNOW
Model  AVHUMVEE
Turret  Turret01
HideSubObject  MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMVEE_D
Turret  Turret01
HideSubObject  MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  SNOW RUBBLE

;;;; Upgraded States

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  AVHUMVEE
HideSubObject  Turret01 MissileUp01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  AVHUMVEE_d
HideSubObject  Turret01 MissileUp01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;; Snow Upgraded States

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW
Model  AVHUMVEE
HideSubObject  Turret01 MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED
Model  AVHUMVEE_D
HideSubObject  Turret01 MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW RUBBLE


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW RUBBLE MOVING

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Doors

ConditionState   NONE
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End

;Doors Opening
ConditionState   DOOR_1_OPENING
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End

;Doors Open
ConditionState   DOOR_1_WAITING_OPEN
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE
Flags          START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

;Doors closing
ConditionState   DOOR_1_CLOSING
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_LAST
End

;Damaged
ConditionState   REALLYDAMAGED
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End
AliasConditionState  RUBBLE

;Damaged Doors Opening
ConditionState   REALLYDAMAGED DOOR_1_OPENING
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End

;Damaged Doors Open
ConditionState   REALLYDAMAGED DOOR_1_WAITING_OPEN
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE
Flags          START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

;Damaged Doors closing
ConditionState   REALLYDAMAGED DOOR_1_CLOSING
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_LAST
End

End

Draw  W3DModelDraw ModuleTag_TOWMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

;;;; Upgraded States

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  AVHummerTow
Turret  Turret
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  AVHummerTow_d
Turret  Turret
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

End

Draw  W3DModelDraw ModuleTag_DroneAntenna01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVHumvee_DR
End

End

Draw  W3DModelDraw ModuleTag_ExhaustSmoke01

ConditionState  NONE
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Humvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY HumveeGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY HumveeMissileWeapon
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        700
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  HumveeVoiceSelect
VoiceMove  HumveeVoiceMove
VoiceGuard  HumveeVoiceMove
VoiceAttack  HumveeVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          HumveeVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           HumveeVoiceCrush

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  HumveeVoiceUnload
VoiceEnter   HumveeVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End
Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  120
RecenterTime  7000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
PassengersAllowedToFire  No ;no more humvee laming for you!
Slots              5
DamagePercentToUnits  10%
AllowInsideKindOf   INFANTRY
ExitDelay  50
NumberOfExitPaths  3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime         2000
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End


Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  1
OCL  INITIAL  OCL_InitialHumveeDebris
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalHumveeDebris
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_062
DeathWeapon    HumveeMissileDeathWeapon
StartsActive   No
TriggeredBy    Upgrade_AmericaTOWMissile
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaTOWMissile
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;--------------------------------
;Микроволновой танк
;--------------------------------
Object AmericaTankMicrowave

; *** ART Parameters ***
SelectPortrait          SAThunderBolt_L
ButtonImage             SAThunderBolt

Draw  W3DTankDraw ModuleTag_01

ExtraPublicBone  WEAPON02
OkToChangeModelColor  Yes

ConditionState   NONE
Model            AVThdrblt_LG
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End

ConditionState   USING_WEAPON_A USING_WEAPON_B
Model            AVThdrblt_LG
HideSubObject    ARMOR01
End

ConditionState   REALLYDAMAGED
Model            AVThdrblt_LG_D
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End
AliasConditionState  RUBBLE

ConditionState   REALLYDAMAGED USING_WEAPON_A USING_WEAPON_B
Model            AVThdrblt_LG_D
HideSubObject    ARMOR01
End


ConditionState   WEAPONSET_PLAYER_UPGRADE
Model            AVThdrblt_LG
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A USING_WEAPON_B

ConditionState   WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model            AVThdrblt_LG_D
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED USING_WEAPON_A USING_WEAPON_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE


TrackMarks               EXTnkTrack.tga
TreadAnimationRate       4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_DroneAntenna01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVThdrblt_LGD
End

End

; ***DESIGN parameters ***
DisplayName             OBJECT:Microwave
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      3

ArmorSet
Conditions            None
Armor                 MicroWaveTankArmor
DamageFX              TankDamageFX
End

WeaponSet
Conditions           None
Weapon               PRIMARY   MicrowaveTankDisablerBeam
Weapon               SECONDARY MicrowaveTankBuildingClearer
PreferredAgainst     SECONDARY STRUCTURE
Weapon               TERTIARY  MicrowaveDummyWeapon
PreferredAgainst     TERTIARY  INFANTRY
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   MicrowaveDummyWithVehicleTargetingWeapon
Weapon               SECONDARY MicrowaveTankBuildingClearer
Weapon               TERTIARY  MicrowaveDummyWeapon
AutoChooseSources    TERTIARY  NONE
End

BuildCost               1200
BuildTime               12.0          ;in seconds
VisionRange             250
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue         100 100 200 400 ;Experience point value at each level
ExperienceRequired      0 200 300 600 ;Experience points needed to gain each level
IsTrainable             Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              AmericaTankMicrowaveCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MicrowaveTankVoiceSelect
VoiceMove              MicrowaveTankVoiceMove
VoiceGuard             MicrowaveTankVoiceMove
VoiceAttack            MicrowaveTankVoiceAttack
SoundMoveStart         MicrowaveTankMoveStart
SoundMoveStartDamaged  MicrowaveTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          MicrowaveTankVoiceCreate
VoiceEnter              MicrowaveTankVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           MicrowaveTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE

Body                    ActiveBody ModuleTag_02
MaxHealth        450
InitialHealth    450

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  960
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor             SET_NORMAL CrusaderLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_MicrowaveTankDeath
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Very Special Weapon Switch Mode Starts Here ;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;This switches my weaponset to the upgraded condition if i have a passenger
Behavior  HelixContain  ModuleTag_WeaponSwitchMode01
Slots  1
DamagePercentToUnits  100%
AllowInsideKindOf  NO_COLLIDE
ArmedRidersUpgradeMyWeaponSet  Yes
ShouldDrawPips  No
End

;And this is the only way of me getting a passenger
Behavior  ObjectCreationUpgrade ModuleTag_WeaponSwitchMode02
UpgradeObject  OCL_GenericDummyRider6_Normal
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Very Special Weapon Switch Mode Ends Here ;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_MicrowaveTankDeath_CrushEffect
End

Behavior                     CreateCrateDie ModuleTag_CratesChange
CrateData              SalvageCrateDataUSATier1
;CrateData              EliteTankCrateData
;CrateData              HeroicTankCrateData
End

Behavior  EjectPilotDie ModuleTag_17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  MaxHealthUpgrade ModuleTag_18
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SubObjectsUpgrade ModuleTag_18322
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01
End

Behavior  ExperienceScalarUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  ObjectCreationUpgrade ModuleTag_Upgrade02
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_Upgrade03
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_Prod01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_22
Weapon  MicrowaveTankEmitterWeapon
ExclusiveWeaponDelay  1000 ; If we fire a real weapon, we turn this module off for this long
End

Behavior  FireWeaponUpdate ModuleTag_Decal01
Weapon  MicrowaveTankEmitterDecalWeapon
End

Behavior  CommandButtonHuntUpdate  ModuleTag_24 ; allows use of command button hunt script with this unit.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry                BOX
GeometryMajorRadius     15.0
GeometryMinorRadius     10.0
GeometryHeight          10.0
GeometryIsSmall         Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------
; Универсальный Танк Паладин
;------------------------------------

Object AmericaTankPaladin

; *** ART Parameters ***
SelectPortrait          SAPaladin_L
ButtonImage             SAPaladin

Draw  W3DOverlordTankDraw ModuleTag_01

ExtraPublicBone  FIREPOINT01

DefaultConditionState
Model                AVPldn
Animation            AVPldn.AVPldn
AnimationMode        ONCE
Flags                START_FRAME_LAST
Turret               Turret
TurretPitch          TurretEL
HideSubObject        Firepoint01 LASER01 ARMOR01
WeaponFireFXBone     PRIMARY TurretMS
WeaponLaunchBone     PRIMARY TurretMS
WeaponFireFXBone     TERTIARY TurretMG
WeaponLaunchBone     TERTIARY TurretMG
WeaponMuzzleFlash    TERTIARY TurretMGFX
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState       FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End

ConditionState       REALLYDAMAGED
Model              AVPldn_D
Animation          AVPldn_D.AVPldn_D
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState       REALLYDAMAGED FIRING_A
Model              AVPldn_D
Animation          AVPldn_D.AVPldn_D
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_DAMAGED
End


;Disguised Art for bombtrucks
ConditionState         DISGUISED
Model                AVPldn
HideSubObject        LASER01 ARMOR01
ShowSubObject        Firepoint01
End

ConditionState         DISGUISED REALLYDAMAGED
Model                AVPldn_D
HideSubObject        LASER01 ARMOR01
ShowSubObject        Firepoint01
End
AliasConditionState  DISGUISED RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Paladin
Side  America
EditorSorting    VEHICLE
TransportSlotCount  6

WeaponSet
Conditions  None
Weapon             PRIMARY  PaladinTankGun
Weapon             TERTIARY PaladinTankCoaxialMachineGun
PreferredAgainst   TERTIARY INFANTRY
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY  PaladinTankGunUpgraded
Weapon             TERTIARY PaladinTankCoaxialMachineGunUpgraded
PreferredAgainst   TERTIARY INFANTRY
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost        1500
BuildTime        18.0          ;in seconds
VisionRange      275
ShroudClearingRange  300

Prerequisites
Object  AmericaWarFactory
Object  AmericaStrategyCenter
Science SCIENCE_Rank1
End

ExperienceValue     150 150 250 500 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level


IsTrainable      Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaTankPaladinCommandSet

; *** AUDIO Parameters ***
VoiceSelect  PaladinTankVoiceSelect
VoiceMove  PaladinTankVoiceMove
VoiceGuard  PaladinTankVoiceMove
VoiceAttack  PaladinTankVoiceAttack
SoundMoveStart  PaladinTankMoveStart
SoundMoveStartDamaged  PaladinTankMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      PaladinTankVoiceCreate
TurretMoveLoop  TurretMoveLoop
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
VoiceCrush  PaladinTankVoiceCrush
VoiceEnter  PaladinTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE HUGE_VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        600.0
InitialHealth    600.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         80
TurretPitchRate        50
AllowsPitch            Yes
MinPhysicalPitch       -5
NaturalTurretPitch     5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL PaladinLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_PaladinTankDeathEffect
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_PaladinTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  OverlordContain ModuleTag_07
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       Yes
PayloadTemplateName      AmericaTankPaladinLaserTurret
ExperienceSinkForRider   Yes ; I get the Exp for things my turret friend kills
End

Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_11
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SubObjectsUpgrade ModuleTag_LaserRangeFinder01
TriggeredBy     Upgrade_AmericaLaserRangeFinders
ShowSubObjects  LASER01
End

Behavior  WeaponSetUpgrade ModuleTag_LaserRangeFinder02
TriggeredBy  Upgrade_AmericaLaserRangeFinders
End

Behavior  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  DestroyDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateDataUSATier2
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End
Behavior  EjectPilotDie ModuleTag_17
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  MaxHealthUpgrade ModuleTag_18
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SubObjectsUpgrade ModuleTag_145623Q123
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_Decal01
Weapon  PaladinTankPDLDecalWeapon
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------
; Мобильная Система ПВО Патриот
;------------------------------------
Object AmericaVehiclePatriot

; *** ART Parameters ***
SelectPortrait          SAPatriotTruck_L
ButtonImage             SAPatriotTruck

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVPat
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  AVPat
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  AVPat_D
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  MOVING REALLYDAMAGED
Model  AVPat_D
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End
AliasConditionState  MOVING RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

CabBone  CHASSIS
TrailerBone  TRAILER
CabRotationMultiplier  0.0
TrailerRotationMultiplier  0.5

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
MidLeftFrontTireBone   TIRE03
MidRightFrontTireBone  TIRE04
LeftRearTireBone       TIRE05
RightRearTireBone      TIRE06
MidLeftRearTireBone    TIRE07
MidRightRearTireBone   TIRE08

RotationDamping  0.9
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0

End

; ***DESIGN parameters ***
DisplayName             OBJECT:Patriot
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      8

WeaponSet
Conditions            None
Weapon                SECONDARY PatriotTruckMissileWeapon
End

ArmorSet
Conditions            None
Armor                 HeavyAntiAirArmor
DamageFX              TankDamageFX
End

BuildCost               1500
BuildTime               18.0  ;in seconds
VisionRange             500
ShroudClearingRange     300

Prerequisites
Object  AmericaWarFactory
Object  AmericaStrategyCenter
Science  SCIENCE_Rank1
End

ExperienceValue         100 100 200 400 ;Experience point value at each level
ExperienceRequired      0   200 300 600 ;Experience points needed to gain each level
IsTrainable             Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              AmericaTankPatriotCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PatriotVoiceSelect
VoiceMove              PatriotVoiceMove
VoiceGuard             PatriotVoiceGuard
VoiceAttack            PatriotVoiceAttack
VoiceAttackAir         PatriotVoiceAttack
SoundMoveStart         PatriotTruckMoveStart
SoundMoveStartDamaged  PatriotTruckMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          PatriotVoiceCreate
VoiceEnter           PatriotVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           PatriotVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

Body                    ActiveBody ModuleTag_02
MaxHealth        400
InitialHealth    400

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  960
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         180
TurretPitchRate        180
AllowsPitch            Yes
ControlledWeaponSlots  SECONDARY
NaturalTurretPitch     0
NaturalTurretAngle     180  ; this turret points backwards normally
;MinPhysicalPitch       25
;MinIdleScanAngle       15
;MaxIdleScanAngle       90
;MinIdleScanInterval    5000
;MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         30
End
Locomotor             SET_NORMAL PatriotLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_07
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_08
TriggeredBy    Upgrade_AmericaAdvancedTraining
AddXPScalar    1.0 ;Increases experience gained by an additional 100%
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_PatriotDeathEffect
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_PatriotDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior                     CreateCrateDie ModuleTag_CratesChange
CrateData              SalvageCrateDataUSATier2
End

Behavior  EjectPilotDie ModuleTag_17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry                BOX
GeometryMajorRadius     18.0
GeometryMinorRadius     8.0
GeometryHeight          12.0
GeometryIsSmall         Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------
; Мобильная Ракетная Система Томагавк
;------------------------------------
Object AmericaVehicleTomahawk

; *** ART Parameters ***
SelectPortrait          SACTomahawk_L
ButtonImage             SACTomahawk

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

;Normal Mode
DefaultConditionState
Model  AVTmhwk
Turret  TURRET
TurretPitch  TURRETEL
HideSubObject  LASER01
WeaponLaunchBone  PRIMARY WeaponA
TransitionKey  TRANS_NORMAL_MODE
End
AliasConditionState  NIGHT
AliasConditionState  RIDER1
AliasConditionState  NIGHT RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  AVTmhwk_D
TransitionKey  TRANS_DAMAGED_NORMAL_MODE
End
AliasConditionState  RUBBLE
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE
AliasConditionState  NIGHT RIDER1 REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE
AliasConditionState  NIGHT RIDER1 RUBBLE
AliasConditionState  NIGHT RIDER2 RUBBLE

TransitionState  TRANS_NORMAL_MODE TRANS_CRUISE_MODE
Model  AVTmhwk_B
Animation  AVTmhwk_B.AVTmhwk_B
AnimationMode  ONCE
ShowSubObject  LASER01
HideSubObject  WEAPONB01
End

TransitionState  TRANS_DAMAGED_NORMAL_MODE TRANS_DAMAGED_CRUISE_MODE
Model  AVTmhwk_BD
Animation  AVTmhwk_BD.AVTmhwk_BD
AnimationMode  ONCE
ShowSubObject  LASER01
HideSubObject  WEAPONB01
End

;Cruise Mode
ConditionState  RIDER2
Model  AVTmhwk_B
ShowSubObject  LASER01
TransitionKey  TRANS_CRUISE_MODE
WeaponLaunchBone  PRIMARY WeaponB
End
AliasConditionState  NIGHT RIDER2

ConditionState  RIDER2 REALLYDAMAGED
Model  AVTmhwk_BD
ShowSubObject  LASER01
TransitionKey  TRANS_DAMAGED_CRUISE_MODE
WeaponLaunchBone  PRIMARY WeaponB
End
AliasConditionState  NIGHT RIDER2 REALLYDAMAGED

TransitionState  TRANS_CRUISE_MODE TRANS_NORMAL_MODE
Model  AVTmhwk
Animation  AVTmhwk.AVTmhwk
AnimationMode  ONCE
HideSubObject  WEAPONA01
End

TransitionState  TRANS_DAMAGED_CRUISE_MODE TRANS_DAMAGED_NORMAL_MODE
Model  AVTmhwk_D
Animation  AVTmhwk_D.AVTmhwk_D
AnimationMode  ONCE
HideSubObject  WEAPONA01
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Tomahawk
Side  America
EditorSorting    VEHICLE
TransportSlotCount  5
BuildCost        1600
BuildTime        20.0          ;in seconds
VisionRange      300
ShroudClearingRange  150
Prerequisites
Object  AmericaWarFactory
Object  AmericaStrategyCenter
End
ExperienceValue     75 100 150 200   ;Experience point value at each level
ExperienceRequired  0 200 400 800   ;Experience points needed to gain each levell
IsTrainable  Yes             ;Can gain experience

WeaponSet
Conditions             WEAPON_RIDER1
Weapon                 PRIMARY TomahawkMissileWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions             WEAPON_RIDER2
Weapon                 PRIMARY TomahawkMissileLongCruiseWeapon
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet       AmericaVehicleTomahawkCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TomahawkVoiceSelect
VoiceMove  TomahawkVoiceMove
VoiceGuard  TomahawkVoiceMove
VoiceAttack  TomahawkVoiceAttack
SoundMoveStart  TomahawkMoveStart
SoundMoveStartDamaged  TomahawkMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate  TomahawkVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoopLoud
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
VoiceCrush  TomahawkVoiceCrush
VoiceEnter  TomahawkVoiceMove
VoiceBombard  TomahawkVoiceAttack
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE DONT_AUTO_CRUSH_INFANTRY CANNOT_RETALIATE GARRISONABLE_UNTIL_DESTROYED

Body  ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  360
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  20   ; turn rate, in degrees per sec
TurretPitchRate  20
FirePitch  70  ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL TomahawkLocomotor

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Fast Mode Missiles
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaVehicleTomahawkCommandSet SET_NORMAL

;;;;Cruise Mode Missiles
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaVehicleTomahawkCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    TomahawkSwitchToStandardMissiles
RequiredStatus   STATUS_RIDER2 STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    STATUS_RIDER8
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    TomahawkSwitchToCruiseModeMissiles
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  STATUS_RIDER8
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ExperienceScalarUpgrade ModuleTag_09
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  CreateCrateDie ModuleTag SalvageData
CrateData  SalvageCrateDataUSATier2
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED -EXTRA_7
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleTomahawkDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED +EXTRA_7
End

;Deaths for pilot kill weapons
Behavior  CreateObjectDie ModuleTag_105235
DeathTypes  NONE +EXTRA_7
CreationList  OCL_TomahawkNerveGasKill
TransferPreviousHealth  Yes
End

Behavior  FXListDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  EjectPilotDie ModuleTag_13
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------
; Боевая машина дронов
;----------------------------
Object AmericaVehicleWaspHive

; *** ART Parameters ***
SelectPortrait          SAWaspHive_L
ButtonImage             SAWaspHive

Draw  W3DTruckDraw ModuleTag_01

DefaultConditionState
Model  AVWasp
Animation  AVWasp.AVWasp
AnimationMode  LOOP
AnimationSpeedFactorRange  2.0 2.0
Turret  Turret
HideSubObject  TopHatch01 TopHatch02
End
ConditionState  REALLYDAMAGED
Model  AVWasp_D
Animation  AVWasp_D.AVWasp_D
End
AliasConditionState  RUBBLE

TrackMarks  EXTireTrack.tga
OkToChangeModelColor  Yes

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone        Tire01
RightFrontTireBone       Tire02
LeftRearTireBone         Tire03
RightRearTireBone        Tire04
MidLeftMidTireBone       Tire05
MidRightMidTireBone      Tire06
MidLeftRearTireBone      Tire07
MidRightRearTireBone     Tire08
TireRotationMultiplier   0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Door01

DefaultConditionState
Model          AVWasp
Animation      AVWasp.AVWasp
AnimationMode  ONCE_BACKWARDS
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  Chassis
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState  ATTACKING
AnimationMode  ONCE
End

;;;REALLYDAMAGED Conditions

ConditionState  REALLYDAMAGED
Model          AVWasp_D
Animation      AVWasp_D.AVWasp_D
End

ConditionState  REALLYDAMAGED ATTACKING
Model          AVWasp_D
Animation      AVWasp_D.AVWasp_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model              AVWasp_N
End

ConditionState  RUBBLE
Model              NONE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:WaspHive
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY   WaspHiveHarmlessWeapon
Weapon             SECONDARY WaspHiveDroneDeployDroneWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TruckDamageFX
End

BuildCost        1400
BuildTime        18.0          ;in seconds
VisionRange      300
ShroudClearingRange  220

Prerequisites
Object  AmericaWarFactory
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue     80 80 80 80   ;Experience point value at each level
IsTrainable         No
CrusherLevel        2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel      2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet          AmericaVehicleWaspHiveCommandSet

; *** AUDIO Parameters ***
VoiceSelect            WaspHiveVoiceSelect
VoiceMove              WaspHiveVoiceMove
VoiceGuard             WaspHiveVoiceMove
VoiceAttack            WaspHiveVoiceAttack
SoundMoveStart         HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart

UnitSpecificSounds
VoiceCreate           WaspHiveVoiceCreate
TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceEnter            WaspHiveVoiceMove
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
VoiceCrush            WaspHiveVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK SELECTABLE CAN_CAST_REFLECTIONS VEHICLE DONT_AUTO_CRUSH_INFANTRY SCORE CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_05
Turret
TurretTurnRate         180
MinIdleScanAngle       30
MaxIdleScanAngle       110
MinIdleScanInterval    1000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
TurretsLinked  Yes
End
Locomotor  SET_NORMAL WasphiveLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  0
FX   FINAL FX_GenericTankDeathExplosion
OCL  FINAL OCL_FinalWaspHiveDebris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FXListDie ModuleTag_15
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_GenericTankDeathEffect
End

;Old Drone Spawn Modules
;  Behavior  SpawnBehavior ModuleTag_Drones01
;    SpawnNumber            3
;    SpawnReplaceDelay      10000
;    SpawnTemplateName      AmericaVehicleWaspDrone
;    ExitByBudding          No
;    InitialBurst           1
;    OneShot                No
;    AggregateHealth        No
;    SlavesHaveFreeWill     No
;    SpawnedRequireSpawner  Yes
;  End

;  Behavior  QueueProductionExitUpdate ModuleTag_Drones02
;    UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
;    NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
;    ExitDelay          10000
;    InitialBurst       1
;  End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ObjectCreationUpgrade ModuleTag_Drones01
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_Drones02
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateDataUSATier1
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  EjectPilotDie ModuleTag_Pilot17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight  12.0  ; height set to allow clear clipping of projectile streams
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;----------------------------
; Полевой коммандный трак
;----------------------------
Object AmericaVehiclePOWTruck
; *** ART Parameters ***
SelectPortrait          SAPowTruck
ButtonImage             SAPowTruck

Draw                    W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState        NONE
Model               AVPOWTRUCK
End
ConditionState        REALLYDAMAGED
Model               AVPOWTRUCK_D
End
ConditionState        RUBBLE
Model               AVPOWTruck_D
End
TrackMarks            EXTireTrack.tga
Dust                  RocketBuggyDust
DirtSpray             RocketBuggyDirtSpray
PowerslideSpray       RocketBuggyDirtPowerSlide
; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone           Tire01
RightFrontTireBone          Tire02
MidLeftRearTireBone         Tire03
MidRightRearTireBone        Tire05
LeftRearTireBone            Tire04
RightRearTireBone           Tire06
TireRotationMultiplier      0.2   ; this * speed  rotation.
PowerslideRotationAddition  2.5   ; This speed is added to the rotation speed when powersliding.
End
; ***DESIGN parameters ***
DisplayName           OBJECT:POWTruck
Side                  America
EditorSorting         VEHICLE
TransportSlotCount    3                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions          None
Armor               TruckArmor
DamageFX            TankDamageFX
End
; nope, sorry, can't build it. (srj)
Buildable  No
;BuildCost             500
;BuildTime             10.0          ;in seconds
VisionRange           200
ShroudClearingRange   300
ExperienceValue       50 50 50 50    ;Experience point value at each level
ExperienceRequired    0 150 450 900  ;Experience points needed to gain each level
IsTrainable           Yes             ;Can gain experience
CrusherLevel          2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel        2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; nope, sorry, can't control it. (srj)
;CommandSet            VehiclePOWTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect  POWTruckUSAVoiceSelect
VoiceMove  POWTruckUSAVoiceMove
VoiceGuard  POWTruckUSAVoiceMove
SoundEnter  POWTruckEnter
SoundExit  POWTruckExit
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           POWTruckUSAVoiceCreate
TurretMoveLoop        TurretMoveLoop
SoundMoveStart        POWTruckUSAMoveStart
SoundMoveStartDamaged  POWTruckUSAMoveStart
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
VoiceCrush            POWTruckUSAVoiceCrush
; Required for the W3DTruckDraw module
TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  POWTruckUSAMoveStart
VoiceEnter            POWTruckUSAVoiceMove
End
; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE TRANSPORT SCORE
Body                    ActiveBody ModuleTag_02
MaxHealth             500.0
InitialHealth         500.0
End
; but we must have an AIUpdate in order for our Locomotor to work.
Behavior  AIUpdateInterface ModuleTag_04
; no data
End
Locomotor               SET_NORMAL POWTruckLocomotor
Behavior                PhysicsBehavior ModuleTag_05
Mass                  50.0
End
Behavior                SlowDeathBehavior ModuleTag_06
DeathTypes            ALL -CRUSHED -SPLATTED
ProbabilityModifier   25
DestructionDelay      1
FX                    FINAL    FX_BattleMasterExplosionOneFinal
;OCL                   FINAL    OCL_AmericanPOWTruckDeathEffect
End
Behavior                FXListDie ModuleTag_07
DeathTypes            NONE +CRUSHED +SPLATTED
DeathFX               FX_CarCrush
End
Behavior  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End
Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End
Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End
Geometry                BOX
GeometryMajorRadius     15.0
GeometryMinorRadius     7.0
GeometryHeight          13.5
GeometryIsSmall         Yes
Shadow                  SHADOW_VOLUME
End


;----------------------------
; Боевая машина пехоты Брэдли
;----------------------------
Object AmericaVehicleBradley

; *** ART Parameters ***
SelectPortrait          SABradley_L
ButtonImage             SABradley

Draw  W3DOverlordTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOINT01
RecoilSettleSpeed  20
MaxRecoilDistance  2.2

DefaultConditionState
Model                AVBrad
Animation            AVBrad.AVBrad
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret
HideSubObject        DOOR FIREPOINT01 ARMOR
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
AnimationSpeedFactorRange  1.2 1.2
End

ConditionState         REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
End
AliasConditionState  RUBBLE

ConditionState         PREATTACK_B
AnimationMode        ONCE
End

ConditionState         PREATTACK_B REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
AnimationMode        ONCE
End

;;;;;;;Composite Armor upgrade

ConditionState         WEAPONSET_PLAYER_UPGRADE
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End

ConditionState         WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

ConditionState         WEAPONSET_PLAYER_UPGRADE PREATTACK_B
AnimationMode        ONCE
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End

ConditionState         WEAPONSET_PLAYER_UPGRADE PREATTACK_B REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
AnimationMode        ONCE
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

End

Draw               W3DModelDraw ModuleTag_Doors01

ConditionState  NONE
Model          AVBrad
HideSubObject  CHASSIS TURRET ARMOR
End

ConditionState  REALLYDAMAGED
Model          AVBrad_D
HideSubObject  CHASSIS TURRET ARMOR
End
AliasConditionState  RUBBLE

ConditionState   DOOR_1_WAITING_OPEN ;AV03B
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_WAITING_TO_CLOSE
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

ConditionState   DOOR_1_WAITING_OPEN REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

ConditionState   DOOR_1_OPENING
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_CLOSING
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

ConditionState   DOOR_1_OPENING REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_CLOSING REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

End

Draw               W3DModelDraw ModuleTag_Armor01

OkToChangeModelColor  Yes

DefaultConditionState
Model               AVBrad
ShowSubObject       NONE
HideSubObject       ARMOR DOOR FIREPOINT01 CHASSIS TURRET
End
ConditionState  REALLYDAMAGED
Model               AVBrad_D
ShowSubObject       NONE
HideSubObject       ARMOR DOOR FIREPOINT01 CHASSIS TURRET
End
AliasConditionState  RUBBLE

ConditionState        WEAPONSET_PLAYER_UPGRADE
Model               AVBrad
ShowSubObject       ARMOR
HideSubObject       DOOR FIREPOINT01 CHASSIS TURRET
End

ConditionState        WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model               AVBrad_D
ShowSubObject       ARMOR
HideSubObject       DOOR FIREPOINT01 CHASSIS TURRET
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE RUBBLE

End

Draw  W3DModelDraw ModuleTag_01232515

DefaultConditionState
Model                AVBrad_N
End

End
; ***DESIGN parameters ***
DisplayName            OBJECT:Bradley
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   BradleyCannonWeapon
Weapon  SECONDARY BradleyMissileWeapon
;AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            BradleyArmor
DamageFX         TruckDamageFX
End

BuildCost        1000
BuildTime        12.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes           ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleBradleyCommandSet

; *** AUDIO Parameters ***
VoiceSelect  BradleyVoiceSelect
VoiceMove  BradleyVoiceMove
VoiceGuard  BradleyVoiceMove
VoiceAttack  BradleyVoiceAttack
SoundMoveStart  BradleyMoveStart
SoundMoveStartDamaged  BradleyMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          BradleyVoiceCreate
VoiceCrush           BradleyVoiceMove
VoiceEnter           BradleyVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  90
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33
End
Locomotor  SET_NORMAL BradleyLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  HelixContain ModuleTag_05
Slots                  4
ScatterNearbyOnExit    No
DamagePercentToUnits   10%
AllowInsideKindOf      INFANTRY PORTABLE_STRUCTURE
ExitDelay              250
NumberOfExitPaths      1
GoAggressiveOnExit     Yes
PassengersInTurret     Yes
PayloadTemplateName    AmericaVehicleBradleyLaserTurret
DoorOpenTime           2000
End

Behavior  MaxHealthUpgrade ModuleTag_1812
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   87.5
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  WeaponSetUpgrade ModuleTag_0232
TriggeredBy  Upgrade_AmericaCompositeArmor
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_102321
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_BradleyDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_BradleyTurret
End

Behavior  SlowDeathBehavior ModuleTag_1121
RequiredStatus  STATUS_RIDER1
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_BradleyDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;-----------------------
; ПВО-ПРО Авенгер
;-----------------------
Object AmericaTankAvenger

; *** ART Parameters ***
SelectPortrait          SAAvnger_L
ButtonImage             SAAvnger


Draw  W3DOverlordTruckDraw ModuleTag_01
OkToChangeModelColor   Yes
ExtraPublicBone  TurretFX03

DefaultConditionState
Model                AVAvnger
Turret               Turret01
HideSubObject        Turret02 LazerSpot01 LazerSpot02
End

ConditionState         REALLYDAMAGED
Model                AVAvnger_D
End
AliasConditionState    RUBBLE

ConditionState         SNOW
Model                AVAvnger
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End

ConditionState         SNOW REALLYDAMAGED
Model                AVAvnger_D
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End

;When a bombtruck disguises as an avenger, use a different model

ConditionState         DISGUISED
Model                AVAvnger
Animation            AVAvnger.AVAvnger
AnimationMode        LOOP
ShowSubObject        Turret02
End

ConditionState         REALLYDAMAGED DISGUISED
Model                AVAvnger_D
Animation            AVAvnger_D.AVAvnger_D
AnimationMode        LOOP
ShowSubObject        Turret02
End
AliasConditionState    RUBBLE DISGUISED

ConditionState         SNOW DISGUISED
Model                AVAvnger
Animation            AVAvnger_D.AVAvnger_D
AnimationMode        LOOP
ShowSubObject        Turret02
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End

ConditionState         SNOW REALLYDAMAGED DISGUISED
Model                AVAvnger_D
Animation            AVAvnger_D.AVAvnger_D
AnimationMode        LOOP
ShowSubObject        Turret02
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End
AliasConditionState    SNOW RUBBLE DISGUISED

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW RUBBLE MOVING

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ExhaustSmoke01

ConditionState  NONE
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Avenger
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   AvengerTargetDesignator
Weapon  SECONDARY AvengerAirGunAirDummy
End

ArmorSet
Conditions       None
Armor            AvengerArmor
DamageFX         TankDamageFX
End

BuildCost        1200
BuildTime        12.0          ;in seconds
VisionRange      250
ShroudClearingRange  300

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     80  80  160 300 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level

IsTrainable      Yes
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaTankAvengerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  AvengerVoiceSelect
VoiceMove  AvengerVoiceMove
VoiceGuard  AvengerVoiceMove
VoiceAttack  AvengerVoicePaint
VoiceAttackAir  AvengerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      AvengerVoiceCreate
TurretMoveLoop  NoSound
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
VoiceCrush  NoSound
VoiceEnter  AvengerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
NaturalTurretPitch   35
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  100 ; default is 2000
End
Locomotor  SET_NORMAL AvengerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_AvengerTankDeathEffect
End

Behavior  SubObjectsUpgrade ModuleTag_PointDefenceLaser01
TriggeredBy     Upgrade_AmericaPointDefenceLasers
ShowSubObjects  LazerSpot01 LazerSpot02
End

Behavior  PointDefenseLaserUpdate ModuleTag_PointDefenceLaser02
WeaponTemplate         AvengerPointDefenseLaserDummyWeapon
PrimaryTargetTypes     SMALL_MISSILE
ScanRate               1
ScanRange              200.0
PredictTargetVelocityFactor  1.0
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_PointDefenceLaser03
StartsActive   No
TriggeredBy    Upgrade_AmericaPointDefenceLasers
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       AvengerPDLDecalWeapon
ContinuousWeaponDamaged        AvengerPDLDecalWeapon
ContinuousWeaponReallyDamaged  AvengerPDLDecalWeapon
;No rubble weapon as this decal should disappear when dead
;ContinuousWeaponRubble
End

Behavior  OverlordContain ModuleTag_OverlordContain
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName         AmericaTankAvengerLaserTurret
ExperienceSinkForRider  Yes ; I get the Exp for things my turret friend kills
End

Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ExperienceScalarUpgrade ModuleTag_11
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  DestroyDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End
Behavior  EjectPilotDie ModuleTag_17
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  FlammableUpdate ModuleTag_22
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------
; Десантный Броне Хамви
;-----------------------
Object AmericaVehicleAirborneHumvee

; *** ART Parameters ***
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor   Yes

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVATHmr
Animation          AVATHmr.AVATHmr
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      MuzzleFX01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
End

ConditionState  USING_WEAPON_A
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USING_WEAPON_B

ConditionState  REALLYDAMAGED
Model              AVATHmr_D
End

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
End
AliasConditionState  REALLYDAMAGED USING_WEAPON_B

ConditionState  RUBBLE
Model              AVATHmr_D1
End


ConditionState  SNOW
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW USING_WEAPON_A
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW USING_WEAPON_B

ConditionState  SNOW REALLYDAMAGED
Model              AVATHmr_D
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW REALLYDAMAGED USING_WEAPON_B

ConditionState  SNOW RUBBLE
Model              AVATHmr_D1
HideSubObject      Tire01 Tire02 Tire03 Tire04
End


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide


LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End
AliasConditionState  SNOW MOVING RUBBLE

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              AVAirbrnHmmr_N
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              AVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model              NONE
End

ConditionState  FIRING_A
Model              AVATHmr_Mzl
Animation          AVATHmr_Mzl.AVATHmr_Mzl
AnimationMode      ONCE
Turret             TURRET
Flags              RANDOMSTART
End
AliasConditionState  FIRING_B

End

; ***DESIGN parameters ***
DisplayName            OBJECT:AirborneHumvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY HumveeMinigun
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        500
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAirborneHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ATVHummerVoiceSelect
VoiceMove  ATVHummerVoiceMove
VoiceGuard  ATVHummerVoiceMove
VoiceAttack  ATVHummerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          ATVHummerVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           ATVHummerVoiceMove

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  ATVHummerVoiceUnload
VoiceEnter   ATVHummerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL AirborneHumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  TransportContain  ModuleTag_05
Slots                          5
DamagePercentToUnits           10%
AllowInsideKindOf              INFANTRY
ExitDelay                      100
NumberOfExitPaths              3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit             Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime                   2000
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior            OCLSpecialPower ModuleTag_PointDefenceDrone01
SpecialPowerTemplate  SpecialAbilityAmericaPointDefenceDrone
OCL                   OCL_AmericanPointDefenceDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_AirborneHumveeAirDeathStart
FX   INITIAL FX_AirborneHumveeAirDeathGroundPart
OCL  FINAL   OCL_RocketBuggyAirDeath
FX   FINAL   FX_RocketBuggyAirDeathAirPart
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  ATVHumveeWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  ATVHumveeWeaponBonusDecalWeapon
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------
; Десантный Танк Аколит
;-----------------------
Object AmericaTankAcolyte

; *** ART Parameters ***
SelectPortrait          SATankAcolyte_L
ButtonImage             SATankAcolyte

Draw  W3DTankDraw ModuleTag_01

MaxRecoilDistance     2.5

DefaultConditionState
Model                AVAcolyte
Turret               Turret
TurretPitch          TurretEL
HideSubObject        ARMOR01 ARMOR02 LASER01
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY MuzzleMG
WeaponLaunchBone     SECONDARY MuzzleMG
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End

ConditionState         REALLYDAMAGED
Model                AVAcolyte_D
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Acolyte
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon            PRIMARY   AcolyteTankGun
Weapon            SECONDARY AcolyteTankCoaxialMachineGun
PreferredAgainst  SECONDARY INFANTRY
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY   AcolyteTankGunUpgraded
Weapon            SECONDARY AcolyteTankCoaxialMachineGunUpgraded
PreferredAgainst  SECONDARY INFANTRY
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost               750
BuildTime               10.0          ;in seconds
VisionRange             250
ShroudClearingRange     275

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     80 80 150 300   ;Experience point value at each level
ExperienceRequired  0 200 300 600   ;Experience points needed to gain each level

IsTrainable      Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaTankPaladinCommandSet

; *** AUDIO Parameters ***
VoiceSelect     AcolyteTankVoiceSelect
VoiceMove       AcolyteTankVoiceMove
VoiceGuard      AcolyteTankVoiceMove
VoiceAttack     AcolyteTankVoiceAttack
SoundMoveStart         AcolyteTankMoveStart
SoundMoveStartDamaged  AcolyteTankMoveStart

UnitSpecificSounds
VoiceCreate  AcolyteTankVoiceCreate
VoiceCrush   AcolyteTankVoiceMove
VoiceEnter   AcolyteTankVoiceMove
SoundEject   PilotSoundEject
VoiceEject   PilotVoiceEject
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        380.0
InitialHealth    380.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         90
TurretPitchRate        50
AllowsPitch            Yes
MinPhysicalPitch       -15
NaturalTurretPitch     5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL AcolyteTankLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

;Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_1021
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_AcolyteTurret
End

;Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_1121
DeathTypes  ALL
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
DeathFX  FX_CarCrush
End

Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_11
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  MaxHealthUpgrade ModuleTag_18
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SubObjectsUpgrade ModuleTag_18322
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01 ARMOR02
End

Behavior  SubObjectsUpgrade ModuleTag_LaserRangeFinder01
TriggeredBy     Upgrade_AmericaLaserRangeFinders
ShowSubObjects  LASER01
End

Behavior  WeaponSetUpgrade ModuleTag_LaserRangeFinder02
TriggeredBy  Upgrade_AmericaLaserRangeFinders
End

Behavior  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  EjectPilotDie ModuleTag_17
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;-----------------------
; Хамви полевой медцентр
;-----------------------
Object AmericaVehicleMedic

; *** ART Parameters ***
SelectPortrait          SAAmbulance_L
ButtonImage             SAAmbulance

Draw  W3DTruckDraw ModuleTag_01

ConditionState  NONE
Model  AVAmbulance
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
ConditionState  REALLYDAMAGED
Model  AVAmbulance_D
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  RUBBLE

ConditionState  SNOW
Model  AVAmbulance
Turret  Turret
TurretPitch  TurretEL
HideSubObject  TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
ConditionState  SNOW REALLYDAMAGED
Model  AVAmbulance_D
Turret  Turret
TurretPitch  TurretEL
HideSubObject  TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  SNOW RUBBLE

TrackMarks  EXTireTrack.tga
OkToChangeModelColor  Yes

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW RUBBLE MOVING

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_HealingRing01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDclBone
Animation          EXDclBone.EXDclBone
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  MOVING USING_WEAPON_B

ConditionState  USING_WEAPON_B
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
End

End

Draw  W3DModelDraw ModuleTag_FieldHospitalStuff01

DefaultConditionState
Model  NONE
TransitionKey      TRANS_Packed
End
AliasConditionState  MOVING
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  MOVING USING_WEAPON_B
AliasConditionState  MOVING REALLYDAMAGED USING_WEAPON_B
AliasConditionState  MOVING SNOW
AliasConditionState  MOVING SNOW REALLYDAMAGED
AliasConditionState  MOVING SNOW USING_WEAPON_B
AliasConditionState  MOVING SNOW REALLYDAMAGED USING_WEAPON_B

;Normal
TransitionState  TRANS_Packed TRANS_Unpacked
Model              AVAmbulance_A1
Animation          AVAmbulance_A1.AVAmbulance_A1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USING_WEAPON_B
Model              AVAmbulance_A2
Animation          AVAmbulance_A2.AVAmbulance_A2
AnimationMode      LOOP
TransitionKey      TRANS_Unpacked
End

TransitionState  TRANS_Unpacked TRANS_Packed
Model              AVAmbulance_A1
Animation          AVAmbulance_A1.AVAmbulance_A1
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4.5 4.5
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

;Snow
TransitionState  TRANS_Packed TRANS_Unpacked_Snow
Model              AVAmbulance_SA1
Animation          AVAmbulance_SA1.AVAmbulance_SA1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  SNOW USING_WEAPON_B
Model              AVAmbulance_SA2
Animation          AVAmbulance_SA2.AVAmbulance_SA2
AnimationMode      LOOP
TransitionKey      TRANS_Unpacked_Snow
End

TransitionState  TRANS_Unpacked_Snow TRANS_Packed
Model              AVAmbulance_SA1
Animation          AVAmbulance_SA1.AVAmbulance_SA1
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4.5 4.5
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

;Damaged
TransitionState  TRANS_Packed TRANS_Unpacked_Damaged
Model              AVAmbulance_DA1
Animation          AVAmbulance_DA1.AVAmbulance_DA1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model              AVAmbulance_DA2
Animation          AVAmbulance_DA2.AVAmbulance_DA2
AnimationMode      LOOP
TransitionKey      TRANS_Unpacked_Damaged
End

TransitionState  TRANS_Unpacked_Damaged TRANS_Packed
Model              AVAmbulance_DA1
Animation          AVAmbulance_DA1.AVAmbulance_DA1
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4.5 4.5
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

End

Draw  W3DModelDraw ModuleTag_ExhaustSmoke01

ConditionState  NONE
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Medic
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet

;*** Fully automated and driven by the CleanupHazardUpdate ***
Conditions         None
Weapon             PRIMARY   AmbulanceCleanHazardWeapon
AutoChooseSources  PRIMARY   NONE

;*** Brand new field hospital weapon! ***
Weapon             SECONDARY AmbulanceHospitalWeapon
AutoChooseSources  SECONDARY NONE

End
ArmorSet
Conditions       None
Armor            AmbulanceTruckArmor
DamageFX         TruckDamageFX
End
BuildCost        500
BuildTime        7.0          ;in seconds
VisionRange      220
ShroudClearingRange  220
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue     50 50 50 50 ;Experience point value at each level
IsTrainable      No
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAmbulanceCommandSet

; *** AUDIO Parameters ***
VoiceSelect  AmbulanceVoiceSelect
VoiceMove  AmbulanceVoiceMove
VoiceGuard  AmbulanceVoiceMove
VoiceAttack  AmbulanceVoiceDetox
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           AmbulanceVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
; Required for the W3DTruckDraw module
TruckLandingSound  RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceCrush           AmbulanceVoiceCrush
VoiceEnter  AmbulanceVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE HEAL_PAD TRANSPORT IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  CleanupHazardUpdate ModuleTag_03
WeaponSlot             PRIMARY
ScanRate               100
ScanRange              220.0 ;If this range exceeds the AmbulanceCleanHazardWeapon AttackRange, it'll move!
End

;Can be ordered to clean up a larger area with the ability to move around at an extended range.
Behavior  CleanupAreaPower ModuleTag_04
SpecialPowerTemplate           SpecialAbilityAmbulanceCleanupArea
MaxMoveDistanceFromLocation    300.0 ;allows the unit to move around while cleaning up
InitiateSound  AmbulanceVoiceDetox
End

Behavior  TransportAIUpdate ModuleTag_05
AutoAcquireEnemiesWhenIdle  No  ;CleanupHazardUpdate handles this...
Turret
TurretTurnRate  180
TurretPitchRate  180
AllowsPitch  Yes
MinPhysicalPitch  -20 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
TurretFireAngleSweep  PRIMARY 20
TurretSweepSpeedModifier  PRIMARY 0.5    ; Sweep slower than you turn
ControlledWeaponSlots  PRIMARY
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
End
Locomotor  SET_NORMAL HumveeLocomotor

;  Behavior  HealContain ModuleTag_06
;    ContainMax           10 ;way bigger than the # of objects we can have
;    NumberOfExitPaths    10
;    TimeForFullHeal      2000   ;(in milliseconds)
;    AllowInsideKindOf    INFANTRY
;    AllowAlliesInside    Yes
;    AllowNeutralInside   No
;    AllowEnemiesInside   No
;  End

Behavior  OverlordContain ModuleTag_HealingDecal01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericaAmbulanceHealingDecal
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  0
FX   FINAL FX_GenericTankDeathExplosion
OCL  FINAL OCL_FinalAmbulanceDebris
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_10
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_11
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FXListDie ModuleTag_15
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_GenericTankDeathEffect
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  ExperienceScalarUpgrade ModuleTag_17
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  14.0
GeometryHeight  12.0  ; height set to allow clear clipping of projectile streams
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End


;-----------------
; Бульдозер Игрока
;-----------------
Object AmericaVehicleDozer

; *** ART Parameters ***
SelectPortrait          SACDozer_L
ButtonImage             SACDozer

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End



;;;;Realy Damaged
ConditionState  REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_IDLE_DAMAGED
End

ConditionState  PREATTACK_A REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING_DAMAGED
End

ConditionState       MOVING REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_MOVING_DAMAGED
End

ConditionState       ACTIVELY_CONSTRUCTING REALLYDAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING_DAMAGED
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_IDLE_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_MOVING_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End


TrackMarks             EXTireTrack2.tga
Dust                   RocketBuggyDust
DirtSpray              RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
LeftRearTireBone       TIRE03
RightRearTireBone      TIRE04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DTruckDraw ModuleTag_GroundAndDirtParticles01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_B
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_B
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      LOOP
ParticleSysBone    DIRTFX01 DozerDirtFall_Permanent ;gush of dirt
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Dozer
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   5 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ; in seconds
VisionRange          200
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              RussianDozerArmor
DamageFX           TankDamageFX
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaDozerCommandSet

; *** AUDIO Parameters ***
VoiceSelect          DozerUSAVoiceSelect
VoiceMove            DozerUSAVoiceMove
VoiceGuard           DozerUSAVoiceMove
VoiceTaskComplete    DozerUSAVoiceBuildComplete
VoiceAttack          DozerUSAVoiceCrush
SoundMoveStart         DozerUSAMoveStart
SoundMoveStartDamaged  DozerUSAMoveStart

UnitSpecificSounds
VoiceCreate            DozerUSAVoiceCreate
VoiceNoBuild           DozerUSAVoiceBuildNot
VoiceCrush             DozerUSAVoiceCrush
VoiceRepair            DozerUSAVoiceRepair
;VoiceDisarm            DozerUSAVoiceClearMine
TruckLandingSound      NoSound
TruckPowerslideSound   NoSound
VoiceEnter             DozerUSAVoiceMove
VoiceBuildResponse     DozerUSAVoiceBuild
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor  SET_NORMAL AmericaVehicleDozerLocomotor

Behavior             PhysicsBehavior ModuleTag_04
Mass               75.0
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AmericaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End


;*************************************
;******Transformation Code Start********
;*************************************

Behavior  ProductionUpdate ModuleTag_CommandSetUpgrade01
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       AmericaDozerCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
StatusToClear        STATUS_RIDER2
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade04
CommandSet       AmericaDozerDefenceCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER2
StatusToClear        STATUS_RIDER1
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade06
TriggeredBy          Upgrade_CostReduction
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
End

;This module fires a weapon with a dummy collision object that ensures that we always have collision
Behavior  FireWeaponUpdate ModuleTag_CommandSetUpgrade07
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade08
CollideWeapon   EuropeExcavatorStandardBuildingDecalWeapon
RequiredStatus  STATUS_RIDER1
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade09
CollideWeapon   EuropeExcavatorDefenceBuildingDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;-----------------
; Бульдозер Игрока
;-----------------
Object AmericaVehicleDozer_AI

; *** ART Parameters ***
SelectPortrait          SACDozer_L
ButtonImage             SACDozer

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End



;;;;Realy Damaged
ConditionState  REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_IDLE_DAMAGED
End

ConditionState  PREATTACK_A REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING_DAMAGED
End

ConditionState       MOVING REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_MOVING_DAMAGED
End

ConditionState       ACTIVELY_CONSTRUCTING REALLYDAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING_DAMAGED
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_IDLE_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_MOVING_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End


TrackMarks             EXTireTrack2.tga
Dust                   RocketBuggyDust
DirtSpray              RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
LeftRearTireBone       TIRE03
RightRearTireBone      TIRE04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DTruckDraw ModuleTag_GroundAndDirtParticles01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_B
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_B
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      LOOP
ParticleSysBone    DIRTFX01 DozerDirtFall_Permanent ;gush of dirt
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Dozer
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   5 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ; in seconds
VisionRange          200
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              RussianDozerArmor
DamageFX           TankDamageFX
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaDozerCommandSet_AI

; *** AUDIO Parameters ***
VoiceSelect          DozerUSAVoiceSelect
VoiceMove            DozerUSAVoiceMove
VoiceGuard           DozerUSAVoiceMove
VoiceTaskComplete    DozerUSAVoiceBuildComplete
VoiceAttack          DozerUSAVoiceCrush
SoundMoveStart         DozerUSAMoveStart
SoundMoveStartDamaged  DozerUSAMoveStart

UnitSpecificSounds
VoiceCreate            DozerUSAVoiceCreate
VoiceNoBuild           DozerUSAVoiceBuildNot
VoiceCrush             DozerUSAVoiceCrush
VoiceRepair            DozerUSAVoiceRepair
;VoiceDisarm            DozerUSAVoiceClearMine
TruckLandingSound      NoSound
TruckPowerslideSound   NoSound
VoiceEnter             DozerUSAVoiceMove
VoiceBuildResponse     DozerUSAVoiceBuild
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor  SET_NORMAL AmericaVehicleDozerLocomotor

Behavior             PhysicsBehavior ModuleTag_04
Mass               75.0
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AmericaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;---------------
; Системные коды
;---------------
Object AmericaAmbulanceHealingDecal

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                50.0
ShadowTexture  EXHealAura; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  310
ShadowSizeY  310

End

;------------------------------------------------------------------------------
Object AmericaTankAcolyteParaDropping

Draw  W3DTankDraw ModuleTag_01

MaxRecoilDistance     2.5

DefaultConditionState
Model                AVAcolyte
Turret               Turret
TurretPitch          TurretEL
HideSubObject        ARMOR01 ARMOR02 LASER01
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY MuzzleMG
WeaponLaunchBone     SECONDARY MuzzleMG
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End

ConditionState         REALLYDAMAGED
Model                AVAcolyte_D
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End


; ***DESIGN parameters ***
DisplayName            OBJECT:Acolyte
Side                   America
EditorSorting          SYSTEM
TransportSlotCount     3

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  200

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        380.0
InitialHealth    380.0
End

Behavior  TransportAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL AcolyteTankLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  SuicideWeapon
End

; --- begin Death modules ---
;Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_1021
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -SUICIDED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_AcolyteTurret
End

;Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_1121
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -SUICIDED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +SUICIDED
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +SUICIDED
CreationList  OCL_AcolyteOnGround
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object CINE_U06_CruiseMissileFLY

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model          AVCINECMF
;ParticleSysBone  Engine01 CINE_U06_JetBlackTrailThin
ParticleSysBone  Engine01 CINE_U06_JetExhaust
ParticleSysBone  Engine01 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine02 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine03 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine04 CINE_U06_SteamRocketFuselage
End
End

Scale  .66

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End


; *** AUDIO Parameters ***
VoiceSelect              MigVoiceSelect
VoiceMove                MigVoiceMove
VoiceAttack              MigVoiceAttack
VoiceAttackAir           MigVoiceAttackAir
VoiceGuard               MigVoiceAirPatrol
SoundAmbient             MigAmbientLoop
UnitSpecificSounds
VoiceCreate            MigVoiceCreate
Afterburner            RaptorAfterburner
VoiceGarrison          MigVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             160.0
InitialHealth         160.0
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End


Behavior  PhysicsBehavior ModuleTag_05
Mass  250.0
End

Behavior  JetAIUpdate ModuleTag_06
OutOfAmmoDamagePerSecond  10%  ; amount of damage to take per SEC (not per frame) when out of ammo
; note that it's expressed as a percent of max health, not an absolute
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause            500
MinHeight               5
ReturnToBaseIdleTime    1000000         ; if idle for this long, return to base, even if not out of ammo
End


Locomotor  SET_NORMAL CINE_CruiseMissile
Locomotor  SET_TAXIING BasicJetTaxiLocomotor


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000        ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500      ; this often.
End

Behavior                        TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME

Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_U06_CruiseMissileAttack

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model          AVCINECMA
Animation      AVCINECMA.AVCINECMA
AnimationMode  ONCE
;ParticleSysBone  Engine01 CINE_U06_JetBlackTrailThin
ParticleSysBone  Engine01 CINE_U06_JetExhaust
ParticleSysBone  Engine01 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine02 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine03 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine04 CINE_U06_SteamRocketFuselage
End
End

Scale  .66

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** AUDIO Parameters ***
;  SoundAmbient             Cin_CruiseMissileAmbientLoop


; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------
Object CINE_U06_BBus

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            CINE_BBus
End

ConditionState     DOOR_1_OPENING
Model            CINE_BBus
Animation        CINE_BBus.CINE_BBus
AnimationMode    ONCE
End

ConditionState     DAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState     REALLYDAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState  RUBBLE
Model  CBBaikRock_CR
End

End

; ***DESIGN parameters ***
DisplayName      OBJECT:Structure
EditorSorting    STRUCTURE
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End
CommandSet       BaikonurLaunchTowerCommandSet

;***AUDIO parameters ***
;  SoundAmbient     Cin_BaikonurRocketAmbientLoop
SoundAmbient     BuildingNeutronMissileHiss

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  FlammableUpdate ModuleTag_05
FlameDamageLimit  20         ;Catch fire if I take this much fire damage...
FlameDamageExpiration  2000  ;in a span of this long
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  25       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_07
CreationList   OCL_PoisonFieldLarge
End

Behavior              FXListDie ModuleTag_08
DeathFX        FX_NukeGLA
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    45.0
GeometryMinorRadius    46.0
GeometryHeight         160.0
GeometryIsSmall        No
Shadow                 None
End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto01

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          CINE_SatP01
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto02

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          CINE_SatP02
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto03

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          CINE_SatP03
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------

;------------------------------Cinematic Only-----------------------------
Object CINE_Sattelite3

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            CINE_Sat02
Animation        CINE_Sat02.CINE_Sat02
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState     DOOR_1_OPENING
Model            CINE_Sat02
Animation        CINE_Sat02.CINE_Sat02
AnimationMode    ONCE
End

ConditionState     DAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 SteamRocketFuselage
ParticleSysBone  Smoke02 SteamRocketFuselage
ParticleSysBone  Smoke03 SteamRocketFuselage
ParticleSysBone  Smoke04 SteamRocketFuselage
;     ParticleSysBone  ESmoke01 SteamRocketFuselage
End

ConditionState     REALLYDAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 SteamRocketFuselage
ParticleSysBone  Smoke02 SteamRocketFuselage
ParticleSysBone  Smoke03 SteamRocketFuselage
ParticleSysBone  Smoke04 SteamRocketFuselage
;     ParticleSysBone  ESmoke01 SteamRocketFuselage
End

ConditionState  RUBBLE
Model  CBBaikRock_CR
End

End

; ***DESIGN parameters ***
DisplayName      OBJECT:Structure
EditorSorting    STRUCTURE
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End
CommandSet       BaikonurLaunchTowerCommandSet

;***AUDIO parameters ***
SoundAmbient     CINE_SatSound01Loop
SoundAmbient     ParticleUplinkCannon_PowerupSoundLoop

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  FlammableUpdate ModuleTag_05
FlameDamageLimit  20         ;Catch fire if I take this much fire damage...
FlameDamageExpiration  2000  ;in a span of this long
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  25       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_07
CreationList   OCL_PoisonFieldLarge
End

Behavior              FXListDie ModuleTag_08
DeathFX        FX_NukeGLA
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    1.0
GeometryMinorRadius    1.0
GeometryHeight         1.0
GeometryIsSmall        No
Shadow                 None
End


;------------------------------------------------------------------------------
Object CINE_CruiseMissileDetObject ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL CINE_WeaponFX_CruiseMissile
Weapon               FINAL   DummyWeapon
End
End

;------------------------------------------------------------------------------
Object CINE_MiniNukeExplosion ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL FX_ChinaPowerPlantDeath
Weapon               FINAL   DummyWeapon
End

End
;------------------------------------------------------------------------------



;------------------------------------------------------------------------------
;*************************** Cinematic-only unit ******************************
;
; ??? This unit is used in a mission for "color".
; This unit is never human-controllable!
;
Object CINE_AmericaInfantryOfficer
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIOFCR_SKN
IdleAnimation  AIOFCR_SKL.AIOFCR_STA 0 21
;Regular spice animations
IdleAnimation  AIOFCR_SKL.AIOFCR_IDA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_STAND
End

ConditionState     MOVING
Animation        AIOFCR_SKL.AIOFCR_RNA
AnimationMode    LOOP
ParticleSysBone      None InfantryDustTrails
End

; NORMAL ATTACK
;--------------------------------------------------------
; Drawing gun
ConditionState   PREATTACK_A
Animation      AIOFCR_SKL.AIOFCR_ATAST
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; Firing gun
ConditionState   FIRING_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
ConditionState   BETWEEN_FIRING_SHOTS_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_A TRANS_STAND
Animation      AIOFCR_SKL.AIOFCR_ATAED
AnimationMode  ONCE
End
;--------------------------------------------------------

ConditionState   DYING
Animation      AIOFCR_SKL.AIOFCR_DTA
Animation      AIOFCR_SKL.AIOFCR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIOFCR_SKL.AIOFCR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIOFCR_SKL.AIOFCR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIOFCR_SKL.AIOFCR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      AIOFCR_SKL.AIOFCR_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS

;@TODO - MISSING ANIMATION FILE
;ConditionState    FREEFALL
;  Animation       AIOFCR_SKL.AIOFCR_PFL
;  AnimationMode   LOOP
;  TransitionKey   TRANS_Falling
;End
;AliasConditionState  FREEFALL REALLYDAMAGED
;AliasConditionState  FREEFALL DYING
ConditionState   PARACHUTING
Animation      AIOFCR_SKL.AIOFCR_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute

End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation      AIOFCR_SKL.AIOFCR_POP
AnimationMode  ONCE
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation      AIOFCR_SKL.AIOFCR_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Officer
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY AmericaOfficerMachineGun
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150

BuildCost      400
BuildTime      10.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  RangerVoiceSelect
VoiceGroupSelect  BattleCrySound
VoiceMove  RangerVoiceMove
VoiceAttack  RangerVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL CINE_BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_07
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
Weapon               INITIAL  ShockTrooperTeslaDeathZapWeapon
Weapon               MIDPOINT ShockTrooperTeslaDeathZapWeapon
Weapon               FINAL    ShockTrooperTeslaDeathZapWeapon
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_10
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------Cinematic Only-----------------------------
Object CINE_AircraftCarrier

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            PSAirCarrier_Dt
Animation        PSAirCarrier_Dt.PSAirCarrier_Dt
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

; DEATH ****************************************
ConditionState        RUBBLE
Model                PSAirCarrier_Dt
Animation            PSAirCarrier_Dt.PSAirCarrier_Dt
AnimationMode        ONCE
ParticleSysBone      SPLASH0BONE airCarrierDeathSplash0
ParticleSysBone      SPLASH0BONE airCarrierShockWave0
ParticleSysBone      SPLASH1BONE airCarrierDeathSplash
ParticleSysBone      SPLASH1BONE airCarrierShockWave
ParticleSysBone      SPLASH3BONE airCarrierTowerSplash
ParticleSysBone      SPLASH3BONE airCarrierDeckSmoke
ParticleSysBone      OILSLICKBONE airCarrierDeckSmoke

ParticleSysBone      EXPLOSION1BONE airCarrierExplosion0
ParticleSysBone      EXPLOSION1BONE airCarrierLightFlash1
ParticleSysBone      EXPLOSION1BONE airCarrierShockWave1
ParticleSysBone      EXPLOSION1BONE airCarrierExplosionSparks

ParticleSysBone      EXPLOSION2BONE airCarrierExplosion1
ParticleSysBone      EXPLOSION2BONE airCarrierLightFlash2
ParticleSysBone      EXPLOSION2BONE airCarrierShockWave2
ParticleSysBone      EXPLOSION2BONE airCarrierDeckFireBig

ParticleSysBone      EXPLOSION4BONE airCarrierExplosion2
ParticleSysBone      EXPLOSION4BONE airCarrierLightFlash3
ParticleSysBone      EXPLOSION4BONE airCarrierShockWave3
ParticleSysBone      EXPLOSION4BONE airCarrierDeckFire

ParticleSysBone      EXPLOSION5BONE airCarrierFinalExplosion
ParticleSysBone      EXPLOSION5BONE airCarrierDeckFire
ParticleSysBone      EXPLOSION5BONE airCarrierSmoke

ParticleSysBone      SPLASH4BONE airCarrierDeathSplash1
ParticleSysBone      SPLASH5BONE airCarrierDeathSplash1
ParticleSysBone      SPLASH6BONE airCarrierDeathSplash2
ParticleSysBone      SPLASH7BONE airCarrierDeathSplash3

ParticleSysBone      MAST1BONE airCarrierDeckFireBig
ParticleSysBone      MAST2BONE airCarrierDeckFire

ParticleSysBone      SPLASH4BONE airCarrierDeathRipple
ParticleSysBone      SPLASH5BONE airCarrierDeathRipple
ParticleSysBone      SPLASH6BONE airCarrierDeathRipple
ParticleSysBone      SPLASH7BONE airCarrierDeathRipple

ParticleSysBone      SPLASH5BONE airCarrierFinalDeathSplash

ParticleSysBone      JET01BONE airCarrierDeckFireJet5
ParticleSysBone      JET01BONE airCarrierJetEngine01Smoke
ParticleSysBone      JET01BONE airCarrierJet01Explosion

ParticleSysBone      JET03BONE airCarrierDeckFireBig
ParticleSysBone      JET04BONE airCarrierDeckFireBig

ParticleSysBone      JET05BONE airCarrierJetExplosion1
ParticleSysBone      JET05BONE airCarrierDeckFireJet5

ParticleSysBone      JET06BONE airCarrierDeckFireJet6
ParticleSysBone      JET06BONE airCarrierJetExplosion2

ParticleSysBone      JET07BONE airCarrierJetExplosion3
ParticleSysBone      JET07BONE airCarrierDeckFireJet7

ParticleSysBone      JET08BONE airCarrierDeckFire
ParticleSysBone      JET08BONE airCarrierJet8Splash

ParticleSysBone      OILSLICKBONE airCarrierOilSlick
ParticleSysBone      OILSLICKBONE airCarrierMidShipSplash
ParticleSysBone      SPARK1BONE airCarrierSmoke
ParticleSysBone      SPARK1BONE airCarrierDeckFire
ParticleSysBone      SPARK2BONE airCarrierSmoke
ParticleSysBone      SPARK2BONE airCarrierDeckFire

ParticleSysBone      BOWSPLASH0BONE1 airCarrierBowDeathSplash

ParticleSysBone      SMOKEBONE01 airCarrierSmoke
ParticleSysBone      SMOKEBONE02 airCarrierSmoke
ParticleSysBone      SMOKEBONE03 airCarrierSmoke

End
End

; ***DESIGN parameters ***
DisplayName      OBJECT:CINE_Carrier
EditorSorting    Vehicle
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    10.0
GeometryMinorRadius    5.0
GeometryHeight         1.0
GeometryIsSmall        No
Shadow  SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object AmericaBasicInfantryFakeRider

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

;Since missile defenders use this fake rider at the start they need to have this tag
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericaSpecialistInfantryFakeRider

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

;Since missile defenders use this fake rider at the start they need to have this tag
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object ComancheBlades

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVComanche_D2
Animation  AVComanche_D2.AVComanche_D2
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Comanche
Side  America

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE NO_COLLIDE

Behavior  PhysicsBehavior ModuleTag_02
AllowBouncing  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  1000   ; min lifetime in msec
MaxLifetime  1000   ; max lifetime in msec
End

Behavior             DestroyDie ModuleTag_04
End

End

;------------------------------------------------------------------------------
Object AmericaParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1800
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaCrateParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryHeight  1.0
Scale  1.1
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaLargeCrateParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE VEHICLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryHeight  1.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaVehicleParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE VEHICLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_AmericaPadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaPadadropedVehicleWoodenPlate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVParaPlate
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  No
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  4000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           1     ; in Dist/Sec
DestructionDelay   4000
End

End

;------------------------------------------------------------------------------
Object AmericaInfantryBiohazardTech

; This unit is by default NOT buildable. In GLA06 this is buildable from the
; barracks of the enemy AI. (The map.ini file is overridden there make it
; buildable  Yes (jkmcd)
Buildable  No

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AITECH_SKN
IdleAnimation  AITECH_SKL.AITECH_STA 0 21
;Regular spice animations
IdleAnimation  AITECH_SKL.AITECH_IDA
IdleAnimation  AITECH_SKL.AITECH_IDB
AnimationMode  ONCE
WeaponLaunchBone  PRIMARY BIOGUNFX
TransitionKey  TRANS_Stand
End

; NORMAL ATTACK
ConditionState  FIRING_A
Animation  AITECH_SKL.AITECH_STA
AnimationMode  LOOP
TransitionKey  TRANS_FiringA
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  FIRING_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED


ConditionState  MOVING FIRING_A
Animation  AITECH_SKL.AITECH_WKB 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

ConditionState  MOVING
Animation  AITECH_SKL.AITECH_WKA 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone      None InfantryDustTrails
End

ConditionState  DYING
Animation  AITECH_SKL.AITECH_DTA
Animation  AITECH_SKL.AITECH_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AITECH_SKL.AITECH_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AITECH_SKL.AITECH_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AITECH_SKL.AITECH_ADTD3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AITECH_SKL.AITECH_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS
ConditionState  FREEFALL
Animation  AITECH_SKL.AITECH_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  AITECH_SKL.AITECH_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  AITECH_SKL.AITECH_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  AITECH_SKL.AITECH_PDN
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:BioHazardTech
Side                 America
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
;*** Fully automated and driven by the CleanupHazardUpdate ***
Conditions         None
Weapon             PRIMARY BioHazardTechCleanHazardWeapon
AutoChooseSources  PRIMARY NONE
End
ArmorSet
Conditions       None
Armor            HazMatHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  100
ShroudClearingRange  400
Prerequisites
Object  AmericaBarracks
End
BuildCost  200
BuildTime  5.0          ;in seconds

ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaInfantryHazMatCommandSet

; *** AUDIO Parameters ***
VoiceSelect    NoSound
VoiceMove      NoSound
VoiceAttack    NoSound
UnitSpecificFX
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02

MaxHealth        100.0
InitialHealth    100.0
End

Behavior  CleanupHazardUpdate ModuleTag_03
WeaponSlot             PRIMARY
ScanRate               1000
ScanRange              100.0
End

;Can be ordered to clean up a larger area with the ability to move around at an extended range.
Behavior  CleanupAreaPower ModuleTag_04
SpecialPowerTemplate           SpecialAbilityAmbulanceCleanupArea
MaxMoveDistanceFromLocation    300.0 ;allows the unit to move around while cleaning up
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  No
End
Behavior  AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL HazMatHumanLocomotor

Behavior  ExperienceScalarUpgrade ModuleTag_07
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  5.0
End
Behavior  ProductionUpdate ModuleTag_09
; nothing
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End

; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT
End



;------------------------------------------------------------------------------
;
; ??? This unit is used in a mission for "color".
; This unit is never human-controllable!
;
Object AmericaInfantryOfficer
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIOFCR_SKN
IdleAnimation  AIOFCR_SKL.AIOFCR_STA 0 21
;Regular spice animations
IdleAnimation  AIOFCR_SKL.AIOFCR_IDA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_STAND
End

ConditionState     MOVING
Animation        AIOFCR_SKL.AIOFCR_RNA
AnimationMode    LOOP
ParticleSysBone      None InfantryDustTrails
End

; NORMAL ATTACK
;--------------------------------------------------------
; Drawing gun
ConditionState   PREATTACK_A
Animation      AIOFCR_SKL.AIOFCR_ATAST
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; Firing gun
ConditionState   FIRING_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
ConditionState   BETWEEN_FIRING_SHOTS_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_A TRANS_STAND
Animation      AIOFCR_SKL.AIOFCR_ATAED
AnimationMode  ONCE
End
;--------------------------------------------------------

ConditionState   DYING
Animation      AIOFCR_SKL.AIOFCR_DTA
Animation      AIOFCR_SKL.AIOFCR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIOFCR_SKL.AIOFCR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIOFCR_SKL.AIOFCR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIOFCR_SKL.AIOFCR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      AIOFCR_SKL.AIOFCR_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS

;@TODO - MISSING ANIMATION FILE
;ConditionState    FREEFALL
;  Animation       AIOFCR_SKL.AIOFCR_PFL
;  AnimationMode   LOOP
;  TransitionKey   TRANS_Falling
;End
;AliasConditionState  FREEFALL REALLYDAMAGED
;AliasConditionState  FREEFALL DYING
ConditionState   PARACHUTING
Animation      AIOFCR_SKL.AIOFCR_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute

End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation      AIOFCR_SKL.AIOFCR_POP
AnimationMode  ONCE
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation      AIOFCR_SKL.AIOFCR_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Officer
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY AmericaOfficerMachineGun
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150

BuildCost      400
BuildTime      10.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  RangerVoiceSelect
VoiceGroupSelect  BattleCrySound
VoiceMove  RangerVoiceMove
VoiceAttack  RangerVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_07
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_10
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShip
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               AVBattleSh
Animation           AVBattleSh.AVBattleSh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipBogusGun
Weapon                SECONDARY BattleshipBogusGun
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             99999.0
InitialHealth         99999.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
; an invisible object that exists solely for the Battleship to target.
Object AmericaBattleshipBogusTarget

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  None
End
End

; ***DESIGN parameters ***
EditorSorting    STRUCTURE
Side             America
ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
RadarPriority        NOT_ON_RADAR
KindOf               IMMOBILE

Body                 ImmortalBody ModuleTag_02
MaxHealth          99999.0
InitialHealth      99999.0
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_03
StartsActive  Yes
ReactionWeaponPristine  BattleshipTargetDamagedWeapon
ReactionWeaponDamaged  BattleshipTargetDamagedWeapon
ReactionWeaponReallyDamaged  BattleshipTargetDamagedWeapon
DamageTypes  ALL
;
; want this object to "explode" (ie, fire BattleshipTargetDamagedWeapon)
; when targeted by the gun? change DamageAmount to zero. (normally the gun
; does a nonzero but tiny damage, due to the InvulnerableArmor we wear, so
; this weapon isn't fired... to trigger it, you must do damage under Script
; control, which ignores our armor.)
;
DamageAmount  1  ; if damage is == this value, fire the weapon
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      Yes

End




;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Object CINE_BShipWeaponDetonationObject ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL WeaponFX_BattleshipTargetExplode
Weapon               FINAL   CINE_u02_BattleshipTargetDamagedWeapon
End
End


;------------------------------------------------------------------------------
Object LargeParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMVChute_A
Animation  PMVChute_A.PMVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMVChute_B
Animation  PMVChute_B.PMVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMVChute_C
Animation  PMVChute_C.PMVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMVChute_C
Animation  PMVChute_C.PMVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    15.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.3
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object PadadropedVehicleWoodenPlate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXParaPlate
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  No
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  4000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           1     ; in Dist/Sec
DestructionDelay   4000
End

End






;------------------------------------------------------------------------------
Object AmericaVehicleBattleShipReal
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               AVBattShip
Animation           AVBattShip.AVBattShip
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
;TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
;      ParticleSysBone    TreadFX01 WaveSpray01
;      ParticleSysBone    TreadFX02 WaveSpray01
;      ParticleSysBone    TreadFX03 WaveSpray01
;      ParticleSysBone    TreadFX04 WaveSpray01
;      ParticleSysBone    TreadFX05 WaveSpray01
;      ParticleSysBone    TreadFX06 WaveSpray01
;      ParticleSysBone    TreadFX07 WaveSpray01
;      ParticleSysBone    TreadFX08 WaveSpray01
;      ParticleSysBone    TreadFX09 WaveSpray01
;      ParticleSysBone    TreadFX10 WaveSpray01
;      ParticleSysBone    TreadFX11 WaveSpray01
;      ParticleSysBone    TreadFX12 WaveSpray01
End
ConditionState        DAMAGED
Model               AVBattShip_D
Animation           AVBattShip_D.AVBattShip_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               AVBattShip_D1
Animation           AVBattShip_D1.AVBattShip_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions            None
Weapon                PRIMARY BattleShipGunReal
;Weapon                PRIMARY BattleshipBogusGun
Weapon                SECONDARY BattleShipGunReal
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
SoundAmbient            BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             10000.0
InitialHealth         10000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
;    AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  1000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End



;------------------------------------------------------------------------------
Object AmericaVehicleBattleShipDemo
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               avbattlesh
Animation           avbattlesh.avbattlesh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
ConditionState        DAMAGED
Model               avbattlesh_D
Animation           avbattlesh_D.avbattlesh_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               avbattlesh_D1
Animation           avbattlesh_D1.avbattlesh_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipDemoGun
Weapon                SECONDARY BattleshipDemoGun
AutoChooseSources     PRIMARY    FROM_SCRIPT
AutoChooseSources     SECONDARY  FROM_SCRIPT
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             10000.0
InitialHealth         10000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShipUSSBender
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               avbattlesh
Animation           avbattlesh.avbattlesh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
ConditionState        DAMAGED
Model               avbattlesh_D
Animation           avbattlesh_D.avbattlesh_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               avbattlesh_D1
Animation           avbattlesh_D1.avbattlesh_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipUSSBenderGun
Weapon                SECONDARY BattleshipUSSBenderGun
AutoChooseSources     PRIMARY    FROM_SCRIPT FROM_PLAYER FROM_AI
AutoChooseSources     SECONDARY  FROM_SCRIPT FROM_PLAYER FROM_AI
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             10000.0
InitialHealth         10000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           20            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           20          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object AmericaInfantrySecretService

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AISSRV_SKN
IdleAnimation  AISSRV_SKL.AISSRV_STA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:BioHazardTech
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY None
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150
Prerequisites
Object  AmericaBarracks
End
BuildCost  100
BuildTime  1.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  CIAAgentVoiceSelect
VoiceMove  CIAAgentVoiceMove
VoiceAttack  CIAAgentVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are = 85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End
Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  3000
SinkRate  0.5     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  ExperienceScalarUpgrade ModuleTag_07
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SquishCollide ModuleTag_08
;nothing
End


Behavior  FXListDie ModuleTag_09
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_CIAAgentDie
End
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_GIDieCrushed
End

Behavior  PoisonedBehavior ModuleTag_11
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object SDILasers
Draw                      W3DModelDraw ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 ABSDILink_L
Animation             ABSDILink_L.ABSDILink_L
AnimationMode         ONCE
End
End
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  3000   ; min lifetime in msec
MaxLifetime  3000   ; max lifetime in msec
End
Body  HighlanderBody ModuleTag_03
MaxHealth        1.0
InitialHealth    1.0
End
Behavior             DestroyDie ModuleTag_04
;<NO DATA=
End
End

;------------------------------------------------------------------------------
Object AmericaWall

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState     NONE
Model            ABSecWallY
End
ConditionState     DAMAGED
Model            ABSecWallY_D
ParticleSysBone  SparkS01 SparksSmall
End
ConditionState     REALLYDAMAGED RUBBLE
Model            ABSecWallY_E
Animation        ABSecWallY_E.ABSecWallY_E
AnimationMode    LOOP
ParticleSysBone  SparkM01 SparksMedium
ParticleSysBone  SparkM02 SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SecurityFence
Side  America
EditorSorting     STRUCTURE

BuildCost            100
BuildTime            1.0             ; in seconds
VisionRange          150.0           ; Shroud clearing distance
ShroudClearingRange  150
ArmorSet
Conditions       None
Armor            WallArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      50 50 50 50  ; Experience point value at each level

FenceWidth       19  ; Spacing used by the fence tool in worldbuilder.
FenceXOffset     0   ; Offset used by the fence tool in worldbuilder so corners line up.
CrushableLevel   2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD CAPTURABLE DEFENSIVE_WALL
Body             StructureBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior                  DestroyDie ModuleTag_03
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_04
DeathTypes  ALL
CreationList       OCL_GenericWallSegmentDebris
End
Behavior                  FXListDie ModuleTag_05
DeathTypes  ALL
DeathFX            FX_GenericWallSegmentDeath
End

Geometry             BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  3.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;Added for the Hub piece
Object AmericaWallHub

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState       NONE
Model              ABSecWallX
End
ConditionState     DAMAGED
Model              ABSecWallX_D
ParticleSysBone    SparkS01 SparksSmall
End
ConditionState       REALLYDAMAGED RUBBLE
Model              ABSecWallX_E
ParticleSysBone    SmokeM01 SmokeFactionMedium
;ParticleSysBone   FireM01 FireFactionMedium
ParticleSysBone    SparkM01 SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Wall
Side  America
EditorSorting     STRUCTURE
Prerequisites
Object  AmericaBarracks
End
BuildCost         50
BuildTime         2.0           ; in seconds
VisionRange       150.0           ; Shroud clearing distance
ShroudClearingRange  150
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      50 50 50 50  ; Experience point value at each level

FenceWidth       6  ; Spacing used by the fence tool in worldbuilder.
FenceXOffset     0   ; Offset used by the fence tool in worldbuilder so corners line up.
CrushableLevel   2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD DEFENSIVE_WALL
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior                  DestroyDie ModuleTag_03
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_04
DeathTypes  ALL
CreationList       OCL_GenericWallSegmentDebris
End
Behavior                  FXListDie ModuleTag_05
DeathTypes  ALL
DeathFX            FX_GenericWallSegmentDeath
End

Geometry             BOX
GeometryMajorRadius  3.0
GeometryMinorRadius  4.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaCheckpoint

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  PMChkPnt02
End


ConditionState     DOOR_1_OPENING
Model            PMChkPnt02               ;REAL THING
Animation        PMChkPnt02.PMChkPnt02    ;REAL THING
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End

ConditionState     DOOR_1_CLOSING
Model            PMChkPnt02
Animation        PMChkPnt02.PMChkPnt02
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End


End

; ***DESIGN parameters ***
DisplayName       OBJECT:Checkpoint
Side              America
EditorSorting     STRUCTURE

Prerequisites
Object  AmericaCommandCenter
Object  AmericaBarracks
Object  AmericaPowerPlant
End

BuildCost         100
BuildTime         5.0           ; in seconds
VisionRange       100.0       ; Shroud clearing distance
ShroudClearingRange  100

ArmorSet
Conditions       None
Armor            WallArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
VoiceSelect  NoSound

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD CAPTURABLE
Body             StructureBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  CheckpointUpdate ModuleTag_03
;nothing
End

Behavior  DestroyDie ModuleTag_04
;nothing
End

Behavior              CreateObjectDie ModuleTag_05
CreationList   OCL_SmallStructureDebris
End

Behavior              FXListDie ModuleTag_06
DeathFX        FX_SmallStructureDeath
End

Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry             BOX
GeometryMajorRadius  3.0
GeometryMinorRadius  26.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaGenericVehicleParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE VEHICLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShip_Static

SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6

ConditionState        NONE
Model               AVBattleSh
Animation           AVBattleSh.AVBattleSh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:Battleship
Side                 America
EditorSorting        VEHICLE

ArmorSet
Conditions         None
Armor              InvulnerableArmor
DamageFX           StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundAmbient  BattleshipAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE  SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             99999.0
InitialHealth         99999.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL BattleShipLocomotor

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaTechAirstrikeObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  ExSlthStrk
Animation  ExSlthStrk.ExSlthStrk
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   TechAirstrikeBombAmericaWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      2240
MaxDelay      2240
OCL           OCL_CreateRealFortress
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  4800
MaxLifetime  4800
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect01
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon01
InitialDelay  1
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect02
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon02
InitialDelay  1800
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShip_Stationary
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               AVBattleSh
Animation           AVBattleSh.AVBattleSh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipBogusGun
Weapon                SECONDARY BattleshipBogusGun
End
ArmorSet
Conditions            None
Armor                 StructureArmor
DamageFX              StructureDamageFXNoShake
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE IMMOBILE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             8000.0
InitialHealth         8000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     1
FX   MIDPOINT FX_StructureMediumDeath
OCL  MIDPOINT OCL_LargeStructureDebris
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaPilotParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
AttachToBoneInAnotherModule  Dum_Turret
OkToChangeModelColor  Yes

ConditionState  NONE
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End

ConditionState  POWER_PLANT_UPGRADING
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  RUBBLE
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

End

Draw  W3DModelDraw ModuleTag_PilotBone01

ExtraPublicBone  Dum_Turret

ConditionState  NONE
Model  AIRPlt_B
End

End

Draw  W3DModelDraw ModuleTag_Pilot01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  AIRPlt_SKN
Animation  AIRPlt_SKL.AIRPLT_PFL
AnimationMode  ONCE
AnimationSpeedFactorRange  1.8 1.8
HideSubObject  HEAD02 HELMET
TransitionKey  TRANS_FALLING
End

ConditionState  POWER_PLANT_UPGRADING
Model  AIRPlt_SKN
Animation  AIRPlt_SKL.AIRPlt_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
HideSubObject  HEAD02 HELMET
WaitForStateToFinishIfPossible  TRANS_FALLING
End
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  RUBBLE
Model  NONE
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE


; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
End
Locomotor  SET_NORMAL PilotParachuteLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  TransportContain  ModuleTag_05
PassengersAllowedToFire  No
Slots  1
DamagePercentToUnits  0%
AllowInsideKindOf   INFANTRY PARACHUTABLE
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1800
SinkRate  2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  FireWeaponUpdate ModuleTag_99
Weapon  AmericaPilotParachuteOpenFXDummyWeapon
InitialDelay  800
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  800
End

Behavior  HeightDieUpdate ModuleTag_0113136
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

;This will cause this dummy parachute to avoid structures
Behavior  StatusBitsUpgrade ModuleTag_Transform11
TriggeredBy    Upgrade_CostReduction
StatusToSet    PARACHUTING
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;

End

;------------------------------------------------------------------------------
Object DeadAvengerHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVAVNGER_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;------------------------------------------------------------------------------
Object DeadMicrowaveHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVThdrblt_LG_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;---------------------------------------------------------------------------
Object LittleBirdRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVAH6_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End


;---------------------------------------------------------------------------
Object DeadCrusaderHulk

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
ConditionState = NONE
Model = AVLeopard_D1
End
End

; ***DESIGN parameters ***
EditorSorting   = DEBRIS

; *** ENGINEERING Parameters ***
KindOf =  NO_COLLIDE HULK

Behavior = PhysicsBehavior ModuleTag_03
Mass = 100.0
AllowBouncing = Yes
KillWhenRestingOnGround = Yes
End
Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 1500   ; min lifetime in msec
MaxLifetime = 1600   ; max lifetime in msec
End

Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay         = 1500
SinkRate          = 2     ; in Dist/Sec
DestructionDelay  = 8000
End
End

;---------------------------------------------------------------------------
Object DeadCrusaderIIHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVCrusader_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadHoverCrusaderHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVCrusader_D1
Animation  AVCrusader_D1.AVCrusader_D1
AnimationMode  ONCE
Flags  START_FRAME_LAST
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadPatriotHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVPat_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  6000   ; min lifetime in msec
MaxLifetime  6000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;----------------------------------------------------------
Object AmericaVehicleSentryDroneHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVSENTRY_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End


;------------------------------------------------------------------------------
Object ComancheRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVCmnch_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object CobraRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVViper_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;----------------------------------------------------------
Object AmericaVehicleTomahawkHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVTmhwk_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End

;------------------------------------------------------------------------------
Object BlackHawkRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVBlckhwk_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object AmericaJetRaptorHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVRaptor_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;---------------------------------------------------------------------------
Object DeadBradleyHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVBrad_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;------------------------------------------------------------------------------
Object DeadWaspHiveHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVWasp_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadGuardianDroneHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVGuardDr_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;------------------------------------------------------------------------------
Object HunterKillerJetRaptorHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVHntrKlr_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;---------------------------------------------------------------------------
Object DeadMuleDroneHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVMule_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End


;------------------------------------------------------------------------------
;This is the A10 as it's crashing
;------------------------------------------------------------------------------
Object AmericaJetA10Hulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVWrthg_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End



Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

End


;------------------------------------------------------------------------------
;This is the stealth as it's crashing
;------------------------------------------------------------------------------
Object AmericaJetStealthHulk

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVA19_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
;This is the stealth as it's crashing
;------------------------------------------------------------------------------
Object AmericaJetAuroraHulk

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVAurora_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object DeadPaladinHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVPldn_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadAcolyteHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVAcolyte_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object AmericaVehicleRepairDroneDeadHull
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVRepairDr_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes
Scale  0.95

End

;---------------------------------------------------------------------------
Object StarLifterRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model               AVStrLftr_D1
Animation           AVStrLftr_D1.AVStrLftr_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            45.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             1.5     ; in Dist/Sec
DestructionDelay  18000
End

End

;----------------------------------------------------------
Object AmericaVehicleReconDroneHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVRcnDrn_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End


;------------------------------------------------------------------------------
Object OspreyRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model               AVOsprey_D1
Animation           AVOsprey_D1.AVOsprey_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End


;------------------------------------------------------------------------------
Object ChinookRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVChinook_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End


;------------------------------------------------------------------------------
Object CombatChinookRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVCChnk_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End


;------------------------------------------------------------------------------
Object DroneLifterRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model               AVDrnLftr_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End

;------------------------------------------------------------------------------
Object AmericaJetWidowmakerHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVF35_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;----------------------------------------------------------
Object AmericaVehiclSupplyDroneHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVWrkHrs_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End

;------------------------------------------------------------------------------
Object AmericaJetB52

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVB52
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB52_D
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
AliasConditionState  REALLYDAMAGED
ConditionState  RUBBLE
Model  AVB52_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_OPENING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_CLOSING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
ConditionState  DAMAGED
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED
ConditionState  DAMAGED DOOR_1_OPENING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
ConditionState  DAMAGED DOOR_1_CLOSING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  B52AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetB1B

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVLancer
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVLancer_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model  AVLancer_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
ConditionState  RUBBLE
Model  AVLancer_D1
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient           B1LancerAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B3Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetB2

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVB3bmbr
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  WingTip03 JetContrailThin
ParticleSysBone  WingTip04 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB3bmbr_D
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model  AVB3bmbr_D
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model  AVB3bmbr_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_Bone01
DefaultConditionState
Model  AVB3bmbr_C
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient        B3BomberAmbientLoop
SoundAmbientRubble  NoSound
SoundStealthOn      StealthOn
SoundStealthOff     StealthOff

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B3Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_12
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        5     ; Number of times the volleys will fire before reloading
ReloadTime             0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            50%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                           1000 ; msec
StealthForbiddenConditions             TAKING_DAMAGE
FriendlyOpacityMin                     50.0%
FriendlyOpacityMax                     100.0%
InnateStealth                          Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetA10Thunderbolt

; *** ART Parameters ***
SelectPortrait          SAWarthog_L
ButtonImage             SAWarthog

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ExtraPublicBone  WeaponA01
ExtraPublicBone  WeaponA02
ExtraPublicBone  WeaponA03
ExtraPublicBone  WeaponA04
ExtraPublicBone  WeaponA05
ExtraPublicBone  WeaponA06

DefaultConditionState
Model              AVWrthg
Animation          AVWrthg.AVWrthg
AnimationMode      LOOP
WeaponLaunchBone   PRIMARY Muzzle01
WeaponFireFXBone   PRIMARY Muzzle01
WeaponMuzzleFlash  PRIMARY MuzzleFX01
ParticleSysBone    Engine01 JetBlackTrailThin
ParticleSysBone    Engine02 JetBlackTrailThin
ParticleSysBone    Wingtip01 JetContrailThin
ParticleSysBone    Wingtip02 JetContrailThin
End

ConditionState       REALLYDAMAGED
Model              AVWrthg_D
Animation          AVWrthg_D.AVWrthg_D
AnimationMode      LOOP
End
AliasConditionState   RUBBLE

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:A10Thunderbolt
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
;VisionRange          300.0
ShroudClearingRange  300
Prerequisites
Object  AmericaAirfield
End
WeaponSet
Conditions  None
Weapon  PRIMARY A10ThunderboltVulcan
End
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

ExperienceValue  0 0 0 0     ;Experience point value at each level
ExperienceRequired  0 0 0 0  ;Experience points needed to gain each level
IsTrainable  No              ;Can gain experience

; *** AUDIO Parameters ***
SoundAmbient  A10ThunderboltAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
StartDive   A10ThunderboltDive
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_02
MaxHealth        600.0
InitialHealth    600.0
End

CommandSet         AmericaScriptedTransportDropsCommandSet

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior                           JetSlowDeathBehavior ModuleTag_03
DestructionDelay                 99999999  ; destruction will happen when we
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetDeathInitial
OCLInitialDeath                  None
DelaySecondaryFromInitialDeath   500       ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     None
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_A10DeathHitGround
DelayFinalBlowUpFromHitGround    200       ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_A10DeathFinalBlowUp
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

;SCRIPTED SUPPORT: These special power is triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.
Behavior     OCLSpecialPower ModuleTag_06
SpecialPowerTemplate  SuperweaponA10ThunderboltMissileStrike ;@@KRIS@@
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
OCL                   SUPERWEAPON_A10ThunderboltMissileStrike1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor  SET_NORMAL A10ThunderboltLocomotor

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object AmericaJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVCargoPln_D1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End


;------------------------------------------------------------------------------
Object AmericaJetSpectreGunship

; *** ART Parameters ***
SelectPortrait          SASpectre_L
ButtonImage             SASpectre

Draw  W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
RecoilSettleSpeed   10
MaxRecoilDistance   4

;----NORMAL-------------
DefaultConditionState
Model              AVAc17
WeaponFireFXBone   PRIMARY MUZZLE
WeaponMuzzleFlash  PRIMARY MUZZLEFX
WeaponRecoilBone   PRIMARY BARREL
ShowSubObject      VULCAN01 VULCAN02
End

ConditionState     DOOR_1_OPENING
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE
HideSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
TransitionKey    TRANS_Wings_Open
End

TransitionState    TRANS_Wings_Closed TRANS_Wings_Open
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
End

ConditionState     DOOR_1_CLOSING
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE_BACKWARDS
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
TransitionKey    TRANS_Wings_Closed
End


;----DAMAGED-------------
ConditionState     DOOR_1_OPENING DAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
TransitionKey    TRANS_Wings_Open_Damaged
End

TransitionState    TRANS_Wings_Closed_Damaged TRANS_Wings_Open_Damaged
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState     DOOR_1_CLOSING DAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
TransitionKey    TRANS_Wings_Closed_Damaged
End


;----REALLY DAMAGED-------------
ConditionState     DOOR_1_OPENING REALLYDAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
TransitionKey    TRANS_Wings_Open_Realy_Damaged
End

TransitionState    TRANS_Wings_Closed_Realy_Damaged TRANS_Wings_Open_Realy_Damaged
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
End

ConditionState     DOOR_1_CLOSING REALLYDAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
TransitionKey    TRANS_Wings_Closed_Realy_Damaged
End


;----RUBBLE CRASHING-------------
ConditionState  RUBBLE
Model            AVAc17_D1
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 SpectreSmokeLarge
ParticleSysBone  Smoke03 SpectreSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke05 SpectreSmokeLarge
End
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED RUBBLE DOOR_1_OPENING

End

; ***DESIGN parameters ***
DisplayName          OBJECT:SpectreGunship
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            SpectreGunshipAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SpectreGunshipCountermeasuresAirplaneArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY   SpectreHowitzerGun
End

; *** AUDIO Parameters ***
VoiceSelect          SpectreGunshipVoiceSelect
VoiceAttack          SpectreGunshipVoiceAttack
VoiceMove            SpectreGunshipVoiceMove
SoundAmbient         SpectreGunshipAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
Afterburner     SpectreGunshipAfterburnerLoop
HowitzerFire    SpectreHowitzerWeapon
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_03
MaxHealth        1800.0
InitialHealth    1800.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level


Behavior                           JetSlowDeathBehavior ModuleTag_04
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      45.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_SpectreGunshipExplosionLight
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
FXFinalBlowUp                    FX_spectreGunshipDeathExplosion
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_07
ForbidPlayerCommands  Yes ; this AIUpdate will only do command if from script or AI, not player
End
Locomotor  SET_PANIC  SpectreGunshipTransitLocomotor
Locomotor  SET_NORMAL SpectreGunshipOrbitLocomotor

Behavior  SpecialAbility ModuleTag_32
SpecialPowerTemplate  SuperweaponSpectreGunship
UpdateModuleStartsAttack  Yes
End


Behavior  SpectreGunshipUpdate ModuleTag_10
GattlingStrafeFXParticleSystem   SpectreGattlingArmsSmoke
SpecialPowerTemplate             SuperweaponSpectreGunship
HowitzerWeaponTemplate           SpectreHowitzerGun
GattlingTemplateName             SpectreGunshipGattlingCannon
RandomOffsetForHowitzer  20
TargetingReticleRadius   50
OrbitInsertionSlope      0.7   ; steepness of orbit entry
GunshipOrbitRadius       400
HowitzerFiringRate       1000  ; how long between each attempted shot of howitzer
HowitzerFollowLag        200   ; how long after gattling acquires target can howitzer shoot same
StrafingIncrement        20    ; how far apart is each shot of the gattling as it strafes
AttackAreaRadius         250
OrbitTime                20000 ; twenty seconds

AttackAreaDecal
Texture            SCCSpecTarg
Style              SHADOW_ALPHA_DECAL
OpacityMin         25%
OpacityMax         50%
OpacityThrobTime   1500
Color              R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer  Yes
End
TargetingReticleDecal
Texture            SCCSpecRet
Style              SHADOW_ALPHA_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   300
Color              R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer  Yes
End
End

Behavior  HelixContain ModuleTag_09
Slots                      1
DamagePercentToUnits       100%
AllowInsideKindOf          PORTABLE_STRUCTURE
PassengersAllowedToFire    Yes
ShouldDrawPips             No
End


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_11
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        5     ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   450.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  SpecialPowerCompletionDie ModuleTag_023237
SpecialPowerTemplate  SuperweaponSpectreGunship
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object SpectreGunshipGattlingCannon

; *** ART Parameters ***
Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  CHASSIS

DefaultConditionState
Model                NVDeva_U2
AnimationMode        MANUAL
End

ConditionState         ATTACKING
Model                AVSpectre_G
Animation            AVSpectre_G.AVSpectre_G
AnimationMode        LOOP
TurretPitch          TURRETEL01
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1
WeaponSet
Conditions           None
Weapon               PRIMARY   SpectreGattlingGun
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY
TurretTurnRate       160   // turn rate, in degrees per sec
TurretPitchRate      160
AllowsPitch          Yes
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior  PointDefenseLaserUpdate ModuleTag_HellfireMissilePod
WeaponTemplate         SpectreHellFireMissilePod
PrimaryTargetTypes     VEHICLE
SecondaryTargetTypes   AIRCRAFT
ScanRate               30
ScanRange              300.0
PredictTargetVelocityFactor  1.0
End

Behavior              DestroyDie ModuleTag_04
;nothing
End

Geometry             BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  3.0
GeometryHeight       3.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX          89

End


;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVGlbMstr_D1
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  RUBBLE
Model            NONE
End
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVCargoPln_D1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End


Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End



;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVGlbMstr_D1
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  RUBBLE
Model            NONE
End
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetLaserPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVTMD
Animation        AVTMD.AVTMD
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            AVTMD_D
Animation        AVTMD_D.AVTMD_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            AVTMD_D
Animation        AVTMD_D.AVTMD_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model            AVTMD_D1
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
ConditionState  REALLYDAMAGED
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED
ConditionState  REALLYDAMAGED DOOR_1_OPENING
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED DOOR_1_OPENING
ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  TacticalMissileDefencePlaneAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        850.0
InitialHealth    850.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  AmericaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL TacticalMissileDefencePlaneLocomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior                OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponGuardianAngel
OCL                   SUPERWEAPON_America_TacticalMissileDefence
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  PointDefenseLaserUpdate ModuleTag_Laser01
WeaponTemplate         TacticalMissileDefencePlanePointDefenceLaser
PrimaryTargetTypes     BALLISTIC_MISSILE SMALL_MISSILE
ScanRate               100
ScanRange              180.0
PredictTargetVelocityFactor  3.0
End

Behavior  SpecialPowerCompletionDie ModuleTag_0124123
SpecialPowerTemplate  SuperweaponGuardianAngel
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetLeafletCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVLfltPln
HideSubObject    DOOR
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            AVLfltPln_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            AVLfltPln_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model            AVLfltPln_D1
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    MANUAL
HideSubObject    CHASSIS
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  TacticalMissileDefencePlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        500.0
InitialHealth    500.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object FactionAmerica

; ***DESIGN parameters ***
Side                 America
DisplayName          FACTION:America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ComancheLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

End

;------------------------------------------------------------------------------
Object CountermeasureFlare
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None RocketPodMissileFlame
ParticleSysBone  None RealMissileExhaust
End
End
KindOf  PROJECTILE
Behavior  PhysicsBehavior ModuleTag_03
Mass  5
End
Behavior  AIUpdateInterface ModuleTag_04
; nothing
End
Locomotor  SET_NORMAL CountermeasureFlareLocomotor

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  2800   ; min lifetime in msec
MaxLifetime  2800   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End

;------------------------------------------------------------------------------
Object PathFinderBinocularsRevealerObject

; ***DESIGN parameters ***
VisionRange     600.0
ShroudClearingRange  600.0
EditorSorting    SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  10.0
InitialHealth  10.0
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE AIRCRAFT

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10
MaxLifetime  10
End

Behavior  DestroyDie ModuleTag_06
End

End

;------------------------------------------------------------------------------
Object StealthFighterRevealObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  100  ; min lifetime in msec
MaxLifetime  100  ; max lifetime in msec
End

Behavior  FireWeaponUpdate ModuleTag_06
Weapon  StealthJetStealthRevealWeapon
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End


;------------------------------------------------------------------------------
Object SupplyDropZoneCrate_Dummy ; this object has a small collision to autopickup the supply crates
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  PMUSASCrate
Animation  PMUSASCrate.PMUSASCrate
AnimationMode  LOOP
ParticleSysBone  FX1 glitter2
End
AliasConditionState  RUBBLE

ConditionState  USER_1
Model  PMUSAUSCrate
Animation  PMUSAUSCrate.PMUSAUSCrate
AnimationMode  LOOP
ParticleSysBone  FX1 glitter2
End
AliasConditionState  RUBBLE USER_1

End

Draw  W3DModelDraw ModuleTag_ChuteBone01

DefaultConditionState
Model  PMCrateBone
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Crate
EditorSorting    SYSTEM
TransportSlotCount  1

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE NO_COLLIDE

Behavior  PhysicsBehavior ModuleTag_04
Mass  75.0
End

Behavior  MoneyCrateCollide      ModuleTag_ForbiddenChanges
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PROJECTILE
BuildingPickup  Yes
End

Behavior  BoneFXDamage ModuleTag_Transform21
End

Behavior  BoneFXUpdate ModuleTag_Transform03
PristineOCL1       bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_SupplyDropMoneyCrate_GroundHit
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  60
MaxLifetime  60
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
SinkDelay          1500
SinkRate           15     ; in Dist/Sec
DestructionDelay   10000
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaSupplyLines
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object SupplyDropCrateFriendlyCollisionObject

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE

Body             StructureBody ModuleTag_04
MaxHealth      100.0
InitialHealth  100.0
End


Behavior  AIUpdateInterface ModuleTag_06
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Geometry             CYLINDER
GeometryMajorRadius  12.0
GeometryMinorRadius  1.0
GeometryHeight       14.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

Object B2BomberStealthRevealObject

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  AIUpdateInterface ModuleTag_03
End


Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_042
DeathWeapon    B2BomberStealthRevealerWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_09
End

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockDecalMarker

Draw                       W3DModelDraw ModuleTag_01
DefaultConditionState
Model                  NVDeva_U2
End
End

; ***DESIGN parameters ***
VisionRange     200.0
ShroudClearingRange  200.0
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE ALWAYS_VISIBLE

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  130
MaxLifetime  130
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  136;
ShadowSizeY  136;
ShadowTexture  SCCLaserLock;
Scale  1.2

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockTargetMarker

Draw                       W3DModelDraw ModuleTag_01
DefaultConditionState
Model                  EXLsrLock
End
End

; ***DESIGN parameters ***
VisionRange     50.0
ShroudClearingRange  50.0
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  70
MaxLifetime  70
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object AmericanAmmoDump

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model              ABAmmoDump_B
Animation          ABAmmoDump_B.ABAmmoDump_B
AnimationMode      LOOP
HideSubObject      Torus02
End

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone   PLANE01
DefaultConditionState
Model                  EXAmmoDump
Animation              EXAmmoDump.EXAmmoDump
AnimationMode          LOOP
Flags                  MAINTAIN_FRAME_ACROSS_STATES
End
End


; ***DESIGN parameters ***
VisionRange          150.0
ShroudClearingRange  150.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE ALWAYS_VISIBLE

;   ***AUDIO parameters ***
;SoundAmbient RepairFieldAmbientLoop

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_0122
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE ; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  180                           ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    AmericanAmmoDump_Decal
End

Behavior  DeletionUpdate ModuleTag_06
MinLifetime  20000
MaxLifetime  20000
End

End

;------------------------------------------------------------------------------
Object AmericanAmmoDump_PlaceCursor

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model              ABAmmoDump_B
Animation          ABAmmoDump_B.ABAmmoDump_B
AnimationMode      LOOP
End

AliasConditionState  NIGHT
End
PlacementViewAngle  -45

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT ALWAYS_VISIBLE

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40
MaxLifetime  40
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      No
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericanAmmoDump_Decal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  PLANE01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI ALWAYS_VISIBLE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
Shadow  SHADOW_DECAL
ShadowSizeX  370;
ShadowSizeY  370;
ShadowTexture  SSCAmmoDump;

End


;------------------------------------------------------------------------------
Object AmericaInfantryGreenBeretParadrop

; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; --- Idle
DefaultConditionState
Model              AIGrnBrt_SKN
IdleAnimation      AIRngr_SKL.AIRngr_STA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDA
IdleAnimation      AIRngr_SKL.AIRngr_IDB
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
TransitionKey      TRANS_Stand

End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRngr_ATA
AnimationMode      LOOP
TransitionKey      TRANS_FiringA
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_FiringAInjured
End

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_A2WAA
AnimationMode      ONCE
End

TransitionState      TRANS_Stand TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATAST
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringA TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATAED
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_StandInjured TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringAInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Stand TRANS_Move
Animation          AIRngr_SKL.AIRngr_STA2RNA
AnimationMode      ONCE
End

; --- attacking (Grenade Launcher)
ConditionState       PREATTACK_B
Animation          AIRngr_SKL.AIRngr_ATBA
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End
AliasConditionState  PREATTACK_B MOVING
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B

ConditionState       FIRING_B
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringB
WaitForStateToFinishIfPossible  TRANS_FiringB
End
AliasConditionState  RELOADING_B

TransitionState      TRANS_Stand TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATBST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringB TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATBST2
AnimationMode      ONCE
End

ConditionState       PREATTACK_B REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2A
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End
AliasConditionState  PREATTACK_B MOVING REALLYDAMAGED
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState       FIRING_B REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringBInjured
WaitForStateToFinishIfPossible  TRANS_FiringBInjured
End
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_StandInjured TRANS_FiringBInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringBInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST2
AnimationMode      ONCE
End

; -- cross-attack transitions

TransitionState      TRANS_FiringA TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringB TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4 4
End


; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_RNA 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState      TRANS_Falling TRANS_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState      TRANS_Chute TRANS_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End
TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Ranger
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE PARACHUTABLE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  AIUpdateInterface ModuleTag_06
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1
MaxLifetime  1
End

Behavior  CreateObjectDie ModuleTag_0523
CreationList  OCL_AmericanGreenBeret
End

Behavior  DestroyDie ModuleTag_0823
DeathTypes  ALL
End

Behavior  CreateObjectDie ModuleTag_06251
CreationList  SUPERWEAPON_ParadropVoiceOver
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryParadropVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               AmericaPadardropDropped

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End
;------------------------------------------------------------------------------
Object SpySatellitePing

; ***DESIGN parameters ***
VisionRange      300.0
EditorSorting    MISC_MAN_MADE
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  DynamicShroudClearingRangeUpdate ModuleTag_02
FinalVision  0.0
ShrinkDelay  10000
ShrinkTime  5000
GrowDelay  0
GrowTime  1000
GrowInterval  10 ; Faster than most
ChangeInterval  80 ; Faster than most
GridDecalTemplate
Texture            EXGrid
Style              SHADOW_ADDITIVE_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   500
Color              R:32 G:64 B:128 A:0 //dim blue, additive
End
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  13000   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  13000
End

End

;------------------------------------------------------------------------------
Object SpySatellite

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_014
ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
ConditionState  POWER_PLANT_UPGRADED
Model  EXSpySat
Animation  EXSpySat.EXSpySat
AnimationMode  LOOP
ParticleSysBone  None SpySatelliteAreaEffectPing
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  StealthUpdate ModuleTag_043
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100%
FriendlyOpacityMax  100%
;    PulseFrequency  [integer, milliseconds]
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  6700   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  6700
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:Yes 6660 6660 OCL:OCL_SpySatelliteFadingOut
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

End

;------------------------------------------------------------------------------
Object SpySatelliteFadingOut

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_014
ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
ConditionState  POWER_PLANT_UPGRADED
Model  EXSpySat
Animation  EXSpySat.EXSpySat
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  StealthUpdate ModuleTag_043
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  0%
FriendlyOpacityMax  100%
PulseFrequency  3000
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  600
MaxLifetime  600
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

End

;------------------------------------------------------------------------------
Object AmbulanceHealingObjectMarker

; ***DESIGN parameters ***
VisionRange          150.0
ShroudClearingRange  150.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  AutoHealBehavior ModuleTag_22
HealingAmount      8
HealingDelay       150 ; msec
Radius             150.0
StartsActive       Yes
KindOf             INFANTRY
;UnitHealPulseParticleSystemName  InfantryHealingEffectMinor
End

;  Behavior  FireWeaponUpdate ModuleTag_HealFx01
;    Weapon  AmbulanceHospitalHealFXWeapon
;  End

Behavior  DeletionUpdate ModuleTag_06 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  2000
MaxLifetime  2000
End

End

;------------------------------------------------------------------------------
Object GuardianDroneRemoveStandardModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform05
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GuardianDroneRemoveDiginModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GuardianDroneRemoveUpgradeModesInitialDelayObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_ChinaOverlordGattlingCannon ModuleTag_Transform10
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericanMuleBonusDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowSizeX  258;
ShadowSizeY  258;
ShadowTexture  SSCAmmoDump;

End

;------------------------------------------------------------------------------
Object AmericanMuleWeaponBonusObject


Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  300
MaxLifetime  300
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  INFANTRY CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE DRONE; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  125                           ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

End

;------------------------------------------------------------------------------
Object MuleDroneCounterMeasureLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVMule_B
WeaponFireFXBone   PRIMARY Smoke
WeaponLaunchBone   PRIMARY Smoke
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY MuleDroneCounterMeasureFlareWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object MuleCountermeasureFlare

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT CAN_ATTACK

Body  ActiveBody ModuleTag_0468
MaxHealth        5000.0
InitialHealth    5000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  2.0
End
Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL MuleCountermeasureFlareLocomotor

Behavior  OCLUpdate ModuleTag_05
OCL           OCL_SuicideSelfKill
MinDelay      4000
MaxDelay      4500
End

Behavior  FireWeaponUpdate ModuleTag_Jammer01
Weapon  MuleDroneCounterMeasureMissileJammer
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End

;------------------------------------------------------------------------------
Object PredatorDroneScannerSweepObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  HeightDieUpdate ModuleTag_082 ;Can't barrel roll on the ground
TargetHeight  10.0
TargetHeightIncludesStructures  Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  5100
MaxLifetime  5100
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object HunterKillerStealthModeActivationObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS SELECTABLE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1000
MaxLifetime  1000
End

Behavior  FireWeaponUpdate ModuleTag_032233
Weapon  HunterKillerDroneStealthWeapon
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object SentryDroneSensorPulseObject

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         TankDamageFX
End

VisionRange      500.0
ShroudClearingRange  500.0

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime        5000
MaxLifetime        5000
End

Behavior  FireWeaponUpdate ModuleTag_06232
Weapon  SentryDroneDetectionPulseWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  -1.0

End


;------------------------------------------------------------------------------
Object TerrorDroneCollisionRemovalObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    TerrorDroneCollisionRemovalWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object TerrorDroneUnBurrowUpgradeRemovalObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform02
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  200
MaxLifetime  200
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericanNightHawkSilhouet

Draw                     W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model  AVNightHwk_A
End

End

; ***DESIGN parameters ***
EditorSorting     SYSTEM

ArmorSet
Conditions      None
Armor           InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE CLICK_THROUGH IGNORED_IN_GUI NO_COLLIDE

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ProtectorRelayRangeIndicatorDecalObject


Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  3000
MaxLifetime  3000
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCRelayRange
ShadowSizeX  430
ShadowSizeY  430

End

;------------------------------------------------------------------------------
Object RepairDroneDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXRprDrnAura
ShadowSizeX  170
ShadowSizeY  170

End

;------------------------------------------------------------------------------
Object LaserPlaneFlareBombVoiceOver

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  180.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TacticalMissileDefenceFlaresVoiceOver
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_063
DeathWeapon    TacticalMissileDefencePlaneInvulnerabilityWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object LaserPlaneVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               GuardianAngelExecuted

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End

;------------------------------------------------------------------------------
Object LaserPlaneFlareBomb

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  180.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
;SoundFallingFromPlane  ChinaSpyPlanePictureSound

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TacticalMissileDefenceFlares
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_063
DeathWeapon    TacticalMissileDefencePlaneInvulnerabilityWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object TacticalMissileDefenceFlareLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXGoliath
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY TacticalMissileDefencePlaneCounterMeasureFlareWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      50
MaxDelay      50
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object TacticalMissileDefenceCounterMeasureFlare

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          100                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_TacticalMissileDefenceSystemFlare
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_MuleFlareActivationFX
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  300   ; min lifetime in msec
MaxLifetime  300   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object TacticalMissileDefenceSystemFlare

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT CAN_ATTACK

Body  ActiveBody ModuleTag_0468
MaxHealth        5000.0
InitialHealth    5000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  2.0
End
Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL MuleCountermeasureFlareLocomotor

Behavior  OCLUpdate ModuleTag_05
OCL           OCL_SuicideSelfKill
MinDelay      4000
MaxDelay      4000
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
DestructionDelay  1000
DestructionDelayVariance  950
FX  FINAL FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End


;------------------------------------------------------------------------------
Object AmericanAcolyteDropVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               AcolyteTankDropDropped

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End

;------------------------------------------------------------------------------
Object TermiteDroneRemoveStandardModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform05
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TermiteDroneRemoveDiginModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TermiteDroneRemoveUpgradeModesInitialDelayObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_ChinaOverlordGattlingCannon ModuleTag_Transform10
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object MicrowaveTankEmitterDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_MicrowvDcl
ShadowSizeX  370
ShadowSizeY  370

End

;------------------------------------------------------------------------------
Object TermiteDroneEmitterDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_MicrowvDcl
ShadowSizeX  138
ShadowSizeY  138

End

;------------------------------------------------------------------------------
Object CyclopsPointDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_PDLDecal
ShadowSizeX  490
ShadowSizeY  490

End

;------------------------------------------------------------------------------
Object AvengerPointDefenceLaserObject

Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model          AVAvnger_B
Animation      AVAvnger_B.AVAvnger_B
AnimationMode  LOOP
End
ConditionState   WEAPONSET_PLAYER_UPGRADE
ParticleSysBone  LazerSpot01 PaladinPointDefenseLaserFlare
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   0

VisionRange      250
ShroudClearingRange  150

WeaponSet
Conditions  None
Weapon  PRIMARY   NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   AvengerPointDefenseLaser
End

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  NO_HEAL_ICON UNATTACKABLE IMMOBILE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate       36000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  1
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  200
MaxLifetime  200
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaPointDefenceLasers
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object AmericanATVHumveeBonusDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                2.0
ShadowSizeX  164;
ShadowSizeY  164;
ShadowTexture  SSCAmmoDump;

End

;------------------------------------------------------------------------------
Object AmericanATVHumveeWeaponBonusObject


Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  300
MaxLifetime  300
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  INFANTRY CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE DRONE; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  80                            ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the drone control center but will only activate once a workshop has been constructed
Object DroneControlCenterWorkshopUpgradeCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  DroneControlCenterWorkshopUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_DroneWorkshop
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DroneControlCenterWorkshopUpgradePurchasedObject

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  DroneControlCenterWorkShopUpgradeStatusWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object DroneWorkshopVissualEffectDummyObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DroneControlCenterWorkshop

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  AutoHealBehavior ModuleTag_DroneSelfRepair01
HealingAmount       3.5
HealingDelay        500
AffectsWholePlayer  Yes
StartsActive        Yes
KindOf              DRONE
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the detention camp but will only activate once a Intelligence Office has been purchased
Object DetentionCampIntelligenceOfficeUpgradeCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  DetentionCampIntelligenceOfficeUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_IntelligenceOffice
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DetentionCampIntelligenceOfficeUpgradePurchasedObject

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  DetentionCampIntelligenceOfficeUpgradeStatusWeapon
End

End

;------------------------------------------------------------------------------
Object AmericaDetentionCampIntelligenceOfficeVissualEffectDummyObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVBomber
End
End

; ***DESIGN parameters ***
Side                 America
DisplayName          UPGRADE:IntelligenceOffice
EditorSorting        SYSTEM
TransportSlotCount   1
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DetentionCampIntelligenceOffice

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_Die01
End

End

;------------------------------------------------------------------------------
Object AmericanCIAPriorityReportSpecialPowerObject

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  DetentionCampCIAIntelligenceReport

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior                OCLSpecialPower ModuleTag_IntelPower03
SpecialPowerTemplate  SuperweaponCIAIntelligence
OCL                   SUPERWEAPON_CIAInteligence
End

Geometry  CYLINDER
GeometryMajorRadius  1
GeometryMinorRadius  1
GeometryHeight  10.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericanCIAInteligenceObject

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior                OCLSpecialPower ModuleTag_IntelPower03
SpecialPowerTemplate  SuperweaponCIAIntelligence
OCL                   SUPERWEAPON_CIAInteligence
End

Geometry  CYLINDER
GeometryMajorRadius  1
GeometryMinorRadius  1
GeometryHeight  10.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericanCIAInteligenceEnemyRevealObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  50000
MaxLifetime  50000
End

Behavior          SpyVisionUpdate ModuleTag_SpyVision01
NeedsUpgrade   Yes
SelfPowered    Yes         ; No SpecialPower module, turns self on and off on timers
SelfPoweredDuration  60000
SelfPoweredInterval  150000
TriggeredBy    Upgrade_CostReduction
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
End

;------------------------------------------------------------------------------
Object StarlifterDismissProjectile

KindOf  PROJECTILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
Weapon  StarlifterDismissStatusWeapon
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  0 ; min lifetime in msec
MaxLifetime  0 ; max lifetime in msec
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  0
InitialVelocity  0
IgnitionDelay  1000
DistanceToTravelBeforeTurning  35
End
Locomotor  SET_NORMAL SpectreHellfireMissileLocomotor

End

;-----------------------------------------------------------------------------
;This crate is spawned by the command center constantly but will only activate once the appropriate power is unlocked
Object CommandCenterBackupPowerGeneratorCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  DroneControlCenterWorkshopUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_BackupPowerGenerator
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  100
MaxLifetime  100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object BackupPowerEnergyProductionObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXBckPwr
End
End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
EnergyProduction     60

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  30000  ; min lifetime in msec
MaxLifetime  30000  ; max lifetime in msec
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_BackupPowerDeactivate
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0

End

;------------------------------------------------------------------------------
;This object kills the cargo plane after completing its drop forcing it to spawn a new cargo plane
;that flies off screen and not all the way across the map
Object AmericaSupplyDropZoneCargoPlaneKiller

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_042
DeathWeapon    SupplyDropZoneCargoPlaneKillerWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookDroppingSupplyDroneCable

Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVWrkHrs_CBL
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  HeightDieUpdate ModuleTag_Selfkill01
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_0622
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookDroppingSupplyDroneAmbientSoundEffectObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundAmbient  ChinookAmbientLoop

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  8000
MaxLifetime  8000
End

End



;------------------------------------------------------------------------------
Object AmericaDroneControlCenterWorkshopUpgrade

; *** ART Parameters ***
ButtonImage             SSDroneWorkshop

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DroneControlCenterWorkshop

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_DroneWorkshop
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object AmericaDetentionCampIntelligenceOfficeUpgrade

; *** ART Parameters ***
ButtonImage             SSIntelligenceOffice

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DetentionCampIntelligenceOffice

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButHazardCleanup
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_IntelligenceOffice
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object AmericanCIAPriorityReportObject

; *** ART Parameters ***
SelectPortrait          SSCIAIntelligenceReport
ButtonImage             SSCIAIntelligenceReport

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  DetentionCampCIAIntelligenceReport

Prerequisites
Object  AmericaDetentionCampIntelligenceOfficeVissualEffectDummyObject
End

BuildCost  3000
BuildTime  60.0          ;in seconds

ArmorSet
Conditions  None
Armor       InvulnerableAllArmorButHazardCleanup
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_05
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  CreateObjectDie ModuleTag_0523
CreationList  OCL_AmericanCIAPriorityReportSpecialPowerObject
End

Geometry  CYLINDER
GeometryMajorRadius  1
GeometryMinorRadius  1
GeometryHeight  10.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericaVeteranSpecialists

; *** ART Parameters ***
ButtonImage  SSVeteranVehicleCrews

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1500
BuildTime          45.0           ; in seconds
MaxSimultaneousOfType   1

Prerequisites
Science  SCIENCE_VeteranInfantry
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_VeteranSpecialists
End

End

;------------------------------------------------------------------------------
Object AmericaChinookSupplyDropPoint

; *** ART Parameters ***
ButtonImage  SSChinookSupplyPoint

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  NONE DropZoneLandingSmoke
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting      SYSTEM
BuildCost          1800
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  ChinookSupplyDropPoint

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

Prerequisites
Science  SCIENCE_LogisticsEffeciency
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponUpdate ModuleTag_06
Weapon  SupplyCenterChinookSupplyPointUpgradeStatusWeapon
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy

PristineOCL2       bone:NULL OnlyOnce:No 60000 60000 OCL:OCL_AmericaVehicleChinookSupplyDrop
DamagedOCL2        bone:NULL OnlyOnce:No 60000 60000 OCL:OCL_AmericaVehicleChinookSupplyDrop
ReallyDamagedOCL2  bone:NULL OnlyOnce:No 60000 60000 OCL:OCL_AmericaVehicleChinookSupplyDrop
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0

End

;------------------------------------------------------------------------------
Object AmericaBackupPowerGeneratorUpgrade

; *** ART Parameters ***
ButtonImage  SSBackupPowerGenerator

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          750
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_BackupPowerGenerator
End

End

;------------------------------------------------------------------------------
Object StealthJetMissile

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = AVStealth_M
End
ConditionState = JAMMED
ParticleSysBone = None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       = OBJECT:Missile
EditorSorting     = SYSTEM
VisionRange       = 0.0

ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End

; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
End

; ---- end Projectile death behaviors

Behavior        = BunkerBusterBehavior ModuleTag_04
UpgradeRequired               = Upgrade_AmericaBunkerBusters
DetonationFX                  = FX_GIDie;FX_BunkerBusterExplosion            ; the big detonation kaboom at the bottom
CrashThroughBunkerFX          = WeaponFX_BunkerBusterIntialImpact   ; the crash bang crunch FX on the way through the bunker ceiling
CrashThroughBunkerFXFrequency = 571                                 ; msec... how often to play the crash bang crunch FX on the way through the bunker ceiling

SeismicEffectRadius         = 200
SeismicEffectMagnitude      = 5

ShockwaveWeaponTemplate      = ScudStormPrimaryDummyWeapon
ShockwaveWeaponTemplate      = ScudStormPrimaryDummyWeapon
OccupantDamageWeaponTemplate = BunkerBusterAntiTunnelGarrisonWeaponWithABigName
End

Behavior = PhysicsBehavior ModuleTag_07
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_08
TryToFollowTarget     = Yes
FuelLifetime          = 10000
InitialVelocity       = 75                ; in dist/sec
IgnitionDelay         = 30
IgnitionFX            = FX_JetMissileIgnition
DetonateCallsKill     = Yes
KillSelfDelay         = 2000 ;two seconds of crash bang crunch before we actually detonate
End
Locomotor = SET_NORMAL StealthJetMissileLocomotor

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0

End

;------------------------------------------------------------------------------
Object BunkerBusterExplosionEffectObject

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
DefaultConditionState
Model = NONE
End
End

; ***DESIGN parameters ***
EditorSorting = SYSTEM
KindOf = IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE
ArmorSet
Conditions      = None
Armor           = StealthFighterBunkerBusterDummyArmor
End

; *** ENGINEERING Parameters ***
Body = ActiveBody ModuleTag_02
MaxHealth        = 100.0
InitialHealth    = 100.0
End

Behavior = LifetimeUpdate ModuleTag_03
MinLifetime = 2000
MaxLifetime = 2000
End

Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon   = BunkerBusterShockwaveWeaponSmallMelle
DeathTypes    = ALL -EXPLODED
StartsActive  = No
TriggeredBy   = Upgrade_AmericaBunkerBusters
End

Behavior = FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon   = BunkerBusterShockwaveWeaponSmallAuroraBomb
DeathTypes    = ALL -EXPLODED
StartsActive  = No
TriggeredBy   = Upgrade_AmericaBunkerBusters
End

Behavior = DestroyDie ModuleTag_06
DeathTypes = NONE +EXPLODED
End

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 40.0

End
;------------------------------------------------------------------------------
Object PatriotMissileNEW

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  AVM270_m
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  AVM270_m
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName   OBJECT:PatriotMissile
EditorSorting   VEHICLE
VisionRange   300.0
ShroudClearingRange   0
ArmorSet
Conditions   None
Armor   ProjectileArmor
DamageFX   None
End
; *** ENGINEERING Parameters ***
KindOf   CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body   ActiveBody ModuleTag_061
MaxHealth   200.0
InitialHealth   200.0
SubdualDamageCap   400
SubdualDamageHealRate   100000
SubdualDamageHealAmount   50
End
; ---- begin Projectile death behaviors
Behavior   InstantDeathBehavior DeathModuleTag_062
DeathTypes   NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior   InstantDeathBehavior DeathModuleTag_063
DeathTypes   NONE +LASERED
; shot down by laser.
FX   FX_GenericMissileDisintegrate
OCL   OCL_GenericMissileDisintegrate
End
Behavior   InstantDeathBehavior DeathModuleTag_064
DeathTypes   ALL -LASERED -DETONATED
; shot down by nonlaser.
FX   FX_GenericMissileDeath
End
; ---- end Projectile death behaviors
Behavior   PhysicsBehavior ModuleTag_065
Mass   1
End
Behavior   MissileAIUpdate ModuleTag_066
TryToFollowTarget   Yes
FuelLifetime   0
InitialVelocity   50     ; in dist/sec
IgnitionDelay   0
DistanceToTravelBeforeTurning 50
DistanceToTargetBeforeDiving  75
DistanceToTargetForLock   100     ; If it gets within 100 of the target, it kills the target.

End
;  Behavior   WeaponBonusUpgrade ModuleTag_067
;    TriggeredBy   Upgrade_AmericaAdvancedMissiles
;  End
;  Behavior   LocomotorSetUpgrade ModuleTag_068
;    TriggeredBy   Upgrade_AmericaAdvancedMissiles
;  End
Locomotor   SET_NORMAL JarmenKellStingerMissileLocomotor
;  Locomotor   SET_NORMAL_UPGRADED PatriotMissileLocomotor_Fast

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Scale   0.85
Geometry   Sphere
GeometryIsSmall   Yes
GeometryMajorRadius   2.0
End


Object FireBaseCannonShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  IncomingShellWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

;Behavior  DumbProjectileBehavior ModuleTag_04
;  FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
;  SecondHeight  150
;  FirstPercentIndent  30% ; Percentage of shot distance control points are placed
;  SecondPercentIndent  70%
; FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
;End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  20  ; Height of Bezier control points above highest intervening terrain
SecondHeight  80
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond   0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End


Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
;This beam destroys enemy aircraft
;------------------------------------------------------------------------------
Object AvengerLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  exlaser_sw1.tga
NumBeams  2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  0.005                    ;The total width of beam
InnerColor  R:255 G:255 B:255 A:100      ;The inside color of the laser (hot)
OuterBeamWidth  2                        ;The total width of beam
OuterColor  R:255 G:255 B:255 A:10       ;The outside color of the laser (cool)
Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.
;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE INERT
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
ClientUpdate  LaserUpdate ModuleTag_07
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  AvengerStarburst
PunchThroughScalar  1.3 ; If our target dies, we get this much bigger so it looks like we punched through
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  205   ; min lifetime in msec
MaxLifetime  205   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
;This beam targets troops and passes the info to other weapon systems
;------------------------------------------------------------------------------
Object AvengerTargetingLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXLaser4.tga
NumBeams  4                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  5                       ;The total width of beam
InnerColor  R:50 G:50 B:255 A:50         ;The inside color of the laser (hot)

OuterBeamWidth  1                        ;The total width of beam
OuterColor  R:255 G:0 B:126  A:150       ;The outside color of the laser (cool)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                           ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                          ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.

;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  AvengerTargetingLaserMuzzleFlare
TargetParticleSystem  GenericBlueLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  DeletionUpdate ModuleTag_03
MinLifetime  66   ; min lifetime in msec
MaxLifetime  66   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End


;------------------------------------------------------------------------------
Object AvengerPointDefenseLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  DeletionUpdate ModuleTag_03
MinLifetime  95   ; min lifetime in msec
MaxLifetime  95   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object MicrowaveDisableStream
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXSineWave.tga

Tile  Yes
TilingScalar  .5
ScrollRate  -10                      ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                          ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data. Current max: 10
InnerBeamWidth  8                    ;The total width of beam
InnerColor  R:100 G:150 B:235 A:255  ;The inside color of the laser (hot)
OuterBeamWidth  5.0                  ;The total width of beam
OuterColor  R:50 G:75 B:117 A:127    ;The outside color of the laser (cool)
End


KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  GenericBlueLaserFlare
TargetParticleSystem  GenericRedLaserFlare_UP ;HackFlare
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  126   ; min lifetime in msec
MaxLifetime  126   ; max lifetime in msec
End

End

Object  MicrowaveTankDummyWeaponHeatField

Behavior  FireWeaponUpdate ModuleTag_01
Weapon  MicrowaveTankEmitterWeapon
End

Behavior  DeletionUpdate ModuleTag_04 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  230
MaxLifetime  230
End

End

;------------------------------------------------------------------------------
Object MissileDefenderMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  ExMsslTm
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes;;;;;;;;;No
FuelLifetime                     3000
InitialVelocity                  250                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    3
IgnitionFX                       FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL MissileDefenderMissileLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object SidewinderMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVChap_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
FX           WeaponFX_PatriotMissileDetonation
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_LASERED
DeathWeapon  S300GrumbleMissileWeapon
DeathTypes   NONE +LASERED
StartsActive  Yes
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  150                ; in dist/sec
End
Locomotor  SET_NORMAL PatriotMissileLocomotor


Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Scale  0.9

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object LaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXLaser4.tga
NumBeams  4                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  5                       ;The total width of beam
InnerColor  R:255 G:50 B:50 A:50         ;The inside color of the laser (hot)

OuterBeamWidth  1                        ;The total width of beam
OuterColor  R:255 G:50 B:50  A:150       ;The outside color of the laser (cool)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                           ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                          ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.

;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object PointDefenseLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  95   ; min lifetime in msec
MaxLifetime  95   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object RemoteC4Charge ;Created by ColonelBurton

;No drawable because it's invisible
; *** ART Parameters ***

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  75.0  ;Allow the stickybomb to show itself to user?
ShroudClearingRange  75
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
UnitBombPing  BombTickRemote
StickyBombCreated  ColonelBurtonSetDemoCharge
End

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf   PROJECTILE MINE NO_COLLIDE

;Body  ActiveBody ModuleTag_02
;  MaxHealth  1.0
;  InitialHealth  1.0
;End

Body  HighlanderBody ModuleTag_NewBody
MaxHealth  1.0
InitialHealth  1.0
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           50.0%
InnateStealth                Yes
End

Behavior  StickyBombUpdate ModuleTag_04
End


Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay     150
FX                   INITIAL FX_BurtonBombTriggered
FX                   FINAL   WeaponFX_TNTStickyBombDetonation
Weapon               FINAL   BurtonC4ChargeWeapon
End

Geometry             CYLINDER
GeometryMajorRadius  8.0
GeometryHeight       8.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object TimedC4Charge ;Created by Colonel Burton

;No drawable because it's invisible
; *** ART Parameters ***

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  75.0  ;Allow the stickybomb to show itself to user?
ShroudClearingRange  75
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
UnitBombPing  BombTickTimed
StickyBombCreated  ColonelBurtonSetDemoCharge
End

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf   PROJECTILE MINE NO_COLLIDE

;Body  ActiveBody ModuleTag_02
;  MaxHealth  1.0
;  InitialHealth  1.0
;End
Body  HighlanderBody ModuleTag_NewBody
MaxHealth  1.0
InitialHealth  1.0
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           50.0%
InnateStealth                Yes
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000   ; min lifetime in msec
MaxLifetime  10000   ; max lifetime in msec
End

Behavior  StickyBombUpdate ModuleTag_05
;Keeps it attached properly to the intended target should it move.
End

Behavior  SlowDeathBehavior ModuleTag_06
DestructionDelay  150
FX                   INITIAL FX_BurtonBombTriggered
FX                   FINAL   WeaponFX_TNTStickyBombDetonation
Weapon               FINAL   BurtonC4ChargeWeapon
End

Geometry             CYLINDER
GeometryMajorRadius  8.0
GeometryHeight       8.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RangerFlashBangGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXFlshBng
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_0332
TumbleRandomly                   Yes
DetonateCallsKill                Yes
FirstHeight                      30
SecondHeight                     30
FirstPercentIndent               50%
SecondPercentIndent              90%
FlightPathAdjustDistPerSecond    100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object AuroraBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB03
ShowSubObject  BOMB02
End

End

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
VisionRange        0.0

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior               PhysicsBehavior ModuleTag_03
Mass                 75.0
AerodynamicFriction  2     ; this is now friction-per-sec
ForwardFriction      2     ; this is now friction-per-sec
CenterOfMassOffset   2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

; it may seem odd to have a "bomb" with a Locomotor, especially a Thrust locomotor,
; but there's a good reason: the Aurora moves so freakin' fast that it's really
; hard to (1) find a reliable drop location, and (2) actually get it close enough to
; that location. So we cheat: just get fairly close, then let the "bomb" do a little (subtle)
; navigation on the way down. This works pretty well and actually looks much better
; than you might think. (srj)
Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    No
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      0                ; in dist/sec
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End
Locomotor  SET_NORMAL AuroraBombLocomotor   ; yes, that's right.

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object StealthJetBunkerBusterBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  EXStlthBmb
Animation  EXStlthBmb.EXStlthBmb
AnimationMode  LOOP
End

End
; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  0
SecondHeight  0
FirstPercentIndent  30%
SecondPercentIndent  50%
;FlightPathAdjustDistPerSecond  30

;FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.    GarrisonHitKillRequiredKindOf    INFANTRY
;GarrisonHitKillForbiddenKindOf   NONE
;GarrisonHitKillCount             10  ; ensure that a single grenade clears out all garrisoned buildings.
;GarrisonHitKillFX                FX_StealthFigherGarrisonBuildingHit
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_BunkerBusterExplosion
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ExtraBoom01
DeathWeapon    NighthawkBombDirectHitDamageWeapon
StartsActive   Yes
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Behavior  FireWeaponUpdate ModuleTag_Bombdrop effect
Weapon  StealthJetBombDropEffectWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_DECAL

End


;------------------------------------------------------------------------------
Object NightHawkGarrisonClearingProjectile

; ***DESIGN parameters ***
EditorSorting  SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             10
GarrisonHitKillFX                FX_StealthFigherGarrisonBuildingHit
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;------------------------------------------------------------------------------
Object  NightHawkGarrisonClearingObject

; ***DESIGN parameters ***
EditorSorting  SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  CAN_ATTACK IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         NighthawkBombKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  LifetimeUpdate ModuleTag_0352
MinLifetime  200   ; min lifetime in msec
MaxLifetime  200   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object LittleBirdRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None RocketPodMissileLenzflare
ParticleSysBone  None RocketPodMissileFlame
ParticleSysBone  None RealMissileExhaust
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  LifetimeUpdate ModuleTag_Life01
MinLifetime  5000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicLittleBirdRocketProjectile LittleBirdRocketProjectile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None RocketPodMissileLenzflare
ParticleSysBone  None RocketPodMissileFlame
ParticleSysBone  None HeroicRealMissileExhaust
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End
End

;------------------------------------------------------------------------------
Object Burton30mmGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
FirstHeight                      50  ; Height of Bezier control points above highest intervening terrain
SecondHeight                     100
FirstPercentIndent               30% ; Percentage of shot distance control points are placed
SecondPercentIndent              70%
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockedMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  ExMsslTm
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes;;;;;;;;;No
FuelLifetime                     3000
InitialVelocity                  250                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    80
IgnitionFX                       FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL MissileDefenderLaserLockedMissileLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

Object AircraftLaserTargetingBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXLaser4.tga
NumBeams  4                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  5                       ;The total width of beam
InnerColor  R:255 G:50 B:50 A:50         ;The inside color of the laser (hot)

OuterBeamWidth  1                        ;The total width of beam
OuterColor  R:255 G:50 B:50  A:150       ;The outside color of the laser (cool)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                           ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                          ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.

;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  210   ; min lifetime in msec
MaxLifetime  210   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object HumveeTowMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVHummerTow_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes;;;;;;;;;No
FuelLifetime                     0
InitialVelocity                  250                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    3
IgnitionFX                       FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL MissileDefenderMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.1

End

;------------------------------------------------------------------------------
Object SpectreHowitzerShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVSpectreShell1
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  HeightDieUpdate ModuleTag_04
TargetHeight  1.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
InitialDelay                     1000 ; Can't explode in the first second so we don't explode on the pad
End


Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  PhysicsBehavior ModuleTag_092
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_10
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Scale  0.6                            ;Scaling
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object SpectreHellfireMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMHellMis
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  35
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL SpectreHellfireMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
;This bomb triggers the unique voiceover from the power when dropping the bombs
Object CarpetBombVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB02 BOMB03
ShowSubObject  BOMB01
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               AmericaCarpetBomberDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    CarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_CarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End


End

;------------------------------------------------------------------------------
Object CarpetBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB02 BOMB03
ShowSubObject  BOMB01
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    CarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_CarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

End


;------------------------------------------------------------------------------
;This bomb triggers the unique voiceover from the power when dropping the bombs
Object CarpetBombLancerVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB03
ShowSubObject  BOMB02
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               AmericaCarpetBomberDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    LancerCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_LancerCarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End


End

;------------------------------------------------------------------------------
Object CarpetBombLancer

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB03
ShowSubObject  BOMB02
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    LancerCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_LancerCarpetBomb
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

End

;------------------------------------------------------------------------------
;This bomb triggers the unique voiceover from the power when dropping the bombs
Object B2CarpetBombVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB02
ShowSubObject  BOMB03
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon
SoundEnter             AmericaCarpetBomberDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    SpiritCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_SpiritCarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  FireWeaponUpdate ModuleTag_BomberRevealWeapon01
Weapon  B2BomberStealthRevealerObjectSpawner
End


End

;------------------------------------------------------------------------------
Object B2CarpetBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB02
ShowSubObject  BOMB03
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    SpiritCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_SpiritCarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  FireWeaponUpdate ModuleTag_BomberRevealWeapon01
Weapon  B2BomberStealthRevealerObjectSpawner
End

End

;---------------------------------------------------------------------------------------
Object LeafletContainer

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   10                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  LeafletDrop

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_05
;nothing
End

Behavior  AIUpdateInterface ModuleTag_06
End
Locomotor  SET_NORMAL None
Behavior  PhysicsBehavior ModuleTag_07
Mass                 75.0
AerodynamicFriction  1  ; this is now friction-per-sec
ForwardFriction      22     ; this is now friction-per-sec
CenterOfMassOffset   2  ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End
Behavior  HeightDieUpdate ModuleTag_08
TargetHeight  5.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_09
SpecialPowerTemplate  SuperweaponLeafletDrop
End

Behavior  LeafletDropBehavior ModuleTag_11
DisabledDuration     20000
Delay                2500
AffectRadius         75.0
LeafletFXParticleSystem  LeafletParticles1
End

Behavior  CreateObjectDie ModuleTag_0225
CreationList  OCL_OnGroundLeafletSpread
End

Geometry  Sphere
GeometryIsSmall  No
GeometryMajorRadius  30.0

End

;------------------------------------------------------------------------------
Object LeafletContainerVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               LeafletDropExecuted

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End


;------------------------------------------------------------------------------
Object OnGroundLeafletSpreadObject

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End


Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  CreateObjectDie ModuleTag_0225
CreationList  OCL_OnGroundLeaflet
End

Behavior  DestroyDie ModuleTag_09
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

Object LeafletOnGroundObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  ExLeafLet
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE UNATTACKABLE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_031
MaxHealth  1
InitialHealth  1
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  30000  ; 30 seconds
MaxLifetime  30000
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             CYLINDER
GeometryMajorRadius  10.0
GeometryHeight       1.0
GeometryIsSmall      No
Scale                0.6

End

;------------------------------------------------------------------------------
Object RaptorJetMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVChap_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:Missile
EditorSorting      SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_07
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_08
TryToFollowTarget      Yes
FuelLifetime           10000
InitialVelocity        75                ; in dist/sec
IgnitionDelay          30
IgnitionFX             FX_JetMissileIgnition
End
Locomotor  SET_NORMAL RaptorJetMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.8

End

;------------------------------------------------------------------------------
Object PatriotMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  ABPATRIOT_M
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  ABPATRIOT_M
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:PatriotMissile
EditorSorting    VEHICLE
VisionRange  300.0
ShroudClearingRange  0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          60                ; in dist/sec
IgnitionDelay            0
IgnitionFX               FX_BuggyMissileIgnition

DistanceToTravelBeforeTurning  200
DistanceToTargetBeforeDiving  400

DistanceToTargetForLock  120  ; If it gets within 50 of the target, it kills the target.
End

Locomotor  SET_NORMAL JarmenKellStingerMissileLocomotor ; PatriotMissileLocomotor_Ground

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.1
End

;------------------------------------------------------------------------------
Object PatriotMissileAir

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  ABPATRIOT_M
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  ABPATRIOT_M
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:PatriotMissile
EditorSorting    VEHICLE
VisionRange  300.0
ShroudClearingRange  0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          60                ; in dist/sec
IgnitionDelay            0
IgnitionFX               FX_BuggyMissileIgnition

DistanceToTravelBeforeTurning  200
DistanceToTargetBeforeDiving  400

DistanceToTargetForLock  120  ; If it gets within 50 of the target, it kills the target.
End

Locomotor  SET_NORMAL JarmenKellStingerMissileLocomotor ; PatriotMissileLocomotor_Air

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.1
End


;------------------------------------------------------------------------------
Object PaladinTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None PaladinCannonShellTrail
ParticleSysBone      None PaladinCannonShellSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object TomahawkMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVTmhwk_M
HideSubObject  WeaponB01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
;*Be careful with this type, use in conjunction with KindOf  BALLISTIC_MISSILE to restrict targeting
;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
;*AntiBallisticMissile  Yes set in the Weapon.ini.
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        135.0
InitialHealth    135.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors

; we detonated normally.
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by laser.
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by nonlaser.
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
IgnitionFX  FX_TomahawkIgnition
InitialVelocity  50                ; in dist/sec
DistanceToTravelBeforeTurning  80
DistanceToTargetBeforeDiving  100 ; When I hit this close to target, I ignore PreferredHeight.
; Note, if this is too small, the missile will turn too late to hit.  And, since we have a 2D
; heart, being over the target counts as "there", so we'll give up and just go straight.

DistanceToTargetForLock  10 ; Short lock on, as it looks better flying.  jba.
End
Locomotor  SET_NORMAL TomahawkMissileLocomotor

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object TomahawkMissileLongCruiseMode

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVTmhwk_M
Animation  AVTmhwk_M.AVTmhwk_M
AnimationMode  ONCE
AnimationSpeedFactorRange  1.7 1.7
HideSubObject  WeaponA01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
;*Be careful with this type, use in conjunction with KindOf  BALLISTIC_MISSILE to restrict targeting
;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
;*AntiBallisticMissile  Yes set in the Weapon.ini.
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        80.0
InitialHealth    80.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors

; we detonated normally.
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by laser.
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by nonlaser.
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
IgnitionFX  FX_TomahawkIgnition
InitialVelocity  50                ; in dist/sec
DistanceToTravelBeforeTurning  80
DistanceToTargetBeforeDiving  100 ; When I hit this close to target, I ignore PreferredHeight.
End
Locomotor  SET_NORMAL TomahawkMissileLongCruiseLocomotor

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object ComancheAntiTankMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMHellMis
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  2000
InitialVelocity  200                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  10
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL ComancheAntiTankMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ComancheRocketPodRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None RocketPodMissileLenzflare
ParticleSysBone  None RocketPodMissileFlame
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  1000
InitialVelocity  150                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  10
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL ComancheRocketPodLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object SealC4DummyProjectile

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  SlowDeathBehavior ModuleTag_02425
DestructionDelay     6000
Weapon               MIDPOINT SealC4Explosion
FX                   MIDPOINT WeaponFX_NavySealC4BombExplosion
Weapon               FINAL    SealC4Explosion
End

Behavior  DumbProjectileBehavior ModuleTag_09
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  10
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object CleanupHazardProjectileStream

; *** ART Parameters ***
Draw  W3DProjectileStreamDraw ModuleTag_01
Texture  EXCleanupStream.tga
Width  1.5
TileFactor  2.0 ; put the texture on the line segment this many times
ScrollRate  6.0; scroll the texture offset this fast
MaxSegments  14 ; only play the first X if there are a ton of them. 0 means play all
End

; *** ENGINEERING Parameters ***
KindOf  INERT
Behavior  ProjectileStreamUpdate ModuleTag_02
;nothing
End

End

;------------------------------------------------------------------------------
Object CleanupStreamProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    100
End

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:CleanupTrail01 ; Covers gap at beginning of line
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;-------------------------------------------------------------------------------
Object AmbulanceHealingAuraParticleEffect

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
TargetParticleSystem  HealingRadiusEffect
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_04
End
End

;------------------------------------------------------------------------------
Object A10ThunderboltMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVWrthg_M
ParticleSysBone  NONE PatriotMissileTrail
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

; The weapon is in OCL.ini.  This makes it do double damage secretly.
;  Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
;    DeathWeapon    A10ThunderboltMissileWeapon
;    StartsActive   Yes
;  End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_09
TryToFollowTarget  Yes
FuelLifetime  10000
InitialVelocity  30                ; in dist/sec
IgnitionDelay  0
IgnitionFX  FX_A10ThunderboltMissileIgnition
End
; It's a missile, it needs to hit so it can +DETONATED
;  Behavior  HeightDieUpdate ModuleTag_10
;    TargetHeight  1.0
;    TargetHeightIncludesStructures  No
;  End
Locomotor  SET_NORMAL A10ThunderboltMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

Behavior  SpecialPowerCompletionDie ModuleTag_11
SpecialPowerTemplate  SuperweaponA10ThunderboltMissileStrike
End

;  Geometry  Sphere
; GeometryIsSmall  Yes
;GeometryMajorRadius  12.0

End

;------------------------------------------------------------------------------
Object VanguardBombDroneProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBmbDrn
Animation  EXBmbDrn.EXBmbDrn
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL
FX          FX_BombDroneDetonation
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  Yes
FuelLifetime  0
InitialVelocity  50                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
GarrisonHitKillRequiredKindOf   INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount            5
GarrisonHitKillFX               FX_BombDroneGarrisonBuildingHit
End

Locomotor  SET_NORMAL VanguardBombDroneLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object HunterKillerJetMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVHntrKlr_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:Missile
EditorSorting      SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_07
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_08
DetonateCallsKill      Yes
TryToFollowTarget      Yes
FuelLifetime           10000
InitialVelocity        75                ; in dist/sec
IgnitionDelay          30
IgnitionFX             FX_JetMissileIgnition
End
Locomotor  SET_NORMAL RaptorJetMissileLocomotor

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Detonation01
StartsActive   Yes
DeathTypes     ALL -LASERED
ConflictsWith  Upgrade_AmericaLaserMissiles
DeathWeapon    HunterKillerDroneMissileDamagedWeapon
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DetonationUpgraded01
StartsActive   No
DeathTypes     ALL -LASERED
TriggeredBy    Upgrade_AmericaLaserMissiles
DeathWeapon    HunterKillerDroneMissileDamagedUpgradedWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MuleCounterMeasureFlareGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          180                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_MuleDroneCounterFlare
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_MuleFlareActivationFX
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1000   ; min lifetime in msec
MaxLifetime  1000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object DeltaGunnerMortarShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMortar
Animation  NVMortar.NVMortar
AnimationMode  LOOP
ParticleSysBone      None InfantryMortarShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  200  ; Height of Bezier control points above highest intervening terrain
SecondHeight  300
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object TerrorDronePlasmaCutterBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser2.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:0 G:0 B:255  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TerrorDroneCuttingLaserFlare
TargetParticleSystem  TerrorDroneCuttingLaserSparks
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  95   ; min lifetime in msec
MaxLifetime  95   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object TermiteDroneMicrowavePulseProjectile

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1
MaxLifetime  1
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon   TermiteDroneMicrowavePulseInfantryKiller
StartsActive  Yes
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_TermiteDroneDissableEffect
End

End

;------------------------------------------------------------------------------
Object TermiteDroneMicrowavePulseEMPEffect

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     6000
Lifetime             500
StartFadeTime        100
StartScale           0.01
TargetScaleMin       0.50
TargetScaleMax       1.20
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         60.0
DoesNotAffect        ALLIES
VictimForbiddenKindOf  STRUCTURE
VictimRequiredKindOf   VEHICLE
DisableFXParticleSystem  EMPSparks
DoesNotAffectMyOwnBuildings  Yes
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockProjectile

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE ALWAYS_VISIBLE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FlightPathAdjustDistPerSecond  99999999
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End



;------------------------------------------------------------------------------
Object JavelinMissileProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinMissileVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageVeteranWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinMissileEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageEliteWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinMissileHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinHeroicSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageHeroicWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeVeteranDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeEliteDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinHeroicSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeHeroicDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;-------------------------------------------------------------------------------
Object JavelinAirBurstDummyProjectile

Draw  W3DModelDraw ModuleTag_Art01
DefaultConditionState
Model  NONE
ParticleSysBone  None JavelinShapedChargeTracerCore
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  300  ; Height of Bezier control points above highest intervening terrain
SecondHeight  300
FirstPercentIndent  0% ; Percentage of shot distance control points are placed
SecondPercentIndent  100%
FlightPathAdjustDistPerSecond    9999 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;------------------------------------------------------------------------------
Object CyclopsTargetingLaser
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  50   ; min lifetime in msec
MaxLifetime  50   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object CyclopsDeathRayLaser
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  3.0            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  9.0            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  CyclopsLaserImpactSparks
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  200   ; min lifetime in msec
MaxLifetime  200   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object TacticalMissileDefensePointDefenceLaser

; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  exlaser_sw1.tga
NumBeams  2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  0.005                    ;The total width of beam
InnerColor  R:255 G:255 B:255 A:100      ;The inside color of the laser (hot)
OuterBeamWidth  3                        ;The total width of beam
OuterColor  R:255 G:255 B:255 A:10       ;The outside color of the laser (cool)
Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)
End


KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_07
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  TacticalMissileDefenceRedLaserFlare
PunchThroughScalar  1.3 ; If our target dies, we get this much bigger so it looks like we punched through
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  150   ; min lifetime in msec
MaxLifetime  200   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
End

;------------------------------------------------------------------------------
Object GreenBeret40mmGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None RifleGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
FirstHeight                      50  ; Height of Bezier control points above highest intervening terrain
SecondHeight                     100
FirstPercentIndent               30% ; Percentage of shot distance control points are placed
SecondPercentIndent              70%
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             2  ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_GreenBeret40mmGrenadeGarrisonBuildingHit
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeDefaultProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherDefaultDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherVeteranDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherEliteDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherHeroicDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeDummyObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE IMMOBILE NO_COLLIDE

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  2950
MaxLifetime  2950
End

Behavior  BoneFXDamage ModuleTag_PingEffect01
End

Behavior  BoneFXUpdate ModuleTag_PingEffect02
PristineFXList1       bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerTimedFuseGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerTimedFuseGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerTimedFuseGrenadePing
End

Behavior  BoneFXUpdate ModuleTag_PingEffect03
PristineFXList1       bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerTimedFuseGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerTimedFuseGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerTimedFuseGrenadePing
End

Behavior  DestroyDie ModuleTag_034512315
End

Scale  1.1
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerProximityGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  5000
OCL     INITIAL OCL_EnforcerProximityGrenadeDummy
OCL     FINAL   OCL_EnforcerProximityGrenadeeMine
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerProximityGrenadeDummyObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE IMMOBILE NO_COLLIDE

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  4950
MaxLifetime  4950
End

Behavior  BoneFXDamage ModuleTag_PingEffect01
End

Behavior  BoneFXUpdate ModuleTag_PingEffect02
PristineFXList1       bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerProximityGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerProximityGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerProximityGrenadePing
End

Behavior  BoneFXUpdate ModuleTag_PingEffect03
PristineFXList1       bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerProximityGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerProximityGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerProximityGrenadePing
End

Behavior  DestroyDie ModuleTag_034512315
End

Scale  1.1
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerProximityGrenadeMine

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXClstrMine
ParticleSysBone  NONE MineFX
End

ConditionState  RUBBLE
Model  None
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:ClusterMine
EditorSorting    MISC_MAN_MADE
VisionRange  100.0
ShroudClearingRange  100.0

WeaponSet
Conditions           None
Weapon               PRIMARY   ClusterMineSuicideWeapon
PreferredAgainst     PRIMARY   INFANTRY
Weapon               SECONDARY ClusterMineSuicideWeapon
PreferredAgainst     SECONDARY VEHICLE
Weapon               TERTIARY  ClusterMineRemoveSelfWeapon
PreferredAgainst     TERTIARY  STRUCTURE
End

ArmorSet
Conditions       None
Armor            MineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  STICK_TO_TERRAIN_SLOPE DEMOTRAP IMMOBILE NO_HEAL_ICON CAN_ATTACK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  AIUpdateInterface ModuleTag_03232
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate       99999
TurretPitchRate      99999
End
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_0332
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           100.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   No
End

;This module doesn't actually do anything other than make sure the game recognizes me as a mine and not an enemy unit
Behavior  MinefieldBehavior ModuleTag_04
DetonationWeapon             DummyWeapon
DetonatedBy                  ENEMIES NEUTRAL
ScootFromStartingPointTime   1000
RepeatDetonateMoveThresh     1.0
NumVirtualMines              1000
Regenerates                  No            ; Cluster mines do not regenerate.
End

;This ensures that stealthed units are detected so that the mines can properly detonate
Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              3   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             33   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       AIRCRAFT
End

;This ensures that stealthed units are detected so that the mines can properly detonate
Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              3   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             33   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

;This is triggered upon mine detonation
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
DestructionDelay  100
Weapon            INITIAL EnforcerGrenadeLauncherVeteranDamageWeapon
End

Behavior  LifetimeUpdate ModuleTag_034512315
MinLifetime  17500
MaxLifetime  18500
End

;This is triggered upon colliding with an emeny structure to prevent mines from becoming unreachable within a structure collision box
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes        NONE +SUICIDED
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No
Scale  1.1

End

;------------------------------------------------------------------------------
Object MobilePatriotMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVPat_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
FX           WeaponFX_PatriotMissileDetonation
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_LASERED
DeathWeapon  S300GrumbleMissileWeapon
DeathTypes   NONE +LASERED
StartsActive  Yes
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  150                ; in dist/sec
End
Locomotor  SET_NORMAL PatriotMissileLocomotor


Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Scale  0.9

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object ChinookGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  BONE01 MachineGunGrenadeTrail
ParticleSysBone  BONE01 GattlingCannonLenzflare
ParticleSysBone  BONE01 FallingGrenadeShells
ParticleSysBone  BONE01 SentryDroneMuzzleFlash
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  0  ; Height of Bezier control points above highest intervening terrain
SecondHeight  0
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  40%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object ChinookGrenadeProjectileHeroic

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  BONE01 MachineGunGrenadeTrail
ParticleSysBone  BONE01 HeroicGattlingCannonLenzflare
ParticleSysBone  BONE01 FallingGrenadeShells
ParticleSysBone  BONE01 SentryDroneMuzzleFlash
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  0  ; Height of Bezier control points above highest intervening terrain
SecondHeight  0
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  40%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object DroneHiveTargetingLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXHiveLaser.tga
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  9                       ;The total width of beam
InnerColor  R:100 G:100 B:100 A:120         ;The inside color of the laser (hot)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -20                          ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

End

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  DroneHiveTargetingLaserFlare
TargetParticleSystem  DroneHiveTargetingLaserImpactFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  250   ; min lifetime in msec
MaxLifetime  250   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object CyclopsAntiMissilePointDefenceLaser

; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  exlaser_sw1.tga
NumBeams  2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  0.005                    ;The total width of beam
InnerColor  R:255 G:255 B:255 A:100      ;The inside color of the laser (hot)
OuterBeamWidth  3                        ;The total width of beam
OuterColor  R:255 G:255 B:255 A:10       ;The outside color of the laser (cool)
Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)
End


KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_07
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  TacticalMissileDefenceRedLaserFlare
PunchThroughScalar  1.3 ; If our target dies, we get this much bigger so it looks like we punched through
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  66   ; min lifetime in msec
MaxLifetime  66   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
End

Object AmericaTankAvengerLaserTurret

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ExtraPublicBone  TurretFX01
ExtraPublicBone  TurretFX02
ExtraPublicBone  TURRET01
ExtraPublicBone  TURRETEL
ExtraPublicBone  TURRETEL01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                AVAvnger_G
Animation            AVAvnger_G.AVAvnger_G
AnimationMode        LOOP
Turret               TURRET02
TurretPitch          TURRETEL01
End

ConditionState  REALLYDAMAGED
Model                AVAvnger_GD
Turret               TURRET02
TurretPitch          TURRETEL01
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY AvengerAirLaserOne
Weapon  SECONDARY AvengerAirLaserTwo
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
NaturalTurretPitch   35
MinIdleScanAngle       10
MaxIdleScanAngle       70
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  1 ; default is 2000
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AvengerPointDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_PDLDecal
ShadowSizeX  196
ShadowSizeY  196

End


Object AmericaVehicleBradleyLaserTurret ; Seperate turret object so it can attack independantly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor     Yes
AttachToBoneInContainer  FIREPOINT01
ExtraPublicBone  LASER

DefaultConditionState
Model                AVBrad_L
Turret               TURRET
TurretPitch          TURRETEL
WeaponFireFXBone     SECONDARY TurretFX
WeaponFireFXBone     TERTIARY TurretFX
End

ConditionState  REALLYDAMAGED
Model                AVBrad_LD
Turret               TURRET
TurretPitch          TURRETEL
WeaponFireFXBone     SECONDARY TurretFX
WeaponFireFXBone     TERTIARY TurretFX
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  SECONDARY PaladinPointDefenseLaserTurretWeapon_Projectile
Weapon  TERTIARY  PaladinPointDefenseLaserTurretWeapon_Infantry
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate       1080   // turn rate, in degrees per sec
TurretPitchRate      1080
AllowsPitch          Yes
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehicleTomahawkUnmanned

; *** ART Parameters ***
SelectPortrait          SACTomahawk_L
ButtonImage             SACTomahawk


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY SECONDARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset

DefaultConditionState
Model  AVTmhwk
Turret  TURRET
TurretPitch  TURRETEL
HideSubObject  LASER01
WeaponLaunchBone  PRIMARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  AVTmhwk_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


; ***DESIGN parameters ***
DisplayName             OBJECT:Tomahawk
Side                    America
EditorSorting           SYSTEM
TransportSlotCount      3


WeaponSet
Conditions            NONE
Weapon                PRIMARY   SuicideUnresistableWeapon
End

ArmorSet
Conditions            None
Armor                 TruckArmor
DamageFX              UnmannedTankDamageFX
End

VisionRange             200
ShroudClearingRange  200


IsTrainable             No
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE

Body                    ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  360
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor             SET_NORMAL   FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_101112
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleTomahawkDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +SUICIDED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior        OCLUpdate ModuleTag_Respawn01
MinDelay      100
MaxDelay      100
CreateAtEdge  Yes ; as opposed to just creating on self

FactionTriggered  Yes ; This requires a controlling player before it works

FactionOCL    Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  CreateObjectDie ModuleTag_Respawn02
DeathTypes  NONE +SUICIDED
CreationList  OCL_TomahawkNerveGasKillRespawn
TransferPreviousHealth  Yes
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaTankPaladinLaserTurret ; Seperate turret object so it can attack independantly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor     Yes
ExtraPublicBone          Laser
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                AVPldn_L
Turret               FIREPOINT01
TurretPitch          LASEREL
WeaponFireFXBone     SECONDARY LASER
WeaponFireFXBone     TERTIARY  LASER
End

ConditionState  REALLYDAMAGED
Model                AVPldn_LD
Turret               FIREPOINT01
TurretPitch          LASEREL
WeaponFireFXBone     SECONDARY LASER
WeaponFireFXBone     TERTIARY  LASER
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  SECONDARY PaladinPointDefenseLaserTurretWeapon_Projectile
;Weapon  TERTIARY  PaladinPointDefenseLaserTurretWeapon_Infantry
;ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate       1080   // turn rate, in degrees per sec
TurretPitchRate      1080
AllowsPitch          Yes
NaturalTurretPitch   18
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object PaladinPointDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_PDLDecal
ShadowSizeX  196
ShadowSizeY  196

End

;------------------------------------------------------------------------------
Object AmericanDrillInstructorCrate

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButStatus
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_03
PickupScience  SCIENCE_VeteranInfantry
RequiredKindOf  IMMOBILE
UnitCount  1
BuildingPickup  No
UnitName  AmericaInfantryDrillSargeant
ForbidOwnerPlayer  No
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object AmericanDrillInstructorCratePickupObject

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButStatus
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_09
End

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object AmericaInfantryDrillSargeant
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor   Yes

DefaultConditionState
Model          AISrgnt_SKN
IdleAnimation  AIOFCR_SKL.AIOFCR_STA 0 2
IdleAnimation  AIOFCR_SKL.AIOFCR_CHA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDB
AnimationMode  ONCE
Turret         AIOFCR_MAINRT
End

End

; ***DESIGN parameters ***
Side  America
DisplayName  OBJECT:DrillInstructor
EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButStatus
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH IMMOBILE UNATTACKABLE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         80
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle     115.0
End
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

; --- begin Death modules ---
Behavior  DestroyDie ModuleTag_Death01
End
; --- end Death modules ---

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End

Object AmericaInfantryGreenBeretSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIGrnBrt_SKN
Animation          AIRngr_SKL.AIRngr_SUR
AnimationMode      ONCE
HideSubObject      SAW
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Model              AIGrnBrt_SKN
Animation          AIRngr_SKL.AIRngr_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedGreenBeretRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GreenBeretDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryyMissileDefenderSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIMslDfr_SKN
Animation          NITHNT_SKL.NITHNT_SUR
HideSubObject      LASER01
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          NITHNT_SKL.NITHNT_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedMissileDefenderRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MissileDefenderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryyPathfinderSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIPFDR_SKN
Animation          AIPFDR_SKL.AIPFDR_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          AIPFDR_SKL.AIPFDR_SST
AnimationMode      LOOP_PINGPONG
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIPFDR_SKL.AIPFDR_DTA
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        120.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedPathfinderRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PathfinderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
; same pilot same stats just looks like one that would actualy drive a vehicle instead of flying a plane
ObjectReskin AmericaInfantryTankDriver AmericaInfantryPilot

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AITnkPlt_SKN
IdleAnimation  AIRPlt_SKL.AIRPlt_STA 0 20
IdleAnimation  AIRPlt_SKL.AIRPlt_IDA
IdleAnimation  AIRPlt_SKL.AIRPlt_IDB
AnimationMode  ONCE
HideSubObject  HEAD01
TransitionKey  TRANS_Stand
End

ConditionState  FREEFALL
Animation  AIRPlt_SKL.AIRPLT_PFL
AnimationMode  ONCE
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  AIRPlt_SKL.AIRPlt_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
WaitForStateToFinishIfPossible  TRANS_Falling
End
AliasConditionState  PARACHUTING DYING

ConditionState  MOVING
Animation  AIRPlt_SKL.AIRPlt_RNA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
ParticleSysBone      None InfantryDustTrails
End


; climbing
ConditionState       CLIMBING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING

ConditionState       CLIMBING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End

ConditionState       RAPPELLING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End

; Brand new swimming animations
ConditionState       OVER_WATER
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWI
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Swimming_Idle
End

ConditionState         OVER_WATER MOVING
Model                AIRPlt_SKN_B
Animation            AIHERO_SKL.AIHERO_SWM
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Swimming
End

ConditionState       OVER_WATER DYING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Dying
End

ConditionState  DYING
Animation  AIRPlt_SKL.AIRPlt_DTA
Animation  AIRPlt_SKL.AIRPlt_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIRPlt_SKL.AIRPlt_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIRPlt_SKL.AIRPlt_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIRPlt_SKL.AIRPlt_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AIRPLT_SKL.AIRPLT_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  AIRPlt_SKL.AIRPlt_PTD
AnimationMode  ONCE
End

End

End



;------------------------------------------------------------------------------
Object AmericaInfantryPilotSurrenderCrate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIRPlt_SKN
IdleAnimation      AIRPlt_SKL.AIRPlt_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          AIRPlt_SKL.AIRPlt_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRPlt_SKL.AIRPlt_DTA
Animation          AIRPlt_SKL.AIRPlt_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedPilotRevive
TransferPreviousHealth  Yes
End
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PilotDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryPrisoner
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  CIPOW_SKN
IdleAnimation  CIPOW_SKL.CIPOW_STA 0 5
IdleAnimation  CIPOW_SKL.CIPOW_IDA
IdleAnimation  CIPOW_SKL.CIPOW_IDB
AnimationMode  ONCE
End
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryPrisoner_Var01 AmericaInfantryPrisoner_Var02 AmericaInfantryPrisoner_Var03 AmericaInfantryPrisoner_Var04 AmericaInfantryPrisoner_Var05

End

;------------------------------------------------------------------------------
Object AmericaInfantryPrisoner_Var01
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW_SKN
IdleAnimation  CIPOW_SKL.CIPOW_STA 0 5
IdleAnimation  CIPOW_SKL.CIPOW_IDA
IdleAnimation  CIPOW_SKL.CIPOW_IDB
AnimationMode  ONCE
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  CIPOW_SKL.CIPOW_WKA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING REALLYDAMAGED

ConditionState  DYING
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_DTA
Animation  UIHJCK_SKL.UIHJCK_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:POW
Side  America
EditorSorting  SYSTEM

ArmorSet
Conditions  None
Armor  InvulnerableAllButStatusArmor
DamageFX  None
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_HEAL_ICON UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SlavedUpdate ModuleTag_06
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal01
HealingAmount      50.0  ;in health points
HealingDelay       100  ; msec
StartsActive       Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +SUICIDED
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var02 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW2_SKN
IdleAnimation  UIHJCK_SKL.UIHJCK_STA 0 5
IdleAnimation  UIHJCK_SKL.UIHJCK_IDA
IdleAnimation  UIHJCK_SKL.UIHJCK_IDB
AnimationMode  ONCE
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  UIHJCK_SKL.UIHJCK_RUN
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING REALLYDAMAGED

ConditionState  DYING
Animation  UIHJCK_SKL.UIHJCK_DTA
Animation  UIHJCK_SKL.UIHJCK_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIHJCK_SKL.UIHJCK_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIHJCK_SKL.UIHJCK_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIHJCK_SKL.UIHJCK_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var03 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW3_SKN
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_STA 0 2
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_IDA
AnimationMode  ONCE
TransitionKey  TRANS_Sleep
End

TransitionState  TRANS_Sleep TRANS_Move
Animation  CIHMLSS01_SKL.CIHMLSS01_STUP
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  CIHMLSS01_SKL.CIHMLSS01_WKA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Move
End


ConditionState  DYING
Animation  CIHMLSS01_SKL.CIHMLSS01_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTG1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTG2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTG3
AnimationMode  ONCE
TransitionKey  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var04 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW3_SKN
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_STB 0 4
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Sleep
End

TransitionState  TRANS_Sleep TRANS_Move
Animation  CIHMLSS01_SKL.CIHMLSS01_STUP
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  CIHMLSS01_SKL.CIHMLSS01_WKA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Move
End


ConditionState  DYING
Animation  CIHMLSS01_SKL.CIHMLSS01_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

End

End
;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var05 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW4_SKN
IdleAnimation  CIAMan01_SKL.CIAMan01_STA 0 30
IdleAnimation  CIAMan01_SKL.CIAMan01_IDA
IdleAnimation  CIAMan01_SKL.CIAMan01_IDB
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  CIAMan01_SKL.CIAMan01_WKA 30
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  DYING
Animation  CIAMan01_SKL.CIAMan01_DTA
Animation  CIAMan01_SKL.CIAMan01_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  CIAMan01_SKL.CIAMan01_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  CIAMan01_SKL.CIAMan01_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  CIAMan01_SKL.CIAMan01_ADTD3
AnimationMode  ONCE
TransitionKey  None
End

End

End


;------------------------------------------------------------------------------
Object AmericaInfantryRangerSurrenderCrate

; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIRngr_SKN
Animation          AIRngr_SKL.AIRngr_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Model              AIRngr_SKN
Animation          AIRngr_SKL.AIRngr_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedRangerRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryyVanguardSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIVngrd_SKN
IdleAnimation      NICNSC_SKL.NICNSC_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          NICNSC_SKL.NICNSC_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedVanguardRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_VanguardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

Object AmericanVanguardAttackDrone

; *** ART Parameters ***
SelectPortrait          SAVangrdAttackDrone_L
ButtonImage             SAVangrdAttackDrone

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVVngrdDrn1_B
Animation  AVVngrdDrn1_B.AVVngrdDrn1_B
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model  AVVngrdDrn1_D
Animation  AVVngrdDrn1_D.AVVngrdDrn1_D
AnimationMode  LOOP
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100

ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         VanguardAttackDroneAmbientLoop

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  190        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  40   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      AmericanVanguardAttackDroneTurret
End

Behavior  LifetimeUpdate ModuleTag_SelfDestruct05
MinLifetime  18000
MaxLifetime  18000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericanVanguardAttackDroneTurret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw  W3DDependencyModelDraw ModuleTag_01

OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01
ProjectileBoneFeedbackEnabledSlots  PRIMARY

ConditionState  NONE
Model  AVVngrdDrn1
Animation  AVVngrdDrn1.AVVngrdDrn1
AnimationMode  LOOP
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  PRIMARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  AVVngrdDrn1_D
Animation  AVVngrdDrn1_D.AVVngrdDrn1_D
AnimationMode  LOOP
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  PRIMARY WeaponA
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon             PRIMARY   VanguardAttackDroneRocketWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         180    ; turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         10
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      1000
MaxDelay      1000
OCL           OCL_KillSelf
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

Object AmericaVehicleBattleDrone

; *** ART Parameters ***
SelectPortrait          SABattleDrone_L
ButtonImage             SABattleDrone

;MAIN CHASSIS
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBATTLEDR
Animation  AVBATTLEDR.AVBATTLEDR
AnimationMode  LOOP
HideSubObject  TURRETEL01
End

ConditionState  REALLYDAMAGED
Model  AVBATTLEDR_D
Animation  AVBATTLEDR_D.AVBATTLEDR_D
AnimationMode  LOOP
HideSubObject  TURRETEL01
End

End

Draw  W3DOverlordAircraftDraw ModuleTag_Turret01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVBATTLEDR_B
HideSubObject  TurretEL01
End

End

;EXTENDING ARM (FOR REPAIRING)
Draw  W3DModelDraw ModuleTag_02
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBATTLEDR_A
End

;Unloading the arm (before starting to repair)
ConditionState  UNPACKING
Animation  AVBATTLEDR_A1.AVBATTLEDR_A1
AnimationMode  ONCE
End

;Loading the arm (after reparing complete)
ConditionState  PACKING
Animation  AVBATTLEDR_A1.AVBATTLEDR_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End

;Repair extending animation 1 (using bogus condition states -- doesn't justify making a whole new set)
ConditionState  FIRING_B
Animation  AVBATTLEDR_A2.AVBATTLEDR_A2
AnimationMode  ONCE
End


;Repair retracting animation 1 (using bogus condition states -- doesn't justify making a whole new set)
ConditionState  FIRING_C
Animation  AVBATTLEDR_A2.AVBATTLEDR_A2
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:BattleDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          150
ShroudClearingRange  150
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      10 10 10 10 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End

Locomotor  SET_NORMAL BattleDroneLocomotor
Locomotor  SET_PANIC BattleDronePanicLocomotor   ;used for repairing master (zippy)

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  MaxHealthUpgrade ModuleTag_06
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
RepairRange  8         ;How far I can zip around while repair (only moves when he stops welding)
RepairMinAltitude  18.0   ;My minimum repair hover altitude.
RepairMaxAltitude  24.0   ;My maximum repair hover altitude.
RepairRatePerSecond  10.0 ;How many health points can I repair per second.
RepairWhenBelowHealth%  90 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
RepairWeldingSys  BlueSparks
RepairWeldingFXBone  Muzzle02
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End
Behavior                  CreateObjectDie  ModuleTag_09
DeathTypes  ALL
CreationList       OCL_AmericaBattleDroneExplode
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior                  FXListDie ModuleTag_11
DeathTypes  ALL
DeathFX            FX_AmericaBattleDroneExplode
End

Behavior  UpgradeDie  ModuleTag_12
;This frees the object based upgrade for the producer object.
DeathTypes  ALL
UpgradeToRemove      Upgrade_AmericaBattleDrone ModuleTag_13
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      AmericaVehicleBattleDrone_Turret
ExperienceSinkForRider   No
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehicleBattleDrone_Turret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  AVBATTLEDR_B
Turret  Turret01
TurretPitch  TurretEL01
WeaponMuzzleFlash  PRIMARY TurretFX01
WeaponFireFXBone  PRIMARY Muzzle01
End

ConditionState  REALLYDAMAGED
Model  AVBATTLEDR_BD
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY BattleDroneMachineGun
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         360   // turn rate, in degrees per sec
TurretPitchRate        360
MinPhysicalPitch       -90 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object DroneLifterCallinFlare

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone  NONE BurtonFlareGrenadeSmoke
End
End

Draw  W3DModelDraw ModuleTag_CountDown01
ConditionState  NONE
Model  BmbCntr3
Animation  BmbCntr3.BmbCntr3
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
BuildCost            1000
BuildTime            0.0 ;Zero it gets called in instantly!

Prerequisites
Object             AmericaSupplyCenter
Science            SCIENCE_StrategicAirlift
End

MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  DroneLifter

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         EmptyDamageFX
End

VisionRange  50.0
ShroudClearingRange  50.0

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  LifetimeUpdate ModuleTag_remove03
MinLifetime        1
MaxLifetime        1
End

Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           ALL
DestructionDelay     3000
OCL                  INITIAL OCL_DroneLifterCallinVoice
OCL                  FINAL   OCL_DroneLifterSpawnIn
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object DroneLifterCallinVoiceTrigger

; ***DESIGN parameters ***

EditorSorting    SYSTEM
VisionRange  10.0
ShroudClearingRange  10.0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

; *** AUDIO Parameters ***
SoundEnter  DroneAirlifterVoiceCreate

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  OCLUpdate ModuleTag_SoundTrigger02
MinDelay      3000
MaxDelay      3000
OCL           OCL_EuropeTearGasStrikeSoundTrigger
End

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  7000
MaxLifetime  7000
End

End

;------------------------------------------------------------------------------
Object DroneLifterBuildLimiter

; ***DESIGN parameters ***

EditorSorting    SYSTEM

MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  DroneLifter

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        999999.0
InitialHealth    999999.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  10000
MaxLifetime  10000
End

Behavior  DestroyDie ModuleTag_Dismiss05
End

End

Object AmericaVehicleDroneLifterDismissed

; *** ART Parameters ***

Draw  W3DModelDraw                         ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVDrnLftr
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_HOVERING
End

TransitionState  TRANS_HOVERING TRANS_MOVING
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_MOVING
End

TransitionState  TRANS_MOVING TRANS_HOVERING
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

TransitionState  TRANS_DAMAGED_HOVERING TRANS_DAMAGED_MOVING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_DAMAGED_MOVING
End

TransitionState  TRANS_DAMAGED_MOVING TRANS_DAMAGED_HOVERING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVDrnLftr_D
HideSubObject  Props01
HideSubObject  Props02
TransitionKey  TRANS_DAMAGED_HOVERING
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:DroneLifter
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

ExperienceValue      50 50 50 50 ;Experience point value at each level

; *** ENGINEERING Parameters ***
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE NO_SELECT VEHICLE AIRCRAFT CAN_ATTACK SCORE

Body  ActiveBody ModuleTag_03
MaxHealth        300.0
InitialHealth    300.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

; *** AUDIO Parameters ***
SoundAmbient  DroneLifterAmbientLoop
SoundEnter  DroneAirlifterVoiceDismiss

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
ShouldDrawPips        No
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL DismissedHelicopterTakingOffLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior  FXListDie ModuleTag_056
DeathTypes  ALL
DeathFX  FX_DroneLifterStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          30.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   1.0             ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      30.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                DroneLifterRubbleHull
End

;Delete me before a new OCL can be triggered
Behavior  DeletionUpdate ModuleTag_0451
MinLifetime  8900   ; min lifetime in msec
MaxLifetime  8900   ; max lifetime in msec
End

;This OCL Makes the helicopter unattackable
Behavior  FireWeaponUpdate ModuleTag_06524251
Weapon  NeverTargetableAgainWeapon
InitialDelay  2500
End

;This OCL refunds half the cash of this unit
Behavior  OCLUpdate ModuleTag_RefundMoney01
MinDelay      4500
MaxDelay      4500
OCL           OCL_DroneLifterDismissMoneyRefund
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DroneLifterDissmisRefundObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE

Behavior  AutoDepositUpdate ModuleTag_04
DepositTiming  150
DepositAmount  1000
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  150
MaxLifetime  150
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaVehicleFirebaseDrone

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVFrbsDrn
Animation  AVFrbsDrn.AVFrbsDrn
AnimationMode  LOOP
Turret  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVFrbsDrn_d
Animation  AVFrbsDrn_d.AVFrbsDrn_d
AnimationMode  LOOP
Turret  TURRET
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ScoutDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         SmallTankDamageFX
End
BuildCost        100
BuildTime        5.0          ;in seconds
VisionRange      0
ShroudClearingRange  0
IsTrainable      No  ;Can gain experience

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound
SoundMoveStart  NoSound

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED

Body  HighlanderBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         180    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -90    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -25
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
End
Locomotor  SET_NORMAL DroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_06
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  350        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  MaxHealthUpgrade ModuleTag_07
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   25.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_09
DeathTypes  ALL
CreationList       OCL_AmericaScoutDroneExplode
End
Behavior                  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX            FX_AmericaScoutDroneExplode
End

Behavior                  TransitionDamageFX ModuleTag_11
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehiclePointDefenceDrone

; *** ART Parameters ***
SelectPortrait          SAPointDefenceDrone_L
ButtonImage             SAPointDefenceDrone

UpgradeCameo1  Upgrade_AmericaDroneArmor

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVPDLDrn
Animation  AVPDLDrn.AVPDLDrn
AnimationMode  LOOP
Turret  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVPDLDrn_D
Animation  AVPDLDrn_D.AVPDLDrn_D
AnimationMode  LOOP
Turret  TURRET
End

ConditionState  RUBBLE
Model  AVPDLDrn_D
Animation  AVPDLDrn_D.AVPDLDrn_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
Turret  TURRET
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:PointDefenceDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          150
ShroudClearingRange  150
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      10 10 10 10 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
SoundEnter  BattleDroneVoiceCreate

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED

Body  ActiveBody ModuleTag_03
MaxHealth        9999.0
InitialHealth    9999.0
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         180
RecenterTime           1000
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
End
Locomotor  SET_NORMAL BattleDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  MaxHealthUpgrade ModuleTag_06
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
RepairRange  15         ;How far I can zip around while repair (only moves when he stops welding)
RepairMinAltitude  24.0   ;My minimum repair hover altitude.
RepairMaxAltitude  35.0   ;My maximum repair hover altitude.
RepairRatePerSecond  0.01 ;How many health points can I repair per second.
RepairWhenBelowHealth%  95 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  LifetimeUpdate ModuleTag_SelfDestruct05
MinLifetime  20000
MaxLifetime  20000
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  OverlordContain ModuleTag_OverlordContain
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      AmericaPointDefenceDroneLaserObject
ExperienceSinkForRider   No
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaPointDefenceDroneLaserObject ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  AVPDLDrn
HideSubObject  Chassis
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY DronePointDefenseLaserOne
Weapon  SECONDARY DronePointDefenseLaserTwo
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         1440
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior  DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object AmericanVanguardScoutDrone

; *** ART Parameters ***
SelectPortrait          SAVangrdScoutDrone_L
ButtonImage             SAVangrdScoutDrone

UpgradeCameo1  Upgrade_AmericaDroneArmor

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVVngrdDrn2
Animation  AVVngrdDrn2.AVVngrdDrn2
AnimationMode  LOOP
HideSubObject  WeaponA01 WeaponA02
ParticleSysBone  NONE VanguardScoutDronePingEffect
End

ConditionState  REALLYDAMAGED
Model  AVVngrdDrn2_D
Animation  AVVngrdDrn2_D.AVVngrdDrn2_D
AnimationMode  LOOP
HideSubObject  WeaponA01 WeaponA02
ParticleSysBone  NONE VanguardScoutDronePingEffect
End

ConditionState  RUBBLE
Model  AVVngrdDrn2_D
Animation  AVVngrdDrn2_D.AVVngrdDrn2_D
AnimationMode  ONCE
HideSubObject  WeaponA01 WeaponA02
End

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDtectDcl_B
WaitForStateToFinishIfPossible  TRANS_SHOW_DETECTION_RANGE
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              EXDtectDcl
Animation          EXDtectDcl.EXDtectDcl
AnimationMode      ONCE
TransitionKey      TRANS_SHOW_DETECTION_RANGE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:SpyDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions       None
Weapon           PRIMARY   PredatorDroneFollowWeapon
End

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         SmallTankDamageFX
End

VisionRange          150
ShroudClearingRange  150

IsTrainable      No
ExperienceValue     0 0 0 0     ;Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            SentryDroneVoiceSelect
VoiceMove              SentryDroneVoiceMove
VoiceGuard             SentryDroneVoiceMove
VoiceAttack            SentryDroneVoiceMove
SoundAmbient           VanguardAttackDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT VEHICLE UNATTACKABLE SELECTABLE

CommandSet       AmericaInfantryVanguardScoutDroneCommandSet

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End
Locomotor  SET_NORMAL VanguardScoutDrone


Behavior  PhysicsBehavior ModuleTag_06
Mass  50.0
End


Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_AmericaScoutDroneExplode
End

Behavior  MaxHealthUpgrade ModuleTag_10
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   12.5
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End


Behavior  ProductionUpdate ModuleTag_DetectionRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_DetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  OverlordContain ModuleTag_ShowDetectionRange03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericanVanguardScoutDroneDetectionRangeIndicatorDecalObject
End

;  Behavior  LifetimeUpdate ModuleTag_SelfDestruct05
;    MinLifetime  18000
;    MaxLifetime  18000
;  End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct03
Weapon  SuicideWeapon
InitialDelay  18000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericanVanguardScoutDroneDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

Object GuardianDroneDeployedStructureDummyCollision

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableArmorAll
DamageFX           DamageFX_Empty
End
; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD IMMOBILE CAN_SEE_THROUGH_STRUCTURE STICK_TO_TERRAIN_SLOPE UNATTACKABLE NO_COLLIDE

Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0
End

Behavior  DeletionUpdate ModuleTag_032512
MinLifetime  150
MaxLifetime  150
End

Behavior  DestroyDie ModuleTag_11
End

Geometry             BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight       11.5

End

Object AmericanHiveDrone

; *** ART Parameters ***
SelectPortrait          SAHiveCombatDrone_L
ButtonImage             SAHiveCombatDrone

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVHiveDrn
Animation  AVHiveDrn.AVHiveDrn
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVHiveDrn_D
Animation  AVHiveDrn_D.AVHiveDrn_D
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  RUBBLE
Model  AVHiveDrn_D
AnimationMode  MANUAL
ShowSubObject  TURRET
HideSubObject  MUZZLEFX01
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100

ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         VanguardAttackDroneAmbientLoop

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  190        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  40   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      AmericanHiveDroneTurret
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideUnresistableWeapon
InitialDelay  25000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericanHiveDroneTurret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw  W3DDependencyModelDraw ModuleTag_01

OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01
ProjectileBoneFeedbackEnabledSlots  PRIMARY

ConditionState  NONE
Model  AVHiveDrn
Animation  AVHiveDrn.AVHiveDrn
AnimationMode  ONCE
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  ATTACKING
Model  AVHiveDrn
Animation  AVHiveDrn.AVHiveDrn
AnimationMode  LOOP
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  REALLYDAMAGED
Model  AVHiveDrn_D
Animation  AVHiveDrn_D.AVHiveDrn_D
AnimationMode  ONCE
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  REALLYDAMAGED ATTACKING
Model  AVHiveDrn_D
Animation  AVHiveDrn_D.AVHiveDrn_D
AnimationMode  LOOP
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY HiveDroneMinigunWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon PRIMARY HiveDroneMinigunUpgradedWeapon
Weapon SECONDARY HiveDronуMissilePodWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaDroneWeapons
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -70    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -5
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate  10
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      1000
MaxDelay      1000
OCL           OCL_KillSelf
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object MineDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState       NONE
Model              AVDrnMn
Animation          AVDrnMn.AVDrnMn
AnimationMode      LOOP
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  50.0

WeaponSet
Conditions  None
Weapon  SECONDARY DroneMineLaunchWeapon
Weapon  TERTIARY  DroneMineLaunchSuicideWeapon
End

ArmorSet
Conditions       None
Armor            EuroMineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IGNORED_IN_GUI CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK STICK_TO_TERRAIN_SLOPE IMMOBILE DEMOTRAP

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Behavior  AIUpdateInterface ModuleTag_03232
Turret
TurretTurnRate  900
ControlledWeaponSlots  SECONDARY
End
AltTurret
TurretTurnRate  900
ControlledWeaponSlots  TERTIARY
End
TurretsLinked               Yes
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  DestroyDie ModuleTag_0365
End

Behavior  StealthUpdate ModuleTag_03468
StealthDelay                 0
StealthForbiddenConditions   NONE
FriendlyOpacityMin           100.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   No
End

Behavior  FireWeaponUpdate ModuleTag_0632
Weapon  GenericHeavyMineStackPreventionWeapon
End

Behavior  MinefieldBehavior  ModuleTag_04223251
DetonationWeapon             GenericZeroDamageWeapon        ; what happens when we detonate
DetonatedBy                  NEUTRAL
ScootFromStartingPointTime   500
RepeatDetonateMoveThresh     5.0
NumVirtualMines              20
Regenerates                  No            ; Cluster mines do not regenerate.
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -SUICIDED
DestructionDelay     1
Weapon               INITIAL DroneMineDetonationWeapon
End

Behavior  SlowDeathBehavior ModuleTag_Death03232
DeathTypes           NONE +SUICIDED
DestructionDelay     1
End

; --- end Death modules ---

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  396
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               45

End

ObjectReskin MineDroneRedeployed MineDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState  NONE
Model              AVDrnMn_A1
Animation          AVDrnMn_A1.AVDrnMn_A1
AnimationMode      ONCE_BACKWARDS
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model              AVDrnMn
Animation          AVDrnMn.AVDrnMn
AnimationMode      LOOP
End

End

End

Object MineDroneProjectile

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState  NONE
Model              AVDrnMn_A1
Animation          AVDrnMn_A1.AVDrnMn_A1
AnimationMode      ONCE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model              AVDrnMn_A2
Animation          AVDrnMn_A2.AVDrnMn_A2
AnimationMode      LOOP
ParticleSysBone    None RocketBuggyDust
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  DroneMineTrackingBeep

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  0.1
AerodynamicFriction    0.1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
DetonateOnNoFuel         No
FuelLifetime             5000 ;Limited Fuel so that we don't chase our target forever but reactive as mine
DistanceToTargetForLock  10
DetonateCallsKill        Yes
KillSelfDelay            1
End
Locomotor  SET_NORMAL DroneMineProjectileLocomotor

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
ExemptStatus  KILLING_SELF
OCL  OCL_DroneMineReactivateAsMine
End

Behavior  InstantDeathBehavior DeathModuleTag_01424
DeathTypes  ALL
RequiredStatus  KILLING_SELF
Weapon  DroneMineDetonationWeapon
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  396
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  0.1
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object AmericaVehicleSupplyDroneDeliveredByChinookObject

; *** ART Parameters ***
SelectPortrait  SASupplyDrone_L
ButtonImage     SASupplyDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVWrkHrs
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  POWER_PLANT_UPGRADING
Model          AVWrkHrs_DRP
Animation      AVWrkHrs_DRP.AVWrkHrs_DRP
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
End
End

; For testing purposes
;  Draw  W3DModelDraw ModuleTag_012
;    OkToChangeModelColor  Yes
;    ConditionState  NONE
;      Model          AVWrkHrs
;      HideSubObject  CARGO01
;    End
;    ConditionState  POWER_PLANT_UPGRADED
;      Model          NONE
;    End
;  End

; ***DESIGN parameters ***
DisplayName          OBJECT:SupplyDrone
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE HARVESTER UNATTACKABLE DRONE

Body  ActiveBody ModuleTag_02
MaxHealth      100.0
InitialHealth  100.0
End


Behavior  SupplyTruckAIUpdate ModuleTag_03
MaxBoxes  99
SupplyCenterActionDelay  99999999999999999999    ; Really high value so that we don't actualy collect any supplies just move over to the nearest supply source
SupplyWarehouseActionDelay  99999999999999999999 ; Really high value so that we don't actualy collect any supplies just move over to the nearest supply source
SupplyWarehouseScanDistance  700
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
End
Locomotor  SET_NORMAL SupplyDroneAirdroppingLocomotor

Behavior  DestroyDie ModuleTag_11
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  99999.0
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Special Airdropped Creation Code Start ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;These modules control the effects and sounds for when the drone is first created giving
;the illusion of it being airdropped by a Chinook while its all just a bunch of clever tricks

Behavior  PowerPlantUpgrade ModuleTag_AirdropCreation01
TriggeredBy  Upgrade_AmericaBattleDrone
End

Behavior  PowerPlantUpdate ModuleTag_AirdropCreation02
RodsExtendTime  8000
End

Behavior  FireWeaponUpdate ModuleTag_AirdropCreation03
Weapon  SuicideUnresistableWeapon
InitialDelay  8000
End

Behavior  ObjectCreationUpgrade ModuleTag_AirdropCreation04
UpgradeObject  OCL_AmericaVehicleChinookDroppingSupplyDroneAmbientSoundEffect
TriggeredBy    Upgrade_AmericaBattleDrone
End

Behavior  GrantUpgradeCreate ModuleTag_AirdropCreation05
UpgradeToGrant  Upgrade_AmericaBattleDrone
End

Behavior  CreateObjectDie ModuleTag_AirdropCreation06
CreationList  OCL_AmericaVehicleChinookDroppingSupplyDroneDropCompleted
End

Behavior  CreateObjectDie ModuleTag_AirdropCreation07
CreationList  OCL_AmericaSupplyDroneChinookTakingOff
End

Behavior  FXListDie ModuleTag_AirdropCreation08
DeathFX  FX_HaloHelicopterVehicleCableRelease
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Special Airdropped Creation Code End ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Geometry  BOX
GeometryMajorRadius  15.6
GeometryMinorRadius  8.0
GeometryHeight  12.6
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleSupplyDroneSpawnObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model          AVWrkHrs
HideSubObject  CARGO01
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SupplyCenter
Side              America
EditorSorting     SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD STRUCTURE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER

Body  StructureBody ModuleTag_05
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  SupplyCenterCreate ModuleTag_06
End

Behavior  ProductionUpdate ModuleTag_09
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_10
UnitCreatePoint    X:0.0 Y:0.0 Z:0.0
NaturalRallyPoint  X:0.0 Y:0.0 Z:0.0
End

Behavior             SpawnBehavior ModuleTag_12
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  AmericaVehicleSupplyDrone
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  DestroyDie ModuleTag_0823
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  1
MaxLifetime  1
End

Geometry  BOX
GeometryMajorRadius  15.6
GeometryMinorRadius  8.0
GeometryHeight  12.6
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookDroppingSupplyDroneTakingOff

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVChinook
Animation  AVChinook.AVChinook
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
End

ConditionState  RUBBLE
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVChinook_d
HideSubObject  Props01
HideSubObject  Props02
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ChinookArmor
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ExperienceValue      50 50 50 50 ;Experience point value at each level

; *** ENGINEERING Parameters ***
KindOf           PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        250.0
InitialHealth    250.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

; *** AUDIO Parameters ***
SoundAmbient  ChinookAmbientLoop

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL DismissedHelicopterTakingOffLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  FXListDie ModuleTag_056
DeathTypes  ALL
DeathFX  FX_ChinookStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          30.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   1.0             ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      30.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                ChinookRubbleHull
End

;Delete me before a new OCL can be triggered
Behavior  DeletionUpdate ModuleTag_0451
MinLifetime  8900   ; min lifetime in msec
MaxLifetime  8900   ; max lifetime in msec
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleScoutDrone

; *** ART Parameters ***
SelectPortrait          SAScout_L
ButtonImage             SAScout

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVTargtDrn
Animation  AVTargtDrn.AVTargtDrn
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  AVTargtDrn_d
Animation  AVTargtDrn_d.AVTargtDrn_d
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ScoutDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         SmallTankDamageFX
End
BuildCost        100
BuildTime        5.0          ;in seconds
VisionRange      150
ShroudClearingRange  500
IsTrainable      No  ;Can gain experience

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound
SoundMoveStart  NoSound

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED

Body  HighlanderBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  60   // turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
End
Locomotor  SET_NORMAL DroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_06
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  MaxHealthUpgrade ModuleTag_07
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   25.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_09
DeathTypes  ALL
CreationList       OCL_AmericaScoutDroneExplode
End
Behavior                  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX            FX_AmericaScoutDroneExplode
End

Behavior                  TransitionDamageFX ModuleTag_11
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove       Upgrade_AmericaScoutDrone ModuleTag_13
End


Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object TermiteDroneDeployedStructureDummyCollision

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableArmorAll
DamageFX           DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf                PRELOAD IMMOBILE CAN_SEE_THROUGH_STRUCTURE STICK_TO_TERRAIN_SLOPE UNATTACKABLE NO_COLLIDE

Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0
End

Behavior  DeletionUpdate ModuleTag_032512
MinLifetime  150
MaxLifetime  150
End

Behavior  DestroyDie ModuleTag_11
End

Geometry              BOX
GeometryMajorRadius   7.0
GeometryMinorRadius   7.0
GeometryHeight        5.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaVehicleWaspDrone

;MAIN CHASSIS
Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVWaspDrn
Animation  AVWaspDrn.AVWaspDrn
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVWaspDrn_D
Animation  AVWaspDrn_D.AVWaspDrn_D
End

ConditionState  RUBBLE
Model  AVWaspDrn_D
Animation  AVWaspDrn_D.AVWaspDrn_D
AnimationMode  MANUAL
HideSubObject  MUZZLEFX01
ShowSubObject  TURRET
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              WaspDroneArmor
DamageFX           SmallTankDamageFX
End

BuildCost            0
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         WaspDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE AIRCRAFT NO_HEAL_ICON

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  MaxHealthUpgrade ModuleTag_06
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   30.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  300        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  30   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      AmericaVehicleWasp_Turret
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideWeapon
InitialDelay  25000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; Seperate turret so that i can shoot properly
Object AmericaVehicleWasp_Turret

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  AVWaspDrn
Turret  Turret
TurretPitch  TurretEL
HideSubObject  CHASSIS LAUNCHERS
WeaponFireFXBone   PRIMARY  Muzzle
WeaponLaunchBone   PRIMARY  Muzzle
WeaponMuzzleFlash  PRIMARY  MuzzleFX
WeaponLaunchBone   TERTIARY WeaponA
WeaponFireFXBone   TERTIARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  AVWaspDrn_D
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
ShowSubObject  LAUNCHERS
HideSubObject  CHASSIS
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  AVWaspDrn_D
ShowSubObject  LAUNCHERS
HideSubObject  CHASSIS
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  NONE
Weapon             PRIMARY   WaspDroneMachineGunWeapon
Weapon             SECONDARY WaspDroneSuicideWeapon
AutoChooseSources  SECONDARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   WaspDroneMachineGunWeapon
Weapon             TERTIARY  WaspDroneRocketWeapon
Weapon             SECONDARY WaspDroneSuicideWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -90    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -10
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaDroneWeapons
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      1000
MaxDelay      1000
OCL           OCL_KillSelf
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End
