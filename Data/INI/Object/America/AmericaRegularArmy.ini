Object AmericaJetSpectreGunship_MK1
; *** ART Parameters ***
Draw = W3DOverlordAircraftDraw ModuleTag_01     ; Works with the dependencyModelDraw of the upgrade portable structures
; ----NORMAL-------------
DefaultConditionState
Model = AVSpectre
Animation = AVSpectre.AVSpectre
AnimationMode = MANUAL
Flags = START_FRAME_LAST
WeaponFireFXBone = PRIMARY MUZZLE
WeaponFireFXBone = SECONDARY MUZZLE
WeaponMuzzleFlash = PRIMARY MUZZLEFX
WeaponMuzzleFlash = SECONDARY MUZZLEFX
;Turret = Turret01
;TurretPitch = TurretEl01
;ParticleSysBone = WingTip03 SpectreContrail
;ParticleSysBone = WingTip04 SpectreContrail
End
ConditionState = DOOR_1_OPENING
Model = AVSpectre
Animation = AVSpectre.AVSpectre
AnimationMode = ONCE_BACKWARDS
Flags = MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone = WingTip01 SpectreContrail
ParticleSysBone = WingTip02 SpectreContrail
End
ConditionState = DOOR_1_CLOSING
Model = AVSpectre
Animation = AVSpectre.AVSpectre
AnimationMode = ONCE
Flags = MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone = WingTip03 JetContrailThin
ParticleSysBone = WingTip04 JetContrailThin
ParticleSysBone = Engine01 SpectreAfterburnerTrail
ParticleSysBone = Engine02 SpectreAfterburnerTrail
ParticleSysBone = Engine01 SpectreEngineFlare
ParticleSysBone = Engine02 SpectreEngineFlare
ParticleSysBone = Engine03 SpectreAfterburnerTrail
ParticleSysBone = Engine04 SpectreAfterburnerTrail
ParticleSysBone = Engine03 SpectreEngineFlare
ParticleSysBone = Engine04 SpectreEngineFlare
End
; ----DAMAGED-------------
ConditionState = DOOR_1_OPENING DAMAGED
Model = AVSpectre_D
Animation = AVSpectre_D.AVSpectre_D
AnimationMode = ONCE_BACKWARDS
Flags = MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone = WingTip01 SpectreContrail
ParticleSysBone = WingTip02 SpectreContrail
ParticleSysBone = Smoke01 JetFireLarge
ParticleSysBone = Smoke02 JetFireLarge
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 JetSmokeLarge
End
ConditionState = DOOR_1_CLOSING DAMAGED
Model = AVSpectre_D
Animation = AVSpectre_D.AVSpectre_D
AnimationMode = ONCE
Flags = MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone = WingTip03 JetContrailThin
ParticleSysBone = WingTip04 JetContrailThin
ParticleSysBone = Engine01 SpectreAfterburnerTrail
ParticleSysBone = Engine02 SpectreAfterburnerTrail
ParticleSysBone = Engine01 SpectreEngineFlare
ParticleSysBone = Engine02 SpectreEngineFlare
ParticleSysBone = Engine03 SpectreAfterburnerTrail
ParticleSysBone = Engine04 SpectreAfterburnerTrail
ParticleSysBone = Engine03 SpectreEngineFlare
ParticleSysBone = Engine04 SpectreEngineFlare
ParticleSysBone = Smoke01 JetFireLarge
ParticleSysBone = Smoke02 JetFireLarge
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 JetSmokeLarge
End
; ----REALLY DAMAGED-------------
ConditionState = DOOR_1_OPENING REALLYDAMAGED
Model = AVSpectre_D
Animation = AVSpectre_D.AVSpectre_D
AnimationMode = ONCE_BACKWARDS
Flags = MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone = WingTip01 SpectreContrail
ParticleSysBone = WingTip02 SpectreContrail
ParticleSysBone = Smoke01 SpectreGunshipFireLarge
ParticleSysBone = Smoke02 SpectreGunshipFireLarge
ParticleSysBone = Smoke03 SpectreGunshipFireLarge
ParticleSysBone = Smoke04 SpectreGunshipFireLarge
ParticleSysBone = Smoke05 SpectreGunshipFireLarge
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 SpectreSmokeLarge
ParticleSysBone = Smoke03 JetSmokeLarge
ParticleSysBone = Smoke04 SpectreSmokeLarge
End
ConditionState = DOOR_1_CLOSING REALLYDAMAGED
Model = AVSpectre_D
Animation = AVSpectre_D.AVSpectre_D
AnimationMode = ONCE
Flags = MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone = WingTip03 JetContrailThin
ParticleSysBone = WingTip04 JetContrailThin
ParticleSysBone = Engine01 SpectreAfterburnerTrail
ParticleSysBone = Engine02 SpectreAfterburnerTrail
ParticleSysBone = Engine01 SpectreEngineFlare
ParticleSysBone = Engine02 SpectreEngineFlare
ParticleSysBone = Engine03 SpectreAfterburnerTrail
ParticleSysBone = Engine04 SpectreAfterburnerTrail
ParticleSysBone = Engine03 SpectreEngineFlare
ParticleSysBone = Engine04 SpectreEngineFlare
ParticleSysBone = Smoke01 SpectreGunshipFireLarge
ParticleSysBone = Smoke02 SpectreGunshipFireLarge
ParticleSysBone = Smoke03 SpectreGunshipFireLarge
ParticleSysBone = Smoke04 SpectreGunshipFireLarge
ParticleSysBone = Smoke05 SpectreGunshipFireLarge
ParticleSysBone = Smoke01 JetSmokeLarge
ParticleSysBone = Smoke02 SpectreSmokeLarge
ParticleSysBone = Smoke03 JetSmokeLarge
ParticleSysBone = Smoke04 SpectreSmokeLarge
End
ConditionState = RUBBLE
Model = AVSpectre_D1
ParticleSysBone = Smoke01 SpectreGunshipFireLarge
ParticleSysBone = Smoke05 SpectreGunshipFireLarge
ParticleSysBone = Smoke03 SpectreGunshipFireLarge
ParticleSysBone = Smoke04 SpectreGunshipFireLarge
ParticleSysBone = Smoke01 SpectreSmokeLarge
ParticleSysBone = Smoke03 SpectreSmokeLarge
ParticleSysBone = Smoke02 SpectreSmokeLarge
ParticleSysBone = Smoke05 SpectreSmokeLarge
End
AliasConditionState = REALLYDAMAGED RUBBLE
AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING
OkToChangeModelColor = Yes
ParticlesAttachedToAnimatedBones = Yes
End

; ***DESIGN parameters ***
DisplayName = OBJECT:SpectreGunship
EditorSorting = VEHICLE
Side = America
TransportSlotCount = 0     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange = 300.0
ShroudClearingRange = 300
Prerequisites
Object = AmericaAirfield
End
ArmorSet
Conditions = None
Armor = SpectreGunshipArmor
DamageFX = None
End
ArmorSet
Conditions = PLAYER_UPGRADE
Armor = CountermeasuresSpectreGunshipArmor
DamageFX = None
End
WeaponSet
Conditions = None
Weapon = PRIMARY SpectreHowitzerGun_MK1
End
ExperienceValue = 40 40 40 40     ; Experience point value at each level
ExperienceRequired = 0 150 450 900     ; Experience points needed to gain each level
IsTrainable = No     ; Not Player built, so no veterancy..............................
; *** AUDIO Parameters ***
VoiceSelect = SpectreGunshipVoiceSelect
VoiceAttack = SpectreGunshipVoiceAttack
VoiceMove = SpectreGunshipVoiceMove
SoundAmbient = SpectreGunshipAmbientLoop
SoundAmbientRubble = NoSound
UnitSpecificSounds
Afterburner = SpectreGunshipAfterburnerLoop
HowitzerFire = SpectreHowitzerWeapon
End
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED
Body = ActiveBody ModuleTag_03
MaxHealth 1200.0
InitialHealth 1200.0
End
Behavior = JetSlowDeathBehavior ModuleTag_04
DestructionDelay = 99999999     ; destruction will happen when we
RollRate = 0.0
RollRateDelta = 100%     ; each frame, rollrate = rollrate * rollrateDelta
PitchRate = 0.0
FallHowFast = 110.0%     ; Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath = FX_JetBigDeathInitial ;FX_SpectreGunshipExplosionLight
OCLInitialDeath = OCL_SpectreDeathInitial
DelaySecondaryFromInitialDeath = 500     ; in milliseconds
FXSecondary = FX_spectreDeathExplosion
OCLSecondary = None
FXHitGround = FX_BigPlaneDeath ;FX_spectreGunshipDeathExplosion
OCLHitGround = OCL_SpectreDeathHitGround
DelayFinalBlowUpFromHitGround = 200     ; in milliseconds
; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
OCLFinalBlowUp = OCL_SpectreDeathFinalBlowUp
End
Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End
; SCRIPTED SUPPORT: These special power is triggered directly
; from the transport without creating a transport. This is done
; via new code support and CreateLocation USE_OWNER_OBJECT --
; which also prevents creating the payload transport.
Behavior = AIUpdateInterface ModuleTag_07
; Turret
; TurretTurnRate = 180
; TurretPitchRate = 180
; AllowsPitch = Yes
; MinPhysicalPitch = -90
; ControlledWeaponSlots = PRIMARY
; End
ForbidPlayerCommands = Yes     ; this AIUpdate will only do command if from script or AI, not player
End
Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor
Behavior = SpecialAbility ModuleTag_32
SpecialPowerTemplate = SuperweaponSpectreGunship
UpdateModuleStartsAttack = Yes
End
Behavior = SpectreGunshipUpdate ModuleTag_10
GattlingStrafeFXParticleSystem = BulletImpactSparksSpectre
SpecialPowerTemplate = SuperweaponSpectreGunship
HowitzerWeaponTemplate = SpectreHowitzerGun_MK1
GattlingTemplateName = SpectreGunshipGattlingCannon_MK1
RandomOffsetForHowitzer = 30
TargetingReticleRadius = 25
OrbitInsertionSlope = 0.7     ; steepness of orbit entry
GunshipOrbitRadius = 400 ;250
HowitzerFiringRate = 450 ;300     ; how long between each attempted shot of howitzer
HowitzerFollowLag = 400     ; 600   ; how long after gattling acquires target can howitzer shoot same
StrafingIncrement = 20     ; how far apart is each shot of the gattling as it strafes
AttackAreaRadius = 250 ;200
OrbitTime = 30000 ;15000
AttackAreaDecal
Texture = SCCSpecTarg
Style = SHADOW_ALPHA_DECAL
OpacityMin = 25%
OpacityMax = 50%
OpacityThrobTime = 1500
Color = R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer = Yes
End
TargetingReticleDecal
Texture = SCCSpecRet
Style = SHADOW_ALPHA_DECAL
OpacityMin = 50%
OpacityMax = 100%
OpacityThrobTime = 300
Color = R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer = Yes
End
End
Behavior = HelixContain ModuleTag_09
Slots = 1
DamagePercentToUnits = 100%
AllowInsideKindOf = PORTABLE_STRUCTURE
PassengersAllowedToFire = Yes
ShouldDrawPips = No
End
Behavior = FlammableUpdate ModuleTag_08
AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3     ; taking this much damage...
AflameDamageDelay = 500     ; this often.
End
Behavior = ArmorUpgrade ModuleTag_Armor01
TriggeredBy = Upgrade_AmericaCountermeasures
End
Behavior = CountermeasuresBehavior ModuleTag_11
TriggeredBy = Upgrade_AmericaCountermeasures
FlareTemplateName = CountermeasureFlare
FlareBoneBaseName = Flare     ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize = 4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle = 90.0     ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor = 2.0     ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys = 1000     ; Time between flare volleys
NumberOfVolleys = 5     ; Number of times the volleys will fire before reloading
ReloadTime = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate = 30%     ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay = 200     ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End
; ;;;;;;;  ClientUpdate             = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
; ;;;;;;;  End                  ; This allows the wingtip trails to stay stuck to the retractable wings
Geometry = Box
GeometryIsSmall = No
GeometryMajorRadius = 40.0
GeometryMinorRadius = 10.0
GeometryHeight = 10.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 89     ; minimum elevation angle above horizon. Used to limit shadow length
End

Object SpectreHulk
  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVSpectre_D1
    End
  End
  ; ***DESIGN parameters ***
  EditorSorting = DEBRIS
  ; *** ENGINEERING Parameters ***
  KindOf = NO_COLLIDE HULK
  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 2.0
    AllowBouncing = No
    KillWhenRestingOnGround = Yes
  End
  Behavior = LifetimeUpdate ModuleTag_04
    MinLifetime = 1500     ; min lifetime in msec
    MaxLifetime = 1600     ; max lifetime in msec
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    SinkDelay = 1500
    SinkRate = 2     ; in Dist/Sec
    DestructionDelay = 8000
  End
End

; ------------------------------------------------------------------------------
Object SpectreGunshipGattlingCannon_MK1
; *** ART Parameters ***
Draw = W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor = Yes
AttachToBoneInContainer = CHASSIS
DefaultConditionState
Model = AVSpectre_GA
Animation = AVSpectre_GA.AVSpectre_GA
AnimationMode = ONCE_BACKWARDS
;Turret = TurretEL01
TurretPitch = TURRETEL01
WeaponFireFXBone = PRIMARY Muzzle
;WeaponFireFXBone = SECONDARY Muzzle
WeaponMuzzleFlash = PRIMARY MuzzleFX
;WeaponMuzzleFlash = SECONDARY MuzzleFX
TransitionKey = TRANS_Default
End
ConditionState = ATTACKING
Model = AVSpectre_G
Animation = AVSpectre_G.AVSpectre_G
AnimationMode = LOOP
;Turret = TurretEL01
TurretPitch = TURRETEL01
WeaponFireFXBone = PRIMARY Muzzle
; WeaponFireFXBone = SECONDARY Muzzle
WeaponMuzzleFlash = PRIMARY MuzzleFX
;WeaponMuzzleFlash = SECONDARY MuzzleFX
WaitForStateToFinishIfPossible = TRANS_Default
TransitionKey = TRANS_Firing
End
TransitionState TRANS_Firing TRANS_Default
Model = AVSpectre_GA
Animation = AVSpectre_GA.AVSpectre_GA
AnimationMode = ONCE
End
End
; ***DESIGN parameters ***
Side = America
EditorSorting = SYSTEM
TransportSlotCount = 1
WeaponSet
Conditions = None
Weapon = PRIMARY SpectreGattlingGun_MK1
End
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor     ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange = 200
; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop = NoSound     ; TurretMoveLoop
VoiceRapidFire = NoSound
End
; *** ENGINEERING Parameters ***
KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body = StructureBody ModuleTag_02
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY
TurretTurnRate = 160     ; turn rate, in degrees per sec
TurretPitchRate = 160
AllowsPitch = Yes
MinPhysicalPitch = -90
End
AutoAcquireEnemiesWhenIdle = No
End
Behavior = DestroyDie ModuleTag_04
; nothing
End
Geometry = BOX
GeometryMajorRadius = 20.0
GeometryMinorRadius = 3.0
GeometryHeight = 3.0
GeometryIsSmall = No
Shadow = NONE
End
; ------------------------------------------------------------------------------
Object SpectreGunshipHowitzer_MK1
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = AVSGUNSHIP_GHOW
TurretPitch = TURRETEL01
WeaponFireFXBone = PRIMARY Muzzle
WeaponFireFXBone = SECONDARY Muzzle
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponMuzzleFlash = SECONDARY MuzzleFX
End
End
; ***DESIGN parameters ***
Side = America
EditorSorting = SYSTEM
TransportSlotCount = 1
WeaponSet
Conditions = None
Weapon = PRIMARY SpectreHowitzerGun_MK1
End
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor     ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange = 200
; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop = NoSound     ; TurretMoveLoop
VoiceRapidFire = NoSound
End
; *** ENGINEERING Parameters ***
KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body = StructureBody ModuleTag_02
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots = PRIMARY SECONDARY
TurretTurnRate = 60     ; turn rate, in degrees per sec
TurretPitchRate = 60
AllowsPitch = Yes
MinPhysicalPitch = -90
End
AutoAcquireEnemiesWhenIdle = No
End
Behavior = DestroyDie ModuleTag_04
; nothing
End
Behavior = StealthDetectorUpdate ModuleTag_06
DetectionRate = 500     ; how often to rescan for stealthed things in my sight (msec)
; DetectionRange = ??? ;   Defaults to VisionRange
CanDetectWhileContained = Yes
End
Geometry = BOX
GeometryMajorRadius = 13.0
GeometryMinorRadius = 13.0
GeometryHeight = 8.0
GeometryIsSmall = No
Shadow = NONE
End

Object CommandoMineClearingGrenade
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_467
ConditionState = NONE
Model = AVTankShel
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:GLARock
EditorSorting = SYSTEM
ArmorSet
Armor = ProjectileArmor
End
VisionRange = 0.0
; *** ENGINEERING Parameters ***
KindOf = PROJECTILE
Body = ActiveBody ModuleTag_468
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = DestroyDie ModuleTag_469
; nothing
End
Behavior = DumbProjectileBehavior ModuleTag_470
TumbleRandomly = Yes     ; not implemented, alas
DetonateCallsKill = Yes
; To tweak a Bezier path, please see GS
FirstHeight = 10     ; Height of Bezier control points above highest intervening terrain
SecondHeight = 10
FirstPercentIndent = 50%     ; Percentage of shot distance control points are placed
SecondPercentIndent = 90%
FlightPathAdjustDistPerSecond = 100     ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End
Behavior = PhysicsBehavior ModuleTag_471     ; lorenzen sez, please keep this, it allows tumbling
Mass = 0.1     ; about the weight of a rock
End
Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
Scale = 0.7
End

Object MineRemoverSmall
; ***DESIGN parameters ***
EditorSorting = SYSTEM
KindOf = IMMOBILE NO_COLLIDE
; *** ENGINEERING Parameters ***
Body = InactiveBody ModuleTag_145
; nothing
End
Behavior = FireWeaponUpdate ModuleTag_146
Weapon = MineRemoverWeaponSmall
End
Behavior = DeletionUpdate ModuleTag_147
MinLifetime = 1633
MaxLifetime = 1633
End
Geometry = CYLINDER
GeometryMajorRadius = 1.0
GeometryMinorRadius = 1.0
GeometryHeight = 1.0
GeometryIsSmall = No
End

Object MineDetonatorSmall
EditorSorting = SYSTEM
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor
DamageFX = None
End
Behavior = AIUpdateInterface ModuleTag_038
End
Locomotor = SET_NORMAL FreeFallLocomotor

Body = ActiveBody ModuleTag_160
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = LifetimeUpdate ModuleTag_162
MinLifetime = 500     ; 3 seconds.
MaxLifetime = 500
End
Behavior = DestroyDie ModuleTag_164
End
Geometry = CYLINDER
GeometryMajorRadius = 30.0
GeometryHeight = 5.0
GeometryIsSmall = Yes
End

Object AmericaInfantryMarine
Scale = 0.9
SelectPortrait = SACommando
ButtonImage = SACommando

; ART Parameters ******************************
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
; -----------------------------------
; STANDING --------------------------
; -----------------------------------

; idle --------------------------
DefaultConditionState
Model = AISeal2b_SKN ;AICOMM_SKN     ; AIHERO_SKN
IdleAnimation = AIPFDR_SKL.AIPFDR_STA
IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
AnimationMode = ONCE
WeaponFireFXBone = PRIMARY Muzzle01
WeaponMuzzleFlash = PRIMARY MuzzleFX01
WeaponFireFXBone = SECONDARY Muzzle01
WeaponMuzzleFlash = SECONDARY MuzzleFX01
WeaponLaunchBone = SECONDARY Muzzle
TransitionKey = TRANS_Standing
HideSubObject = LASER
End
AliasConditionState = REALLYDAMAGED

; moving --------------------------
ConditionState = MOVING
Model = AISeal2b_SKN
Animation = AIPFDR_SKL.AIPFDR_RNA 25 ;AISeal2_SKL.AIPFDR_RNA 25
AnimationMode = LOOP
Flags = RANDOMSTART
TransitionKey = TRANS_Standing
ParticleSysBone = None InfantryDustTrails
End
AliasConditionState = MOVING REALLYDAMAGED

; firing --------------------------
ConditionState = FIRING_A
Model = AISeal2_SKN
Animation = AISeal2_SKL.AISeal2_ATB ;AIPFDR_ATB     ; recoil in standing position
AnimationMode = ONCE
TransitionKey = TRANS_FiringA
ShowSubObject = LASER
End
AliasConditionState = FIRING_A MOVING
AliasConditionState = FIRING_A MOVING REALLYDAMAGED
AliasConditionState = FIRING_A REALLYDAMAGED

; aiming --------------------------
ConditionState = BETWEEN_FIRING_SHOTS_A
Model = AISeal2_SKN
Animation = AISeal2_SKL.AISeal2_ATB ;AIPFDR_ATB     ; recoil in standing position
AnimationMode = MANUAL
TransitionKey = TRANS_FiringA
Flags = START_FRAME_LAST
WaitForStateToFinishIfPossible = TRANS_FiringA
ShowSubObject = LASER
End
AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState = RELOADING_A
AliasConditionState = RELOADING_A REALLYDAMAGED

TransitionState = Trans_Standing Trans_FiringA
Animation = AIPFDR_SKL.AIPFDR_ATBTR
AnimationMode = ONCE
End

TransitionState = Trans_FiringA Trans_Standing
Animation = AIPFDR_SKL.AIPFDR_ATBTR
AnimationMode = ONCE_BACKWARDS
Flags = START_FRAME_LAST
End

;BOMB PLANTING
; --------------------------------------
ConditionState = UNPACKING
Model = AISeal2b_SKN
Animation = AIPFDR_SKL.AIPFDR_BMB
AnimationMode = ONCE
End
AliasConditionState = MOVING UNPACKING
AliasConditionState = UNPACKING REALLYDAMAGED
AliasConditionState = MOVING UNPACKING REALLYDAMAGED

; -----------------------------------
; SWIMMING --------------------------
; -----------------------------------

ConditionState = OVER_WATER
Model = AISealBoat
Animation = AISealBoat.AISealBoat
AnimationMode = MANUAL ;LOOP
WeaponFireFXBone = PRIMARY Muzzle01
WeaponFireFXBone = SECONDARY Muzzle01
TransitionKey = TRANS_Standing_W
HideSubObject = LASER
ParticleSysBone = None SwimmingInfantryWaterRipples
End
AliasConditionState = OVER_WATER REALLYDAMAGED
AliasConditionState = MOVING OVER_WATER REALLYDAMAGED
AliasConditionState = DYING OVER_WATER

ConditionState = FIRING_A OVER_WATER
Model = AISealBoat
Animation = AISealBoat.AISealBoat
AnimationMode = ONCE ;LOOP
WeaponFireFXBone = PRIMARY Muzzle01
WeaponFireFXBone = SECONDARY Muzzle01
TransitionKey = TRANS_FiringA_W
ShowSubObject = LASER
ParticleSysBone = None SwimmingInfantryWaterRipples
End
AliasConditionState = FIRING_A MOVING OVER_WATER
AliasConditionState = FIRING_A MOVING OVER_WATER REALLYDAMAGED
AliasConditionState = FIRING_A OVER_WATER REALLYDAMAGED
ConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER
Model = AISealBoat
Animation = AISealBoat.AISealBoat
AnimationMode = MANUAL ;LOOP
WeaponFireFXBone = PRIMARY Muzzle01
WeaponFireFXBone = SECONDARY Muzzle01
Flags = START_FRAME_LAST
WaitForStateToFinishIfPossible = TRANS_FiringA_W
ShowSubObject = LASER
ParticleSysBone = None SwimmingInfantryWaterRipples
End
AliasConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER REALLYDAMAGED
AliasConditionState = RELOADING_A OVER_WATER
AliasConditionState = RELOADING_A OVER_WATER REALLYDAMAGED




; moving --------------------------
;ConditionState = MOVING OVER_WATER
;  Animation = AISeal2_SKL.AIPFDR_CLA 25
;  AnimationMode = LOOP
;  Flags = RANDOMSTART
;  TransitionKey = TRANS_Swimming
;  ParticleSysBone = None SwimmingInfantryWaterRipples
;End
;AliasConditionState = MOVING OVER_WATER REALLYDAMAGED

; firing --------------------------
;ConditionState = FIRING_A OVER_WATER
;  Animation = AISeal2_SKL.AISeal2_ATB ;AIPFDR_ATB     ; recoil in standing position
;  AnimationMode = ONCE
;  TransitionKey = TRANS_FiringA
;  ShowSubObject = LASER
;End
;AliasConditionState = FIRING_A MOVING OVER_WATER
;AliasConditionState = FIRING_A MOVING OVER_WATER REALLYDAMAGED
;AliasConditionState = FIRING_A OVER_WATER REALLYDAMAGED

; aiming --------------------------
;ConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER
;  Animation = AISeal2_SKL.AIPFDR_RNA
;  AnimationMode = LOOP
;  AnimationSpeedFactorRange = 0.25 0.25
;  WaitForStateToFinishIfPossible = TRANS_FiringA
;  ShowSubObject = LASER
;End
;AliasConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER REALLYDAMAGED
;AliasConditionState = RELOADING_A OVER_WATER
;AliasConditionState = RELOADING_A  OVER_WATER REALLYDAMAGED

; ---
;ConditionState = DYING OVER_WATER
;  Animation = AISeal2_SKL.AIPFDR_ADTA3
;  AnimationMode = ONCE
;  TransitionKey = TRANS_Dying
;End
; -------------------------------------------------

; dying -----------------------------
ConditionState = DYING
Animation = AIPFDR_SKL.AIPFDR_DTA
AnimationMode = ONCE
TransitionKey = TRANS_Dying
End
TransitionState = TRANS_Dying TRANS_Flailing
Animation = AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode = ONCE
End
ConditionState = DYING EXPLODED_FLAILING
Animation = AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode = LOOP
TransitionKey = TRANS_Flailing
End
;AliasConditionState = DYING EXPLODED_FLAILING OVER_WATER

ConditionState = DYING EXPLODED_BOUNCING
Animation = AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode = ONCE
TransitionKey = None
End
;AliasConditionState = DYING EXPLODED_BOUNCING OVER_WATER

ConditionState = FREEFALL
Animation = AIPFDR_SKL.AIPFDR_PFL
AnimationMode = LOOP
TransitionKey = TRANS_Falling
End
AliasConditionState = FREEFALL DYING
;AliasConditionState = FREEFALL OVER_WATER
;AliasConditionState = FREEFALL DYING OVER_WATER

ConditionState = PARACHUTING
Animation = AIPFDR_SKL.AIPFDR_PHG
AnimationMode = LOOP
Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
; our bone positions should come from the last frame, rather than the first
TransitionKey = TRANS_Chute
End
AliasConditionState = PARACHUTING DYING
;AliasConditionState = PARACHUTING OVER_WATER
;AliasConditionState = PARACHUTING DYING OVER_WATER

TransitionState = TRANS_Falling TRANS_Chute
Animation = AIPFDR_SKL.AIPFDR_POP
AnimationMode = ONCE
Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
; our bone positions should come from the last frame, rather than the first
End
TransitionState = TRANS_Chute TRANS_Standing
Animation = AIPFDR_SKL.AIPFDR_PTD
AnimationMode = ONCE
End
End

; ***DESIGN parameters ***
DisplayName = OBJECT:Commando
Side = America
EditorSorting = INFANTRY
TransportSlotCount = 1     ; how many "slots" we take in a transport (0 == not transportable)
CrushableLevel = 3
WeaponSet
Conditions = None
Weapon = PRIMARY SealSubMachineGunWeapon
Weapon = SECONDARY CommandoMineClearingGrenadeWeapon
PreferredAgainst = PRIMARY INFANTRY

AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
AutoChooseSources = SECONDARY NONE
End
ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End
VisionRange = 225
ShroudClearingRange = 400
BuildCost = 700
BuildTime = 12.0     ; in seconds
IsTrainable = Yes
ExperienceRequired = 0 60 80 150
ExperienceValue = 30 40 60 120
CommandSet = AmericaMarineCommandSet
; *** AUDIO Parameters ***
VoiceSelect = USACommandoVoiceSelect
VoiceMove = USACommandoVoiceMove
VoiceAttack = USACommandoVoiceAttack
VoiceGarrison = USACommandoVoiceMove
VoiceEnter = USACommandoVoiceMove
VoiceGuard = USACommandoVoiceAttack
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
UnitSpecificSounds
VoiceEnter = USACommandoVoiceMove
VoiceEnterHostile = USACommandoVoiceMove
VoiceGarrison = USACommandoVoiceMove
VoiceCreate = USACommandoVoiceCreate
VoiceGetHealed = USACommandoVoiceMove
End

KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE
Body = ActiveBody ModuleTag_02
MaxHealth = 175.0
InitialHealth = 175.0
End

Behavior = ArmorUpgrade ModuleTag_Armor01
TriggeredBy = Upgrade_AmericaChemicalSuits
End

;  Behavior = MaxHealthUpgrade ModuleTag_HPUP01
;    TriggeredBy = Z_Infa_Upgrade_InfantryArmor
;    AddMaxHealth = 43.75
;    ChangeType = ADD_CURRENT_HEALTH_TOO     ; Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
;  End

Behavior = AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle = Yes
End
Behavior = CommandButtonHuntUpdate ModuleTag_Hunt     ; allows use of command button hunt script with this unit.
End

Behavior = StealthDetectorUpdate ModuleTag_93
DetectionRate = 500     ; how often to rescan for stealthed things in my sight (msec)
DetectionRange = 175 ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned = No     ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained = No     ; Contained means being in a transport or tunnel network.
End
Behavior = AutoFindHealingUpdate ModuleTag_04     ; This update will have the unit go to a healing station if injured. jba
ScanRate = 1000     ; once a second.
ScanRange = 300     ;
NeverHeal = 0.85     ; don't heal if we are > 85% healthy.
AlwaysHeal = 0.25     ; if we get below 25%, find healing right away.
End
Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor CommandoSwimmingLocomotor
Behavior = PhysicsBehavior ModuleTag_05
Mass = 5.0
End
;Behavior = SquishCollide ModuleTag_07
; nothing
;End
Behavior = SpecialAbility ModuleTag_Plant03
SpecialPowerTemplate = SpecialAbilityCommandoTimedCharges
UpdateModuleStartsAttack = Yes
InitiateSound = USACommandoVoiceC4
End
Behavior = SpecialAbilityUpdate ModuleTag_Plant04
SpecialPowerTemplate = SpecialAbilityCommandoTimedCharges
StartAbilityRange = 0.0
PreparationTime = 0
SpecialObject = MarineC4Charge
MaxSpecialObjects = 10
SpecialObjectsPersistWhenOwnerDies = Yes
SpecialObjectsPersistent = Yes     ; Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets = Yes     ; This prevents multiple charges placed on the same object.
UnpackTime = 2000     ; NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
FlipOwnerAfterUnpacking = Yes
FleeRangeAfterCompletion = 80.0     ; Runs away after finishing ability
UnpackSound = ColonelBurtonPlantCharge
LoseStealthOnTrigger = Yes
PreTriggerUnstealthTime = 2000     ; in milliseconds
End
; --- begin Death modules ---
Behavior = SlowDeathBehavior ModuleTag_Death01
DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6
SinkDelay = 3000
SinkRate = 0.5     ; in Dist/Sec
DestructionDelay = 8000
FX = INITIAL FX_CommandoDie
End
Behavior = SlowDeathBehavior ModuleTag_Death02
DeathTypes = NONE +CRUSHED +SPLATTED
SinkDelay = 3000
SinkRate = 0.5     ; in Dist/Sec
DestructionDelay = 8000
FX = INITIAL FX_GIDieCrushed
End
Behavior = SlowDeathBehavior ModuleTag_Death03
DeathTypes = NONE +EXPLODED
SinkDelay = 3000
SinkRate = 0.5     ; in Dist/Sec
DestructionDelay = 8000
FX = INITIAL FX_CommandoDie
FlingForce = 8
FlingForceVariance = 3
FlingPitch = 60
FlingPitchVariance = 10
End
Behavior = SlowDeathBehavior ModuleTag_Death04
DeathTypes = NONE +BURNED
DestructionDelay = 0
FX = INITIAL FX_DieByFireUSA
OCL = INITIAL OCL_FlamingInfantry
End
Behavior = SlowDeathBehavior ModuleTag_Death05
DeathTypes = NONE +POISONED
DestructionDelay = 0
FX = INITIAL FX_DieByToxinGLA
OCL = INITIAL OCL_ToxicInfantry
End
Behavior = SlowDeathBehavior ModuleTag_Death06     ; don't forget to give it a new, unique module tag
DeathTypes = NONE +POISONED_BETA
DestructionDelay = 0
FX = INITIAL FX_DieByToxinGLA
OCL = INITIAL OCL_ToxicInfantryBeta     ; you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior = SlowDeathBehavior ModuleTag_Death07
DeathTypes = NONE +POISONED_GAMMA
DestructionDelay = 0
FX = INITIAL FX_DieByToxinGLA
OCL = INITIAL OCL_ToxicInfantryGamma
End

; ---------------------------------
; <Extra Death Types> -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6
; ---------------------------------
;Radiation Melt
Behavior = SlowDeathBehavior ModuleTag_D_Rad
DeathTypes          = NONE +EXTRA_2
DestructionDelay    = 0
OCL                 = INITIAL OCL_RadiationDeathInfantry
FX                  = INITIAL FX_GIDieRadiation
FX                  = FINAL   FX_DieByToxinUSA
End
;Electrocuted
Behavior = SlowDeathBehavior ModuleTag_D_Tesla
DeathTypes          = NONE +EXTRA_3
DestructionDelay    = 0
FX                  = INITIAL FX_DieByFireUSA
OCL                 = INITIAL OCL_TeslaDeathInfantry
FX                  = FINAL   FX_InfantryTeslaDie
End
;Bloody Explosion
Behavior = SlowDeathBehavior ModuleTag_D_Gore
DeathTypes          = NONE +EXTRA_4
DestructionDelay    = 0
FX                  = INITIAL FX_GoreDeathEffect
OCL                 = INITIAL OCL_GoreDeathInfantry
End
;Zombie Virus
Behavior = SlowDeathBehavior ModuleTag_D_Virus
DeathTypes          = NONE +EXTRA_5
DestructionDelay    = 0
FX                  = INITIAL FX_VirusDeathEffect
OCL                 = INITIAL OCL_VirusDeathInfantry
End
;NYI
Behavior = SlowDeathBehavior ModuleTag_D_Placeholder
DeathTypes          = NONE +EXTRA_6
DestructionDelay    = 0
FX                  = INITIAL FX_PlaceholderDeathEffect
OCL                 = INITIAL OCL_PlaceholderDeathInfantry
End
;Sniper (Uses regular slowdeath + this FX)
Behavior = FXListDie ModuleTag_D_Sniper
DeathTypes          = NONE +EXTRA_7
DeathFX             = FX_DamageInfantryBloodSnipered
End
; ---------------------------------
; </Extra Death Types>
; ---------------------------------
; --- end Death modules ---
Behavior = PoisonedBehavior ModuleTag_10
PoisonDamageInterval = 100     ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration = 3000     ; ... for this long after last hit by poison damage
End

Behavior = VeterancyGainCreate ModuleVet_01
StartingLevel = VETERAN
ScienceRequired = SCIENCE_VeteranSpecialists
End

; Immer Getarnt
Behavior = StealthUpdate ModuleTag_Stealth
StealthDelay = 2000     ; msec
StealthForbiddenConditions = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY
;HintDetectableConditions = IS_FIRING_WEAPON
FriendlyOpacityMin = 70.0%
FriendlyOpacityMax = 100.0%
InnateStealth = Yes
OrderIdleEnemiesToAttackMeUponReveal = Yes
End

;  Geometry = CYLINDER
;  GeometryMajorRadius = 10.0
;  GeometryMinorRadius = 10.0
;  GeometryHeight = 12.0
;  GeometryIsSmall = Yes
Shadow = SHADOW_DECAL
ShadowSizeX = 14     ;
ShadowSizeY = 14     ;
ShadowTexture = ShadowI     ;
BuildCompletion = APPEARS_AT_RALLY_POINT
End

Object MarineC4Charge     ; Created by Commando = Marine
; No drawable because it's invisible
; *** ART Parameters ***
; ***DESIGN parameters ***
Side = America
EditorSorting = SYSTEM
TransportSlotCount = 0     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange = 75.0     ; Allow the stickybomb to show itself to user?
ShroudClearingRange = 75
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor
End
; *** AUDIO Parameters ***
UnitSpecificSounds
UnitBombPing = BombTickTimed
StickyBombCreated = ColonelBurtonSetDemoCharge
End
; *** ENGINEERING Parameters ***
RadarPriority = NOT_ON_RADAR
KindOf = PROJECTILE MINE NO_COLLIDE
; Body = ActiveBody ModuleTag_896
; MaxHealth = 1.0
; InitialHealth = 1.0
; End
Body = HighlanderBody ModuleTag_897
MaxHealth = 1.0
InitialHealth = 1.0
End
Behavior = StealthUpdate ModuleTag_898
StealthDelay = 0     ; msec
StealthForbiddenConditions = NONE
FriendlyOpacityMin = 50.0%
InnateStealth = Yes
End
; This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior = LifetimeUpdate ModuleTag_899
MinLifetime = 8000     ; min lifetime in msec
MaxLifetime = 8000     ; max lifetime in msec
End
Behavior = StickyBombUpdate ModuleTag_900
; Keeps it attached properly to the intended target should it move.
End
Behavior = SlowDeathBehavior ModuleTag_901
DestructionDelay = 1
FX = INITIAL WeaponFX_TNTStickyBombDetonation
Weapon = FINAL MarineC4ChargeWeapon
End
Geometry = CYLINDER
GeometryMajorRadius = 8.0
GeometryHeight = 8.0
GeometryIsSmall = Yes
End

Object AmericaVehicleSpecialPowerChinook
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = AVChinook
Animation = AVChinook.AVChinook
AnimationMode = LOOP
End
ConditionState = REALLYDAMAGED
Model = AVChinook_d
Animation = AVChinook_d.AVChinook_d
AnimationMode = LOOP
End
ConditionState = RUBBLE
Model = AVChinook_d
Animation = AVChinook_d.AVChinook_d
AnimationMode = LOOP
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:Chinook
EditorSorting = VEHICLE
Side = America
TransportSlotCount = 0     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange = 0.0
ArmorSet
Conditions = None
Armor = AirplaneArmor
DamageFX = TankDamageFX
End
ArmorSet
Conditions = PLAYER_UPGRADE
Armor = CountermeasuresAirplaneArmor
DamageFX = None
End
CommandSet = AmericaScriptedTransportDropsCommandSet
; *** AUDIO Parameters ***
SoundAmbient = ChinookAmbientLoop
SoundAmbientRubble = NoSound
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body = ActiveBody ModuleTag_03
MaxHealth = 900.0
InitialHealth = 900.0
End
ExperienceValue = 40 40 40 40     ; Experience point value at each level
Behavior = PhysicsBehavior ModuleTag_04
Mass = 500.0
End
; SCRIPTED SUPPORT: These special powers are triggered directly
; from the transport without creating a transport. This is done
; via new code support and CreateLocation USE_OWNER_OBJECT --
; which also prevents creating the payload transport.
;  Behavior = OCLSpecialPower ModuleTag_05
;    SpecialPowerTemplate = SuperweaponDaisyCutter     ; @@KRIS@@
;    OCL = SUPERWEAPON_DaisyCutter
;    CreateLocation = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End
;  Behavior = OCLSpecialPower ModuleTag_06
;    SpecialPowerTemplate = SuperweaponParadropAmerica
;    UpgradeOCL = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
;    UpgradeOCL = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
;    OCL = SUPERWEAPON_Paradrop1
;    CreateLocation = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End
;  Behavior = OCLSpecialPower ModuleTag_07
;    SpecialPowerTemplate = SuperweaponCarpetBomb
;    OCL = SUPERWEAPON_CarpetBomb
;    CreateLocation = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End
; Behavior = OCLSpecialPower ModuleTag_08
;    SpecialPowerTemplate = SuperweaponCrateDrop
;    OCL = SUPERWEAPON_CrateDrop
;    CreateLocation = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End
Behavior = DeliverPayloadAIUpdate ModuleTag_09
DoorDelay = 500
MaxAttempts = 4
DropOffset = X:0 Y:0 Z:-10
DropDelay = 1000     ; time in between each item dropped (if more than one)
PutInContainer = AmericaParachute
DeliveryDistance = 150
End
Locomotor = SET_NORMAL ChinookSpecialPowerLocomotor
Behavior = TransportContain ModuleTag_10
Slots = 100     ; hey, it's a BIG transport
ScatterNearbyOnExit = No
OrientLikeContainerOnExit = Yes
KeepContainerVelocityOnExit = Yes
ExitPitchRate = 30
ExitBone = WeaponA01
AllowInsideKindOf = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
; gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime = 0     ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths = 0
DestroyRidersWhoAreNotFreeToExit = Yes     ; 'destroy' as opposed to 'kill'
End
Behavior = HelicopterSlowDeathBehavior ModuleTag_675
DestructionDelay = 99999999     ; the destruction delay
SpiralOrbitTurnRate = 140.0     ; in degrees per second, bigger # = tighter spiral
SpiralOrbitForwardSpeed = 350.0     ; bigger # = larger spiral
SpiralOrbitForwardSpeedDamping = .9999     ; smaller #'s = slow down faster
MaxBraking = 190     ; max braking we can use during death spiral (lower num = wilder spiral)
SoundDeathLoop = ComancheDamagedLoop
MinSelfSpin = 100     ; in degrees per second
MaxSelfSpin = 300     ; in degrees per second
SelfSpinUpdateDelay = 100     ; in milliseconds
SelfSpinUpdateAmount = 10     ; in degrees
FallHowFast = 12.0%     ; fraction of gravity, lower = take longer to fall
MinBladeFlyOffDelay = 1500     ; in milliseconds
MaxBladeFlyOffDelay = 1500     ; in milliseconds
AttachParticle = SootySmokeTrail
AttachParticleBone = Propeller02
BladeObjectName = ComancheBlades
BladeBoneName = Propeller01
FXBlade = FX_HelicopterBladeExplosion
OCLBlade = OCL_HelicopterBladeExplosion
FXHitGround = FX_HelicopterHitGround
OCLHitGround = OCL_HelicopterHitGround
FXFinalBlowUp = FX_GroundedHelicopterBlowUp
OCLFinalBlowUp = OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath = 30
FinalRubbleObject = ChinookRubbleHull
End
; ;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_12
; ;;;;;;;  End
Behavior = ArmorUpgrade ModuleTag_Armor01
TriggeredBy = Upgrade_AmericaCountermeasures
End
Behavior = CountermeasuresBehavior ModuleTag_13
TriggeredBy = Upgrade_AmericaCountermeasures
FlareTemplateName = CountermeasureFlare
FlareBoneBaseName = Flare     ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize = 4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle = 90.0     ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor = 2.0     ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys = 1000     ; Time between flare volleys
NumberOfVolleys = 5     ; Number of times the volleys will fire before reloading
ReloadTime = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate = 30%     ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay = 200     ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End
;Behavior = TransitionDamageFX ModuleTag_17
;  DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
;  ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
;End
Geometry = Box
GeometryIsSmall = No
GeometryMajorRadius = 40.0
GeometryMinorRadius = 10.0
GeometryHeight = 10.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 89     ; minimum elevation angle above horizon. Used to limit shadow length
End

Object ApacheHellfireMissile
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_247
OkToChangeModelColor = Yes
DefaultConditionState
; @todo -- need real art here
Model = UVRockBug_m
End
ConditionState = JAMMED
ParticleSysBone = None SparksMedium
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:Prop
EditorSorting = SYSTEM
VisionRange = 0.0
ArmorSet
Conditions = None
Armor = ProjectileArmor
DamageFX = None
End
TransportSlotCount = 1     ; how many "slots" we take in a transport (0 == not transportable)
; *** ENGINEERING Parameters ***
KindOf = PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_248
MaxHealth = 100.0
InitialHealth = 100.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End
; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_249
DeathTypes = NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior = InstantDeathBehavior DeathModuleTag_250
DeathTypes = NONE +LASERED
; shot down by laser.
FX = FX_GenericMissileDisintegrate
OCL = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_251
DeathTypes = ALL -LASERED -DETONATED
; shot down by nonlaser.
FX = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors
Behavior = PhysicsBehavior ModuleTag_252
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_253
TryToFollowTarget = Yes
FuelLifetime = 1500
InitialVelocity = 150     ; in dist/sec
IgnitionDelay = 100 ;0
DistanceToTravelBeforeTurning = 10
IgnitionFX = FX_ApacheMissileIgnition
End
Locomotor = SET_NORMAL ComancheAntiTankMissileLocomotor
Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 2.0
End
;--------------------------------------------
Object AmericaVehicleAH64DApacheLongbow
; *** ART Parameters ***
SelectPortrait = SAAPACHE
ButtonImage = SAAPACHE

Draw = W3DOverlordAircraftDraw ModuleTag_01
ProjectileBoneFeedbackEnabledSlots = PRIMARY ;SECONDARY ;TERTIARY
DefaultConditionState
Model = AvApacheNew
HideSubObject = MissileUpgrade
Animation = AvApacheNew.AvApacheNew
AnimationMode = LOOP
;Turret = TURRETEL
;TurretPitch = TURRETEL
;WeaponMuzzleFlash = PRIMARY TurretFX01
;WeaponFireFXBone = PRIMARY Muzzle01
;WeaponLaunchBone = PRIMARY Muzzle01
;Missiles
WeaponFireFXBone = PRIMARY WEAPONA ;SECONDARY WEAPONA
WeaponLaunchBone = PRIMARY WEAPONA
End
ConditionState = REALLYDAMAGED RUBBLE
Model = AvApacheNew_D
Animation = AvApacheNew_D.AvApacheNew_D
AnimationMode = LOOP
End
ConditionState = RUBBLE SPECIAL_DAMAGED
Model = AvApacheNew_D
HideSubObject = ROTOR01
End
AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED
ConditionState = WEAPONSET_PLAYER_UPGRADE
ShowSubObject = MissileUpgrade
WeaponFireFXBone = TERTIARY WeaponB
WeaponLaunchBone = TERTIARY WeaponB ;TERTIARY WeaponB
End
ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
Model = AvApacheNew_D
Animation = AvApacheNew_D.AvApacheNew_D
AnimationMode = LOOP
ShowSubObject = MissileUpgrade
WeaponFireFXBone = TERTIARY WeaponB
WeaponLaunchBone = TERTIARY WeaponB
End
OkToChangeModelColor = Yes
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End
; ***DESIGN parameters ***
DisplayName = OBJECT:Apache
EditorSorting = VEHICLE
Side = America
TransportSlotCount = 0     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange 300.0
ShroudClearingRange 300

Prerequisites
;Object = AmericaAirfield
End

WeaponSet
Conditions = None
Weapon = PRIMARY ApacheHellfireMissileWeapon
AutoChooseSources PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
End

WeaponSet
Conditions PLAYER_UPGRADE
Weapon PRIMARY ApacheHellfireMissileWeapon
AutoChooseSources PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
Weapon TERTIARY CobraRocketPodWeapon
PreferredAgainst SECONDARY VEHICLE STRUCTURE
End

ArmorSet
Conditions = None
Armor ComancheArmor
DamageFX = None
End
ArmorSet
Conditions = PLAYER_UPGRADE
Armor CountermeasuresComancheArmor
DamageFX = None
End
BuildCost = 1500
BuildTime = 20     ; in seconds
ExperienceValue = 50 50 100 200     ; Experience point value at each level
ExperienceRequired = 0 100 200 400     ; Experience points needed to gain each level
IsTrainable = Yes     ; Can gain experience
CommandSet = AmericaVehicleApacheCommandSet
; *** AUDIO Parameters ***
VoiceSelect = ApacheVoiceSelect
VoiceMove = ApacheVoiceMove
VoiceGuard = ApacheVoiceMove
VoiceAttack = ApacheVoiceAttack
SoundAmbient = ApacheAmbientLoop ;ComancheAmbientLoop
SoundAmbientRubble = NoSound
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate = ApacheVoiceCreate
SoundEject = PilotSoundEject
VoiceEject = PilotVoiceEject
Afterburner = RaptorAfterburner
VoiceGarrison = ApacheVoiceMove
TurretMoveStart = NoSound
TurretMoveLoop = NoSound
VoiceFireRocketPods = ApacheVoiceAttack ;ComancheVoiceAttackRocket
End
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD
Behavior = WeaponSetUpgrade ModuleTag_02
TriggeredBy = Upgrade_ComancheRocketPods
End
Behavior = ExperienceScalarUpgrade ModuleTag_03
TriggeredBy = Upgrade_AmericaAdvancedTraining
AddXPScalar = 1.0     ; Increases experience gained by an additional 100%
End
;  Behavior = VeterancyGainCreate ModuleTag_Training
;    StartingLevel = VETERAN
;    ScienceRequired = AirF_SCIENCE_Tree21
;  End
Body = ActiveBody ModuleTag_04
MaxHealth = 220.0
InitialHealth = 220.0
End

Behavior = AutoHealBehavior ModuleTag_HeliArmor
HealingAmount = 5
HealingDelay = 1000     ; msec
TriggeredBy = Upgrade_AmericaStealthCoating
End

Behavior = FXListDie ModuleTag_05
DeathFX = FX_ApacheStartDeath
End

Behavior = OverlordContain ModuleTag_192
Slots = 1
DamagePercentToUnits = 100%
AllowInsideKindOf = PORTABLE_STRUCTURE
PassengersAllowedToFire = Yes
PayloadTemplateName ApacheTurret
ExperienceSinkForRider = Yes
End

Behavior = JetAIUpdate ModuleTag_06
MinHeight = 5
NeedsRunway = No
KeepsParkingSpaceWhenAirborne = No
AutoAcquireEnemiesWhenIdle = Yes
; note that comanches do not return to base when idle
; this is a bit of a trick... normally, units cannot move-and-fire at
; the same time. we need the comanche to be able to. so we give it
; a "turret" (invisible) and put the two main weapons on it, but with
; no turn rate. voila!
;Turret
;  TurretTurnRate = 0
;  TurretPitchRate = 90
;   AllowsPitch = Yes
;  MinPhysicalPitch = -90     ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
;  ControlledWeaponSlots = PRIMARY ;SECONDARY
;End
;AltTurret
;  TurretTurnRate = 0     ; this "turret" does not turn
;  TurretPitchRate = 0     ; nor does it pitch
;  ControlledWeaponSlots = SECONDARY TERTIARY
;End
End

Behavior = CommandButtonHuntUpdate ModuleTag_Hunt     ; allows use of command button hunt script with this unit.
End

Locomotor = SET_NORMAL ApacheLocomotor
Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
Behavior = PhysicsBehavior ModuleTag_07
Mass = 50.0
End
Behavior = HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay = 99999999     ; the destruction delay
SpiralOrbitTurnRate = 140.0     ; in degrees per second, bigger # = tighter spiral
SpiralOrbitForwardSpeed = 350.0     ; bigger # = larger spiral
SpiralOrbitForwardSpeedDamping = .9999     ; smaller #'s = slow down faster
MaxBraking = 190     ; max braking we can use during death spiral (lower num = wilder spiral)
SoundDeathLoop = ComancheDamagedLoop
MinSelfSpin = 100     ; in degrees per second
MaxSelfSpin = 300     ; in degrees per second
SelfSpinUpdateDelay = 100     ; in milliseconds
SelfSpinUpdateAmount = 10     ; in degrees
FallHowFast = 12.0%     ; fraction of gravity, lower = take longer to fall
MinBladeFlyOffDelay = 1500     ; in milliseconds
MaxBladeFlyOffDelay = 1500     ; in milliseconds
AttachParticle = SootySmokeTrail
AttachParticleBone = ROTOR02
BladeObjectName = ComancheBlades
BladeBoneName = ROTOR02 ;Propeller01
; Most things that eject pilots do so immediately upon death,
; via use of EjectPilotDie, but Helicopters are a special case...
; they need to do so after their blades are ejected.
OCLEjectPilot = OCL_EjectPilotViaParachute
FXBlade = FX_HelicopterBladeExplosion
OCLBlade = OCL_HelicopterBladeExplosion
FXHitGround = FX_HelicopterHitGround
OCLHitGround = OCL_HelicopterHitGround
FXFinalBlowUp = FX_GroundedHelicopterBlowUp
OCLFinalBlowUp = OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath = 1500
FinalRubbleObject = ApacheRubbleHull
End
Behavior = TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End
Behavior = ArmorUpgrade ModuleTag_Armor01
TriggeredBy = Upgrade_AmericaCountermeasures
End
Behavior = CountermeasuresBehavior ModuleTag_10
TriggeredBy = Upgrade_AmericaCountermeasures
FlareTemplateName = CountermeasureFlare
FlareBoneBaseName = Flare     ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize = 2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle = 60.0     ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor = 2.0     ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys = 1000     ; Time between flare volleys
NumberOfVolleys = 3     ; Number of times the volleys will fire before reloading
ReloadTime = 4000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate = 30%     ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay = 200     ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End
Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3     ; taking this much damage...
AflameDamageDelay = 500     ; this often.
End
Geometry = BOX
GeometryMajorRadius = 20.0
GeometryMinorRadius = 3.0
GeometryHeight = 25.0
GeometryIsSmall = No
Shadow = SHADOW_VOLUME
ShadowSizeX = 89     ; minimum elevation angle above horizon. Used to limit shadow length
End

; ------------------------------------------------------------------------------
Object ApacheTurret
Draw = W3DDependencyModelDraw ModuleTag_418
DefaultConditionState
Model = AvApacheNew_G ;NVKA50_NG
Turret = TURRET
TurretPitch = TURRETEL
WeaponMuzzleFlash = PRIMARY MuzzleFX
WeaponFireFXBone = PRIMARY Muzzle
WeaponLaunchBone = PRIMARY Muzzle
End
AttachToBoneInContainer = Firepoint01
End
PlacementViewAngle = -45
; ***DESIGN parameters ***
Side = America
EditorSorting = SYSTEM
TransportSlotCount = 1
WeaponSet
Conditions = None
Weapon = PRIMARY Apache30mmCannonWeapon
End

ArmorSet
Conditions = None
Armor = InvulnerableAllArmor     ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange = 200

Behavior = WeaponSetUpgrade ModuleTag_02
TriggeredBy = Upgrade_ComancheRocketPods
End

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart = NoSound
TurretMoveLoop = NoSound     ; TurretMoveLoop
End
; *** ENGINEERING Parameters ***
KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body = StructureBody ModuleTag_181
MaxHealth = 100.0
InitialHealth = 100.0
End
Behavior = AIUpdateInterface ModuleTag_182
Turret
ControlledWeaponSlots = PRIMARY ;SECONDARY
TurretTurnRate = 180     ; turn rate, in degrees per sec
TurretPitchRate = 180
AllowsPitch = Yes
MinPhysicalPitch = -85
NaturalTurretPitch = 0 ;45
End
AutoAcquireEnemiesWhenIdle = Yes
MoodAttackCheckRate = 500     ; default is 2000
End
Behavior = DestroyDie ModuleTag_183
; <No Data>
End
Geometry = BOX
GeometryMajorRadius = 6.0
GeometryMinorRadius = 6.0
GeometryHeight = 10.0
GeometryIsSmall = No
;Shadow = SHADOW_VOLUME
;ShadowSizeX = 45     ; minimum elevation angle above horizon. Used to limit shadow length
End
;------------------------------------------------------------------------------
Object AmericaSuperWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                America
EditorSorting       SYSTEM
CommandSet   AmericaSuperPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End

Object AmericaSupportWeaponsHolderObject

VisionRange           0
ShroudClearingRange   0

DisplayName         OBJECT:Selector
Side                America
EditorSorting       SYSTEM
CommandSet   AmericaSupportPowersCommandSet

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf          PRELOAD VEHICLE CLICK_THROUGH NO_COLLIDE NO_SELECT UNATTACKABLE IGNORES_SELECT_ALL

ArmorSet
Conditions          None
Armor               InvulnerableAllArmor
DamageFX            EmptyDamageFX
End
MaxSimultaneousOfType   1

Body   ImmortalBody ModuleTag_01
MaxHealth   1
InitialHealth   1
End
Behavior   PhysicsBehavior ModuleTag_04
Mass   500.0
End
Behavior   DestroyDie ModuleTag_08
DeathTypes   ALL
End
Behavior   AIUpdateInterface ModuleTag_09
End
;Locomotor   SET_NORMAL SpecialPowersHolderObjectLocomotor

;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching04
;TriggeredBy   Upgrade_GeneralAlexander
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralAlexander
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching05
;TriggeredBy   Upgrade_GeneralGranger
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralGranger
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching06
;TriggeredBy   Upgrade_GeneralIronside
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralIronside
;End
;Behavior   CommandSetUpgrade ModuleTag_CommandSetSwitching07
;TriggeredBy   Upgrade_GeneralTowns
;RequiresAllTriggers No
;CommandSet   AmericaSuperPowersCommandSet_UP_GeneralTowns
;End

;Geometry   CYLINDER
;GeometryMajorRadius   1.0
;GeometryMinorRadius   1.0
;GeometryHeight   1.0
;GeometryIsSmall   Yes
End

Object AmericaJetWidowmaker

; *** ART Parameters ***
SelectPortrait           SAWidowMaker_L
ButtonImage              SAWidowMaker

Draw                     W3DModelDraw ModuleTag_01

OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones   Yes

DefaultConditionState
Model                 AVF35
HideSubObject         BurnerFX01
End

ConditionState          JETEXHAUST
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

ConditionState          JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
; afterburner
ShowSubObject         BurnerFX01
ParticleSysBone       Engine01 JetLenzflare
ParticleSysBone       Engine02 JetLenzflare
End

ConditionState          REALLYDAMAGED
Model                 AVF35_D
; damage
ParticleSysBone       Smoke01 JetSmoke
ParticleSysBone       Engine01 JetEngineDamagedSmoke
End

ConditionState          REALLYDAMAGED JETEXHAUST
Model                 AVF35_D
; damage
ParticleSysBone       Smoke01 JetSmoke
ParticleSysBone       Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

ConditionState          REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                 AVF35_D
; damage
ParticleSysBone       Smoke01 JetSmoke
ParticleSysBone       Engine01 JetEngineDamagedSmoke
; afterburner
ShowSubObject         BurnerFX01
ParticleSysBone       Engine01 JetLenzflare
ParticleSysBone       Engine02 JetLenzflare
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

ConditionState          RUBBLE
Model                 AVF35_D1
HideSubObject         None
ShowSubObject         None
End

ConditionState          RUBBLE JETEXHAUST JETAFTERBURNER
Model                 AVF35_D1
;HideSubObject is needed cause there're inherited from default condition state
HideSubObject         None
ShowSubObject         None
ParticleSysBone       Engine01 JetExhaust
ParticleSysBone       Engine02 JetExhaust
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

End

Draw                     W3DModelDraw ModuleTag_FireBones01
DefaultConditionState
Model              AVRaptor_B
WeaponLaunchBone   PRIMARY WeaponA
End
End

Draw                     W3DModelDraw ModuleTag_FlareBones01
DefaultConditionState
Model              AVFlares
End
End

Draw                  W3DModelDraw ModuleTag_TargetingLaser01

DefaultConditionState
Model             None
AltTurretPitch    LASER01
WaitForStateToFinishIfPossible   TRANS_START_FIRING
End
AliasConditionState   FIRING_A
AliasConditionState   USER_1

ConditionState      USER_1 FIRING_A
Model             AVJetLsr
Animation         AVJetLsr.AVJetLsr
AnimationMode     ONCE
TransitionKey     TRANS_START_FIRING
End

End

Draw   W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model           EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName               OBJECT:Widowmaker
EditorSorting             VEHICLE
Side                      America
TransportSlotCount        0 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange             400.0
ShroudClearingRange     400.0

Prerequisites
Object   AmericaAirfield
Object   AmericaDetentionCamp AmericaDroneControlCenter
End

WeaponSet
Conditions              None
Weapon                  PRIMARY RaptorJetMissileWeapon
End

ArmorSet
Conditions              None
Armor                   AirplaneArmor
DamageFX                None
End

ArmorSet
Conditions              PLAYER_UPGRADE
Armor                   CountermeasuresAirplaneArmor
DamageFX                None
End


BuildCost                 1400
BuildTime                 16.0
ExperienceValue           50 50 100 150  ;Experience point value at each level
ExperienceRequired        0 100 200 400   ;Experience points needed to gain each level
IsTrainable               Yes             ;Can gain experience
CrusherLevel             1  ;What can I crush?: 1   infantry, 2   trees, 3   vehicles
CrushableLevel           2  ;What am I?:        0   for infantry, 1   for trees, 2   general vehicles
CommandSet                AmericaJetRaptorCommandSet

; *** AUDIO Parameters ***
VoiceSelect              WidowmakerVoiceSelect
VoiceMove                WidowmakerVoiceMove
VoiceAttack              WidowmakerVoiceAttack
VoiceAttackAir           WidowmakerVoiceAttackAir
VoiceGuard               RaptorVoiceAirPatrol
SoundAmbient             RaptorAmbientLoop
SoundAmbientRubble       NoSound

UnitSpecificSounds
VoiceCreate            WidowmakerVoiceCreate
SoundEject             PilotSoundEject
VoiceEject             PilotVoiceEject
Afterburner            RaptorAfterburner
VoiceLowFuel           WidowmakerVoiceLowFuel
VoiceGarrison          WidowmakerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority            UNIT
KindOf                   PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                     ActiveBody ModuleTag_02
MaxHealth              180.0
InitialHealth          180.0

SubdualDamageCap         900
SubdualDamageHealRate    500
SubdualDamageHealAmount   50
End

Behavior   ExperienceScalarUpgrade ModuleTag_04
TriggeredBy   Upgrade_AmericaAdvancedTraining
AddXPScalar   1.0 ;Increases experience gained by an additional 100%
End

Behavior                            JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                   FX_JetOnGroundDeath
OCLOnGroundDeath                  OCL_RaptorDeathFinalBlowUp
DestructionDelay                  99999999; destruction will happen when we
RollRate                          0.2
RollRateDelta                     100% ;each frame, rollrate   rollrate * rollrateDelta
PitchRate                         0.0
FallHowFast                       110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                    FX_WidowMakerDeathInitial
OCLInitialDeath                   OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath    500  ; in milliseconds
FXSecondary                       FX_JetDeathSecondary
OCLSecondary                      OCL_RaptorDeathSecondary
FXHitGround                       FX_JetDeathHitGround
OCLHitGround                      OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround     200 ; in milliseconds
FXFinalBlowUp                     FX_JetDeathFinalBlowUp
OCLFinalBlowUp                    OCL_WidowmakerDeathFinalBlowUp
;   DeathLoopSound                    MICAL NEEDS TO MAKE ME
End

Behavior                      EjectPilotDie ModuleTag_06
ExemptStatus           HIJACKED
GroundCreationList   OCL_EjectPilotOnGround
AirCreationList   OCL_EjectPilotViaParachute
VeterancyLevels    ALL -REGULAR ;only vet+ gives pilot
End

Behavior                 PhysicsBehavior ModuleTag_07
Mass                   500.0
End

Behavior                   TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1           Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior   JetAIUpdate ModuleTag_09

Turret
TurretTurnRate          0
ControlledWeaponSlots   PRIMARY
End
AltTurret
TurretTurnRate          0
TurretPitchRate         60
AllowsPitch             Yes
MinPhysicalPitch        -90
ControlledWeaponSlots   SECONDARY
End
TurretsLinked                Yes

OutOfAmmoDamagePerSecond    10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift       0%   ; larger numbers give more lift sooner when taking off
TakeoffPause                500
MinHeight                   5
ParkingOffset               3             ; scooch it a little forward so the tail doesn't hit the doors
ReturnToBaseIdleTime        10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor   SET_NORMAL RaptorJetLocomotor
Locomotor   SET_TAXIING BasicJetTaxiLocomotor

Behavior                  ArmorUpgrade ModuleTag_Armor01
TriggeredBy             Upgrade_AmericaCountermeasures
End

Behavior                  CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy             Upgrade_AmericaCountermeasures
FlareTemplateName       CountermeasureFlare
FlareBoneBaseName       Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize              1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle          60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor    0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys     1000    ; Time between flare volleys
NumberOfVolleys         12     ; Number of times the volleys will fire before reloading
ReloadTime              0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate             30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency   0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay       200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior   WeaponBonusUpgrade ModuleTag_LaserGuidance01
TriggeredBy   Upgrade_AmericaLaserMissiles
End

Behavior   ModelConditionUpgrade ModuleTag_LaserGuidance02
ConditionFlag   USER_1
TriggeredBy     Upgrade_AmericaLaserMissiles
End

Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Geometry                   Box
GeometryIsSmall            Yes
GeometryMajorRadius        14.0
GeometryMinorRadius        7.0
GeometryHeight             5.0
Shadow                     SHADOW_VOLUME
ShadowSizeX   89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaVehicleCobra

; *** ART Parameters ***
SelectPortrait          SACobra_L
ButtonImage             SACobra

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model                            AVViper
Animation                        AVViper.AVViper
AnimationMode                    LOOP
Turret                           TURRET
HideSubObject                    MISSILEPODS TURRETEL
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
WeaponFireFXBone                 TERTIARY  WeaponB
WeaponLaunchBone                 TERTIARY  WeaponB
End

ConditionState  MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
ParticleSysBone                  ENGINE02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
End

ConditionState  REALLYDAMAGED MOVING
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
ParticleSysBone                  ENGINE01 HelixExhaust
End

ConditionState  RUBBLE
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
AnimationMode                    LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model                            AVViper_D
AnimationMode                    MANUAL
HideSubObject                    BLADE01 BLADE02 TURRETEL
End

;;;;With Rocket Pods

ConditionState  USER_1
ShowSubObject                    MISSILEPODS
End

ConditionState  USER_1 MOVING
ShowSubObject                    MISSILEPODS
ParticleSysBone                  ENGINE02 HelixExhaust
ParticleSysBone                  ENGINE01 HelixExhaust
End

ConditionState  USER_1 REALLYDAMAGED
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
ShowSubObject                    MISSILEPODS
End

ConditionState  USER_1 REALLYDAMAGED MOVING
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
ParticleSysBone                  ENGINE01 HelixExhaust
ShowSubObject                    MISSILEPODS
End

ConditionState  USER_1 RUBBLE
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
AnimationMode                    LOOP
ShowSubObject                    MISSILEPODS
End

ConditionState  USER_1 RUBBLE SPECIAL_DAMAGED
Model                            AVViper_D
AnimationMode                    MANUAL
ShowSubObject                    MISSILEPODS
HideSubObject                    BLADE01 BLADE02 TURRETEL
End

End

Draw  W3DModelDraw ModuleTag_Guns01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            AVViper
Animation                        AVViper.AVViper
AnimationMode                    MANUAL
Turret                           TURRET
TurretPitch                      TURRETEL
HideSubObject                    CHASSIS
WeaponMuzzleFlash                PRIMARY MuzzleFX
WeaponFireFXBone                 PRIMARY Muzzle
WeaponLaunchBone                 PRIMARY Muzzle
End
AliasConditionState  MOVING
AliasConditionState  ATTACKING MOVING

ConditionState  ATTACKING
AnimationMode                    LOOP
End

ConditionState  REALLYDAMAGED
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED ATTACKING MOVING

ConditionState  ATTACKING REALLYDAMAGED
Model                            AVViper_D
Animation                        AVViper_D.AVViper_D
AnimationMode                    LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_GuidanceLasers01

OkToChangeModelColor  Yes

ConditionState  NONE
Model                            NONE
WaitForStateToFinishIfPossible   TRANS_FIRING_MISSILES
End
AliasConditionState  FIRING_B
AliasConditionState  USER_2

ConditionState   USER_2 FIRING_B
Model          AVViper_L
Animation      AVViper_L.AVViper_L
AnimationMode  ONCE
Turret         TURRET
TransitionKey  TRANS_FIRING_MISSILES
End

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Cobra
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object AmericaAirfield
Object AmericaDetentionCamp
End

WeaponSet
Conditions           None
Weapon               PRIMARY     CobraNoseCannonWeapon
PreferredAgainst     PRIMARY     INFANTRY
Weapon               SECONDARY   CobraAntiAirMissileWeapon
PreferredAgainst     SECONDARY   AIRCRAFT
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY     CobraNoseCannonWeapon
PreferredAgainst     PRIMARY     INFANTRY
Weapon               SECONDARY   CobraAntiAirMissileWeapon
PreferredAgainst     SECONDARY   AIRCRAFT
Weapon               TERTIARY    CobraRocketPodWeapon
PreferredAgainst     TERTIARY    VEHICLE
End

ArmorSet
Conditions       None
Armor            ComancheArmor
DamageFX         None
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  CountermeasuresComancheArmor
DamageFX               None
End
BuildCost            1200
BuildTime            18.0            ; in seconds
ExperienceValue      50 50 100 200   ; Experience point value at each level
ExperienceRequired   0 100 200 300   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           AmericaVehicleCobraCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CobraVoiceSelect
VoiceMove              CobraVoiceMove
VoiceGuard             CobraVoiceMove
VoiceAttack            CobraVoiceAttack
VoiceAttackAir         CobraVoiceAttackAir
SoundAmbient           CobraAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          CobraVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
Afterburner          RaptorAfterburner
VoiceGarrison        CobraVoiceMove
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Behavior  ExperienceScalarUpgrade ModuleTag_03
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Body  ActiveBody ModuleTag_04
MaxHealth        210.0
InitialHealth    210.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_CobraStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate  110
TurretPitchRate  180
MinPhysicalPitch  -70   ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch  -5.0
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End

Locomotor  SET_NORMAL  CobraLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             10             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               AVComanche_Prop
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
; Most things that eject pilots do so immediately upon death,
; via use of EjectPilotDie, but Helicopters are a special case...
; they need to do so after their blades are ejected.
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      1500
FinalRubbleObject                CobraRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_10
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  WeaponSetUpgrade ModuleTag_RocketPods01
TriggeredBy  Upgrade_ComancheRocketPods
End

Behavior  ModelConditionUpgrade ModuleTag_RocketPods02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ComancheRocketPods
End

Behavior  CommandSetUpgrade ModuleTag_RocketPods03
CommandSet    AmericaVehicleCobraUpgradedCommandSet
TriggeredBy   Upgrade_ComancheRocketPods
End

Behavior  WeaponBonusUpgrade ModuleTag_LaserGuidance01
TriggeredBy  Upgrade_AmericaLaserMissiles
End

Behavior  ModelConditionUpgrade ModuleTag_LaserGuidance02
ConditionFlag  USER_2
TriggeredBy    Upgrade_AmericaLaserMissiles
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  3.0
GeometryHeight  15.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------

Object AmericaJetStealthFighter

; *** ART Parameters ***
SelectPortrait           SAF117Stealth
ButtonImage              SAF117Stealth

Draw   W3DModelDraw ModuleTag_01

DefaultConditionState
Model                             AVNightHwk
HideSubObject                     BurnerFX03 BurnerFX04
WeaponLaunchBone    PRIMARY WeaponA
End

ConditionState          JETEXHAUST
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

ConditionState          JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
; afterburners
ShowSubObject         BurnerFX03 BurnerFX04
ParticleSysBone       Engine01 JetLenzflare
ParticleSysBone       Engine02 JetLenzflare
End

ConditionState          REALLYDAMAGED
Model                 AVNightHwk_D
; damage
ParticleSysBone       Smoke01 JetSmoke
ParticleSysBone       Engine01 JetEngineDamagedSmoke
End

ConditionState          REALLYDAMAGED JETEXHAUST
Model                 AVNightHwk_D
; damage
ParticleSysBone       Smoke01 JetSmoke
ParticleSysBone       Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

ConditionState          REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                 AVNightHwk_D
; damage
ParticleSysBone       Smoke01 JetSmoke
ParticleSysBone       Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
; afterburners
ShowSubObject         BurnerFX03 BurnerFX04
ParticleSysBone       Engine01 JetLenzflare
ParticleSysBone       Engine02 JetLenzflare
End

ConditionState          RUBBLE
Model                 AVNightHwk_D
HideSubObject         None
ShowSubObject         None
End

ConditionState          RUBBLE JETEXHAUST JETAFTERBURNER
Model                 AVNightHwk_D
;HideSubObject is needed cause there're inherited from default condition state
HideSubObject         None
ShowSubObject         None
ParticleSysBone       Engine01 JetExhaust
ParticleSysBone       Engine02 JetExhaust
ParticleSysBone       Wingtip01 JetContrail
ParticleSysBone       Wingtip02 JetContrail
End

OkToChangeModelColor   Yes
ParticlesAttachedToAnimatedBones   Yes

End

Draw                  W3DModelDraw ModuleTag_TargetingLaser01

DefaultConditionState
Model             None
AltTurretPitch    LASER01
WaitForStateToFinishIfPossible   TRANS_START_FIRING
End
AliasConditionState   FIRING_A
AliasConditionState   USER_1

ConditionState      USER_1 FIRING_A
Model             AVJetLsr
Animation         AVJetLsr.AVJetLsr
AnimationMode     ONCE
TransitionKey     TRANS_START_FIRING
End

End

; ***DESIGN parameters ***
DisplayName             OBJECT:StealthFighter
EditorSorting           VEHICLE
Side                    America
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange             400.0
ShroudClearingRange     400.0
Prerequisites
Object AmericaAirfield
Object AmericaDetentionCamp
End
WeaponSet
Conditions   None
Weapon   PRIMARY StealthJetMissileWeapon
End
WeaponSet
Conditions   PLAYER_UPGRADE
Weapon   PRIMARY StealthJetLaserGuidedMissileWeapon
End
ArmorSet
Conditions        None
Armor             AirplaneArmor
DamageFX          None
End
ArmorSet
Conditions              PLAYER_UPGRADE
Armor                   CountermeasuresAirplaneArmor
DamageFX                None
End

BuildCost             1400
BuildTime             20.0 ;25.0            ;in seconds
ExperienceValue       100 100 200 300 ;Experience point value at each level
ExperienceRequired    0 200 300 600   ; Experience points needed to gain each level
IsTrainable           Yes             ;Can gain experience
CrusherLevel             1  ;What can I crush?: 1   infantry, 2   trees, 3   vehicles
CrushableLevel           2  ;What am I?:        0   for infantry, 1   for trees, 2   general vehicles
CommandSet   AmericaJetStealthFighterCommandSet

; *** AUDIO Parameters ***
VoiceSelect       StealthFighterVoiceSelect
VoiceMove         StealthFighterVoiceMove
VoiceAttack       StealthFighterVoiceAttack
VoiceAttackAir    StealthFighterVoiceAttackAir
VoiceGuard        StealthFighterVoiceAirPatrol
SoundAmbient      StealthFighterAmbientLoop
SoundAmbientRubble      NoSound
SoundStealthOn    StealthOn
SoundStealthOff   StealthOff
UnitSpecificSounds
VoiceCreate     StealthFighterVoiceCreate
SoundEject      PilotSoundEject
VoiceEject      PilotVoiceEject
Afterburner     RaptorAfterburner
VoiceLowFuel    StealthFighterVoiceLowFuel
VoiceGarrison   StealthFighterVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority     LOCAL_UNIT_ONLY
KindOf   PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body   ActiveBody ModuleTag_02
MaxHealth         140.0
InitialHealth     140.0
End

Behavior                            JetSlowDeathBehavior ModuleTag_03
FXOnGroundDeath                   FX_JetOnGroundDeath
OCLOnGroundDeath                  OCL_StealthDeathFinalBlowUp
DestructionDelay                  99999999; destruction will happen when we
RollRate                          0.2
RollRateDelta                     100% ;each frame, rollrate   rollrate * rollrateDelta
PitchRate                         0.0
FallHowFast                       110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                    FX_StealthFighterDeathInitial
;OCLInitialDeath                  None
DelaySecondaryFromInitialDeath    500  ; in milliseconds
FXSecondary                       FX_JetDeathSecondary
;OCLSecondary                     None
FXHitGround                       FX_JetDeathHitGround
;OCLHitGround                     None
DelayFinalBlowUpFromHitGround     200 ; in milliseconds
FXFinalBlowUp                     FX_JetDeathFinalBlowUp
OCLFinalBlowUp                    OCL_StealthDeathFinalBlowUp
;   DeathLoopSound                    MICAL NEEDS TO MAKE ME
End
Behavior   EjectPilotDie ModuleTag_04
GroundCreationList   OCL_EjectPilotOnGround
AirCreationList   OCL_EjectPilotViaParachute
ExemptStatus   HIJACKED
VeterancyLevels    ALL -REGULAR ;only vet+ gives pilot
End

Behavior   PhysicsBehavior ModuleTag_05
Mass   500.0
End

Behavior   JetAIUpdate ModuleTag_06

Turret
TurretTurnRate          0
ControlledWeaponSlots   PRIMARY
End
AltTurret
TurretTurnRate          0
TurretPitchRate         60
AllowsPitch             Yes
MinPhysicalPitch        -90
ControlledWeaponSlots   SECONDARY
End
TurretsLinked                Yes

OutOfAmmoDamagePerSecond   10%  ; amount of damage to take per SEC (not per frame) when out of ammo
; note that it's expressed as a percent of max health, not an absolute
TakeoffDistForMaxLift       0%   ; larger numbers give more lift sooner when taking off
TakeoffPause             500
MinHeight                5
ReturnToBaseIdleTime     10000         ; if idle for this long, return to base, even if not out of ammo
End

Behavior   WeaponSetUpgrade ModuleTag_07
TriggeredBy   Upgrade_AmericaLaserMissiles
End

Behavior   WeaponBonusUpgrade ModuleTag_152352
TriggeredBy   Upgrade_AmericaLaserMissiles
End

Behavior   ModelConditionUpgrade ModuleTag_LaserGuidance01
ConditionFlag   USER_1
TriggeredBy     Upgrade_AmericaLaserMissiles
End

Behavior   ExperienceScalarUpgrade ModuleTag_08
TriggeredBy   Upgrade_AmericaAdvancedTraining
AddXPScalar   1.0 ;Increases experience gained by an additional 100%
End

Behavior   StealthUpdate ModuleTag_09
StealthDelay                            2500 ; msec
StealthForbiddenConditions              FIRING_PRIMARY ATTACKING USING_ABILITY TAKING_DAMAGE
RevealDistanceFromTarget                20.0f
FriendlyOpacityMin                      5.0%
FriendlyOpacityMax                      10.0%
InnateStealth                           No
OrderIdleEnemiesToAttackMeUponReveal    Yes
End

Behavior   StealthUpgrade ModuleTag_Stealth03
TriggeredBy   Upgrade_AmericaStealthCoating
End

Behavior                  ArmorUpgrade ModuleTag_Armor01
TriggeredBy             Upgrade_AmericaCountermeasures
End

Behavior                  CountermeasuresBehavior ModuleTag_10
TriggeredBy             Upgrade_AmericaCountermeasures
FlareTemplateName       CountermeasureFlare
FlareBoneBaseName       Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize              2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle          60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor    2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys     1000  ; Time between flare volleys
NumberOfVolleys         3     ; Number of times the volleys will fire before reloading
ReloadTime              0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate             30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency   0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay       200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Locomotor   SET_NORMAL StealthJetLocomotor
Locomotor   SET_TAXIING BasicJetTaxiLocomotor

Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior                   TransitionDamageFX ModuleTag_22
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1           Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior   EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes   ALL -CRUSHED -SPLATTED
RequiredStatus   HIJACKED
VeterancyLevels    ALL
GroundCreationList   OCL_HijackerEmerge
AirCreationList   OCL_HijackerEmergeViaParachute
End

Behavior   FXListDie ModuleTag_HijackerEmerge02
RequiredStatus   HIJACKED
DeathTypes   ALL -CRUSHED -SPLATTED
DeathFX   FX_HijackerEmerge
End


Geometry   Cylinder
GeometryIsSmall   Yes
GeometryMajorRadius   7.0
GeometryMinorRadius   7.0
GeometryHeight   7.0
Shadow   SHADOW_VOLUME
ShadowSizeX   89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object StarlifterCallinFlare

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone  NONE BurtonFlareGrenadeSmoke
End
End

Draw  W3DModelDraw ModuleTag_CountDown01
ConditionState  NONE
Model  BmbCntr06
Animation  BmbCntr06.BmbCntr06
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
BuildCost            1500
BuildTime            0.0 ;Zero it gets called in instantly!

Prerequisites
Object   AmericaDetentionCamp AmericaDroneControlCenter
Science  SCIENCE_StrategicAirlift
End

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  Starlifter

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         EmptyDamageFX
End

VisionRange  50.0
ShroudClearingRange  50.0

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  LifetimeUpdate ModuleTag_remove03
MinLifetime        1
MaxLifetime        1
End

Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           ALL
DestructionDelay     6000
OCL                  INITIAL OCL_StarlifterCallinVoice
OCL                  FINAL   OCL_StarlifterSpawnIn
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object StarlifterCallinVoiceTrigger

; ***DESIGN parameters ***

EditorSorting    SYSTEM
VisionRange  10.0
ShroudClearingRange  10.0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

; *** AUDIO Parameters ***
SoundEnter  StarlifterVoiceCreate

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
ShouldDrawPips        No
End

Behavior  OCLUpdate ModuleTag_SoundTrigger02
MinDelay      6000
MaxDelay      6000
OCL           OCL_EuropeTearGasStrikeSoundTrigger
End

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  7000
MaxLifetime  7000
End

End

;------------------------------------------------------------------------------
Object StarlifterBuildLimiter

; ***DESIGN parameters ***

EditorSorting    SYSTEM

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  Starlifter

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        999999.0
InitialHealth    999999.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  15000
MaxLifetime  15000
End

Behavior  DestroyDie ModuleTag_Dismiss05
End

End

;------------------------------------------------------------------------------
Object AmericaVehicleStarlifter

; *** ART Parameters ***
SelectPortrait          SAStarlifter_L
ButtonImage             SAStarlifter

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model          AVStrLftr
Animation      AVStrLftr_SKL.AVStrLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_HOVERING
End

TransitionState  TRANS_HOVERING TRANS_MOVING
Animation      AVStrLftr_SKL.AVStrLftr_HTM
AnimationMode  ONCE
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState   MOVING
Animation      AVStrLftr_SKL.AVStrLftr_MOV
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

TransitionState  TRANS_MOVING TRANS_HOVERING
Animation      AVStrLftr_SKL.AVStrLftr_MTH
AnimationMode  ONCE
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState   REALLYDAMAGED
Model          AVStrLftr_D
TransitionKey  TRANS_DAMAGED_HOVERING
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
End

TransitionState  TRANS_DAMAGED_HOVERING TRANS_DAMAGED_MOVING
Model          AVStrLftr_D
Animation      AVStrLftr_SKL.AVStrLftr_HTM
AnimationMode  ONCE
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState   REALLYDAMAGED MOVING
Model          AVStrLftr_D
Animation      AVStrLftr_SKL.AVStrLftr_MOV
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

TransitionState  TRANS_DAMAGED_MOVING TRANS_DAMAGED_HOVERING
Model          AVStrLftr_D
Animation      AVStrLftr_SKL.AVStrLftr_MTH
AnimationMode  ONCE
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState  RUBBLE
Model          AVStrLftr_D
TransitionKey  TRANS_DAMAGED_HOVERING
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End
AliasConditionState   RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  OVER_WATER
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  MOVING SNOW
AliasConditionState  MOVING SNOW REALLYDAMAGED
AliasConditionState  MOVING OVER_WATER
AliasConditionState  MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING SNOW OVER_WATER
AliasConditionState  MOVING SNOW OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING
AliasConditionState  POWER_PLANT_UPGRADED MOVING REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW OVER_WATER REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  POWER_PLANT_UPGRADED SNOW REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  POWER_PLANT_UPGRADED OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED SNOW OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_DismissEffectPositions01

ConditionState  NONE
Model  AVStrLftr_B
WeaponLaunchBone  TERTIARY WeaponB
End

ConditionState  LOADED
Model  AVStrLftr_B
WeaponLaunchBone  TERTIARY WeaponA
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:StarLifter
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300
BuildCost            1500
BuildTime            0.0 ;Zero it gets called in instantly!
BuildTime            20.0          ;in seconds

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  Starlifter

WeaponSet
Conditions  NONE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  StarlifterDismissWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  NONE
End

Prerequisites
Object   AmericaDetentionCamp AmericaDroneControlCenter
Science  SCIENCE_StrategicAirlift
End

ExperienceValue      100 100 100 100 ;Experience point value at each level
IsTrainable          No
CommandSet           AmericaStarLifterCommandSet


ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

; *** AUDIO Parameters ***
VoiceSelect      StarlifterVoiceSelect
VoiceMove        StarlifterVoiceMove
SoundAmbient     StarlifterAmbientLoop
SoundEnter       HumveeEnter
SoundExit        HumveeExit

UnitSpecificSounds
VoiceCreate          StarlifterVoiceCreate
VoiceUnload          StarlifterVoiceEvac
VoiceGarrison        StarlifterVoiceMove
End



; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD IGNORES_SELECT_ALL


Body  ActiveBody ModuleTag_03
MaxHealth        400.0
InitialHealth    400.0

SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  30
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  ChinookAIUpdate ModuleTag_07
AutoAcquireEnemiesWhenIdle  Yes
RotorWashParticleSystem  HelixRotorWashRing
End
Locomotor  SET_NORMAL    StarLifterLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor


Behavior  PhysicsBehavior ModuleTag_09
Mass  200.0
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code Start ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_29
Slots                  22
DamagePercentToUnits   100%
AllowInsideKindOf      VEHICLE
ForbidInsideKindOf     AIRCRAFT IGNORE_DOCKING_BONES INFANTRY
BurnedDeathToUnits     Yes
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  CreateObjectDie ModuleTag_Dismiss04
DeathTypes  NONE +SUICIDED
CreationList  OCL_StarlifterDismiss
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Dismiss05
DeathTypes  NONE +SUICIDED
DestructionDelay  33
End

Behavior  FireWeaponCollide  ModuleTag_Transform09
CollideWeapon  SuicideUnresistableWeapon
RequiredStatus  STATUS_RIDER8 IS_FIRING_WEAPON
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
End

;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code End ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  FXListDie ModuleTag_05
DeathTypes  ALL -SUICIDED
DeathFX  FX_StarLifterStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes                       ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              80.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          110.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       210   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   StarlifterCrashingLoop
MinSelfSpin                      40                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              300                     ; in milliseconds
SelfSpinUpdateAmount             5                      ; in degrees
FallHowFast                      8.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1000                    ; in milliseconds
MaxBladeFlyOffDelay              1000                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Exhaust02
DelayFromGroundToFinalDeath      30
FXBlade                          FX_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
FinalRubbleObject                StarLifterRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_13
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             3     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   1.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3        ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  6500 ; this is triggers the delay on the rotor wash particle effects
End

Geometry               CYLINDER
GeometryMajorRadius    35.0
GeometryHeight         30.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object AmericaVehicleStarlifterDismissed

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model          AVStrLftr
Animation      AVStrLftr_SKL.AVStrLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_HOVERING
End

TransitionState  TRANS_HOVERING TRANS_MOVING
Animation      AVStrLftr_SKL.AVStrLftr_HTM
AnimationMode  ONCE
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState   MOVING
Animation      AVStrLftr_SKL.AVStrLftr_MOV
AnimationMode  LOOP
TransitionKey  TRANS_MOVING
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

TransitionState  TRANS_MOVING TRANS_HOVERING
Animation      AVStrLftr_SKL.AVStrLftr_MTH
AnimationMode  ONCE
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End



ConditionState   REALLYDAMAGED
Model          AVStrLftr_D
TransitionKey  TRANS_DAMAGED_HOVERING
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
End

TransitionState  TRANS_DAMAGED_HOVERING TRANS_DAMAGED_MOVING
Model          AVStrLftr_D
Animation      AVStrLftr_SKL.AVStrLftr_HTM
AnimationMode  ONCE
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState   REALLYDAMAGED MOVING
Model          AVStrLftr_D
Animation      AVStrLftr_SKL.AVStrLftr_MOV
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_MOVING
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust01 JetBlackTrailThin
ParticleSysBone  Exhaust02 JetBlackTrailThin
ParticleSysBone  Exhaust03 JetBlackTrailThin
ParticleSysBone  Exhaust04 JetBlackTrailThin
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

TransitionState  TRANS_DAMAGED_MOVING TRANS_DAMAGED_HOVERING
Model          AVStrLftr_D
Animation      AVStrLftr_SKL.AVStrLftr_MTH
AnimationMode  ONCE
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End

ConditionState  RUBBLE
Model          AVStrLftr_D
TransitionKey  TRANS_DAMAGED_HOVERING
ParticleSysBone  Exhaust01 FireFactionMedium
ParticleSysBone  Exhaust01 JetSmokeLarge
ParticleSysBone  Exhaust08 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust06 JetSmokeLarge
ParticleSysBone  Exhaust05 HelixExhaust
ParticleSysBone  Exhaust06 HelixExhaust
ParticleSysBone  Exhaust07 HelixExhaust
ParticleSysBone  Exhaust08 HelixExhaust
End
AliasConditionState   RUBBLE SPECIAL_DAMAGED

End


; ***DESIGN parameters ***
DisplayName          OBJECT:StarLifter
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1500

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

ExperienceValue      100 100 100 100 ;Experience point value at each level

; *** ENGINEERING Parameters ***
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE NO_SELECT VEHICLE AIRCRAFT CAN_ATTACK SCORE

Body  ActiveBody ModuleTag_03
MaxHealth        400.0
InitialHealth    400.0

SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  30
End

; *** AUDIO Parameters ***
SoundAmbient  StarlifterAmbientLoop
SoundEnter  StarlifterVoiceDismiss

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
ShouldDrawPips        No
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL DismissedHelicopterTakingOffLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior  FXListDie ModuleTag_056
DeathFX  FX_StarLifterStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DestructionDelay                 99999999       ; the destruction delay
SpiralOrbitTurnRate              80.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          15.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   1.0            ; smaller #'s  slow down faster
MaxBraking                       210   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   StarlifterCrashingLoop
MinSelfSpin                      90                     ; in degrees per second
MaxSelfSpin                      180                     ; in degrees per second
SelfSpinUpdateDelay              300                     ; in milliseconds
SelfSpinUpdateAmount             5                      ; in degrees
FallHowFast                      30.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1000                    ; in milliseconds
MaxBladeFlyOffDelay              1000                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Exhaust02
DelayFromGroundToFinalDeath      30
FXBlade                          FX_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
FinalRubbleObject                StarLifterRubbleHull
End

;Delete me before a new OCL can be triggered
Behavior  DeletionUpdate ModuleTag_0451
MinLifetime  8900   ; min lifetime in msec
MaxLifetime  8900   ; max lifetime in msec
End

;This OCL Makes the helicopter unattackable
Behavior  FireWeaponUpdate ModuleTag_06524251
Weapon  NeverTargetableAgainWeapon
InitialDelay  2500
End

;This OCL refunds half the cash of this unit
Behavior  OCLUpdate ModuleTag_RefundMoney01
MinDelay      4500
MaxDelay      4500
OCL           OCL_StarlifterDismissMoneyRefund
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry               CYLINDER
GeometryMajorRadius    35.0
GeometryHeight         30.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object StarlifterDissmisRefundObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE

Behavior  AutoDepositUpdate ModuleTag_04
DepositTiming  150
DepositAmount  1500
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  150
MaxLifetime  150
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaJetRaptor

; *** ART Parameters ***
SelectPortrait          SACRaptor_L
ButtonImage             SACRaptor

Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model                AVRaptor
HideSubObject        BurnerFX01 BurnerFX02
End

ConditionState         JETEXHAUST
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
; afterburner
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
End

ConditionState         REALLYDAMAGED
Model                AVRaptor_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                AVRaptor_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                AVRaptor_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; afterburner
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         RUBBLE
Model                AVRaptor_D1B
HideSubObject        None
ShowSubObject        None
End

ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                AVRaptor_D1B
;HideSubObject is needed cause there're inherited from default condition state
HideSubObject        None
ShowSubObject        None
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Engine02 JetExhaust
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

End

Draw                    W3DModelDraw ModuleTag_FireBones01
DefaultConditionState
Model             AVRaptor_B
WeaponLaunchBone  PRIMARY WeaponA
End
End

Draw                    W3DModelDraw ModuleTag_FlareBones01
DefaultConditionState
Model             AVFlares
End
End

Draw                 W3DModelDraw ModuleTag_TargetingLaser01

DefaultConditionState
Model            None
AltTurretPitch   LASER01
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  FIRING_A
AliasConditionState  USER_1

ConditionState     USER_1 FIRING_A
Model            AVJetLsr
Animation        AVJetLsr.AVJetLsr
AnimationMode    ONCE
TransitionKey    TRANS_START_FIRING
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:Raptor
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0

Prerequisites
Object  AmericaAirfield
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

WeaponSet
Conditions             None
Weapon                 PRIMARY   RaptorJetMissileWeapon
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  CountermeasuresAirplaneArmor
DamageFX               None
End


BuildCost                1400
BuildTime                16.0
ExperienceValue          50 50 100 150  ;Experience point value at each level
ExperienceRequired       0 100 200 400   ;Experience points needed to gain each level
IsTrainable              Yes             ;Can gain experience
CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               AmericaJetRaptorCommandSet

; *** AUDIO Parameters ***
VoiceSelect             RaptorVoiceSelect
VoiceMove               RaptorVoiceMove
VoiceAttack             RaptorVoiceAttack
VoiceAttackAir          RaptorVoiceAttackAir
VoiceGuard              RaptorVoiceAirPatrol
SoundAmbient            RaptorAmbientLoop
SoundAmbientRubble      NoSound
; SoundMoveLoop           RaptorAmbientLoop  ; don't want sound while sitting at airfield
; SoundAmbient            NoSound
UnitSpecificSounds
VoiceCreate           RaptorVoiceCreate
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
Afterburner           RaptorAfterburner
VoiceLowFuel          RaptorVoiceLowFuel
VoiceGarrison         RaptorVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             180.0
InitialHealth         180.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_RaptorDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                   MICAL NEEDS TO MAKE ME
End

Behavior                     EjectPilotDie ModuleTag_06
ExemptStatus          HIJACKED
GroundCreationList  OCL_EjectPilotOnGround
AirCreationList  OCL_EjectPilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate         0
TurretPitchRate        60
AllowsPitch            Yes
MinPhysicalPitch       -90
ControlledWeaponSlots  SECONDARY
End
TurretsLinked               Yes

OutOfAmmoDamagePerSecond   10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  5
ParkingOffset              3             ; scooch it a little forward so the tail doesn't hit the doors
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor  SET_NORMAL RaptorJetLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000    ; Time between flare volleys
NumberOfVolleys        12     ; Number of times the volleys will fire before reloading
ReloadTime             0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  WeaponBonusUpgrade ModuleTag_LaserGuidance01
TriggeredBy  Upgrade_AmericaLaserMissiles
End

Behavior  ModelConditionUpgrade ModuleTag_LaserGuidance02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaLaserMissiles
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaVehicleOsprey

; *** ART Parameters ***
SelectPortrait          SAOsprey_L
ButtonImage             SAOsprey

Draw  W3DModelDraw                         ModuleTag_01 ; Helicopter

ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVOsprey
End

ConditionState  REALLYDAMAGED
Model  AVOsprey_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_Engines01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                AVOsprey_A4
Animation            AVOsprey_A4.AVOsprey_A4
AnimationMode        LOOP
TransitionKey        TRANS_IDLE
End

TransitionState        TRANS_IDLE TRANS_MOVING
Model                AVOsprey_A2
Animation            AVOsprey_A2.AVOsprey_A2
AnimationMode        ONCE
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End

ConditionState         MOVING
Model                AVOsprey_A1
Animation            AVOsprey_A1.AVOsprey_A1
AnimationMode        LOOP
TransitionKey        TRANS_MOVING
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End

TransitionState        TRANS_MOVING TRANS_IDLE
Model                AVOsprey_A3
Animation            AVOsprey_A3.AVOsprey_A3
AnimationMode        ONCE
End



ConditionState         REALLYDAMAGED
Model                AVOsprey_DA4
Animation            AVOsprey_DA4.AVOsprey_DA4
AnimationMode        LOOP
TransitionKey        TRANS_IDLE_DAMAGED
End
AliasConditionState    RUBBLE

TransitionState        TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
Model                AVOsprey_DA2
Animation            AVOsprey_DA2.AVOsprey_DA2
AnimationMode        ONCE
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End

ConditionState         REALLYDAMAGED MOVING
Model                AVOsprey_DA1
Animation            AVOsprey_DA1.AVOsprey_DA1
AnimationMode        LOOP
TransitionKey        TRANS_MOVING_DAMAGED
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End
AliasConditionState    MOVING RUBBLE

TransitionState        TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
Model                AVOsprey_DA3
Animation            AVOsprey_DA3.AVOsprey_DA3
AnimationMode        ONCE
End

End

Draw  W3DModelDraw                         ModuleTag_02 ; Cargo net
ConditionState  NONE
Model  None  ; Nothing here
TransitionKey  TRANS_Empty
WaitForStateToFinishIfPossible  TRANS_Unloading
End

ConditionState  DYING
Model  None  ; Nothing here
End
AliasConditionState  RUBBLE
AliasConditionState  CARRYING RUBBLE
AliasConditionState  DOCKING RUBBLE
AliasConditionState  DOCKING CARRYING RUBBLE

ConditionState  CARRYING
Model  AVChinook_A ;Carrying a full wobbly net of stuff
Animation  AVChinook_A.AVChinook_A
AnimationMode  LOOP
TransitionKey  TRANS_Full
WaitForStateToFinishIfPossible  TRANS_PickingUp
End

ConditionState  DOCKING
Model  AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
Animation  AVChinook_A1SK.AVChinook_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
AnimationSpeedFactorRange  .75 .75
TransitionKey  TRANS_PickingUp
WaitForStateToFinishIfPossible  TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
End

ConditionState  DOCKING CARRYING
Model  AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
Animation  AVChinook_A1SK.AVChinook_A1
AnimationMode  ONCE
AnimationSpeedFactorRange  2.75 2.75
TransitionKey  TRANS_Unloading
WaitForStateToFinishIfPossible  TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

;Osprey rotors do not point down when in flight
ConditionState         MOVING
Model                NVDeva_U2
End
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  MOVING SNOW
AliasConditionState  MOVING SNOW REALLYDAMAGED
AliasConditionState  MOVING OVER_WATER
AliasConditionState  MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING SNOW OVER_WATER
AliasConditionState  MOVING SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Osprey
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0
BuildCost            800
BuildTime            10.0          ;in seconds

WeaponSet
Conditions  NONE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  SuicideUnresistableWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

Prerequisites
Object  AmericaSupplyCenter
End

ExperienceValue      50 50 50 50 ;Experience point value at each level
IsTrainable          No
CommandSet           AmericaVehicleOspreyCommandSet

; *** AUDIO Parameters ***
VoiceSelect      ChinookVoiceSelect
VoiceMove        ChinookVoiceMove
VoiceAttack      ChinookVoiceAttack
SoundAmbient     OspreyAmbientLoop
SoundAmbientRubble     NoSound
SoundEnter       HumveeEnter
SoundExit        HumveeExit
UnitSpecificSounds
VoiceCreate          ChinookVoiceCreate
VoiceSupply          ChinookVoiceSupply
VoiceUnload          ChinookVoiceUnload
VoiceCombatDrop      ChinookVoiceCombatDrop
VoiceClearBuilding   RangerVoiceClearBuilding ;Special combat drop that clears buildings!
VoiceGarrison        ChinookVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE IGNORES_SELECT_ALL PRODUCED_AT_HELIPAD CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        250.0
InitialHealth    250.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathTypes  ALL -SUICIDED
DeathFX  FX_ChinookStartDeath
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  ChinookAIUpdate ModuleTag_07
MaxBoxes                 8
SupplyCenterActionDelay  3000    ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  1200 ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
NumRopes                 4
; these define how long we can wait, once a guy is on-rope, before throwing another
; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
; and we'll wait for each guy to clear before spawning another.
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it
UpgradedSupplyBoost      60    ; increase in value of the crates when supply lines has been upgraded
RotorWashParticleSystem  HelixRotorWashRing
End
Locomotor  SET_NORMAL    OspreyLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor


;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code Start ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  TransportContain ModuleTag_08
Slots                  6
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay              100
NumberOfExitPaths      1
BurnedDeathToUnits     Yes
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  CreateObjectDie ModuleTag_Dismiss04
DeathTypes  NONE +SUICIDED
CreationList  OCL_OspreyDismiss
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Dismiss05
DeathTypes  NONE +SUICIDED
DestructionDelay  33
End

;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code End ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  PhysicsBehavior ModuleTag_09
Mass  50.0
End
Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes                       ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                OspreyRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleOspreyDismissed

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01 ; Helicopter

ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVOsprey
End

ConditionState  REALLYDAMAGED
Model  AVOsprey_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

End

Draw  W3DModelDraw ModuleTag_Engines01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState         NONE
Model                AVOsprey_A4
Animation            AVOsprey_A4.AVOsprey_A4
AnimationMode        LOOP
TransitionKey        TRANS_IDLE
End

TransitionState        TRANS_IDLE TRANS_MOVING
Model                AVOsprey_A2
Animation            AVOsprey_A2.AVOsprey_A2
AnimationMode        ONCE
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End

ConditionState         MOVING
Model                AVOsprey_A1
Animation            AVOsprey_A1.AVOsprey_A1
AnimationMode        LOOP
TransitionKey        TRANS_MOVING
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End

TransitionState        TRANS_MOVING TRANS_IDLE
Model                AVOsprey_A3
Animation            AVOsprey_A3.AVOsprey_A3
AnimationMode        ONCE
End

ConditionState         REALLYDAMAGED
Model                AVOsprey_DA4
Animation            AVOsprey_DA4.AVOsprey_DA4
AnimationMode        LOOP
TransitionKey        TRANS_IDLE_DAMAGED
End
AliasConditionState    RUBBLE

TransitionState        TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
Model                AVOsprey_DA2
Animation            AVOsprey_DA2.AVOsprey_DA2
AnimationMode        ONCE
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End

ConditionState         REALLYDAMAGED MOVING
Model                AVOsprey_DA1
Animation            AVOsprey_DA1.AVOsprey_DA1
AnimationMode        LOOP
TransitionKey        TRANS_MOVING_DAMAGED
ParticleSysBone      EXHAUST01 HelixExhaust
ParticleSysBone      EXHAUST02 HelixExhaust
End
AliasConditionState    MOVING RUBBLE

TransitionState        TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
Model                AVOsprey_DA3
Animation            AVOsprey_DA3.AVOsprey_DA3
AnimationMode        ONCE
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:Osprey
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

ExperienceValue      50 50 50 50 ;Experience point value at each level

; *** ENGINEERING Parameters ***
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE NO_SELECT VEHICLE AIRCRAFT CAN_ATTACK SCORE

Body  ActiveBody ModuleTag_03
MaxHealth        250.0
InitialHealth    250.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

; *** AUDIO Parameters ***
SoundAmbient  OspreyAmbientLoop
SoundEnter  ChinookVoiceDismiss

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
ShouldDrawPips        No
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL DismissedHelicopterTakingOffLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior  FXListDie ModuleTag_056
DeathTypes  ALL
DeathFX  FX_ChinookStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          30.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   1.0             ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      30.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                OspreyRubbleHull
End

;Delete me before a new OCL can be triggered
Behavior  DeletionUpdate ModuleTag_0451
MinLifetime  8900   ; min lifetime in msec
MaxLifetime  8900   ; max lifetime in msec
End

;This OCL Makes the helicopter unattackable
Behavior  FireWeaponUpdate ModuleTag_06524251
Weapon  NeverTargetableAgainWeapon
InitialDelay  2500
End

;This OCL refunds half the cash of this unit
Behavior  OCLUpdate ModuleTag_RefundMoney01
MinDelay      4500
MaxDelay      4500
OCL           OCL_OspreyDismissMoneyRefund
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object OspreyDissmisRefundObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE

Behavior  AutoDepositUpdate ModuleTag_04
DepositTiming  150
DepositAmount  200
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  150
MaxLifetime  150
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaJetNighthawk

; *** ART Parameters ***
SelectPortrait          SAStealth_L
ButtonImage             SAStealth

Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              AVA19
HideSubObject      BurnerFX01 BurnerFX02
WeaponLaunchBone   PRIMARY WeaponA
End

ConditionState         JETEXHAUST
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
; afterburners
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
End

ConditionState         REALLYDAMAGED
Model                AVA19_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                AVA19_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                AVA19_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
; afterburners
ShowSubObject        BurnerFX01 BurnerFX02
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
End

ConditionState         RUBBLE
Model                AVA19_D1
HideSubObject        None
ShowSubObject        None
End

ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                AVA19_D1
;HideSubObject is needed cause there're inherited from default condition state
HideSubObject        None
ShowSubObject        None
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Engine02 JetExhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

OkToChangeModelColor  Yes

End

Draw                 W3DModelDraw ModuleTag_TargetingLaser01

DefaultConditionState
Model            None
AltTurretPitch   LASER01
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState     FIRING_A
Model            AVJetLsr
Animation        AVJetLsr.AVJetLsr
AnimationMode    ONCE
TransitionKey    TRANS_START_FIRING
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End

; ***DESIGN parameters ***
DisplayName            OBJECT:StealthFighter
EditorSorting          VEHICLE
Side                   America
TransportSlotCount     0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange            300.0
ShroudClearingRange    300.0
Prerequisites
Object  AmericaAirfield
Object  AmericaStrategyCenter
End

WeaponSet
Conditions  NONE
Weapon  PRIMARY NighthawkBombWeapon
End

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresAirplaneArmor
DamageFX         None
End

BuildCost            2000
BuildTime            25.0            ;in seconds
ExperienceValue      200 200 400 400 ;Experience point value at each level
ExperienceRequired   0   200 400 800 ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet  AmericaJetStealthFighterCommandSet

; *** AUDIO Parameters ***
VoiceSelect      StealthFighterVoiceSelect
VoiceMove        StealthFighterVoiceMove
VoiceAttack      StealthFighterVoiceAttack
VoiceAttackAir   StealthFighterVoiceAttackAir
VoiceGuard       StealthFighterVoiceAirPatrol
SoundAmbient     StealthFighterAmbientLoop
SoundAmbientRubble     NoSound

UnitSpecificSounds
SoundStealthOn  StealthOn
SoundStealthOff StealthOff
VoiceCreate    StealthFighterVoiceCreate
SoundEject     PilotSoundEject
VoiceEject     PilotVoiceEject
Afterburner    RaptorAfterburner
VoiceLowFuel   StealthFighterVoiceLowFuel
VoiceGarrison  StealthFighterVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority    LOCAL_UNIT_ONLY
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body  ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_03
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_StealthDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_StealthFighterDeathInitial
;OCLInitialDeath                 None
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
;OCLSecondary                    None
FXHitGround                      FX_JetDeathHitGround
;OCLHitGround                    None
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_StealthDeathFinalBlowUp
;   DeathLoopSound                   MICAL NEEDS TO MAKE ME
End
Behavior  EjectPilotDie ModuleTag_04
GroundCreationList  OCL_EjectPilotOnGround
AirCreationList  OCL_EjectPilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  JetAIUpdate ModuleTag_06

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate         0
TurretPitchRate        60
AllowsPitch            Yes
MinPhysicalPitch       -90
ControlledWeaponSlots  TERTIARY
End
TurretsLinked               No

AutoAcquireEnemiesWhenIdle  No NotWhileAttacking

OutOfAmmoDamagePerSecond  10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift     0%   ; larger numbers give more lift sooner when taking off
TakeoffPause              500
MinHeight                 5
ReturnToBaseIdleTime      10000         ; if idle for this long, return to base, even if not out of ammo
End

Behavior  ExperienceScalarUpgrade ModuleTag_08
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior   StealthUpdate ModuleTag_Stealth02
StealthDelay                            2000 ; msec
StealthForbiddenConditions              FIRING_PRIMARY ATTACKING USING_ABILITY TAKING_DAMAGE
RevealDistanceFromTarget                20.0f
FriendlyOpacityMin                      5.0%
FriendlyOpacityMax                      10.0%
InnateStealth                           No
OrderIdleEnemiesToAttackMeUponReveal    Yes
End

Behavior   StealthUpgrade ModuleTag_Stealth03
TriggeredBy   Upgrade_AmericaStealthCoating
End

Locomotor  SET_NORMAL StealthJetLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    200    ; Time between flare volleys
NumberOfVolleys        12     ; Number of times the volleys will fire before reloading
ReloadTime             0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_22
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  7.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaVehicleLittleBird

; *** ART Parameters ***
SelectPortrait          SALittleBird_L
ButtonImage             SALittleBird

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd

DefaultConditionState
Model                            AVAH6
Animation                        AVAH6.AVAH6
AnimationMode                    LOOP
Turret                           CHASSIS
HideSubObject                    TURRETEL Rocketpod
End

ConditionState  MOVING
ParticleSysBone                  ENGINE01 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
End

ConditionState  REALLYDAMAGED MOVING
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
ParticleSysBone                  ENGINE01 HelixExhaust
End

ConditionState  RUBBLE
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
AnimationMode                    LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model                            AVAH6_D
AnimationMode                    MANUAL
HideSubObject                    PROP01 PROP02
End

;;;;With Rocket Pods

ConditionState  USER_1
HideSubObject                    TURRETEL
ShowSubObject                    Rocketpod
End

ConditionState  USER_1 MOVING
HideSubObject                    TURRETEL
ShowSubObject                    Rocketpod
ParticleSysBone                  ENGINE01 HelixExhaust
End

ConditionState  USER_1 REALLYDAMAGED
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
HideSubObject                    TURRETEL
ShowSubObject                    Rocketpod
End

ConditionState  USER_1 REALLYDAMAGED MOVING
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
ParticleSysBone                  ENGINE01 HelixExhaust
HideSubObject                    TURRETEL
ShowSubObject                    Rocketpod
End

ConditionState  USER_1 RUBBLE
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
AnimationMode                    LOOP
HideSubObject                    TURRETEL
ShowSubObject                    Rocketpod
End

ConditionState  USER_1 RUBBLE SPECIAL_DAMAGED
Model                            AVAH6_D
AnimationMode                    MANUAL
HideSubObject                    TURRETEL
ShowSubObject                    Rocketpod
End

End

Draw  W3DModelDraw ModuleTag_Guns01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            AVAH6
Animation                        AVAH6.AVAH6
AnimationMode                    MANUAL
Turret                           GUN_TURRET
TurretPitch                      TURRETEL
HideSubObject                    CHASSIS
WeaponMuzzleFlash                PRIMARY   MuzzleFX
WeaponFireFXBone                 PRIMARY   Muzzle
WeaponLaunchBone                 PRIMARY   Muzzle
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
End
AliasConditionState  MOVING
AliasConditionState  ATTACKING MOVING

ConditionState  ATTACKING
AnimationMode                    LOOP
End

ConditionState  REALLYDAMAGED
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED ATTACKING MOVING

ConditionState  ATTACKING REALLYDAMAGED
Model                            AVAH6_D
Animation                        AVAH6_D.AVAH6_D
AnimationMode                    LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:LittleBird
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object   AmericaAirfield
;Science  SCIENCE_Pathfinder
End

WeaponSet
Conditions        None
Weapon            PRIMARY   AH6MinigunWeapon
PreferredAgainst  PRIMARY   INFANTRY
End

WeaponSet
Conditions        PLAYER_UPGRADE
Weapon            PRIMARY   AH6MinigunWeapon
PreferredAgainst  PRIMARY   INFANTRY
Weapon            SECONDARY AH6RocketPodWeapon
End

ArmorSet
Conditions       None
Armor            ComancheArmor
DamageFX         None
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresComancheArmor
DamageFX         None
End

BuildCost            800
BuildTime            15.0            ; in seconds
ExperienceValue      25 50  75  150   ; Experience point value at each level
ExperienceRequired   0  100 200 300   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           AmericaVehicleLittleBirdCommandSet

; *** AUDIO Parameters ***
VoiceSelect            LittleBirdVoiceSelect
VoiceMove              LittleBirdVoiceMove
VoiceGuard             LittleBirdVoiceMove
VoiceAttack            LittleBirdVoiceAttack
SoundAmbient           LittleBirdAmbientLoop
SoundAmbientRubble     NoSound
SoundEnter             HumveeEnter
SoundExit              HumveeExit

UnitSpecificSounds
VoiceCreate          LittleBirdVoiceCreate
VoiceUnload          LittleBirdVoiceUnload
VoiceCombatDrop      LittleBirdVoiceUnload
VoiceClearBuilding   LittleBirdVoiceUnload
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceGarrison        LittleBirdVoiceMove
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD

Behavior  ExperienceScalarUpgrade ModuleTag_03
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Body  ActiveBody ModuleTag_04
MaxHealth        180.0
InitialHealth    180.0

SubdualDamageCap  800
SubdualDamageHealRate  500
SubdualDamageHealAmount  30
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_LittleBirdStartDeath
End


Behavior  ChinookAIUpdate ModuleTag_06
NumRopes                 4
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it

Turret
TurretTurnRate  180
TurretPitchRate  180
MinPhysicalPitch  -70
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
MoodAttackCheckRate         33
End

Locomotor  SET_NORMAL  LittleBirdLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             10             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      1
FinalRubbleObject                LittleBirdRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_10
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  HelixContain ModuleTag_29
Slots                    4
DamagePercentToUnits     100%
AllowInsideKindOf        INFANTRY
ForbidInsideKindOf       AIRCRAFT VEHICLE
ExitDelay                100
NumberOfExitPaths        1
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Behavior  WeaponSetUpgrade ModuleTag_RocketPods01
TriggeredBy  Upgrade_ComancheRocketPods
End

Behavior  ModelConditionUpgrade ModuleTag_RocketPods02
ConditionFlag  USER_1
TriggeredBy    Upgrade_ComancheRocketPods
End

Behavior  CommandSetUpgrade ModuleTag_RocketPods03
CommandSet    AmericaVehicleLittleBirdCommandSetUpgraded
TriggeredBy   Upgrade_ComancheRocketPods
End

Geometry  BOX
GeometryMajorRadius  11.0
GeometryMinorRadius  5.0
GeometryHeight  20.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaVehicleCombatChinook

; *** ART Parameters ***
SelectPortrait          SACombatChinook_L
ButtonImage             SACombatChinook

Draw  W3DModelDraw ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes
ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd

DefaultConditionState
Model  AVCChnk
Animation  AVCChnk.AVCChnk
AnimationMode  LOOP
End

ConditionState  MOVING
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model  AVCChnk_D
Animation  AVCChnk_D.AVCChnk_D
AnimationMode  LOOP
End

ConditionState  MOVING REALLYDAMAGED
Model  AVCChnk_D
Animation  AVCChnk_D.AVCChnk_D
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  RUBBLE
Model  AVCChnk_D
Animation  AVCChnk_D.AVCChnk_D
AnimationMode  LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVCChnk_D
HideSubObject  Props01
HideSubObject  Props02
End

End

Draw  W3DModelDraw                         ModuleTag_02 ; Cargo net
ConditionState  NONE
Model  None  ; Nothing here
TransitionKey  TRANS_Empty
WaitForStateToFinishIfPossible  TRANS_Unloading
End

ConditionState  DYING
Model  None  ; Nothing here
End
AliasConditionState  RUBBLE
AliasConditionState  CARRYING RUBBLE
AliasConditionState  DOCKING RUBBLE
AliasConditionState  DOCKING CARRYING RUBBLE

ConditionState  CARRYING
Model  AVChinook_A ;Carrying a full wobbly net of stuff
Animation  AVChinook_A.AVChinook_A
AnimationMode  LOOP
TransitionKey  TRANS_Full
WaitForStateToFinishIfPossible  TRANS_PickingUp
End

ConditionState  DOCKING
Model  AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
Animation  AVChinook_A1SK.AVChinook_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
AnimationSpeedFactorRange  .75 .75
TransitionKey  TRANS_PickingUp
WaitForStateToFinishIfPossible  TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
End

ConditionState  DOCKING CARRYING
Model  AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
Animation  AVChinook_A1SK.AVChinook_A1
AnimationMode  ONCE
AnimationSpeedFactorRange  2.75 2.75
TransitionKey  TRANS_Unloading
WaitForStateToFinishIfPossible  TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
End
End

Draw  W3DModelDraw                         ModuleTag_Guns01 ; Weapons

OkToChangeModelColor  Yes
RecoilSettleSpeed  20
MaxRecoilDistance  2.2

DefaultConditionState
Model              AVCChnk_G
AltTurretPitch     GUNEL
WeaponFireFXBone   PRIMARY NadeMuzzle
WeaponLaunchBone   PRIMARY NadeMuzzle
WeaponMuzzleFlash  PRIMARY NadeMuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponMuzzleFlash  SECONDARY MuzzleFX
WeaponRecoilBone   SECONDARY Barrel
WeaponFireFXBone   TERTIARY  WeaponA
WeaponLaunchBone   TERTIARY  WeaponA
HideSubObject      WEAPONA01 WEAPONA02
End
ConditionState  REALLYDAMAGED
Model              AVCChnk_GD
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              AVCChnk_G
ShowSubObject      WEAPONA01 WEAPONA02
End
ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model              AVCChnk_GD
ShowSubObject      WEAPONA01 WEAPONA02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CombatChinook
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0
BuildCost            1400
BuildTime            14.0          ;in seconds
MaxSimultaneousOfType   2

WeaponSet
Conditions         NONE
Weapon             PRIMARY   ChinookGrenadeLauncherWeapon
Weapon             SECONDARY ChinookMachinegunWeapon
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY   ChinookGrenadeLauncherWeapon
Weapon             SECONDARY ChinookMachinegunWeapon
Weapon             TERTIARY  ChinookRocketPodWeapon
End

Prerequisites
Object  AmericaDetentionCamp AmericaDroneControlCenter
Science  SCIENCE_LogisticsEffeciency
End

ExperienceValue      80 150 300 400  ; Experience point value at each level
ExperienceRequired   0  200 400 600  ; Experience points needed to gain each level
IsTrainable          Yes
CommandSet           AmericaVehicleCombatChinookCommandSet

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

; *** AUDIO Parameters ***
VoiceSelect      ChinookVoiceSelect
VoiceMove        ChinookVoiceMove
VoiceAttack      ChinookVoiceAttack
SoundAmbient     ChinookAmbientLoop
SoundAmbientRubble  NoSound
SoundEnter       HumveeEnter
SoundExit        HumveeExit
UnitSpecificSounds
VoiceCreate          CombatChinookVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceSupply          ChinookVoiceSupply
VoiceUnload          ChinookVoiceUnload
VoiceCombatDrop      ChinookVoiceCombatDrop
VoiceClearBuilding   RangerVoiceClearBuilding ;Special combat drop that clears buildings!
VoiceGarrison        ChinookVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf         PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE CAN_ATTACK PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_03
MaxHealth        250.0
InitialHealth    250.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  ChinookAIUpdate ModuleTag_07
MaxBoxes                 12
SupplyCenterActionDelay  3000    ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  950  ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
NumRopes                 4
; these define how long we can wait, once a guy is on-rope, before throwing another
; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
; and we'll wait for each guy to clear before spawning another.
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it
UpgradedSupplyBoost      90    ; increase in value of the crates when supply lines has been upgraded
RotorWashParticleSystem  HelixRotorWashRing

Turret
TurretTurnRate  0
ControlledWeaponSlots  PRIMARY TERTIARY
AllowsPitch  No
End
AltTurret
TurretTurnRate  0
TurretPitchRate  180
MinPhysicalPitch  -70
AllowsPitch  Yes
ControlledWeaponSlots  SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes NOTWHILEATTACKING
End
Locomotor  SET_NORMAL    ChinookLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor

Behavior  TransportContain ModuleTag_08
Slots                  8
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay              100
NumberOfExitPaths      1
BurnedDeathToUnits     Yes
End

Behavior  PhysicsBehavior ModuleTag_09
Mass  50.0
End

Behavior  WeaponSetUpgrade ModuleTag_RocketPods01
TriggeredBy  Upgrade_ComancheRocketPods
End

Behavior  ExperienceScalarUpgrade ModuleTag_AdvancedTraining01
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  FXListDie ModuleTag_05
DeathTypes  ALL -SUICIDED
DeathFX  FX_ChinookStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                CombatChinookRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_Armor03
TriggeredBy    Upgrade_AmericaCountermeasures
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaVehicleComanche

; *** ART Parameters ***
SelectPortrait          SACCommanche_L
ButtonImage             SACCommanche

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            AVCmnch
Animation                        AVCmnch.AVCmnch
Turret                           TURRET
AnimationMode                    LOOP
HideSubObject                    BARREL01 MUZZLEFX01 BAYDR01 BAYDR02
End

ConditionState  REALLYDAMAGED
Model                            AVCmnch_D
Animation                        AVCmnch_D.AVCmnch_D
End

ConditionState  RUBBLE
Model                            AVCmnch_D
Animation                        AVCmnch_D.AVCmnch_D
AnimationMode                    LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model                            AVCmnch_D
AnimationMode                    MANUAL
HideSubObject                    PROPELLER01
End

End

Draw  W3DModelDraw ModuleTag_MissileBay01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model                            AVCmnch
Animation                        AVCmnch.AVCmnch
AnimationMode                    ONCE
Turret                           TURRET
TurretPitch                      TURRETELALT
HideSubObject                    BARREL01 MUZZLEFX01 CHASSIS
WeaponFireFXBone                 SECONDARY WeaponA
WeaponLaunchBone                 SECONDARY WeaponA
End

ConditionState  ATTACKING
AnimationMode                    ONCE_BACKWARDS
End

ConditionState  REALLYDAMAGED
Model                            AVCmnch_D
Animation                        AVCmnch_D.AVCmnch_D
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  REALLYDAMAGED ATTACKING
Model                            AVCmnch_D
Animation                        AVCmnch_D.AVCmnch_D
AnimationMode                    ONCE_BACKWARDS
End

End

Draw  W3DModelDraw ModuleTag_Vulcan01

OkToChangeModelColor  Yes

DefaultConditionState
Model                            AVCmnch
Animation                        AVCmnch.AVCmnch
AnimationMode                    MANUAL
HideSubObject                    CHASSIS BAYDR01 BAYDR02
Turret                           TURRET
TurretPitch                      TURRETEL
WeaponMuzzleFlash                PRIMARY   MuzzleFX
WeaponFireFXBone                 PRIMARY   Muzzle
WeaponLaunchBone                 PRIMARY   Muzzle
End

ConditionState  ATTACKING
Model                            AVCmnch
Animation                        AVCmnch.AVCmnch
AnimationMode                    LOOP
End

ConditionState  REALLYDAMAGED
Model                            AVCmnch_D
Animation                        AVCmnch_D.AVCmnch_D
AnimationMode                    MANUAL
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  ATTACKING REALLYDAMAGED
Model                            AVCmnch_D
Animation                        AVCmnch_D.AVCmnch_D
AnimationMode                    LOOP
End

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Comanche
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0

Prerequisites
Object             AmericaAirfield
Object             AmericaDetentionCamp AmericaDroneControlCenter
End

WeaponSet
Conditions           None
Weapon               PRIMARY     Comanche20mmCannonWeapon
PreferredAgainst     PRIMARY     INFANTRY
Weapon               SECONDARY   ComancheAntiTankMissileWeapon
End

ArmorSet
Conditions       None
Armor            ComancheArmor
DamageFX         None
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  CountermeasuresComancheArmor
DamageFX               None
End
BuildCost            1700
BuildTime            20              ; in seconds
ExperienceValue      80 80  150 300  ; Experience point value at each level
ExperienceRequired   0  100 250 400  ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           AmericaVehicleComancheCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ComancheVoiceSelect
VoiceMove              ComancheVoiceMove
VoiceGuard             ComancheVoiceMove
VoiceAttack            ComancheVoiceAttack
SoundAmbient           ComancheAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          ComancheVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
Afterburner          RaptorAfterburner
VoiceGarrison        ComancheVoiceMove
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceFireRocketPods  ComancheVoiceAttackRocket
End


; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

Behavior  ExperienceScalarUpgrade ModuleTag_03
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Body  ActiveBody ModuleTag_04
MaxHealth        240.0
InitialHealth    240.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_ComancheStartDeath
End

Behavior  ChinookAIUpdate ModuleTag_06
Turret
TurretTurnRate  180
TurretPitchRate  180
MinPhysicalPitch  -70   ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch  -5.0
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY SECONDARY
End
TurretsLinked               Yes
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL  ComancheLocomotor
Locomotor  SET_TAXIING BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End


Behavior   StealthUpdate ModuleTag_Stealth02
StealthDelay                            3000 ; msec
StealthForbiddenConditions              FIRING_PRIMARY ATTACKING USING_ABILITY TAKING_DAMAGE
RevealDistanceFromTarget                20.0f
FriendlyOpacityMin                      5.0%
FriendlyOpacityMax                      10.0%
InnateStealth                           No
OrderIdleEnemiesToAttackMeUponReveal    Yes
End

Behavior   StealthUpgrade ModuleTag_Stealth03
TriggeredBy   Upgrade_AmericaStealthCoating
End


Behavior  HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      1500
FinalRubbleObject                ComancheRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_10
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  3.0
GeometryHeight  25.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaVehicleChinookDropingSupplies

; *** ART Parameters ***
SelectPortrait          SAChinook_L
ButtonImage             SAChinook

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  Chinook_A1
HideSubObject  BOX02
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End
AliasConditionState  USER_1
AliasConditionState  POWER_PLANT_UPGRADED
AliasConditionState  POWER_PLANT_UPGRADED USER_1

ConditionState  POWER_PLANT_UPGRADING
Model          Chinook_A1
Animation      Chinook_A1.Chinook_A1
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  POWER_PLANT_UPGRADING USER_1
Model          Chinook_A1
Animation      Chinook_A1.Chinook_A1
AnimationMode  ONCE
HideSubObject  BOX01
ShowSubObject  BOX02
Flags          MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Chinook
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE STRUCTURE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth      100.0
InitialHealth  100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DestroyDie ModuleTag_11
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Special Airdropped Creation Code Start ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;These modules control the effects and sounds for when the drone is first created giving
;the illusion of it being airdropped by a Chinook while its all just a bunch of clever tricks

Behavior  PowerPlantUpgrade ModuleTag_AirdropCreation01
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_AirdropCreation02
RodsExtendTime  8000
End

Behavior  FireWeaponUpdate ModuleTag_AirdropCreation03
Weapon  SuicideUnresistableWeapon
InitialDelay  8000
End

Behavior  BoneFXDamage ModuleTag_AirdropCreation04
End

Behavior  BoneFXUpdate ModuleTag_AirdropCreation05
PristineOCL1  bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_AmericaVehicleChinookSupplyDropAmbientSoundEffect
End

Behavior  CreateObjectDie ModuleTag_AirdropCreation06
CreationList  OCL_AmericaVehicleChinookSupplyDropCrate
End

Behavior  CreateObjectDie ModuleTag_AirdropCreation07
CreationList  OCL_AmericaSupplyDroneChinookTakingOff
End

Behavior  FXListDie ModuleTag_AirdropCreation08
DeathFX  FX_HaloHelicopterVehicleCableRelease
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Special Airdropped Creation Code End ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaSupplyLines
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;This crate doesn't actualy do anything its just there for vissual reasons
Object AmericaVehicleChinookSupplyDropCrate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  PMUSASCrate
Animation  PMUSASCrate.PMUSASCrate
AnimationMode  LOOP
ParticleSysBone  FX1 glitter2
End
AliasConditionState  RUBBLE
ConditionState  USER_1
Model  PMUSAUSCrate
Animation  PMUSAUSCrate.PMUSAUSCrate
AnimationMode  LOOP
ParticleSysBone  FX1 glitter2
End
AliasConditionState  RUBBLE USER_1
End

; ***DESIGN parameters ***
DisplayName    OBJECT:Crate
EditorSorting  SYSTEM

; *** ENGINEERING Parameters ***
KindOf   IMMOBILE NO_COLLIDE

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  60
MaxLifetime  60
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
SinkDelay          1500
SinkRate           15     ; in Dist/Sec
DestructionDelay   10000
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaSupplyLines
End

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookSupplyDropMoneyObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE

Behavior  AutoDepositUpdate ModuleTag_04
DepositTiming  150
DepositAmount  900
UpgradedBoost  UpgradeType:Upgrade_AmericaSupplyLines  Boost:90
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  150
MaxLifetime  150
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinook

; *** ART Parameters ***
SelectPortrait          SAChinook_L
ButtonImage             SAChinook

Draw  W3DModelDraw ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes
ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd

DefaultConditionState
Model  AVChinook
Animation  AVChinook.AVChinook
AnimationMode  LOOP
End

ConditionState  MOVING
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
End

ConditionState  MOVING REALLYDAMAGED
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  RUBBLE
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVChinook_d
HideSubObject  Props01
HideSubObject  Props02
End

End

Draw  W3DModelDraw                         ModuleTag_02 ; Cargo net
ConditionState  NONE
Model  None  ; Nothing here
TransitionKey  TRANS_Empty
WaitForStateToFinishIfPossible  TRANS_Unloading
End

ConditionState  DYING
Model  None  ; Nothing here
End
AliasConditionState  RUBBLE
AliasConditionState  CARRYING RUBBLE
AliasConditionState  DOCKING RUBBLE
AliasConditionState  DOCKING CARRYING RUBBLE

ConditionState  CARRYING
Model  AVChinook_A ;Carrying a full wobbly net of stuff
Animation  AVChinook_A.AVChinook_A
AnimationMode  LOOP
TransitionKey  TRANS_Full
WaitForStateToFinishIfPossible  TRANS_PickingUp
End

ConditionState  DOCKING
Model  AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
Animation  AVChinook_A1SK.AVChinook_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
AnimationSpeedFactorRange  .75 .75
TransitionKey  TRANS_PickingUp
WaitForStateToFinishIfPossible  TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
End

ConditionState  DOCKING CARRYING
Model  AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
Animation  AVChinook_A1SK.AVChinook_A1
AnimationMode  ONCE
AnimationSpeedFactorRange  2.75 2.75
TransitionKey  TRANS_Unloading
WaitForStateToFinishIfPossible  TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
End
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Chinook
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0
BuildCost            1200
BuildTime            10.0          ;in seconds

Prerequisites
Object  AmericaSupplyCenter
Science  SCIENCE_LogisticsEffeciency
End


ExperienceValue      80 150 300 400  ; Experience point value at each level
ExperienceRequired   0  200 400 600  ; Experience points needed to gain each level
IsTrainable          No
CommandSet           AmericaVehicleChinookCommandSet

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

; *** AUDIO Parameters ***
VoiceSelect      ChinookVoiceSelect
VoiceMove        ChinookVoiceMove
VoiceAttack      ChinookVoiceAttack
SoundAmbient     ChinookAmbientLoop
SoundAmbientRubble     NoSound
SoundEnter       HumveeEnter
SoundExit        HumveeExit
UnitSpecificSounds
VoiceCreate          ChinookVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceSupply          ChinookVoiceSupply
VoiceUnload          ChinookVoiceUnload
VoiceCombatDrop      ChinookVoiceCombatDrop
VoiceClearBuilding   RangerVoiceClearBuilding ;Special combat drop that clears buildings!
VoiceGarrison        ChinookVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority    UNIT
; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
; (well, "near" actually) an Airfield to get healed...
; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE CAN_ATTACK PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_03
MaxHealth        250.0
InitialHealth    250.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  ChinookAIUpdate ModuleTag_07
MaxBoxes                 12
SupplyCenterActionDelay  3000    ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  950  ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
NumRopes                 4
; these define how long we can wait, once a guy is on-rope, before throwing another
; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
; and we'll wait for each guy to clear before spawning another.
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it
UpgradedSupplyBoost      90    ; increase in value of the crates when supply lines has been upgraded
RotorWashParticleSystem  HelixRotorWashRing
End
Locomotor  SET_NORMAL    ChinookLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor

Behavior  TransportContain ModuleTag_08
Slots                  8
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay              100
NumberOfExitPaths      1
BurnedDeathToUnits     Yes
End

Behavior  PhysicsBehavior ModuleTag_09
Mass  50.0
End

Behavior  FXListDie ModuleTag_05
DeathTypes  ALL -SUICIDED
DeathFX  FX_ChinookStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                ChinookRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_Armor03
TriggeredBy    Upgrade_AmericaCountermeasures
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  6500 ; this is triggers the delay on the rotor wash particle effects
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaVehicleBlackHawk

; *** ART Parameters ***
SelectPortrait          SABlackHawk_L
ButtonImage             SABlackHawk

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                AVBlckhwk
End
End

Side  America
EditorSorting  VEHICLE
BuildCost      1600
BuildTime      30.0

Prerequisites
Object  AmericaSupplyCenter
Object  AmericaBarracks
End

BuildVariations  AmericaVehicleBlackHawk_Var1

KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89

End

;------------------------------------------------------------------------------
Object AmericaVehicleBlackHawk_Var1

; *** ART Parameters ***
SelectPortrait          SABlackHawk_L
ButtonImage             SABlackHawk

Draw  W3DModelDraw ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd

DefaultConditionState
Model               AVBlckhwk
Animation           AVBlckhwk.AVBlckhwk
AnimationMode       LOOP
Turret              Turret01
HideSubObject       TurretEL01
End

ConditionState  MOVING
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model  AVBlckhwk_D
Animation  AVBlckhwk_D.AVBlckhwk_D
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED MOVING
Model  AVBlckhwk_D
Animation  AVBlckhwk_D.AVBlckhwk_D
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  RUBBLE
Model  AVBlckhwk_D
Animation  AVBlckhwk_D.AVBlckhwk_D
AnimationMode  LOOP
HideSubObject  TurretEL01 Gunners
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVBlckhwk_D
HideSubObject  TurretEL01 Gunners
HideSubObject  Props01
HideSubObject  Props02
End

End

Draw  W3DModelDraw ModuleTag_Gun01 ; Helicopter

OkToChangeModelColor  Yes

DefaultConditionState
Model               AVBlckhwk
Animation           AVBlckhwk.AVBlckhwk
AnimationMode       Manual
Turret              Turret01
TurretPitch         TurretEL01
HideSubObject       Chassis
WeaponMuzzleFlash   PRIMARY MuzzleFX
WeaponFireFXBone    PRIMARY Muzzle
WeaponLaunchBone    PRIMARY Muzzle
End

ConditionState  ATTACKING
AnimationMode       LOOP
End

ConditionState  REALLYDAMAGED
Model  AVBlckhwk_D
Animation  AVBlckhwk_D.AVBlckhwk_D
AnimationMode  Manual
End
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE SPECIAL_DAMAGED

ConditionState  ATTACKING REALLYDAMAGED
Model  AVBlckhwk_D
Animation  AVBlckhwk_D.AVBlckhwk_D
AnimationMode  LOOP
End
AliasConditionState  ATTACKING RUBBLE
AliasConditionState  ATTACKING RUBBLE SPECIAL_DAMAGED

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:BlackHawk
EditorSorting        SYSTEM
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          200.0
ShroudClearingRange  300.0
BuildCost            720
BuildTime            30.0          ;in seconds

WeaponSet
Conditions         None
Weapon             PRIMARY   BlackhawkMinigunWeapon
End

Prerequisites
Object  AmericaSupplyCenter
Object  AmericaBarracks
End

ExperienceValue      80 80  150 300  ; Experience point value at each level
ExperienceRequired   0  100 250 400  ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CommandSet           AmericaVehicleBlackHawkCommandSet

ArmorSet
Conditions       None
Armor            BlackHawkArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresBlackHawkArmor
DamageFX         None
End

; *** AUDIO Parameters ***
VoiceSelect           BlackHawkVoiceSelect
VoiceMove             BlackHawkVoiceMove
VoiceAttack           BlackHawkVoiceAttack
SoundAmbient          BlackHawkHelicopterAmbientLoop
SoundAmbientRubble    NoSound
SoundEnter            HumveeEnter
SoundExit             HumveeExit
UnitSpecificSounds
VoiceCreate          BlackHawkVoiceCreate
VoiceUnload          BlackHawkVoiceUnload
VoiceCombatDrop      BlackHawkVoiceCombatDrop
VoiceClearBuilding   RangerVoiceClearBuilding
VoiceGarrison        BlackHawkVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority    UNIT
; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
; (well, "near" actually) an Airfield to get healed...
; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
KindOf           PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD

Body  ActiveBody ModuleTag_03
MaxHealth        300.0
InitialHealth    300.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  FXListDie ModuleTag_05
DeathFX  FX_BlackHawkStartDeath
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_062
DeathWeapon    BlackhawkDeathWeapon
StartsActive   Yes
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End

Behavior  ChinookAIUpdate ModuleTag_07
NumRopes                 4
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it

Turret
AllowsPitch            Yes
TurretTurnRate         100
TurretPitchRate        80
NaturalTurretAngle     90
NaturalTurretPitch     -15
MinPhysicalPitch       -45
ControlledWeaponSlots  PRIMARY
RecenterTime           1000
End

AutoAcquireEnemiesWhenIdle  Yes NotWhileAttacking
RotorWashParticleSystem     HelixRotorWashRing
End
Locomotor  SET_NORMAL    ChinookLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor

Behavior  HelixContain ModuleTag_08
Slots                  8
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
PayloadTemplateName    AmericaInfantryRanger
DamagePercentToUnits   100%
AllowInsideKindOf      INFANTRY STRUCTURE
ForbidInsideKindOf     VEHICLE
ExitDelay              100
NumberOfExitPaths      1
End

Behavior  PhysicsBehavior ModuleTag_09
Mass  50.0
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   BlackHawkHelicopterAmbientDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                BlackHawkRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ExperienceScalarUpgrade ModuleTag_23
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaJetAurora

; *** ART Parameters ***
SelectPortrait          SAAurora_L
ButtonImage             SAAurora

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model                AVAurora
HideSubObject        BurnerFX03 BurnerFX04
WeaponLaunchBone  PRIMARY WeaponA
End

ConditionState         JETEXHAUST
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
; afterburner
ShowSubObject        BurnerFX03 BurnerFX04
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
End

ConditionState         REALLYDAMAGED
Model                AVAurora_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                AVAurora_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                AVAurora_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; afterburner
ShowSubObject        BurnerFX03 BurnerFX04
ParticleSysBone      Engine01 JetLenzflare
ParticleSysBone      Engine02 JetLenzflare
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         RUBBLE
Model                AVAurora_D1
HideSubObject        None
ShowSubObject        None
End

ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                AVAurora_D1
;HideSubObject is needed cause there're inherited from default condition state
HideSubObject        None
ShowSubObject        None
ParticleSysBone      Engine01 JetExhaust
ParticleSysBone      Engine02 JetExhaust
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_SuperSonicEffects01

DefaultConditionState
Model                NONE
End

ConditionState         JETEXHAUST JETAFTERBURNER
Model                  NONE
End

ConditionState         JETEXHAUST JETAFTERBURNER ATTACKING
Model                  NONE
End

ConditionState         JETEXHAUST
Model                  NONE
End

ConditionState         JETEXHAUST ATTACKING
Model                EXSonicFX
ParticleSysBone      Engine01 AuroraSuperSonicExhaust
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Aurora
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          400.0
ShroudClearingRange  400.0
Prerequisites
Object   AmericaAirfield
Object   AmericaStrategyCenter
End
BuildCost            2500
BuildTime            30.0          ;in seconds
WeaponSet
Conditions  None
Weapon  PRIMARY AuroraBombWeapon
End
ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         None
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  CountermeasuresAirplaneArmor
DamageFX               None
End

ExperienceValue      200 200 400 400 ;Experience point value at each level
ExperienceRequired   0   200 400 800 ;Experience points needed to gain each level
IsTrainable  Yes                   ;Can gain experience
CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet         AmericaJetAuroraCommandSet

; *** AUDIO Parameters ***
VoiceSelect  AuroraBomberVoiceSelect
VoiceMove  AuroraBomberVoiceMove
VoiceGuard  AuroraBomberVoiceMove
VoiceAttack  AuroraBomberVoiceAttack
SoundAmbient  AuroraBomberAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
VoiceCreate           AuroraBomberVoiceCreate
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
Afterburner           AuroraTakeOff
VoiceLowFuel          AuroraBomberVoiceLowFuel
VoiceGarrison         AuroraBomberVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body  ActiveBody ModuleTag_02
MaxHealth        160.0
InitialHealth    160.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                           JetSlowDeathBehavior ModuleTag_03
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_AuroraDeathFinalBlowUp
DestructionDelay                 5000; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_AuroraDeathInitial
;OCLInitialDeath                 None
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
;OCLSecondary                    None
FXHitGround                      FX_JetDeathHitGround
;OCLHitGround                    None
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                   MICAL NEEDS TO MAKE ME
End
Behavior  EjectPilotDie ModuleTag_04
GroundCreationList  OCL_EjectPilotOnGround
AirCreationList  OCL_EjectPilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_06
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  JetAIUpdate ModuleTag_07
OutOfAmmoDamagePerSecond     0%    ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift        0%   ; larger numbers give more lift sooner when taking off
TakeoffPause                 500
MinHeight                    5
SneakyOffsetWhenAttacking    -20.0  ; this is how far behind us people aim when we are in attack mode
AttackLocomotorType          SET_SUPERSONIC
AttackLocomotorPersistTime   100    ; we start slowing down almost immediately
AttackersMissPersistTime     0   ; but remain untargetable fer a bit longer
ReturnForAmmoLocomotorType   SET_SLUGGISH
ReturnToBaseIdleTime         10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor  SET_NORMAL      AuroraJetLocomotor
Locomotor  SET_SUPERSONIC  AuroraJetSupersonicLocomotor
Locomotor  SET_SLUGGISH    AuroraJetSluggishLocomotor
Locomotor  SET_TAXIING     BasicJetTaxiLocomotor

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    200    ; Time between flare volleys
NumberOfVolleys        12     ; Number of times the volleys will fire before reloading
ReloadTime             0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_22
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaAirfield

; *** ART Parameters ***
SelectPortrait          SAACommand_L
ButtonImage             SAACommand
Draw  W3DModelDraw ModuleTag_01

ExtraPublicBone  Runway1Parking1
ExtraPublicBone  Runway1Parking2
ExtraPublicBone  Runway2Parking1
ExtraPublicBone  Runway2Parking2
ExtraPublicBone  Runway1Park1Han
ExtraPublicBone  Runway1Park2Han
ExtraPublicBone  Runway2Park1Han
ExtraPublicBone  Runway2Park2Han
ExtraPublicBone  Runway1Prep1
ExtraPublicBone  Runway1Prep2
ExtraPublicBone  Runway2Prep1
ExtraPublicBone  Runway2Prep2
ExtraPublicBone  RunwayStart1
ExtraPublicBone  RunwayStart2
ExtraPublicBone  RunwayEnd1
ExtraPublicBone  RunwayEnd2
ExtraPublicBone  HeliPark01

OkToChangeModelColor  Yes

; day ********************************************
DefaultConditionState
Model               ABArFrcCmd
Animation           ABArFrcCmd.ABArFrcCmd
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               ABArFrcCmd_D
Animation           ABArFrcCmd_D.ABArFrcCmd_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABArFrcCmd_E
Animation           ABArFrcCmd_E.ABArFrcCmd_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmokeFactionLarge
ParticleSysBone     Smoke06 SmokeFactionLarge
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 FireFactionLarge
ParticleSysBone     Spark01 SparksLarge
End

ConditionState        SNOW
Model               ABArFrcCmd_S
Animation           ABArFrcCmd_S.ABArFrcCmd_S
AnimationMode       LOOP
End
ConditionState        DAMAGED SNOW
Model               ABArFrcCmd_DS
Animation           ABArFrcCmd_DS.ABArFrcCmd_DS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFire
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               ABArFrcCmd_ES
Animation           ABArFrcCmd_ES.ABArFrcCmd_ES
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmokeFactionLarge
ParticleSysBone     Smoke06 SmokeFactionLarge
ParticleSysBone     Fire01 SmolderingFire
ParticleSysBone     Fire02 SmolderingFire
ParticleSysBone     Fire03 FireFactionLarge
ParticleSysBone     Spark01 SparksLarge
End

; night ******************************************
ConditionState        NIGHT
Model               ABArFrcCmd_N
Animation           ABArFrcCmd_N.ABArFrcCmd_N
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT
Model               ABArFrcCmd_ND
Animation           ABArFrcCmd_ND.ABArFrcCmd_ND
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               ABArFrcCmd_NE
Animation           ABArFrcCmd_NE.ABArFrcCmd_NE
AnimationMode       LOOP
End

ConditionState        NIGHT SNOW
Model               ABArFrcCmd_NS
Animation           ABArFrcCmd_NS.ABArFrcCmd_NS
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT SNOW
Model               ABArFrcCmd_NDS
Animation           ABArFrcCmd_NDS.ABArFrcCmd_NDS
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               ABArFrcCmd_NES
Animation           ABArFrcCmd_NES.ABArFrcCmd_NES
AnimationMode       LOOP
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABArFrcCmd
Animation           ABArFrcCmd.ABArFrcCmd
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABArFrcCmd_D
Animation           ABArFrcCmd_D.ABArFrcCmd_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABArFrcCmd_E
Animation           ABArFrcCmd_E.ABArFrcCmd_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABArFrcCmd_N
Animation           ABArFrcCmd_N.ABArFrcCmd_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABArFrcCmd_ND
Animation           ABArFrcCmd_ND.ABArFrcCmd_ND
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABArFrcCmd_NE
Animation           ABArFrcCmd_NE.ABArFrcCmd_NE
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABArFrcCmd_S
Animation           ABArFrcCmd_S.ABArFrcCmd_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABArFrcCmd_DS
Animation           ABArFrcCmd_DS.ABArFrcCmd_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABArFrcCmd_ES
Animation           ABArFrcCmd_ES.ABArFrcCmd_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABArFrcCmd_NS
Animation           ABArFrcCmd_NS.ABArFrcCmd_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABArFrcCmd_NDS
Animation           ABArFrcCmd_NDS.ABArFrcCmd_NDS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABArFrcCmd_NES
Animation           ABArFrcCmd_NES.ABArFrcCmd_NES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ blinky production lights -----------------
Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model               None
End
ConditionState        ACTIVELY_CONSTRUCTING
Model               ABArFrcCmd_A9
Animation           ABArFrcCmd_A9.ABArFrcCmd_A9
AnimationMode       LOOP
End
End

; ----------------- door #1 -------------------
Draw                 W3DModelDraw ModuleTag_03
ConditionState     NONE
Model            ABArFrcCmd_A7
Animation        ABArFrcCmd_A7.ABArFrcCmd_A7
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            ABArFrcCmd_A7
Animation        ABArFrcCmd_A7.ABArFrcCmd_A7
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING

ConditionState     DOOR_1_CLOSING
Model            ABArFrcCmd_A7
Animation        ABArFrcCmd_A7.ABArFrcCmd_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE  DOOR_1_CLOSING

ConditionState     DOOR_1_WAITING_OPEN
Model            ABArFrcCmd_A7
Animation        ABArFrcCmd_A7.ABArFrcCmd_A7
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABArFrcCmd_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABArFrcCmd_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABArFrcCmd_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ----------------- door #2 -------------------
Draw                 W3DModelDraw ModuleTag_04
DefaultConditionState
Model            ABArFrcCmd_A8
Animation        ABArFrcCmd_A8.ABArFrcCmd_A8
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE


ConditionState     DOOR_2_OPENING
Model            ABArFrcCmd_A8
Animation        ABArFrcCmd_A8.ABArFrcCmd_A8
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_2_OPENING
AliasConditionState  SNOW DOOR_2_OPENING
AliasConditionState  NIGHT SNOW DOOR_2_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_2_OPENING
AliasConditionState  SNOW DAMAGED DOOR_2_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING


ConditionState     DOOR_2_CLOSING
Model            ABArFrcCmd_A8
Animation        ABArFrcCmd_A8.ABArFrcCmd_A8
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_2_CLOSING
AliasConditionState  SNOW DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW DOOR_2_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_2_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING

ConditionState     DOOR_2_WAITING_OPEN
Model            ABArFrcCmd_A8
Animation        ABArFrcCmd_A8.ABArFrcCmd_A8
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_2_WAITING_OPEN
AliasConditionState  SNOW DOOR_2_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_2_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_2_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_2_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABArFrcCmd_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABArFrcCmd_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABArFrcCmd_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ----------------- door #3 -------------------
Draw                 W3DModelDraw ModuleTag_05
DefaultConditionState
Model            ABArFrcCmd_A2
Animation        ABArFrcCmd_A2.ABArFrcCmd_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE


ConditionState     DOOR_3_OPENING
Model            ABArFrcCmd_A2
Animation        ABArFrcCmd_A2.ABArFrcCmd_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_3_OPENING
AliasConditionState  SNOW DOOR_3_OPENING
AliasConditionState  NIGHT SNOW DOOR_3_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_3_OPENING
AliasConditionState  SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING

ConditionState     DOOR_3_CLOSING
Model            ABArFrcCmd_A2
Animation        ABArFrcCmd_A2.ABArFrcCmd_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_3_CLOSING
AliasConditionState  SNOW DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW DOOR_3_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_3_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING

ConditionState     DOOR_3_WAITING_OPEN
Model            ABArFrcCmd_A2
Animation        ABArFrcCmd_A2.ABArFrcCmd_A2
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_3_WAITING_OPEN
AliasConditionState  SNOW DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABArFrcCmd_A2
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABArFrcCmd_A2
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABArFrcCmd_A2
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ----------------- door #4 -------------------
Draw                 W3DModelDraw ModuleTag_06
DefaultConditionState
Model            ABArFrcCmd_A3
Animation        ABArFrcCmd_A3.ABArFrcCmd_A3
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_4_OPENING
Model            ABArFrcCmd_A3
Animation        ABArFrcCmd_A3.ABArFrcCmd_A3
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_4_OPENING
AliasConditionState  SNOW DOOR_4_OPENING
AliasConditionState  NIGHT SNOW DOOR_4_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_4_OPENING
AliasConditionState  SNOW DAMAGED DOOR_4_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_4_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING

ConditionState     DOOR_4_CLOSING
Model            ABArFrcCmd_A3
Animation        ABArFrcCmd_A3.ABArFrcCmd_A3
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_4_CLOSING
AliasConditionState  SNOW DOOR_4_CLOSING
AliasConditionState  NIGHT SNOW DOOR_4_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_4_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_4_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_4_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING

ConditionState     DOOR_4_WAITING_OPEN
Model            ABArFrcCmd_A3
Animation        ABArFrcCmd_A3.ABArFrcCmd_A3
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_4_WAITING_OPEN
AliasConditionState  SNOW DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT DAMAGED DOOR_4_WAITING_OPEN
AliasConditionState  SNOW DAMAGED DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT SNOW DAMAGED DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABArFrcCmd_A3
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABArFrcCmd_A3
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABArFrcCmd_A3
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_07
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A4
Animation        ABArFrcCmd_A4.ABArFrcCmd_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A4N
Animation        ABArFrcCmd_A4N.ABArFrcCmd_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A4S
Animation        ABArFrcCmd_A4S.ABArFrcCmd_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A4SN
; @todo srj -- missing
Animation        ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABArFrcCmd_A4
Animation        ABArFrcCmd_A4.ABArFrcCmd_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABArFrcCmd_A4N
Animation        ABArFrcCmd_A4N.ABArFrcCmd_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABArFrcCmd_A4S
Animation        ABArFrcCmd_A4S.ABArFrcCmd_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABArFrcCmd_A4SN
; @todo srj -- missing
Animation        ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABArFrcCmd_A4
Animation        ABArFrcCmd_A4.ABArFrcCmd_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABArFrcCmd_A4N
Animation        ABArFrcCmd_A4N.ABArFrcCmd_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABArFrcCmd_A4S
Animation        ABArFrcCmd_A4S.ABArFrcCmd_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABArFrcCmd_A4SN
; @todo srj -- missing
Animation        ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_08
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABArFrcCmd_A6
Animation        ABArFrcCmd_A6.ABArFrcCmd_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABArFrcCmd_A6N
Animation        ABArFrcCmd_A6N.ABArFrcCmd_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABArFrcCmd_A6S
Animation        ABArFrcCmd_A6S.ABArFrcCmd_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABArFrcCmd_A6SN
; @todo srj -- missing
Animation        ABArFrcCmd_A6SN.ABArFrcCmd_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABArFrcCmd_A6
Animation        ABArFrcCmd_A6.ABArFrcCmd_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABArFrcCmd_A6N
Animation        ABArFrcCmd_A6N.ABArFrcCmd_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABArFrcCmd_A6S
Animation        ABArFrcCmd_A6S.ABArFrcCmd_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABArFrcCmd_A6SN
; @todo srj -- missing
Animation        ABArFrcCmd_A6SN.ABArFrcCmd_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABArFrcCmd_A6
Animation        ABArFrcCmd_A6.ABArFrcCmd_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABArFrcCmd_A6N
Animation        ABArFrcCmd_A6N.ABArFrcCmd_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABArFrcCmd_A6S
Animation        ABArFrcCmd_A6S.ABArFrcCmd_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABArFrcCmd_A6SN
; @todo srj -- missing
Animation        ABArFrcCmd_A6SN.ABArFrcCmd_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_09
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A5
Animation        ABArFrcCmd_A5.ABArFrcCmd_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A5N
Animation        ABArFrcCmd_A5N.ABArFrcCmd_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A5S
Animation        ABArFrcCmd_A5S.ABArFrcCmd_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABArFrcCmd_A5SN
Animation        ABArFrcCmd_A5SN.ABArFrcCmd_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABArFrcCmd_AB
Animation        ABArFrcCmd_AB.ABArFrcCmd_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABArFrcCmd_ABN
Animation        ABArFrcCmd_ABN.ABArFrcCmd_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABArFrcCmd_ABS
; @todo srj -- not found
Animation        ABArFrcCmd_ABS.ABArFrcCmd_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABArFrcCmd_ABSN
Animation        ABArFrcCmd_ABSN.ABArFrcCmd_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABArFrcCmd_AB
Animation        ABArFrcCmd_AB.ABArFrcCmd_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABArFrcCmd_ABN
Animation        ABArFrcCmd_ABN.ABArFrcCmd_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABArFrcCmd_ABS
; @todo srj -- not found
Animation        ABArFrcCmd_ABS.ABArFrcCmd_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABArFrcCmd_ABS
Animation        ABArFrcCmd_ABS.ABArFrcCmd_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_Pikcbox01

DefaultConditionState
Model  ABArFrcCmd_B
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  NIGHT
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

;**************************************************************************************************************************
ConditionState  AWAITING_CONSTRUCTION
Model  NONE
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Airfield
Side              America
EditorSorting     STRUCTURE
Prerequisites
Object  AmericaSupplyCenter
Object AmericaDetentionCamp
End
BuildCost            2000
BuildTime            30.0           ; in seconds
EnergyProduction     -15
CommandSet           AmericaAirfieldCommandSet
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  600
ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect          AirfieldUSASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_AIRFIELD POWERED
Body                 StructureBody ModuleTag_10
MaxHealth          4000.0
InitialHealth      4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ParkingPlaceBehavior ModuleTag_11
HealAmountPerSecond      10
NumRows                  2
NumCols                  2
HasRunways               Yes
ApproachHeight           50
End

Behavior  ProductionUpdate ModuleTag_12
NumDoorAnimations             4
DoorOpeningTime               2000  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 2000  ;in mSeconds
ConstructionCompleteDuration  1000  ;in mSeconds
End

Behavior  BaseRegenerateUpdate ModuleTag_13
;No data
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris03
End

Behavior  FlammableUpdate ModuleTag_19
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_31
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        AIRCRAFT
ExtraForbiddenKindOf       UNATTACKABLE
End

Geometry             BOX
GeometryMajorRadius  112.0
GeometryMinorRadius  74.0
GeometryHeight       25.0
GeometryIsSmall      No
FactoryExitWidth     25
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object AmericaBarracks

; *** ART Parameters ***
SelectPortrait          SABarracks_L
ButtonImage             SABarracks
PlacementViewAngle      -45

;Main barracks model
Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;DAY *******************************
ConditionState        NONE
Model               ABBARRACKS
Animation           ABBarracks.ABBarracks
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        DAMAGED
Model               ABBarracks_D
Animation           ABBarracks_D.ABBarracks_D
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABBarracks_E
Animation           ABBarracks_E.ABBarracks_E
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End


;NIGHT *****************************
ConditionState        NIGHT
Model               ABBARRACKS_N
Animation           ABBarracks_N.ABBarracks_N
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        DAMAGED NIGHT
Model               ABBarracks_DN
Animation           ABBarracks_DN.ABBarracks_DN
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               ABBarracks_EN
Animation           ABBarracks_EN.ABBarracks_EN
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End


;SNOW ******************************
ConditionState        SNOW
Model               ABBARRACKS_S
Animation           ABBarracks_S.ABBarracks_S
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        DAMAGED SNOW
Model               ABBarracks_DS
Animation           ABBarracks_DS.ABBarracks_DS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState       REALLYDAMAGED RUBBLE SNOW
Model               ABBarracks_ES
Animation           ABBarracks_ES.ABBarracks_ES
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End


;SNOW AND NIGHT ********************
ConditionState        SNOW NIGHT
Model               ABBARRACKS_NS
Animation           ABBarracks_NS.ABBarracks_NS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        DAMAGED SNOW NIGHT
Model               ABBarracks_DNS
Animation           ABBarracks_DNS.ABBarracks_DNS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End
ConditionState        REALLYDAMAGED RUBBLE SNOW NIGHT
Model               ABBarracks_ENS
Animation           ABBarracks_ENS.ABBarracks_ENS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
End


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABBarracks
Animation           ABBarracks.ABBarracks
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABBarracks_D
Animation           ABBarracks_D.ABBarracks_D
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABBarracks_E
Animation           ABBarracks_E.ABBarracks_E
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABBarracks_N
Animation           ABBarracks_N.ABBarracks_N
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABBarracks_DN
Animation           ABBarracks_DN.ABBarracks_DN
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABBarracks_EN
Animation           ABBarracks_EN.ABBarracks_EN
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABBarracks_S
Animation           ABBarracks_S.ABBarracks_S
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABBarracks_DS
Animation           ABBarracks_DS.ABBarracks_DS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABBarracks_ES
Animation           ABBarracks_ES.ABBarracks_ES
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABBarracks_NS
Animation           ABBarracks_NS.ABBarracks_NS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABBarracks_DNS
Animation           ABBarracks_DNS.ABBarracks_DNS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABBarracks_ENS
Animation           ABBarracks_ENS.ABBarracks_ENS
AnimationMode       LOOP
HideSubObject       HOUSECOLOR04
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ New american flag animations -----------------
Draw  W3DModelDraw ModuleTag_Flag01

DefaultConditionState
Model            ABBarracks_AC
Animation        ABBarracks_AC.ABBarracks_AC
AnimationMode    LOOP
End

ConditionState     DAMAGED
Model            ABBarracks_ACD
Animation        ABBarracks_ACD.ABBarracks_ACD
AnimationMode    LOOP
End

ConditionState     REALLYDAMAGED
Model            ABBarracks_ACE
Animation        ABBarracks_ACE.ABBarracks_ACE
AnimationMode    LOOP
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_AC
Animation        ABBarracks_AC.ABBarracks_AC
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            ABBarracks_ACD
Animation        ABBarracks_ACD.ABBarracks_ACD
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            ABBarracks_ACE
Animation        ABBarracks_ACE.ABBarracks_ACE
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION  REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A4
Animation        ABBarracks_A4.ABBarracks_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A4N
Animation        ABBarracks_A4N.ABBarracks_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SparksS01 LiveWireSparks02
End

ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A4S
Animation        ABBarracks_A4S.ABBarracks_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A4SN
Animation        ABBarracks_A4SN.ABBarracks_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABBarracks_A4
Animation        ABBarracks_A4.ABBarracks_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABBarracks_A4N
Animation        ABBarracks_A4N.ABBarracks_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABBarracks_A4S
Animation        ABBarracks_A4S.ABBarracks_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABBarracks_A4SN
Animation        ABBarracks_A4SN.ABBarracks_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABBarracks_A4
Animation        ABBarracks_A4.ABBarracks_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABBarracks_A4N
Animation        ABBarracks_A4N.ABBarracks_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABBarracks_A4S
Animation        ABBarracks_A4S.ABBarracks_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABBarracks_A4SN
Animation        ABBarracks_A4SN.ABBarracks_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABBarracks_A6
Animation        ABBarracks_A6.ABBarracks_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABBarracks_A6N
Animation        ABBarracks_A6N.ABBarracks_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABBarracks_A6S
Animation        ABBarracks_A6S.ABBarracks_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABBarracks_A6SN
Animation        ABBarracks_A6SN.ABBarracks_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABBarracks_A6
Animation        ABBarracks_A6.ABBarracks_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABBarracks_A6N
Animation        ABBarracks_A6N.ABBarracks_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABBarracks_A6S
Animation        ABBarracks_A6S.ABBarracks_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABBarracks_A6SN
Animation        ABBarracks_A6SN.ABBarracks_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABBarracks_A6
Animation        ABBarracks_A6.ABBarracks_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABBarracks_A6N
Animation        ABBarracks_A6N.ABBarracks_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABBarracks_A6S
Animation        ABBarracks_A6S.ABBarracks_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABBarracks_A6SN
Animation        ABBarracks_A6SN.ABBarracks_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A5
Animation        ABBarracks_A5.ABBarracks_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A5N
Animation        ABBarracks_A5N.ABBarracks_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A5S
Animation        ABBarracks_A5S.ABBarracks_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABBarracks_A5SN
Animation        ABBarracks_A5SN.ABBarracks_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState     DOWN_DEFAULT UP_DAY
Model            ABBarracks_AB
Animation        ABBarracks_AB.ABBarracks_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABBarracks_ABN
Animation        ABBarracks_ABN.ABBarracks_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABBarracks_ABS
Animation        ABBarracks_ABS.ABBarracks_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABBarracks_ABSN
Animation        ABBarracks_ABSN.ABBarracks_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABBarracks_AB
Animation        ABBarracks_AB.ABBarracks_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABBarracks_ABN
Animation        ABBarracks_ABN.ABBarracks_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABBarracks_ABS
Animation        ABBarracks_ABS.ABBarracks_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABBarracks_ABSN
Animation        ABBarracks_ABSN.ABBarracks_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

;------- Sandbags Model Fix -------
Draw  W3DModelDraw ModuleTag_Extras
OkToChangeModelColor  Yes

DefaultConditionState
Model               ABBarracks_B
End
ConditionState        DAMAGED
Model               ABBarracks_BD
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABBarracks_BE
End
ConditionState        SNOW
Model               ABBarracks_BS
End
ConditionState        DAMAGED SNOW
Model               ABBarracks_BDS
End
ConditionState       REALLYDAMAGED RUBBLE SNOW
Model               ABBarracks_BES
End

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABBarracks_B
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABBarracks_BD
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABBarracks_BE
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABBarracks_BS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABBarracks_BDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABBarracks_BES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
End

; ***DESIGN parameters ***
DisplayName          OBJECT:Barracks
Side                 America
EditorSorting        STRUCTURE
BuildCost            500
BuildTime            10.0           ; in seconds
EnergyProduction     0
CommandSet           AmericaBarracksCommandSet
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions         None
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End
ExperienceValue      100 100 100 100  ; Experience point value at each level

Prerequisites
;    Object  AmericaPowerPlant
End

; *** AUDIO Parameters ***
VoiceSelect  BarracksUSASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS
Body                  StructureBody ModuleTag_05
MaxHealth           1000.0
InitialHealth       1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  HealContain ModuleTag_06
ContainMax           10 ;way bigger than the # of objects we can have
TimeForFullHeal      2000   ;(in milliseconds)
AllowInsideKindOf    INFANTRY
AllowAlliesInside    Yes
AllowNeutralInside   No
AllowEnemiesInside   No
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris03
End

Behavior  ProductionUpdate ModuleTag_11
QuantityModifier  AmericaVehicleTerrorDrone  2
QuantityModifier  AmericaVehicleTermiteDrone 2
End

Behavior  DefaultProductionExitUpdate ModuleTag_12
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X: 55.0  Y:  0.0   Z:0.0
End

;This spawns the drill instructor crate which will only trigger upon purchasing the generals point
Behavior  FireWeaponUpdate ModuleTag_VeteranCompanyVissual01
Weapon  AmericaBarracksDrillInstructorSpawnWeapon
End

;This ensure that tbe barracks always has collision active
Behavior  FireWeaponUpdate ModuleTag_VeteranCompanyVissual02
Weapon  GenericBuildingCollisionDummyWeapon
End

;This kills the drill instructor when sold
Behavior  FireWeaponCollide ModuleTag_VeteranCompanyVissual03
CollideWeapon  AmericaBarracksDrillInstructorKillWeapon
RequiredStatus  SOLD
End

;This kills the drill instructor when the barracks is destroyed
Behavior  FireWeaponWhenDeadBehavior ModuleTag_VeteranCompanyVissual04
DeathWeapon    AmericaBarracksDrillInstructorKillWeapon
StartsActive   Yes
End

;This kills the drill instructor when the barracks is captured
Behavior  FireWeaponUpdate ModuleTag_VeteranCompanyVissual05
Weapon  AmericaBarracksDrillInstructorKillWhenCapturedWeapon
End

Behavior  BaseRegenerateUpdate ModuleTag_13
End

Behavior  FlammableUpdate ModuleTag_15
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_16
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry              BOX
GeometryMajorRadius   55.0
GeometryMinorRadius   45.0
GeometryHeight        20.0
GeometryIsSmall       No
FactoryExitWidth     25     ; How much space to leave for units exiting.
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaCommandCenter

; *** ART Parameters ***
SelectPortrait          SAComCentr_L
ButtonImage             SAComCentr

; ----------------- Main Building ------------------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
; day ******************************************
ConditionState        NONE
Model               ABBtCmdHQ
Animation           ABBtCmdHQ.ABBtCmdHQ
AnimationMode       LOOP
End
ConditionState        DAMAGED
Model               ABBtCmdHQ_D
Animation           ABBtCmdHQ_D.ABBtCmdHQ_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABBtCmdHQ_E
Animation           ABBtCmdHQ_E.ABBtCmdHQ_E
AnimationMode       LOOP
End


; night ****************************************
ConditionState        NIGHT
Model               ABBtCmdHQ_N
Animation           ABBtCmdHQ_N.ABBtCmdHQ_N
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT
Model               ABBtCmdHQ_DN
Animation           ABBtCmdHQ_DN.ABBtCmdHQ_DN
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               ABBtCmdHQ_EN
Animation           ABBtCmdHQ_EN.ABBtCmdHQ_EN
AnimationMode       LOOP
End


; Snow
ConditionState        SNOW
Model               ABBtCmdHQ_S
Animation           ABBtCmdHQ_S.ABBtCmdHQ_S
AnimationMode       LOOP
End
ConditionState        DAMAGED SNOW
Model               ABBtCmdHQ_DS
Animation           ABBtCmdHQ_DS.ABBtCmdHQ_DS
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               ABBtCmdHQ_ES
Animation           ABBtCmdHQ_ES.ABBtCmdHQ_ES
AnimationMode       LOOP
End

; night snow ****************************************
ConditionState        NIGHT SNOW
Model               ABBtCmdHQ_NS
Animation           ABBtCmdHQ_NS.ABBtCmdHQ_NS
AnimationMode       LOOP
End
ConditionState        DAMAGED NIGHT SNOW
Model               ABBtCmdHQ_DNS
Animation           ABBtCmdHQ_DNS.ABBtCmdHQ_DNS
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               ABBtCmdHQ_ENS
Animation           ABBtCmdHQ_ENS.ABBtCmdHQ_ENS
AnimationMode       LOOP
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABBtCmdHQ
Animation           ABBtCmdHQ.ABBtCmdHQ
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABBtCmdHQ_D
Animation           ABBtCmdHQ_D.ABBtCmdHQ_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABBtCmdHQ_E
Animation           ABBtCmdHQ_E.ABBtCmdHQ_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABBtCmdHQ_N
Animation           ABBtCmdHQ_N.ABBtCmdHQ_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABBtCmdHQ_DN
Animation           ABBtCmdHQ_DN.ABBtCmdHQ_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABBtCmdHQ_EN
Animation           ABBtCmdHQ_EN.ABBtCmdHQ_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABBtCmdHQ_S
Animation           ABBtCmdHQ_S.ABBtCmdHQ_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABBtCmdHQ_DS
Animation           ABBtCmdHQ_DS.ABBtCmdHQ_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABBtCmdHQ_ES
Animation           ABBtCmdHQ_ES.ABBtCmdHQ_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABBtCmdHQ_NS
Animation           ABBtCmdHQ_NS.ABBtCmdHQ_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABBtCmdHQ_DNS
Animation           ABBtCmdHQ_DNS.ABBtCmdHQ_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABBtCmdHQ_ENS
Animation           ABBtCmdHQ_ENS.ABBtCmdHQ_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************************************************************************************************

End

; ----------------- the factory door -------------------
Draw                 W3DModelDraw ModuleTag_02
DefaultConditionState
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABBtCmdHQ_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABBtCmdHQ_A7D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABBtCmdHQ_A7E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW NIGHT


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED


AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


ConditionState     DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState     REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End


ConditionState     DOOR_1_OPENING
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState     DOOR_1_OPENING DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState     DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState     DOOR_1_CLOSING
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End


ConditionState     DOOR_1_CLOSING DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
ConditionState     DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
ConditionState     DOOR_1_WAITING_OPEN
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
ConditionState     DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
End

PlacementViewAngle   -135

; ------------ Radar Extending -----------------
Draw                 W3DModelDraw ModuleTag_03
ConditionState     None
Model            ABBtCmdHQ_AC
Animation        ABBtCmdHQ_AC.ABBtCmdHQ_AC
AnimationMode    LOOP
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState     DAMAGED
Model            ABBtCmdHQ_ACD
Animation        ABBtCmdHQ_ACD.ABBtCmdHQ_ACD
AnimationMode    LOOP
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_ACE
Animation        ABBtCmdHQ_ACE.ABBtCmdHQ_ACE
AnimationMode    LOOP
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABBtCmdHQ_AC
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABBtCmdHQ_ACD
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABBtCmdHQ_ACE
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ----------------- The Door ------------------------
Draw  W3DModelDraw ModuleTag_04

DefaultConditionState
Model            ABBtCmdHQ_A7

Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

ConditionState     DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_OPENING DAMAGED

ConditionState     DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING DAMAGED

ConditionState     DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            ABBtCmdHQ_A7
Animation        ABBtCmdHQ_A7.ABBtCmdHQ_A7
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            ABBtCmdHQ_A7D
Animation        ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED

ConditionState     DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model            ABBtCmdHQ_A7E
Animation        ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABBtCmdHQ_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABBtCmdHQ_A7D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW


ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABBtCmdHQ_A7E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_05
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A4
Animation        ABBtCmdHQ_A4.ABBtCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A4N
Animation        ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A4S
Animation        ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A4SN
Animation        ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABBtCmdHQ_A4
Animation        ABBtCmdHQ_A4.ABBtCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABBtCmdHQ_A4N
Animation        ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABBtCmdHQ_A4S
Animation        ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABBtCmdHQ_A4SN
Animation        ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABBtCmdHQ_A4
Animation        ABBtCmdHQ_A4.ABBtCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABBtCmdHQ_A4N
Animation        ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABBtCmdHQ_A4S
Animation        ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW NIGHT DOWN_DEFAULT
Model            ABBtCmdHQ_A4SN
Animation        ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABBtCmdHQ_A6
Animation        ABBtCmdHQ_A6.ABBtCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
ParticleSysBone  Sparks08 BuildUpBlueSpark
ParticleSysBone  Sparks09 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABBtCmdHQ_A6N
Animation        ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
ParticleSysBone  Sparks08 BuildUpBlueSpark
ParticleSysBone  Sparks09 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABBtCmdHQ_A6S
Animation        ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
ParticleSysBone  Sparks08 BuildUpBlueSpark
ParticleSysBone  Sparks09 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABBtCmdHQ_A6SN
Animation        ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
ParticleSysBone  Sparks08 BuildUpBlueSpark
ParticleSysBone  Sparks09 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABBtCmdHQ_A6
Animation        ABBtCmdHQ_A6.ABBtCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABBtCmdHQ_A6N
Animation        ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABBtCmdHQ_A6S
Animation        ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABBtCmdHQ_A6SN
Animation        ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABBtCmdHQ_A6
Animation        ABBtCmdHQ_A6.ABBtCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABBtCmdHQ_A6N
Animation        ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABBtCmdHQ_A6S
Animation        ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABBtCmdHQ_A6SN
Animation        ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_07
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A5
Animation        ABBtCmdHQ_A5.ABBtCmdHQ_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A5N
Animation        ABBtCmdHQ_A5N.ABBtCmdHQ_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A5S
Animation        ABBtCmdHQ_A5S.ABBtCmdHQ_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABBtCmdHQ_A5SN
Animation        ABBtCmdHQ_A5SN.ABBtCmdHQ_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABBtCmdHQ_A3
Animation        ABBtCmdHQ_A3.ABBtCmdHQ_A3
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABBtCmdHQ_A3N
Animation        ABBtCmdHQ_A3N.ABBtCmdHQ_A3N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABBtCmdHQ_A3S
; @todo srj -- not found
Animation        ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABBtCmdHQ_A3SN
Animation        ABBtCmdHQ_A3SN.ABBtCmdHQ_A3SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABBtCmdHQ_A3
Animation        ABBtCmdHQ_A3.ABBtCmdHQ_A3
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABBtCmdHQ_A3N
Animation        ABBtCmdHQ_A3N.ABBtCmdHQ_A3N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABBtCmdHQ_A3S
; @todo srj -- not found
Animation        ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABBtCmdHQ_A3S
Animation        ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; Officers club flag
Draw  W3DModelDraw ModuleTag_OfficersClub
OkToChangeModelColor  No

ConditionState        NONE
Model               None
End
AliasConditionState   DAMAGED
AliasConditionState   REALLYDAMAGED
AliasConditionState   RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE
ConditionState        PREORDER
Model               OCFlagUSA
Animation           OCFlagUSA.OCFlagUSA
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PREORDER DAMAGED
Model               OCFlagUSA_D
Animation           OCFlagUSA_D.OCFlagUSA_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        PREORDER REALLYDAMAGED RUBBLE
Model               OCFlagUSA_E
Animation           OCFlagUSA_E.OCFlagUSA_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
End

; ------------ backup power generator -----------------
Draw                    W3DModelDraw ModuleTag_Generator01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               ABBcpPwr
ParticleSysBone     HOUSECOLOR01 SteamVent
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               ABBcpPwr_D
ParticleSysBone     HOUSECOLOR01 SteamVent
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               ABBcpPwr_E
ParticleSysBone     HOUSECOLOR01 SteamVent
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               ABBcpPwr_S
ParticleSysBone     HOUSECOLOR01 SteamVent
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               ABBcpPwr_SD
ParticleSysBone     HOUSECOLOR01 SteamVent
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               ABBcpPwr_SE
ParticleSysBone     HOUSECOLOR01 SteamVent
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABBcpPwr
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              ABBcpPwr_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              ABBcpPwr_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              ABBcpPwr_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              ABBcpPwr_SD
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              ABBcpPwr_SE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_DroneBone01
DefaultConditionState
Model               ABBtCmdHQ_B
End
End

PlacementViewAngle   -135

; ***DESIGN parameters ***
DisplayName            OBJECT:CommandCenter
Side                   America
EditorSorting          STRUCTURE
BuildCost              2000
RefundValue            1000
BuildTime              45.0           ; in seconds
EnergyProduction       0   ;Command Center should be free
VisionRange            300.0           ; Shroud clearing distance
ShroudClearingRange    300
MaxSimultaneousOfType  1

ArmorSet
Conditions           None
Armor                StructureArmorTough
DamageFX             StructureDamageFXNoShake
End

Prerequisites
Object  FactionAmerica
End

ExperienceValue      200 200 200 200  ; Experience point value at each level
CommandSet             AmericaCommandCenterCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CommandCenterUSASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY
Body                 StructureBody ModuleTag_08
MaxHealth          5000.0
InitialHealth      5000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  5200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  PreorderCreate ModuleTag_PreorderCreate
End

Behavior  GrantUpgradeCreate ModuleTag_09
UpgradeToGrant            Upgrade_ChinaRadar
ExemptStatus       UNDER_CONSTRUCTION
End

Behavior  ProductionUpdate ModuleTag_11
NumDoorAnimations             1
DoorOpeningTime               1500  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 1500  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End

Behavior  RadarUpdate ModuleTag_12
RadarExtendTime    4000     ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_13
UnitCreatePoint    X:-18.0  Y:  35.0   Z:0.0
NaturalRallyPoint  X: 60.0  Y:  35.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
End

Behavior  BaseRegenerateUpdate ModuleTag_14
;No data
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade01
CommandSet       AmericaCommandCenterCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       AmericaCommandCenterPowersCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris04
End

Behavior          RadarUpgrade ModuleTag_19
TriggeredBy    Upgrade_ChinaRadar
End

Behavior  SpecialAbility ModuleTag_GenPower01
SpecialPowerTemplate  SuperweaponSpectreGunship
UpdateModuleStartsAttack  Yes
End

Behavior            SpectreGunshipDeploymentUpdate ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponSpectreGunship
RequiredScience       SCIENCE_SpectreGunship
GunshipTemplateName   AmericaJetSpectreGunship_MK1
AttackAreaRadius      220
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior            OCLSpecialPower ModuleTag_GenPower04
SpecialPowerTemplate  SuperweaponA10ThunderboltMissileStrike
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
OCL                   SUPERWEAPON_A10ThunderboltMissileStrike1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower05
SpecialPowerTemplate  SuperweaponEmergencyRepair
OCL                   SUPERWEAPON_RepairVehicles1
CreateLocation        CREATE_AT_LOCATION
End

Behavior            OCLSpecialPower ModuleTag_GenPower06
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower07
SpecialPowerTemplate  SuperweapoAmericaTankDrop
OCL                   SUPERWEAPON_AmericaTankDrop
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior            OCLSpecialPower ModuleTag_GenPower08
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponGuardianAngel
OCL                   SUPERWEAPON_America_TacticalMissileDefence
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior           = OCLSpecialPower ModuleTag_GenPower010
SpecialPowerTemplate = SpecialPowerSpyDrone
OCL                  = SUPERWEAPON_SpyDrone
CreateLocation       = CREATE_ABOVE_LOCATION
End

Behavior    = OCLSpecialPower ModuleTag_GenPower011
SpecialPowerTemplate = SuperweaponCrateDrop
OCL                  = SUPERWEAPON_CrateDrop
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior           = OCLSpecialPower ModuleTag_GenPower012
SpecialPowerTemplate = SuperweaponCarrierAirstrike
OCL                  = SUPERWEAPON_F18HornetAirStrike
CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior = OCLSpecialPower ModuleTag_GenPower013
SpecialPowerTemplate SuperweaponAirDeployMarker
OCL = OCL_CreateAirDeployMarker
CreateLocation = CREATE_AT_LOCATION
ReferenceObject = AirDeployMarker ; So we know what the final product is for script placement calculations
End

Behavior = OCLSpecialPower ModuleTag_GenPower014
SpecialPowerTemplate SuperweaponHelicopterAmbush
;UpgradeOCL = SCIENCE_HelicopterSupport1 ; SUPERWEAPON_HelicopterSupport2 ;SUPERWEAPON_HelicopterAmbush2
OCL SUPERWEAPON_HelicopterSupport1 ;SUPERWEAPON_HelicopterAmbush1
CreateLocation = CREATE_AT_EDGE_NEAR_SOURCE ;CREATE_ABOVE_LOCATION
End

Behavior = OCLSpecialPower ModuleTag_GenPower015
SpecialPowerTemplate = AmericaSpecOps_Paradrop
;UpgradeOCL = SOCOM_SCIENCE_Tree14 SOCOM_SUPERWEAPON_SpecOpsParadrop2
OCL SUPERWEAPON_SpecOpsParadrop1
CreateLocation CREATE_AT_EDGE_NEAR_SOURCE
;OCLAdjustPositionToPassable = Yes     ; Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End

Behavior = OCLSpecialPower ModuleTag_GenPower016
SpecialPowerTemplate = SuperweaponDaisyCutter
;UpgradeOCL = SCIENCE_MOAB SUPERWEAPON_MOAB
OCL = SUPERWEAPON_DaisyCutter
CreateLocation = CREATE_AT_EDGE_NEAR_SOURCE
End

Behavior            OCLSpecialPower ModuleTag_GenPower017
SpecialPowerTemplate  SuperweapoAmericaReinforcementParadrop
OCL                   SUPERWEAPON_ReinforcementParadrop1
CreateLocation        CREATE_AT_EDGE_NEAR_SOURCE
OCLAdjustPositionToPassable  Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Backup Generator Modules Start ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponBackupPower
OCL                   SUPERWEAPON_BackupPower
CreateLocation        USE_OWNER_OBJECT
End

Behavior  HelixContain ModuleTag_BackupGenerator01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_BackupGenerator02
CollideWeapon  CommandCenterBackupPowerGeneratorDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  FireWeaponUpdate ModuleTag_BackupGenerator03
Weapon   CreateCommandCenterBackupPowerGeneratorsCrateWeapon
End

;This kills the emergency power dummy object when sold
Behavior  FireWeaponCollide ModuleTag_KillBackupPowerObject02
CollideWeapon   CommandCenterRemoveEmergencyPowerObjectWeapon
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_KillBackupPowerObject03
DeathWeapon    CommandCenterRemoveEmergencyPowerObjectWeapon
ExemptStatus   UNDER_CONSTRUCTION
StartsActive   Yes
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy

PristineOCL2       bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
DamagedOCL2        bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
ReallyDamagedOCL2  bone:NULL OnlyOnce:No 150 150 OCL:OCL_FactionRadarActive
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Backup Generator Modules End ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  FlammableUpdate ModuleTag_30
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_31
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior             SpawnBehavior ModuleTag_FreeDozer01
SpawnNumber         1
SpawnReplaceDelay   9999
SpawnTemplateName   AmericaVehicleDozer
OneShot             Yes
CanReclaimOrphans   No
SlavesHaveFreeWill  Yes
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior              SpawnBehavior ModuleTag_Spawner01
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName    AmericaSuperWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End
Behavior              SpawnBehavior ModuleTag_Spawner02
SpawnNumber          1
SpawnReplaceDelay    9999
SpawnTemplateName    AmericaSupportWeaponsHolderObject
OneShot              Yes
CanReclaimOrphans    No
SlavesHaveFreeWill   Yes
;-----------------------------------------------
SpawnedRequireSpawner   Yes
;-----------------------------------------------
End

Geometry             BOX
GeometryMajorRadius  60.0
GeometryMinorRadius  70.0
GeometryHeight       49.0
GeometryIsSmall      No
FactoryExitWidth     25     ; How much space to leave for units exiting.
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;  1  
;------------------------------------------------------------------------------
Object AmericaDetentionCamp

; *** ART Parameters ***
SelectPortrait          SAPrison_L
ButtonImage             SAPrison

Draw                    W3DModelDraw ModuleTag_01

ExtraPublicBone       PRISONYARD
OkToChangeModelColor  Yes

; day ****************************************
ConditionState   NONE
Model          ABPrison
Animation      ABPrison.ABPrison
AnimationMode  LOOP
End
ConditionState     DAMAGED
Model            ABPrison_D
Animation        ABPrison_D.ABPrison_D
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE
Model            ABPrison_E
Animation        ABPrison_E.ABPrison_E
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End

; night ***************************************
ConditionState     NIGHT
Model            ABPrison_N
Animation        ABPrison_N.ABPrison_N
AnimationMode    LOOP
End
ConditionState     DAMAGED NIGHT
Model            ABPrison_DN
Animation        ABPrison_DN.ABPrison_DN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT
Model            ABPrison_EN
Animation        ABPrison_EN.ABPrison_EN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End


; day snow ****************************************
ConditionState   SNOW
Model          ABPrison_S
Animation      ABPrison_S.ABPrison_S
AnimationMode  LOOP
End
ConditionState     DAMAGED SNOW
Model            ABPrison_DS
Animation        ABPrison_DS.ABPrison_DS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE SNOW
Model            ABPrison_ES
Animation        ABPrison_ES.ABPrison_ES
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End

; night snow ***************************************
ConditionState     NIGHT SNOW
Model            ABPrison_NS
Animation        ABPrison_NS.ABPrison_NS
AnimationMode    LOOP
End
ConditionState     DAMAGED NIGHT SNOW
Model            ABPrison_DNS
Animation        ABPrison_DNS.ABPrison_DNS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT SNOW
Model            ABPrison_ENS
Animation        ABPrison_ENS.ABPrison_ENS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABPrison
Animation           ABPrison.ABPrison
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABPrison_D
Animation           ABPrison_D.ABPrison_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABPrison_E
Animation           ABPrison_E.ABPrison_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABPrison_N
Animation           ABPrison_N.ABPrison_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABPrison_DN
Animation           ABPrison_DN.ABPrison_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABPrison_EN
Animation           ABPrison_EN.ABPrison_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABPrison_S
Animation           ABPrison_S.ABPrison_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABPrison_DS
Animation           ABPrison_DS.ABPrison_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABPrison_ES
Animation           ABPrison_ES.ABPrison_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABPrison_NS
Animation           ABPrison_NS.ABPrison_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABPrison_DNS
Animation           ABPrison_DNS.ABPrison_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABPrison_ENS
Animation           ABPrison_ENS.ABPrison_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

Draw                    W3DModelDraw ModuleTag_Workshop01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               ABIntlOffc
Animation           ABIntlOffc.ABIntlOffc
AnimationMode       LOOP
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               ABIntlOffc_D
Animation           ABIntlOffc_D.ABIntlOffc_D
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               ABIntlOffc_E
Animation           ABIntlOffc_E.ABIntlOffc_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               ABIntlOffc_S
Animation           ABIntlOffc_S.ABIntlOffc_S
AnimationMode       LOOP
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               ABIntlOffc_SD
Animation           ABIntlOffc_SD.ABIntlOffc_SD
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               ABIntlOffc_SE
Animation           ABIntlOffc_SE.ABIntlOffc_SE
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABIntlOffc
Animation          ABIntlOffc.ABIntlOffc
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              ABIntlOffc_D
Animation          ABIntlOffc_D.ABIntlOffc_D
AnimationMode      LOOP
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              ABIntlOffc_E
Animation          ABIntlOffc_E.ABIntlOffc_E
AnimationMode      LOOP
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              ABIntlOffc_S
Animation          ABIntlOffc_S.ABIntlOffc_S
AnimationMode      LOOP
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              ABIntlOffc_SD
Animation          ABIntlOffc_SD.ABIntlOffc_SD
AnimationMode      LOOP
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              ABIntlOffc_SE
Animation          ABIntlOffc_SE.ABIntlOffc_SE
AnimationMode      LOOP
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
OkToChangeModelColor  Yes
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A4
Animation        ABPrison_A4.ABPrison_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A4N
Animation        ABPrison_A4N.ABPrison_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A4S
Animation        ABPrison_A4S.ABPrison_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A4SN
Animation        ABPrison_A4SN.ABPrison_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABPrison_A4
Animation        ABPrison_A4.ABPrison_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABPrison_A4N
Animation        ABPrison_A4N.ABPrison_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABPrison_A4S
Animation        ABPrison_A4S.ABPrison_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABPrison_A4SN
Animation        ABPrison_A4SN.ABPrison_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABPrison_A4
Animation        ABPrison_A4.ABPrison_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABPrison_A4N
Animation        ABPrison_A4N.ABPrison_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABPrison_A4S
Animation        ABPrison_A4S.ABPrison_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End

TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABPrison_A4SN
Animation        ABPrison_A4SN.ABPrison_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABPrison_A6
Animation        ABPrison_A6.ABPrison_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABPrison_A6N
Animation        ABPrison_A6N.ABPrison_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABPrison_A6S
Animation        ABPrison_A6S.ABPrison_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABPrison_A6SN
Animation        ABPrison_A6SN.ABPrison_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABPrison_A6
Animation        ABPrison_A6.ABPrison_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABPrison_A6N
Animation        ABPrison_A6N.ABPrison_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABPrison_A6S
Animation        ABPrison_A6S.ABPrison_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABPrison_A6SN
Animation        ABPrison_A6SN.ABPrison_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABPrison_A6
Animation        ABPrison_A6.ABPrison_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABPrison_A6N
Animation        ABPrison_A6N.ABPrison_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABPrison_A6S
Animation        ABPrison_A6S.ABPrison_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABPrison_A6SN
Animation        ABPrison_A6SN.ABPrison_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw                 W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState     ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A5
Animation        ABPrison_A5.ABPrison_A5
AnimationMode    LOOP
TransitionKey    UP_DAY
End

ConditionState     NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A5N
Animation        ABPrison_A5N.ABPrison_A5N
AnimationMode    LOOP
TransitionKey    UP_NIGHT
End
ConditionState     SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A5S
Animation        ABPrison_A5S.ABPrison_A5S
AnimationMode    LOOP
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABPrison_A5SN
Animation        ABPrison_A5SN.ABPrison_A5SN
AnimationMode    LOOP
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABPrison_AB
Animation        ABPrison_AB.ABPrison_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABPrison_ABN
Animation        ABPrison_ABN.ABPrison_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABPrison_ABS
Animation        ABPrison_ABS.ABPrison_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABPrison_ABSN
Animation        ABPrison_ABSN.ABPrison_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABPrison_AB
Animation        ABPrison_AB.ABPrison_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABPrison_ABN
Animation        ABPrison_ABN.ABPrison_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABPrison_ABS
Animation        ABPrison_ABS.ABPrison_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABPrison_ABSN
Animation        ABPrison_ABSN.ABPrison_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ Prisoner Bones  -----------------
Draw  W3DModelDraw ModuleTag_PrisonerBones

ExtraPublicBone       Prisoner01
ExtraPublicBone       Prisoner02
ExtraPublicBone       Prisoner03
ExtraPublicBone       Prisoner04
ExtraPublicBone       Prisoner05
ExtraPublicBone       Prisoner06
ExtraPublicBone       Prisoner07
ExtraPublicBone       Prisoner08
ExtraPublicBone       Prisoner09
ExtraPublicBone       Prisoner10

DefaultConditionState
Model          ABPrison_Bone
Animation      ABPrison_Bone.ABPrison_Bone
AnimationMode  LOOP
Flags          RANDOMSTART
End

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:DetentionCamp
Side                 America
EditorSorting        STRUCTURE

Prerequisites
Object  AmericaWarFactory AmericaAirfield
Object  FactionRadarActive
End

BuildCost            1500
BuildTime            30.0           ; in seconds
EnergyProduction     -5
VisionRange          200.0           ; Shroud clearing distance
ShroudClearingRange  200
MaxSimultaneousOfType  1

ArmorSet
Conditions         None
Armor              PropagandaStructureArmor
DamageFX           StructureDamageFXNoShake
End
CommandSet           AmericaDetentionCampCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect          DetentionCampSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY POWERED

Body                  StructureBody ModuleTag_05 ;Requires SpawnBehavior!
MaxHealth           3500.0
InitialHealth       3500.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  SpawnPointProductionExitUpdate ModuleTag_PrisonerSpawn01
SpawnPointBoneName  Prisoner
End

Behavior                 SpawnBehavior ModuleTag_PrisonerSpawn02
SpawnNumber            3
SpawnReplaceDelay      20000
SpawnTemplateName      AmericaInfantryPrisoner
CanReclaimOrphans      No
SpawnedRequireSpawner  Yes
SlavesHaveFreeWill     Yes
End


Behavior             BaseRegenerateUpdate ModuleTag_08
;<NO DATA
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris04
End

Behavior              FlammableUpdate ModuleTag_18
AflameDuration      5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_19
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  ProductionUpdate ModuleTag_Production01
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_DetentionCampCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Intelligence Office Upgrade Modules Start ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_IntelligenceOfficeUpgrade01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_IntelligenceOfficeUpgrade02
CollideWeapon  DetentionCampIntelligenceOfficeUpgradeDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  FireWeaponUpdate ModuleTag_IntelligenceOfficeUpgrade03
Weapon   DetentionCampIntelligenceOfficeKillIntelligenceOfficeObjectsWeapon
End

Behavior  AIUpdateInterface ModuleTag_IntelligenceOfficeUpgrade04
End

Behavior  OCLSpecialPower ModuleTag_IntelligenceOfficeUpgrade05
SpecialPowerTemplate  SpecialPowerSpySatellite
OCL  SUPERWEAPON_SpySatellite
CreateLocation  CREATE_AT_LOCATION
End

Behavior  FireWeaponCollide ModuleTag_IntelligenceOfficeUpgrade06
CollideWeapon   DetentionCampIntelligenceOfficeUpgradeRemoveDummyObjectsWeapon
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_IntelligenceOfficeUpgrade07
DeathWeapon    DetentionCampIntelligenceOfficeUpgradeRemoveDummyObjectsWeapon
ExemptStatus   UNDER_CONSTRUCTION
StartsActive   Yes
End

Behavior  FireWeaponUpdate ModuleTag_IntelligenceOfficeUpgrade08
Weapon  DetentionCampIntelligenceOfficeUpgradeCrateWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Intelligence Office Upgrade Modules End ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Geometry             BOX
GeometryMajorRadius  49.0
GeometryMinorRadius  63.0
GeometryHeight       35.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object DetentionCamp_CollapseObject

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState   NONE
Model          ABPrison
Animation      ABPrison.ABPrison
AnimationMode  LOOP
End
ConditionState     DAMAGED
Model            ABPrison_D
Animation        ABPrison_D.ABPrison_D
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE
Model            ABPrison_E
Animation        ABPrison_E.ABPrison_E
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End

; night ***************************************
ConditionState     NIGHT
Model            ABPrison_N
Animation        ABPrison_N.ABPrison_N
AnimationMode    LOOP
End
ConditionState     DAMAGED NIGHT
Model            ABPrison_DN
Animation        ABPrison_DN.ABPrison_DN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT
Model            ABPrison_EN
Animation        ABPrison_EN.ABPrison_EN
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End


; day snow ****************************************
ConditionState   SNOW
Model          ABPrison_S
Animation      ABPrison_S.ABPrison_S
AnimationMode  LOOP
End
ConditionState     DAMAGED SNOW
Model            ABPrison_DS
Animation        ABPrison_DS.ABPrison_DS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE SNOW
Model            ABPrison_ES
Animation        ABPrison_ES.ABPrison_ES
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End

; night snow ***************************************
ConditionState     NIGHT SNOW
Model            ABPrison_NS
Animation        ABPrison_NS.ABPrison_NS
AnimationMode    LOOP
End
ConditionState     DAMAGED NIGHT SNOW
Model            ABPrison_DNS
Animation        ABPrison_DNS.ABPrison_DNS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
End
ConditionState     REALLYDAMAGED RUBBLE NIGHT SNOW
Model            ABPrison_ENS
Animation        ABPrison_ENS.ABPrison_ENS
AnimationMode    LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SmolderingSmoke
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Smoke07 SmolderingSmoke
ParticleSysBone  Smoke08 SmolderingSmoke
ParticleSysBone  Smoke01 SmolderingFire
ParticleSysBone  Smoke02 SmolderingFire
ParticleSysBone  Smoke03 SmolderingFire
ParticleSysBone  Smoke04 SmolderingFire
ParticleSysBone  Smoke05 SmolderingFire
ParticleSysBone  Smoke06 SmolderingFire
ParticleSysBone  Smoke07 SmolderingFire
ParticleSysBone  Smoke08 SmolderingFire
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:StrategyCenter
Side  America
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            PropagandaStructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  49.0
GeometryMinorRadius  63.0
GeometryHeight       35.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object AmericaDroneControlCenter

; *** ART Parameters ***
SelectPortrait          SADroneControlCenter_L
ButtonImage             SADroneControlCenter

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; NORMAL ************************************
ConditionState        NONE
Model               ABDrnCC
Animation           ABDrnCC.ABDrnCC
AnimationMode       LOOP
HideSubObject       LARGEDISH
End
AliasConditionState  NIGHT

; DAMAGED ************************************
ConditionState        DAMAGED
Model               ABDrnCC_D
Animation           ABDrnCC_D.ABDrnCC_D
AnimationMode       LOOP
HideSubObject       LARGEDISH
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState  DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        REALLYDAMAGED
Model               ABDrnCC_E
Animation           ABDrnCC_E.ABDrnCC_E
AnimationMode       LOOP
HideSubObject       LARGEDISH
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        SNOW
Model               ABDrnCC_S
Animation           ABDrnCC_S.ABDrnCC_S
AnimationMode       LOOP
HideSubObject       LARGEDISH
End
AliasConditionState  SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        SNOW DAMAGED
Model               ABDrnCC_SD
Animation           ABDrnCC_SD.ABDrnCC_SD
AnimationMode       LOOP
HideSubObject       LARGEDISH
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke05 SmolderingSmoke
End
AliasConditionState  SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        SNOW REALLYDAMAGED
Model               ABDrnCC_SE
Animation           ABDrnCC_SE.ABDrnCC_SE
AnimationMode       LOOP
HideSubObject       LARGEDISH
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABDrnCC
Animation          ABDrnCC.ABDrnCC
AnimationMode      LOOP
HideSubObject      LARGEDISH
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              ABDrnCC_D
Animation          ABDrnCC_D.ABDrnCC_D
AnimationMode      LOOP
HideSubObject      LARGEDISH
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke05 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              ABDrnCC_E
Animation          ABDrnCC_E.ABDrnCC_E
AnimationMode      LOOP
HideSubObject      LARGEDISH
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              ABDrnCC_S
Animation          ABDrnCC_S.ABDrnCC_S
AnimationMode      LOOP
HideSubObject      LARGEDISH
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              ABDrnCC_SD
Animation          ABDrnCC_SD.ABDrnCC_SD
AnimationMode      LOOP
HideSubObject      LARGEDISH
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke05 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              ABDrnCC_SE
Animation          ABDrnCC_SE.ABDrnCC_SE
AnimationMode      LOOP
HideSubObject      LARGEDISH
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingFire
ParticleSysBone    Smoke03 SmolderingFire
ParticleSysBone    Smoke03 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke05 SmolderingFire
ParticleSysBone    Smoke05 SmolderingSmoke
ParticleSysBone    Smoke06 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw                    W3DModelDraw ModuleTag_LargeDish01
OkToChangeModelColor  Yes

; NORMAL ************************************
ConditionState        NONE
Model               ABDrnCC
Animation           ABDrnCC.ABDrnCC
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
End
AliasConditionState  NIGHT
AliasConditionState  DOOR_1_CLOSING
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  DOOR_2_CLOSING
AliasConditionState  NIGHT DOOR_2_CLOSING
AliasConditionState  DOOR_3_CLOSING
AliasConditionState  NIGHT DOOR_3_CLOSING

; DAMAGED ************************************
ConditionState        DAMAGED
Model               ABDrnCC_D
Animation           ABDrnCC_D.ABDrnCC_D
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  DAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_2_CLOSING
AliasConditionState  DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_3_CLOSING

; REALLYDAMAGED ************************************
ConditionState        REALLYDAMAGED
Model               ABDrnCC_E
Animation           ABDrnCC_E.ABDrnCC_E
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_2_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_3_CLOSING

; SNOW ************************************
ConditionState        SNOW
Model               ABDrnCC_S
Animation           ABDrnCC_S.ABDrnCC_S
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
End
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW DOOR_2_CLOSING
AliasConditionState  SNOW DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW DOOR_3_CLOSING

; SNOW DAMAGED ************************************
ConditionState        SNOW DAMAGED
Model               ABDrnCC_SD
Animation           ABDrnCC_SD.ABDrnCC_SD
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
End
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_CLOSING

; SNOW REALLYDAMAGED ************************************
ConditionState        SNOW REALLYDAMAGED
Model               ABDrnCC_SE
Animation           ABDrnCC_SE.ABDrnCC_SE
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
AliasConditionState  SNOW REALLYDAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING

; ACTIVATED HAMMER NORMAL ************************************
ConditionState        DOOR_1_OPENING
Model               ABDrnCC
Animation           ABDrnCC.ABDrnCC
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH HammerProtocolPingEffect
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE

; ACTIVATED HAMMER DAMAGED ************************************
ConditionState        DAMAGED DOOR_1_OPENING
Model               ABDrnCC_D
Animation           ABDrnCC_D.ABDrnCC_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH HammerProtocolPingEffect
End
AliasConditionState  NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE

; ACTIVATED HAMMER REALLYDAMAGED ************************************
ConditionState        REALLYDAMAGED DOOR_1_OPENING
Model               ABDrnCC_E
Animation           ABDrnCC_E.ABDrnCC_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH HammerProtocolPingEffect
End
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

; ACTIVATED HAMMER SNOW ************************************
ConditionState        SNOW DOOR_1_OPENING
Model               ABDrnCC_S
Animation           ABDrnCC_S.ABDrnCC_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH HammerProtocolPingEffect
End
AliasConditionState  NIGHT SNOW DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE

; ACTIVATED HAMMER SNOW DAMAGED ************************************
ConditionState        SNOW DAMAGED DOOR_1_OPENING
Model               ABDrnCC_SD
Animation           ABDrnCC_SD.ABDrnCC_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH HammerProtocolPingEffect
End
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE

; ACTIVATED HAMMER SNOW REALLYDAMAGED ************************************
ConditionState        SNOW REALLYDAMAGED DOOR_1_OPENING
Model               ABDrnCC_SE
Animation           ABDrnCC_SE.ABDrnCC_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH HammerProtocolPingEffect
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE

; ACTIVATED SHIELD NORMAL ************************************
ConditionState        DOOR_2_OPENING
Model               ABDrnCC
Animation           ABDrnCC.ABDrnCC
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH ShieldProtocolPingEffect
End
AliasConditionState  NIGHT DOOR_2_OPENING
AliasConditionState  DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_2_WAITING_TO_CLOSE

; ACTIVATED SHIELD DAMAGED ************************************
ConditionState        DAMAGED DOOR_2_OPENING
Model               ABDrnCC_D
Animation           ABDrnCC_D.ABDrnCC_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH ShieldProtocolPingEffect
End
AliasConditionState  NIGHT DAMAGED DOOR_2_OPENING
AliasConditionState  DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE

; ACTIVATED SHIELD REALLYDAMAGED ************************************
ConditionState        REALLYDAMAGED DOOR_2_OPENING
Model               ABDrnCC_E
Animation           ABDrnCC_E.ABDrnCC_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH ShieldProtocolPingEffect
End
AliasConditionState  NIGHT REALLYDAMAGED DOOR_2_OPENING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE

; ACTIVATED SHIELD SNOW ************************************
ConditionState        SNOW DOOR_2_OPENING
Model               ABDrnCC_S
Animation           ABDrnCC_S.ABDrnCC_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH ShieldProtocolPingEffect
End
AliasConditionState  NIGHT SNOW DOOR_2_OPENING
AliasConditionState  SNOW DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_2_WAITING_TO_CLOSE

; ACTIVATED SHIELD SNOW DAMAGED ************************************
ConditionState        SNOW DAMAGED DOOR_2_OPENING
Model               ABDrnCC_SD
Animation           ABDrnCC_SD.ABDrnCC_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH ShieldProtocolPingEffect
End
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_OPENING
AliasConditionState  SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE

; ACTIVATED SHIELD SNOW REALLYDAMAGED ************************************
ConditionState        SNOW REALLYDAMAGED DOOR_2_OPENING
Model               ABDrnCC_SE
Animation           ABDrnCC_SE.ABDrnCC_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH ShieldProtocolPingEffect
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE

; ACTIVATED DAGGER NORMAL ************************************
ConditionState        DOOR_3_OPENING
Model               ABDrnCC
Animation           ABDrnCC.ABDrnCC
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH DaggerProtocolPingEffect
End
AliasConditionState  NIGHT DOOR_3_OPENING
AliasConditionState  DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_3_WAITING_TO_CLOSE

; ACTIVATED DAGGER DAMAGED ************************************
ConditionState        DAMAGED DOOR_3_OPENING
Model               ABDrnCC_D
Animation           ABDrnCC_D.ABDrnCC_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH DaggerProtocolPingEffect
End
AliasConditionState  NIGHT DAMAGED DOOR_3_OPENING
AliasConditionState  DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE

; ACTIVATED DAGGER REALLYDAMAGED ************************************
ConditionState        REALLYDAMAGED DOOR_3_OPENING
Model               ABDrnCC_E
Animation           ABDrnCC_E.ABDrnCC_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH DaggerProtocolPingEffect
End
AliasConditionState  NIGHT REALLYDAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE

; ACTIVATED DAGGER SNOW ************************************
ConditionState        SNOW DOOR_3_OPENING
Model               ABDrnCC_S
Animation           ABDrnCC_S.ABDrnCC_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH DaggerProtocolPingEffect
End
AliasConditionState  NIGHT SNOW DOOR_3_OPENING
AliasConditionState  SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_3_WAITING_TO_CLOSE

; ACTIVATED DAGGER SNOW DAMAGED ************************************
ConditionState        SNOW DAMAGED DOOR_3_OPENING
Model               ABDrnCC_SD
Animation           ABDrnCC_SD.ABDrnCC_SD
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH DaggerProtocolPingEffect
End
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE

; ACTIVATED DAGGER SNOW REALLYDAMAGED ************************************
ConditionState        SNOW REALLYDAMAGED DOOR_3_OPENING
Model               ABDrnCC_SE
Animation           ABDrnCC_SE.ABDrnCC_SE
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       STRUCTURE DISH02
ParticleSysBone     LARGEDISH DaggerProtocolPingEffect
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABDrnCC
Animation          ABDrnCC.ABDrnCC
AnimationMode      ONCE
HideSubObject      STRUCTURE DISH02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              ABDrnCC_D
Animation          ABDrnCC_D.ABDrnCC_D
AnimationMode      ONCE
HideSubObject      STRUCTURE DISH02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              ABDrnCC_E
Animation          ABDrnCC_E.ABDrnCC_E
AnimationMode      ONCE
HideSubObject      STRUCTURE DISH02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              ABDrnCC_S
Animation          ABDrnCC_S.ABDrnCC_S
AnimationMode      ONCE
HideSubObject      STRUCTURE DISH02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              ABDrnCC_SD
Animation          ABDrnCC_SD.ABDrnCC_SD
AnimationMode      ONCE
HideSubObject      STRUCTURE DISH02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              ABDrnCC_SE
Animation          ABDrnCC_SE.ABDrnCC_SE
AnimationMode      ONCE
HideSubObject      STRUCTURE DISH02
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES START_FRAME_LAST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_1_OPENING AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING SOLD
AliasConditionState   DOOR_1_OPENING SOLD DAMAGED
AliasConditionState   DOOR_1_OPENING SOLD REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING SOLD NIGHT
AliasConditionState   DOOR_1_OPENING SOLD NIGHT DAMAGED
AliasConditionState   DOOR_1_OPENING SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING SOLD SNOW
AliasConditionState   DOOR_1_OPENING SOLD SNOW DAMAGED
AliasConditionState   DOOR_1_OPENING SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_OPENING SOLD NIGHT SNOW
AliasConditionState   DOOR_1_OPENING SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_1_OPENING SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_1_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD
AliasConditionState   DOOR_1_CLOSING SOLD DAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD NIGHT
AliasConditionState   DOOR_1_CLOSING SOLD NIGHT DAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD SNOW
AliasConditionState   DOOR_1_CLOSING SOLD SNOW DAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD NIGHT SNOW
AliasConditionState   DOOR_1_CLOSING SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_1_CLOSING SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD NIGHT
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD NIGHT DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD SNOW
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD SNOW DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD NIGHT SNOW
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_1_WAITING_TO_CLOSE SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_2_OPENING AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING SOLD
AliasConditionState   DOOR_2_OPENING SOLD DAMAGED
AliasConditionState   DOOR_2_OPENING SOLD REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING SOLD NIGHT
AliasConditionState   DOOR_2_OPENING SOLD NIGHT DAMAGED
AliasConditionState   DOOR_2_OPENING SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING SOLD SNOW
AliasConditionState   DOOR_2_OPENING SOLD SNOW DAMAGED
AliasConditionState   DOOR_2_OPENING SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_OPENING SOLD NIGHT SNOW
AliasConditionState   DOOR_2_OPENING SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_2_OPENING SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_2_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD
AliasConditionState   DOOR_2_CLOSING SOLD DAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD NIGHT
AliasConditionState   DOOR_2_CLOSING SOLD NIGHT DAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD SNOW
AliasConditionState   DOOR_2_CLOSING SOLD SNOW DAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD NIGHT SNOW
AliasConditionState   DOOR_2_CLOSING SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_2_CLOSING SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD NIGHT
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD NIGHT DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD SNOW
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD SNOW DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD NIGHT SNOW
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_2_WAITING_TO_CLOSE SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_3_OPENING AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING SOLD
AliasConditionState   DOOR_3_OPENING SOLD DAMAGED
AliasConditionState   DOOR_3_OPENING SOLD REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING SOLD NIGHT
AliasConditionState   DOOR_3_OPENING SOLD NIGHT DAMAGED
AliasConditionState   DOOR_3_OPENING SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING SOLD SNOW
AliasConditionState   DOOR_3_OPENING SOLD SNOW DAMAGED
AliasConditionState   DOOR_3_OPENING SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_OPENING SOLD NIGHT SNOW
AliasConditionState   DOOR_3_OPENING SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_3_OPENING SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_3_CLOSING AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD
AliasConditionState   DOOR_3_CLOSING SOLD DAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD NIGHT
AliasConditionState   DOOR_3_CLOSING SOLD NIGHT DAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD SNOW
AliasConditionState   DOOR_3_CLOSING SOLD SNOW DAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD NIGHT SNOW
AliasConditionState   DOOR_3_CLOSING SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_3_CLOSING SOLD NIGHT SNOW REALLYDAMAGED

AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD NIGHT
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD NIGHT DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD NIGHT REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD SNOW
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD SNOW DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD SNOW REALLYDAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD NIGHT SNOW
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD NIGHT SNOW DAMAGED
AliasConditionState   DOOR_3_WAITING_TO_CLOSE SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************
End

Draw                    W3DModelDraw ModuleTag_Workshop01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               ABDrWrkshp
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               ABDrWrkshp_D
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               ABDrWrkshp_E
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               ABDrWrkshp_S
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               ABDrWrkshp_SD
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               ABDrWrkshp_SE
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT


;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABDrWrkshp
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              ABDrWrkshp_D
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              ABDrWrkshp_E
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              ABDrWrkshp_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              ABDrWrkshp_SD
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              ABDrWrkshp_SE
ParticleSysBone    Smoke01 SmolderingSmoke
ParticleSysBone    Smoke01 SmolderingFire
ParticleSysBone    Smoke02 SmolderingSmoke
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABDrnCC_A4
Animation        ABDrnCC_A4.ABDrnCC_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            ABDrnCC_A4
Animation        ABDrnCC_A4.ABDrnCC_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            ABDrnCC_A4
Animation        ABDrnCC_A4.ABDrnCC_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABDrnCC_SA4
Animation        ABDrnCC_SA4.ABDrnCC_SA4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    SNOW_UP_DAY
End
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT SNOW_UP_DAY
Model            ABDrnCC_SA4
Animation        ABDrnCC_SA4.ABDrnCC_SA4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    SNOW_UP_DAY DOWN_DEFAULT
Model            ABDrnCC_SA4
Animation        ABDrnCC_SA4.ABDrnCC_SA4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            ABDrnCC_A6
Animation        ABDrnCC_A6.ABDrnCC_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             ABDrnCC_A6
Animation        ABDrnCC_A6.ABDrnCC_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            ABDrnCC_A6
Animation        ABDrnCC_A6.ABDrnCC_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABDrnCC_SA6
Animation        ABDrnCC_SA6.ABDrnCC_SA6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    SNOW_UP_DAY
End
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT SNOW_UP_DAY
Model            ABDrnCC_SA6
Animation        ABDrnCC_SA6.ABDrnCC_SA6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    SNOW_UP_DAY DOWN_DEFAULT
Model            ABDrnCC_SA6
Animation        ABDrnCC_SA6.ABDrnCC_SA6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

Draw  W3DModelDraw ModuleTag_NightCondition01

DefaultConditionState
Model            ABDrnCC_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABDrnCC_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle      -135.00

; ***DESIGN parameters ***
DisplayName       OBJECT:DroneAssembly
Side  America
EditorSorting     STRUCTURE

Prerequisites
Object  AmericaWarFactory AmericaAirfield
Object  FactionRadarActive
End

CommandSet           AmericaDroneControlCenterCommandSet
BuildCost            1500
BuildTime            30.0           ; in seconds
EnergyProduction     -10
ShroudClearingRange  200.0
VisionRange          200.0           ; Shroud clearing distance
MaxSimultaneousOfType  1

WeaponSet
Conditions            None
Weapon                PRIMARY GenericDummyWeapon
AutoChooseSources     PRIMARY NONE
End
ArmorSet
Conditions       None
Armor            PropagandaStructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      150 150 150 150  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  DroneControlCenterSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY POWERED

Body             StructureBody ModuleTag_10
MaxHealth           2500.0
InitialHealth       2500.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  ProductionUpdate ModuleTag_11
;We don't actualy have 4 doors but if this value isn't here my animations will bug out after constructing a workshop
NumDoorAnimations  4
End

Behavior  BaseRegenerateUpdate ModuleTag_12
End

Behavior  SpecialAbility ModuleTag_13
SpecialPowerTemplate  SpecialAbilityChangeDroneProtocol
UpdateModuleStartsAttack  Yes
End

Behavior  BattlePlanUpdate ModuleTag_14
SpecialPowerTemplate               SpecialAbilityChangeDroneProtocol

;Transition Timings
BombardmentPlanAnimationTime       2970
HoldTheLinePlanAnimationTime       2970
SearchAndDestroyPlanAnimationTime  2970
TransitionIdleTime                 0

;Messages
BombardmentMessageLabel       MESSAGE:DroneProtocolHammerInitiated
HoldTheLineMessageLabel       MESSAGE:DroneProtocolShieldInitiated
SearchAndDestroyMessageLabel  MESSAGE:DroneProtocolDaggerInitiated

;Audio hooks
BombardmentPlanUnpackSoundName         NONE
BombardmentPlanPackSoundName           NONE
BombardmentAnnouncementName            DroneControlCenter_HammerProtocol
SearchAndDestroyPlanUnpackSoundName    NONE
SearchAndDestroyPlanIdleLoopSoundName  NONE
SearchAndDestroyPlanPackSoundName      NONE
SearchAndDestroyAnnouncementName       DroneControlCenter_DaggerProtocol
HoldTheLinePlanUnpackSoundName         NONE
HoldTheLinePlanPackSoundName           NONE
HoldTheLineAnnouncementName            DroneControlCenter_ShieldProtocol

;Army bonuses granted by different battle plans
ValidMemberKindOf                      DRONE     ;Battle plans affect any kind of these...
InvalidMemberKindOf                    AIRCRAFT  ;..but make sure they don't have any of these
BattlePlanChangeParalyzeTime           5000 ;Subjected to paralyzation whenever a battle plan is changed.
HoldTheLinePlanArmorDamageScalar       0.80 ;Armor damage bonus scalar -- LESS is better!
SearchAndDestroyPlanSightRangeScalar   1.00 ;Sight range bonus -- more is better!
;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

;Building bonuses granted based on battle plan mode.
StrategyCenterSearchAndDestroySightRangeScalar  1.0
StrategyCenterSearchAndDestroyDetectsStealth    Yes
StrategyCenterHoldTheLineMaxHealthScalar        1.0
StrategyCenterHoldTheLineMaxHealthChangeType    PRESERVE_RATIO

End

Behavior  AIUpdateInterface ModuleTag_15
Turret
ControlledWeaponSlots     PRIMARY
TurretTurnRate       60   // turn rate, in degrees per sec
TurretPitchRate      60
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   45 ; this keeps it aimed half way between land and sky
; since you never know from whence cometh danger
NaturalTurretAngle  -90  ; this turret points backwards normally

FirePitch            45       ; Instead of aiming pitchwise at the target, it will aim here
MinIdleScanInterval  500    ; in milliseconds
MaxIdleScanInterval  1000   ; in milliseconds
MinIdleScanAngle     0      ; in degrees off the natural turret angle
MaxIdleScanAngle     60     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS
End

Behavior  StealthDetectorUpdate ModuleTag_16
DetectionRate        1     ; how often to rescan for stealthed things in my sight (msec)
InitiallyDisabled    Yes   ; only will be active when search & destroy plan active.
DetectionRange       1     ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No ;Contained means being in a transport or tunnel network.
End

Behavior  FlammableUpdate ModuleTag_22
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris04
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_DroneControlCenterCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Work Shop Upgrade Modules Start ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_WorkshopUpgrade01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     UNATTACKABLE
ShouldDrawPips        No
End

Behavior  FireWeaponCollide ModuleTag_WorkshopUpgrade02
CollideWeapon  DroneControlCenterWorkShopUpgradeDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  FireWeaponUpdate ModuleTag_WorkshopUpgrade03
Weapon   CreateWorkshopBonusCrateWeapon
End

Behavior  FireWeaponCollide ModuleTag_WorkshopUpgrade04
CollideWeapon   DroneControlCenterWorkshopUpgradeRemoveDummyObjectsWeapon
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_WorkshopUpgrade05
DeathWeapon    DroneControlCenterWorkshopUpgradeRemoveDummyObjectsWeapon
ExemptStatus   UNDER_CONSTRUCTION
StartsActive   Yes
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Work Shop Upgrade Modules End ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Geometry              BOX
GeometryMajorRadius   35.0
GeometryMinorRadius   38.5
GeometryHeight        45.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaDroneControlCenter_CollapseObject

Draw                    W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model               ABDrnCC_E
Animation           ABDrnCC_E.ABDrnCC_E
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  NIGHT

ConditionState        SNOW
Model               ABDrnCC_SE
Animation           ABDrnCC_SE.ABDrnCC_SE
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
End
AliasConditionState  SNOW NIGHT

End

Draw  W3DModelDraw ModuleTag_NightCondition01
DefaultConditionState
Model            ABDrnCC_N
End
End

; ***DESIGN parameters ***
Side  America
EditorSorting     SYSTEM

ArmorSet
Conditions        None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  LifetimeUpdate ModuleTag_Collapse04
MinLifetime  1
MaxLifetime  1
End

Geometry              BOX
GeometryMajorRadius   35.0
GeometryMinorRadius   38.5
GeometryHeight        45.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object DroneControlCenterCollisionDummy

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   0

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  NO_HEAL_ICON UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL GSPScramblerDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  1100
MaxLifetime  1100
End

Geometry  CYLINDER
GeometryMajorRadius  3.0
GeometryMinorRadius  3.0
GeometryHeight  3.0

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaParticleCannonUplink

; *** ART Parameters ***
SelectPortrait          SAUplink_L
ButtonImage             SAUplink

Draw  W3DModelDraw ModuleTag_01
ExtraPublicBone         FX01
ExtraPublicBone         FX02
ExtraPublicBone         FX03
ExtraPublicBone         FX04
ExtraPublicBone         FX05
OkToChangeModelColor  Yes


; day **************************************
ConditionState        NONE
Model               ABSDILink
Animation           ABSDILink.ABSDILink
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED
Model               ABSDILink_D
Animation           ABSDILink_D.ABSDILink_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABSDILink_E
Animation           ABSDILink_E.ABSDILink_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End


; night *************************************
ConditionState        NIGHT
Model               ABSDILink_N
Animation           ABSDILink_N.ABSDILink_N
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED NIGHT
Model               ABSDILink_DN
Animation           ABSDILink_DN.ABSDILink_DN
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               ABSDILink_EN
Animation           ABSDILink_EN.ABSDILink_EN
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

; day snow **************************************
ConditionState        SNOW
Model               ABSDILink_S
Animation           ABSDILink_S.ABSDILink_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED SNOW
Model               ABSDILink_DS
Animation           ABSDILink_DS.ABSDILink_DS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               ABSDILink_ES
Animation           ABSDILink_ES.ABSDILink_ES
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

; night snow *************************************
ConditionState        NIGHT SNOW
Model               ABSDILink_NS
Animation           ABSDILink_NS.ABSDILink_NS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED NIGHT SNOW
Model               ABSDILink_DNS
Animation           ABSDILink_DNS.ABSDILink_DNS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               ABSDILink_ENS
Animation           ABSDILink_ENS.ABSDILink_ENS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABSDILink
Animation           ABSDILink.ABSDILink
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABSDILink_D
Animation           ABSDILink_D.ABSDILink_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABSDILink_E
Animation           ABSDILink_E.ABSDILink_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABSDILink_N
Animation           ABSDILink_N.ABSDILink_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABSDILink_DN
Animation           ABSDILink_DN.ABSDILink_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABSDILink_EN
Animation           ABSDILink_EN.ABSDILink_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABSDILink_S
Animation           ABSDILink_S.ABSDILink_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABSDILink_DS
Animation           ABSDILink_DS.ABSDILink_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABSDILink_ES
Animation           ABSDILink_ES.ABSDILink_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABSDILink_NS
Animation           ABSDILink_NS.ABSDILink_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABSDILink_DNS
Animation           ABSDILink_DNS.ABSDILink_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABSDILink_ENS
Animation           ABSDILink_ENS.ABSDILink_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************



End

;------------ the cannon section (hatch, dish animations) -----------
Draw  W3DModelDraw ModuleTag_02
ExtraPublicBone         FXConnector
ExtraPublicBone         FXMain
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
; day **************************************
ConditionState        NONE
Model               ABSDILink_A1
Animation           ABSDILink_A1.ABSDILink_A1
AnimationMode       MANUAL
Flags               START_FRAME_FIRST
End
AliasConditionState   NIGHT
AliasConditionState   NIGHT SNOW
AliasConditionState   SNOW

ConditionState        DAMAGED
Model               ABSDILink_A1D
Animation           ABSDILink_A1D.ABSDILink_A1D
AnimationMode       MANUAL
Flags               START_FRAME_FIRST
End
AliasConditionState   NIGHT DAMAGED
AliasConditionState   NIGHT SNOW DAMAGED
AliasConditionState   SNOW DAMAGED

ConditionState        REALLYDAMAGED RUBBLE
Model               ABSDILink_A1E
Animation           ABSDILink_A1E.ABSDILink_A1E
AnimationMode       MANUAL
Flags               START_FRAME_FIRST
End
AliasConditionState   NIGHT REALLYDAMAGED RUBBLE
AliasConditionState   NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState   SNOW REALLYDAMAGED RUBBLE

ConditionState        AWAITING_CONSTRUCTION
Model               None
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION
AliasConditionState   NIGHT SNOW AWAITING_CONSTRUCTION
AliasConditionState   SNOW AWAITING_CONSTRUCTION

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABSDILink_A1
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABSDILink_A1D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model               ABSDILink_A1E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
AliasConditionState   NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
AliasConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE

;Preparing to fire!
ConditionState        UNPACKING
Model               ABSDILink_A1
Animation           ABSDILink_A1.ABSDILink_A1
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES2
End
AliasConditionState   NIGHT UNPACKING
AliasConditionState   NIGHT SNOW UNPACKING
AliasConditionState   SNOW UNPACKING

ConditionState        UNPACKING DAMAGED
Model               ABSDILink_A1D
Animation           ABSDILink_A1D.ABSDILink_A1D
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES2
End
AliasConditionState   NIGHT UNPACKING DAMAGED
AliasConditionState   NIGHT SNOW UNPACKING DAMAGED
AliasConditionState   SNOW UNPACKING DAMAGED

ConditionState        UNPACKING REALLYDAMAGED RUBBLE
Model               ABSDILink_A1E
Animation           ABSDILink_A1E.ABSDILink_A1E
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES2
End
AliasConditionState   NIGHT UNPACKING REALLYDAMAGED RUBBLE
AliasConditionState   NIGHT SNOW UNPACKING REALLYDAMAGED RUBBLE
AliasConditionState   SNOW UNPACKING REALLYDAMAGED RUBBLE

;Ready to fire -- or firing!
ConditionState        DEPLOYED
Model               ABSDILink_A1
Animation           ABSDILink_A1.ABSDILink_A1
AnimationMode       MANUAL
Flags               START_FRAME_LAST
ParticleSysBone     FXMain ParticleUplinkCannon_LaserBaseReadyToFire
End
AliasConditionState   NIGHT DEPLOYED
AliasConditionState   NIGHT SNOW DEPLOYED
AliasConditionState   SNOW DEPLOYED

ConditionState        DEPLOYED DAMAGED
Model               ABSDILink_A1D
Animation           ABSDILink_A1D.ABSDILink_A1D
AnimationMode       MANUAL
Flags               START_FRAME_LAST
ParticleSysBone     FXMain ParticleUplinkCannon_LaserBaseReadyToFire
End
AliasConditionState   NIGHT DEPLOYED DAMAGED
AliasConditionState   NIGHT SNOW DEPLOYED DAMAGED
AliasConditionState   SNOW DEPLOYED DAMAGED

ConditionState        DEPLOYED REALLYDAMAGED RUBBLE
Model               ABSDILink_A1E
Animation           ABSDILink_A1E.ABSDILink_A1E
AnimationMode       MANUAL
Flags               START_FRAME_LAST
ParticleSysBone     FXMain ParticleUplinkCannon_LaserBaseReadyToFire
End
AliasConditionState   NIGHT DEPLOYED REALLYDAMAGED RUBBLE
AliasConditionState   NIGHT SNOW DEPLOYED REALLYDAMAGED RUBBLE
AliasConditionState   SNOW DEPLOYED REALLYDAMAGED RUBBLE

;Packing up (recharging for new attack)
ConditionState        PACKING
Model               ABSDILink_A1
Animation           ABSDILink_A1.ABSDILink_A1
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES3
End
AliasConditionState   NIGHT PACKING
AliasConditionState   NIGHT SNOW PACKING
AliasConditionState   SNOW PACKING

ConditionState        PACKING DAMAGED
Model               ABSDILink_A1D
Animation           ABSDILink_A1D.ABSDILink_A1D
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES3
End
AliasConditionState   NIGHT PACKING DAMAGED
AliasConditionState   NIGHT SNOW PACKING DAMAGED
AliasConditionState   SNOW PACKING DAMAGED

ConditionState        PACKING REALLYDAMAGED RUBBLE
Model               ABSDILink_A1E
Animation           ABSDILink_A1E.ABSDILink_A1E
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES3
End
AliasConditionState   NIGHT PACKING REALLYDAMAGED RUBBLE
AliasConditionState   NIGHT SNOW PACKING REALLYDAMAGED RUBBLE
AliasConditionState   SNOW PACKING REALLYDAMAGED RUBBLE


ConditionState        SOLD DEPLOYED
Model               NONE
End
ConditionState        SOLD SNOW DEPLOYED
Model              NONE
End
ConditionState        SOLD NIGHT DEPLOYED
Model              NONE
End
ConditionState        SOLD NIGHT SNOW DEPLOYED
Model              NONE
End
End


; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A4
Animation        ABSDILink_A4.ABSDILink_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A4N
Animation        ABSDILink_A4N.ABSDILink_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A4S
Animation        ABSDILink_A4S.ABSDILink_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A4SN
Animation        ABSDILink_A4SN.ABSDILink_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABSDILink_A4
Animation        ABSDILink_A4.ABSDILink_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABSDILink_A4N
Animation        ABSDILink_A4N.ABSDILink_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABSDILink_A4S
Animation        ABSDILink_A4S.ABSDILink_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABSDILink_A4SN
Animation        ABSDILink_A4SN.ABSDILink_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSDILink_A4
Animation        ABSDILink_A4.ABSDILink_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSDILink_A4N
Animation        ABSDILink_A4N.ABSDILink_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSDILink_A4S
Animation        ABSDILink_A4S.ABSDILink_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSDILink_A4SN
Animation        ABSDILink_A4SN.ABSDILink_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABSDILink_A6
Animation        ABSDILink_A6.ABSDILink_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABSDILink_A6N
Animation        ABSDILink_A6N.ABSDILink_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABSDILink_A6S
Animation        ABSDILink_A6S.ABSDILink_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABSDILink_A6SN
Animation        ABSDILink_A6SN.ABSDILink_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABSDILink_A6
Animation        ABSDILink_A6.ABSDILink_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABSDILink_A6N
Animation        ABSDILink_A6N.ABSDILink_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABSDILink_A6S
Animation        ABSDILink_A6S.ABSDILink_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABSDILink_A6SN
Animation        ABSDILink_A6SN.ABSDILink_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSDILink_A6
Animation        ABSDILink_A6.ABSDILink_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSDILink_A6N
Animation        ABSDILink_A6N.ABSDILink_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSDILink_A6S
Animation        ABSDILink_A6S.ABSDILink_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSDILink_A6SN
Animation        ABSDILink_A6SN.ABSDILink_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_05
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A5
Animation        ABSDILink_A5.ABSDILink_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A5N
Animation        ABSDILink_A5N.ABSDILink_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A5S
Animation        ABSDILink_A5S.ABSDILink_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABSDILink_A5SN
Animation        ABSDILink_A5SN.ABSDILink_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABSDILink_AB
Animation        ABSDILink_AB.ABSDILink_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABSDILink_ABN
Animation        ABSDILink_ABN.ABSDILink_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABSDILink_ABS
Animation        ABSDILink_ABS.ABSDILink_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABSDILink_ABSN
Animation        ABSDILink_ABSN.ABSDILink_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             ABSDILink_AB
Animation        ABSDILink_AB.ABSDILink_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             ABSDILink_ABN
Animation        ABSDILink_ABN.ABSDILink_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             ABSDILink_ABS
Animation        ABSDILink_ABS.ABSDILink_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             ABSDILink_ABSN
Animation        ABSDILink_ABSN.ABSDILink_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ParticleCannon
Side  America
EditorSorting     STRUCTURE
Prerequisites
Object  AmericaStrategyCenter
End
BuildCost         8000
BuildTime         45.0           ; in seconds
EnergyProduction  -20
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End
CommandSet         AmericaParticleUplinkCannonCommandSet
ExperienceValue      400 400 400 400  ; Experience point value at each level

MaxSimultaneousOfType  DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  ParticleCannon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

; *** AUDIO Parameters ***
VoiceSelect  ParticleCannonSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
Body             StructureBody ModuleTag_06
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
SubdualDamageCap  4200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End
Behavior  BaseRegenerateUpdate ModuleTag_07
;No data
End

Behavior  SpecialPowerCreate ModuleTag_16
;nothing
End

Behavior     OCLSpecialPower ModuleTag_072
SpecialPowerTemplate  SuperweaponParticleUplinkCannon
OCL                   SUPERWEAPON_ParticleCannonDecal
CreateLocation        CREATE_AT_LOCATION
End

Behavior  SpecialAbility ModuleTag_11
SpecialPowerTemplate  SuperweaponParticleUplinkCannon
UpdateModuleStartsAttack  Yes
End
Behavior  ParticleUplinkCannonUpdate ModuleTag_12
SpecialPowerTemplate             SuperweaponParticleUplinkCannon

;The values trigger the various pre-stages before being ready to actually fire.
;The total combined value of these determines the first sign of activity in the
;cannon.
BeginChargeTime                  5000 ;The outer nodes begin to charge.
RaiseAntennaTime                 4667 ;The hatch opens and raises antenna (matches animation speed)
ReadyDelayTime                   2000 ;The time after antenna is raised prior to being ready to fire.

;***NOTE -- these values effect gameplay*****
TotalFiringTime                  10000     ;The total ground contact time of the beam

DamagePerSecond                  200       ;Amount of damage inflicted per second
TotalDamagePulses                80        ;The total number of damage pulses -- less means more damage per pulse, but less accurate
WidthGrowTime                    2000      ;The amount of time it takes for the beam to reach full diameter (same value used for shrinking)
BeamTravelTime                   2500      ;How long it takes for the beam to hit the ground after leaving the firing dish.
DamageType                       PARTICLE_BEAM ;Type of damage inflicted.
DamageRadiusScalar               3.4       ;Multiplies the radius (relative to beam diameter) so that things close to the beam can get hit too!
RevealRange                      50.0      ;Grants gratuitous vision for the player launching the target as the beam cuts it's swath of death.
;********************************************

;Bone names for required elements
OuterEffectBoneName              FX          ;The base name for the outer node bones.
OuterEffectNumBones              5           ;The number of outer nodes.
ConnectorBoneName                FXConnector ;The name of the bone where the connector lasers meet.
FireBoneName                     FXMain      ;The name of the bone where the main beam is fired from.

;These are particle systems tied to the outer nodes in varying intensities.
OuterNodesLightFlareParticleSystem     ParticleUplinkCannon_OuterNodeLightFlare
OuterNodesMediumFlareParticleSystem    ParticleUplinkCannon_OuterNodeMediumFlare
OuterNodesIntenseFlareParticleSystem   ParticleUplinkCannon_OuterNodeIntenseFlare

;The connectors system connects each of the outer nodes to the central node that receives
;the lasers from outside.
ConnectorMediumLaserName         ParticleUplinkCannon_MediumConnectorLaser
ConnectorIntenseLaserName        ParticleUplinkCannon_IntenseConnectorLaser

;Currently commented out -- These
;ConnectorMediumFlare             ParticleUplinkCannon_InnerConnectorMediumFlare
;ConnectorIntenseFlare            ParticleUplinkCannon_InnerConnectorIntenseFlare

;This is the name of the bone on the building where the beam is fired from
LaserBaseLightFlareParticleSystemName  ParticleUplinkCannon_LaserBaseReadyToFire
LaserBaseLightFlareParticleSystemName  ParticleReadyToFireSuction
ParticleBeamLaserName            ParticleUplinkCannon_OrbitalLaser
GroundHitFX                      FX_ParticleUplinkCannon_BeamHitsGround     ;TotalScorchMarks determines how many times this gets called.

;The flare fxlist that is played over and over during the beam firing process. Be
;mindful of the delay because that effects both art and sound.
BeamLaunchFX                    FX_ParticleUplinkCannon_BeamLaunchIteration
DelayBetweenLaunchFX            500

;Each scorch mark creates an object in the world, so while making more looks better
;it becomes a performance issue. The scalar will calculate the size of the scorch
;mark to make based on the current size of the beam (which changes dynamically). The
;number also matches the number of times the "GroundHitFX" is called.
TotalScorchMarks                30
ScorchMarkScalar                2.4

;***NOTE -- these values effect gameplay***
;The swath of death is the path the laser tracers centered on the targeted position.
;If the amplitude is zero, the line will go straight, with a higher value, it'll do
;a sine wave iteration, but always goes through the target point.
SwathOfDeathDistance            200.0
SwathOfDeathAmplitude           50.0


ManualDrivingSpeed              20
ManualFastDrivingSpeed          40
DoubleClickToFastDriveDelay     500

;***SOUNDS!****
PoweringUpSoundLoop             ParticleUplinkCannon_PowerupSoundLoop
UnpackToIdleSoundLoop           ParticleUplinkCannon_UnpackToIdleSoundLoop
FiringToPackSoundLoop           ParticleUplinkCannon_FiringToPackSoundLoop
GroundAnnihilationSoundLoop     ParticleUplinkCannon_GroundAnnihilationSoundLoop

;The trail left behind creates an object that inflicts extra damage for a short period of time.
DamagePulseRemnantObjectName    ParticleUplinkCannonTrailRemnant
End

Behavior  SlowDeathBehavior ModuleTag_Collapse01
ExemptStatus    UNDER_CONSTRUCTION
DestructionDelay  2000
FX              INITIAL FX_ParticleUplinkDeathInitial
OCL             INITIAL OCL_SDILinkLasers
FX              FINAL   WeaponFX_ParticleCannonExplosion
OCL             FINAL   OCL_ParticleCannonCollapseDummy
Weapon          FINAL   ParticleCannonDetonationWeapon
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  64.0
GeometryMinorRadius  38.0
GeometryHeight       38.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaParticleCannonUplink_CollapseObject

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes


; day **************************************
ConditionState        NONE
Model               ABSDILink
Animation           ABSDILink.ABSDILink
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED
Model               ABSDILink_D
Animation           ABSDILink_D.ABSDILink_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABSDILink_E
Animation           ABSDILink_E.ABSDILink_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End


; night *************************************
ConditionState        NIGHT
Model               ABSDILink_N
Animation           ABSDILink_N.ABSDILink_N
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED NIGHT
Model               ABSDILink_DN
Animation           ABSDILink_DN.ABSDILink_DN
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT
Model               ABSDILink_EN
Animation           ABSDILink_EN.ABSDILink_EN
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

; day snow **************************************
ConditionState        SNOW
Model               ABSDILink_S
Animation           ABSDILink_S.ABSDILink_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED SNOW
Model               ABSDILink_DS
Animation           ABSDILink_DS.ABSDILink_DS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               ABSDILink_ES
Animation           ABSDILink_ES.ABSDILink_ES
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

; night snow *************************************
ConditionState        NIGHT SNOW
Model               ABSDILink_NS
Animation           ABSDILink_NS.ABSDILink_NS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED NIGHT SNOW
Model               ABSDILink_DNS
Animation           ABSDILink_DNS.ABSDILink_DNS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        REALLYDAMAGED RUBBLE NIGHT SNOW
Model               ABSDILink_ENS
Animation           ABSDILink_ENS.ABSDILink_ENS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:ParticleCannon
Side  America
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  62.0
GeometryMinorRadius  44.0
GeometryHeight       24.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaPowerPlant

; *** ART Parameters ***
SelectPortrait          SAPowerPlant_L
ButtonImage             SAPowerPlant

; ---- the building itself ------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day ********************************************
ConditionState        NONE;
Model               ABPWRPLANT
Animation           ABPWRPLANT.ABPWRPLANT
AnimationMode       LOOP
ParticleSysBone     Smoke02 SteamVent
End
ConditionState        DAMAGED
Model               ABPWRPLANT_D
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone     Sparks01 LiveWireSparks
ParticleSysBone     Sparks02 LiveWireSparks
End
ConditionState        REALLYDAMAGED RUBBLE
Model               ABPWRPLANT_E
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone     Fire02 SmolderingFireLarge
ParticleSysBone     Fire03 SmolderingFireLarge
ParticleSysBone     Spark01 LiveWireSparks
End

; day upgrade
ConditionState  POWER_PLANT_UPGRADED ;
Model  ABPWRPLANT
Animation      ABPWRPLANT.ABPWRPLANT
AnimationMode  LOOP
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks02
ParticleSysBone  Spark03 LiveWireSparks02
ParticleSysBone  Spark04 LiveWireSparks
ParticleSysBone  Spark05 LiveWireSparks02
ParticleSysBone  Spark06 LiveWireSparks
End
ConditionState  DAMAGED POWER_PLANT_UPGRADED
Model  ABPWRPLANT_D
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks02
ParticleSysBone  Spark03 LiveWireSparks02
ParticleSysBone  Spark04 LiveWireSparks
ParticleSysBone  Spark05 LiveWireSparks02
ParticleSysBone  Spark06 LiveWireSparks
End
ConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
Model  ABPWRPLANT_E
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Fire02 SmolderingFireLarge
ParticleSysBone  Fire03 SmolderingFireLarge
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks02
ParticleSysBone  Spark03 LiveWireSparks02
ParticleSysBone  Spark04 LiveWireSparks
ParticleSysBone  Spark05 LiveWireSparks02
ParticleSysBone  Spark06 LiveWireSparks
End

; night
ConditionState  NIGHT;
Model  ABPWRPLANT_N
Animation      ABPWRPLANT_N.ABPWRPLANT_N
AnimationMode  LOOP
ParticleSysBone  Smoke02 SteamVent
End
ConditionState        DAMAGED NIGHT
Model               ABPWRPLANT_DN
Animation           ABPWRPLANT_DN.ABPWRPLANT_DN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone     Sparks01 LiveWireSparks
ParticleSysBone     Sparks02 LiveWireSparks
ParticleSysBone     Sparks03 LiveWireSparks02
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT;
Model  ABPWRPLANT_EN
Animation      ABPWRPLANT_EN.ABPWRPLANT_EN
AnimationMode  LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Fire02 SmolderingFireLarge
ParticleSysBone  Fire03 SmolderingFireLarge
ParticleSysBone  Sparks01 LiveWireSparks
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
End

; night upgraded
ConditionState  NIGHT POWER_PLANT_UPGRADED
Model  ABPWRPLANT_N
Animation      ABPWRPLANT_N.ABPWRPLANT_N
AnimationMode  LOOP
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
ParticleSysBone  Sparks08 LiveWireSparks02
ParticleSysBone  Sparks09 LiveWireSparks
ParticleSysBone  Sparks10 LiveWireSparks02
ParticleSysBone  Sparks11 LiveWireSparks
End
ConditionState        DAMAGED NIGHT POWER_PLANT_UPGRADED
Model               ABPWRPLANT_DN
Animation           ABPWRPLANT_DN.ABPWRPLANT_DN
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
ParticleSysBone  Sparks08 LiveWireSparks02
ParticleSysBone  Sparks09 LiveWireSparks
ParticleSysBone  Sparks10 LiveWireSparks02
ParticleSysBone  Sparks11 LiveWireSparks
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED
Model  ABPWRPLANT_EN
Animation      ABPWRPLANT_EN.ABPWRPLANT_EN
AnimationMode  LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Fire02 SmolderingFireLarge
ParticleSysBone  Fire03 SmolderingFireLarge
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
ParticleSysBone  Sparks08 LiveWireSparks02
ParticleSysBone  Sparks09 LiveWireSparks
ParticleSysBone  Sparks10 LiveWireSparks02
ParticleSysBone  Sparks11 LiveWireSparks
End


; day ********************************************
ConditionState        SNOW
Model               ABPWRPLANT_S
Animation           ABPWRPLANT_S.ABPWRPLANT_S
AnimationMode       LOOP
ParticleSysBone     Smoke02 SteamVent
End
ConditionState        DAMAGED SNOW
Model               ABPWRPLANT_DS
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone     Sparks01 LiveWireSparks
ParticleSysBone     Sparks02 LiveWireSparks
End
ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               ABPWRPLANT_ES
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone     Fire02 SmolderingFireLarge
ParticleSysBone     Fire03 SmolderingFireLarge
ParticleSysBone     Spark01 LiveWireSparks
End


; day upgrade
ConditionState  POWER_PLANT_UPGRADED SNOW;
Model  ABPWRPLANT_S
Animation      ABPWRPLANT_S.ABPWRPLANT_S
AnimationMode  LOOP
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks02
ParticleSysBone  Spark03 LiveWireSparks02
ParticleSysBone  Spark04 LiveWireSparks
ParticleSysBone  Spark05 LiveWireSparks02
ParticleSysBone  Spark06 LiveWireSparks
End
ConditionState  DAMAGED POWER_PLANT_UPGRADED SNOW
Model  ABPWRPLANT_DS
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks02
ParticleSysBone  Spark03 LiveWireSparks02
ParticleSysBone  Spark04 LiveWireSparks
ParticleSysBone  Spark05 LiveWireSparks02
ParticleSysBone  Spark06 LiveWireSparks
End
ConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
Model  ABPWRPLANT_ES
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Fire02 SmolderingFireLarge
ParticleSysBone  Fire03 SmolderingFireLarge
ParticleSysBone  Spark01 LiveWireSparks
ParticleSysBone  Spark02 LiveWireSparks02
ParticleSysBone  Spark03 LiveWireSparks02
ParticleSysBone  Spark04 LiveWireSparks
ParticleSysBone  Spark05 LiveWireSparks02
ParticleSysBone  Spark06 LiveWireSparks
End


; night
ConditionState  NIGHT SNOW;
Model  ABPWRPLANT_NS
Animation      ABPWRPLANT_NS.ABPWRPLANT_NS
AnimationMode  LOOP
ParticleSysBone  Smoke02 SteamVent
End
ConditionState        DAMAGED NIGHT SNOW
Model               ABPWRPLANT_DNS
Animation           ABPWRPLANT_DNS.ABPWRPLANT_DNS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone     Sparks01 LiveWireSparks
ParticleSysBone     Sparks02 LiveWireSparks
ParticleSysBone     Sparks03 LiveWireSparks02
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW;
Model  ABPWRPLANT_ENS
Animation      ABPWRPLANT_ENS.ABPWRPLANT_ENS
AnimationMode  LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Fire02 SmolderingFireLarge
ParticleSysBone  Fire03 SmolderingFireLarge
ParticleSysBone  Sparks01 LiveWireSparks
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
End

; night upgraded
ConditionState  NIGHT POWER_PLANT_UPGRADED SNOW
Model  ABPWRPLANT_NS
Animation      ABPWRPLANT_NS.ABPWRPLANT_NS
AnimationMode  LOOP
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
ParticleSysBone  Sparks08 LiveWireSparks02
ParticleSysBone  Sparks09 LiveWireSparks
ParticleSysBone  Sparks10 LiveWireSparks02
ParticleSysBone  Sparks11 LiveWireSparks
End
ConditionState        DAMAGED NIGHT POWER_PLANT_UPGRADED SNOW
Model               ABPWRPLANT_DNS
Animation           ABPWRPLANT_DNS.ABPWRPLANT_DNS
AnimationMode       LOOP
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SteamVent
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Fire01 SmolderingFireLarge
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
ParticleSysBone  Sparks08 LiveWireSparks02
ParticleSysBone  Sparks09 LiveWireSparks
ParticleSysBone  Sparks10 LiveWireSparks02
ParticleSysBone  Sparks11 LiveWireSparks
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED SNOW
Model  ABPWRPLANT_ENS
Animation      ABPWRPLANT_ENS.ABPWRPLANT_ENS
AnimationMode  LOOP
ParticleSysBone  Smoke01 SmolderingSmoke
ParticleSysBone  Smoke02 SteamVent
ParticleSysBone  Smoke03 SmolderingSmoke
ParticleSysBone  Smoke04 SmolderingSmoke
ParticleSysBone  Smoke05 SmolderingSmoke
ParticleSysBone  Smoke06 SmolderingSmoke
ParticleSysBone  Fire01 SmolderingFireLarge
ParticleSysBone  Fire02 SmolderingFireLarge
ParticleSysBone  Fire03 SmolderingFireLarge
ParticleSysBone  Sparks02 LiveWireSparks02
ParticleSysBone  Sparks03 LiveWireSparks02
ParticleSysBone  Sparks04 LiveWireSparks
ParticleSysBone  Sparks05 LiveWireSparks02
ParticleSysBone  Sparks07 LiveWireSparks
ParticleSysBone  Sparks08 LiveWireSparks02
ParticleSysBone  Sparks09 LiveWireSparks
ParticleSysBone  Sparks10 LiveWireSparks02
ParticleSysBone  Sparks11 LiveWireSparks
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABPWRPLANT
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABPWRPLANT_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABPWRPLANT_E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABPWRPLANT_N
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABPWRPLANT_DN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABPWRPLANT_EN
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABPWRPLANT_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABPWRPLANT_DS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABPWRPLANT_ES
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABPWRPLANT_NS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABPWRPLANT_DNS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABPWRPLANT_ENS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD SNOW POWER_PLANT_UPGRADED
AliasConditionState   SOLD SNOW DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
;**************************************************************************************************************************






End

; ------------ construction-zone fence -----------------

Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A4
Animation        ABPwrPlant_A4.ABPwrPlant_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A4N
Animation        ABPwrPlant_A4N.ABPwrPlant_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A4S
Animation        ABPwrPlant_A4S.ABPwrPlant_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A4S
Animation        ABPwrPlant_A4S.ABPwrPlant_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABPwrPlant_A4
Animation        ABPwrPlant_A4.ABPwrPlant_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABPwrPlant_A4N
Animation        ABPwrPlant_A4N.ABPwrPlant_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABPwrPlant_A4S
Animation        ABPwrPlant_A4S.ABPwrPlant_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABPwrPlant_A4SN
Animation        ABPwrPlant_A4SN.ABPwrPlant_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABPwrPlant_A4
Animation        ABPwrPlant_A4.ABPwrPlant_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABPwrPlant_A4N
Animation        ABPwrPlant_A4N.ABPwrPlant_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABPwrPlant_A4S
Animation        ABPwrPlant_A4S.ABPwrPlant_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABPwrPlant_A4SN
Animation        ABPwrPlant_A4SN.ABPwrPlant_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABPwrPlant_A6
Animation        ABPwrPlant_A6.ABPwrPlant_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SparksS01 BuildUpBlueSpark
ParticleSysBone  SparksS02 BuildUpBlueSpark
ParticleSysBone  SparksS03 SparksSmall
ParticleSysBone  SparksS06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABPwrPlant_A6N
Animation        ABPwrPlant_A6N.ABPwrPlant_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SparksS01 BuildUpBlueSpark
ParticleSysBone  SparksS02 BuildUpBlueSpark
ParticleSysBone  SparksS03 SparksSmall
ParticleSysBone  SparksS06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABPwrPlant_A6S
Animation        ABPwrPlant_A6S.ABPwrPlant_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SparksS01 BuildUpBlueSpark
ParticleSysBone  SparksS02 BuildUpBlueSpark
ParticleSysBone  SparksS03 SparksSmall
ParticleSysBone  SparksS06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABPwrPlant_A6SN
Animation        ABPwrPlant_A6SN.ABPwrPlant_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SparksS01 BuildUpBlueSpark
ParticleSysBone  SparksS02 BuildUpBlueSpark
ParticleSysBone  SparksS03 SparksSmall
ParticleSysBone  SparksS06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABPwrPlant_A6
Animation        ABPwrPlant_A6.ABPwrPlant_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABPwrPlant_A6N
Animation        ABPwrPlant_A6N.ABPwrPlant_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABPwrPlant_A6S
Animation        ABPwrPlant_A6S.ABPwrPlant_A6S
AnimationMode    ONCE

AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABPwrPlant_A6SN
Animation        ABPwrPlant_A6SN.ABPwrPlant_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABPwrPlant_A6
Animation        ABPwrPlant_A6.ABPwrPlant_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABPwrPlant_A6N
Animation        ABPwrPlant_A6N.ABPwrPlant_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABPwrPlant_A6S
Animation        ABPwrPlant_A6S.ABPwrPlant_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABPwrPlant_A6SN
Animation        ABPwrPlant_A6SN.ABPwrPlant_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A5
Animation        ABPwrPlant_A5.ABPwrPlant_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A5N
Animation        ABPwrPlant_A5N.ABPwrPlant_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A5S
Animation        ABPwrPlant_A5S.ABPwrPlant_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABPwrPlant_A5SN
Animation        ABPwrPlant_A5SN.ABPwrPlant_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABPwrPlant_AB
Animation        ABPwrPlant_AB.ABPwrPlant_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABPwrPlant_ABN
Animation        ABPwrPlant_ABN.ABPwrPlant_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABPwrPlant_ABS
Animation        ABPwrPlant_ABS.ABPwrPlant_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABPwrPlant_ABSN
Animation        ABPwrPlant_ABSN.ABPwrPlant_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             ABPwrPlant_AB
Animation        ABPwrPlant_AB.ABPwrPlant_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             ABPwrPlant_ABN
Animation        ABPwrPlant_ABN.ABPwrPlant_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             ABPwrPlant_ABS
Animation        ABPwrPlant_ABS.ABPwrPlant_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             ABPwrPlant_ABSN
Animation        ABPwrPlant_ABSN.ABPwrPlant_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ---- the control rods -----
Draw  W3DModelDraw ModuleTag_05
OkToChangeModelColor  Yes

; no upgrade
ConditionState  NONE
Model ABPWRPLANT_A1
End
AliasConditionState  SNOW
AliasConditionState  NIGHT
AliasConditionState  SNOW NIGHT

ConditionState  DAMAGED
Model ABPWRPLANT_A1D
End
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW NIGHT

ConditionState  REALLYDAMAGED RUBBLE
Model ABPWRPLANT_A1E
End
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW NIGHT


ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABPWRPLANT_A1
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABPWRPLANT_A1D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model               ABPWRPLANT_A1E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

; first to upgrade
ConditionState  POWER_PLANT_UPGRADING
Model ABPWRPLANT_A1
Animation      ABPWRPLANT_A1.ABPWRPLANT_A1
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End
AliasConditionState  POWER_PLANT_UPGRADING SNOW
AliasConditionState  POWER_PLANT_UPGRADING NIGHT
AliasConditionState  POWER_PLANT_UPGRADING SNOW NIGHT

ConditionState  DAMAGED POWER_PLANT_UPGRADING
Model ABPWRPLANT_A1D
Animation      ABPWRPLANT_A1D.ABPWRPLANT_A1D
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End
AliasConditionState  DAMAGED POWER_PLANT_UPGRADING SNOW
AliasConditionState  DAMAGED POWER_PLANT_UPGRADING NIGHT
AliasConditionState  DAMAGED POWER_PLANT_UPGRADING SNOW NIGHT

ConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING
Model ABPWRPLANT_A1E
Animation      ABPWRPLANT_A1E.ABPWRPLANT_A1E
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW
AliasConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW NIGHT

; already upgraded
ConditionState  POWER_PLANT_UPGRADED
Model ABPWRPLANT_A1
Animation      ABPWRPLANT_A1.ABPWRPLANT_A1
AnimationMode  MANUAL
Flags          START_FRAME_LAST
End
AliasConditionState  POWER_PLANT_UPGRADED SNOW
AliasConditionState  POWER_PLANT_UPGRADED NIGHT
AliasConditionState  POWER_PLANT_UPGRADED SNOW NIGHT

ConditionState  DAMAGED POWER_PLANT_UPGRADED
Model ABPWRPLANT_A1D
Animation      ABPWRPLANT_A1D.ABPWRPLANT_A1D
AnimationMode  MANUAL
Flags          START_FRAME_LAST
End
AliasConditionState  DAMAGED POWER_PLANT_UPGRADED SNOW
AliasConditionState  DAMAGED POWER_PLANT_UPGRADED NIGHT
AliasConditionState  DAMAGED POWER_PLANT_UPGRADED SNOW NIGHT

ConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
Model ABPWRPLANT_A1E
Animation      ABPWRPLANT_A1E.ABPWRPLANT_A1E
AnimationMode  MANUAL
Flags          START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
AliasConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW NIGHT


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
;**************************************************************************************************************************

End



PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ColdFusionReactor
Side              America
EditorSorting     STRUCTURE
Prerequisites
;    Object  AmericaCommandCenter
End
BuildCost         800
BuildTime         10.0           ; in seconds
EnergyProduction  15
EnergyBonus       15
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              StructureArmor_Noshutdown
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

CommandSet        AmericaPowerPlantCommandSet
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  ColdFusionReactorSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY
Body             StructureBody ModuleTag_06
MaxHealth        1600.0
InitialHealth    1600.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  PowerPlantUpgrade ModuleTag_07
TriggeredBy  Upgrade_AmericaAdvancedControlRods
End

Behavior  BaseRegenerateUpdate ModuleTag_08
;No data
End
Behavior  PowerPlantUpdate ModuleTag_09
RodsExtendTime  825
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris02
End

Behavior  ProductionUpdate ModuleTag_14
; nothing
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_17
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  MaxHealthUpgrade ModuleTag_ArmorUpgrade03
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth   -800.0
ChangeType     PRESERVE_RATIO
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  22.0
GeometryMinorRadius  30.0
GeometryHeight       46.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaStrategyCenter

; *** ART Parameters ***
SelectPortrait          SAStrategyCenter_L
ButtonImage             SAStrategyCenter

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day ***************************************************
ConditionState  NONE
Model               ABStrategy
Animation           ABStrategy.ABStrategy
AnimationMode       LOOP
End
ConditionState  DAMAGED
Model               ABStrategy_D
Animation           ABStrategy_D.ABStrategy_D
AnimationMode       LOOP
End
ConditionState  REALLYDAMAGED RUBBLE
Model               ABStrategy_E
Animation           ABStrategy_E.ABStrategy_E
AnimationMode       LOOP
End

; SNOW ***************************************************
ConditionState  SNOW
Model               ABStrategy_S
Animation           ABStrategy_S.ABStrategy_S
AnimationMode       LOOP
End
ConditionState  DAMAGED SNOW
Model               ABStrategy_DS
Animation           ABStrategy_DS.ABStrategy_DS
AnimationMode       LOOP
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model               ABStrategy_ES
Animation           ABStrategy_ES.ABStrategy_ES
AnimationMode       LOOP
End

; night **************************************************
ConditionState  NIGHT
Model               ABStrategy_N
Animation           ABStrategy_N.ABStrategy_N
AnimationMode       ONCE_BACKWARDS
Flags               START_FRAME_FIRST
End
ConditionState  NIGHT DAMAGED
Model               ABStrategy_DN
Animation           ABStrategy_DN.ABStrategy_DN
AnimationMode       LOOP
End
ConditionState  NIGHT REALLYDAMAGED RUBBLE
Model               ABStrategy_EN
Animation           ABStrategy_EN.ABStrategy_EN
AnimationMode       LOOP
End

; night Snow**************************************************
ConditionState  NIGHT SNOW
Model               ABStrategy_NS
Animation           ABStrategy_NS.ABStrategy_NS
AnimationMode       ONCE_BACKWARDS
Flags               START_FRAME_FIRST
End
ConditionState  NIGHT DAMAGED SNOW
Model               ABStrategy_DNS
Animation           ABStrategy_DNS.ABStrategy_DNS
AnimationMode       LOOP
End
ConditionState  NIGHT REALLYDAMAGED RUBBLE SNOW
Model               ABStrategy_ENS
Animation           ABStrategy_ENS.ABStrategy_ENS
AnimationMode       LOOP
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABStrategy
Animation           ABStrategy.ABStrategy
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABStrategy_D
Animation           ABStrategy_D.ABStrategy_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABStrategy_E
Animation           ABStrategy_E.ABStrategy_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABStrategy_N
Animation           ABStrategy_N.ABStrategy_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABStrategy_DN
Animation           ABStrategy_DN.ABStrategy_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABStrategy_EN
Animation           ABStrategy_EN.ABStrategy_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABStrategy_S
Animation           ABStrategy_S.ABStrategy_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABStrategy_DS
Animation           ABStrategy_DS.ABStrategy_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABStrategy_ES
Animation           ABStrategy_ES.ABStrategy_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABStrategy_NS
Animation           ABStrategy_NS.ABStrategy_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABStrategy_DNS
Animation           ABStrategy_DNS.ABStrategy_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABStrategy_ENS
Animation           ABStrategy_ENS.ABStrategy_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
OkToChangeModelColor  Yes
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A4
Animation        ABStrategy_A4.ABStrategy_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A4N
Animation        ABStrategy_A4N.ABStrategy_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A4S
Animation        ABStrategy_A4S.ABStrategy_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A4SN
Animation        ABStrategy_A4SN.ABStrategy_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SparksS01 LiveWireSparks02
ParticleSysBone  SmokeS01 SmokeBuildingSmall
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABStrategy_A4
Animation        ABStrategy_A4.ABStrategy_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABStrategy_A4N
Animation        ABStrategy_A4N.ABStrategy_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABStrategy_A4S
Animation        ABStrategy_A4S.ABStrategy_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABStrategy_A4SN
Animation        ABStrategy_A4SN.ABStrategy_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABStrategy_A4
Animation        ABStrategy_A4.ABStrategy_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABStrategy_A4N
Animation        ABStrategy_A4N.ABStrategy_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABStrategy_A4S
Animation        ABStrategy_A4S.ABStrategy_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End

TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABStrategy_A4SN
Animation        ABStrategy_A4SN.ABStrategy_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
OkToChangeModelColor  Yes

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABStrategy_A6
Animation        ABStrategy_A6.ABStrategy_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABStrategy_A6N
Animation        ABStrategy_A6N.ABStrategy_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABStrategy_A6S
Animation        ABStrategy_A6S.ABStrategy_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABStrategy_A6SN
Animation        ABStrategy_A6SN.ABStrategy_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABStrategy_A6
Animation        ABStrategy_A6.ABStrategy_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABStrategy_A6N
Animation        ABStrategy_A6N.ABStrategy_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABStrategy_A6S
Animation        ABStrategy_A6S.ABStrategy_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABStrategy_A6SN
Animation        ABStrategy_A6SN.ABStrategy_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABStrategy_A6
Animation        ABStrategy_A6.ABStrategy_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABStrategy_A6N
Animation        ABStrategy_A6N.ABStrategy_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABStrategy_A6S
Animation        ABStrategy_A6S.ABStrategy_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABStrategy_A6SN
Animation        ABStrategy_A6SN.ABStrategy_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT

Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A5
Animation        ABStrategy_A5.ABStrategy_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A5N
Animation        ABStrategy_A5N.ABStrategy_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End

ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A5S
Animation        ABStrategy_A5S.ABStrategy_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABStrategy_A5SN
Animation        ABStrategy_A5SN.ABStrategy_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABStrategy_AB
Animation        ABStrategy_AB.ABStrategy_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABStrategy_ABN
Animation        ABStrategy_ABN.ABStrategy_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABStrategy_ABS
Animation        ABStrategy_ABS.ABStrategy_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABStrategy_ABSN
Animation        ABStrategy_ABSN.ABStrategy_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             ABStrategy_AB
Animation        ABStrategy_AB.ABStrategy_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             ABStrategy_ABN
Animation        ABStrategy_ABN.ABStrategy_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             ABStrategy_ABS
Animation        ABStrategy_ABS.ABStrategy_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             ABStrategy_ABSN
Animation        ABStrategy_ABSN.ABStrategy_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ BOMBARDMENT BATTLE PLAN -----------------
Draw  W3DModelDraw ModuleTag_05
OkToChangeModelColor  Yes
DefaultConditionState
Model            ABStrategy_A1
Animation        ABStrategy_A1.ABStrategy_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            ABStrategy_A1
Animation        ABStrategy_A1.ABStrategy_A1
AnimationMode    ONCE
End
AliasConditionState  DAMAGED DOOR_1_OPENING
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  SNOW DAMAGED DOOR_1_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING

ConditionState     DOOR_1_CLOSING
Model            ABStrategy_A1
Animation        ABStrategy_A1.ABStrategy_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_1_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING

ConditionState     DOOR_1_WAITING_TO_CLOSE
Model            NONE
End
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState         PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABStrategy_A1
Animation           ABStrategy_A1.ABStrategy_A1
AnimationMode       MANUAL
Flags               START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
AliasConditionState    PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
;**************************************************************************************************************************


End

Draw  W3DModelDraw ModuleTag_06
;***This is the bombardment cannon object that only shows up when ready to fire***
OkToChangeModelColor  Yes
DefaultConditionState
Model            ABStrategy_A8
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
Turret             Turret01
TurretPitch        TurretEL

HideSubObject    Chassis
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_TO_CLOSE
Model            ABStrategy_A8
ShowSubObject    Chassis
End
AliasConditionState  DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABStrategy_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABStrategy_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model               ABStrategy_A8
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE NIGHT SNOW




ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE


End

; ------------ HOLD THE LINE BATTLE PLAN -----------------
Draw  W3DModelDraw ModuleTag_07
OkToChangeModelColor  Yes
DefaultConditionState
Model            ABStrategy_A7
Animation        ABStrategy_A7.ABStrategy_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_2_OPENING
Model            ABStrategy_A7
Animation        ABStrategy_A7.ABStrategy_A7
AnimationMode    ONCE
End
AliasConditionState  DAMAGED DOOR_2_OPENING
AliasConditionState  REALLYDAMAGED DOOR_2_OPENING
AliasConditionState  NIGHT DOOR_2_OPENING
AliasConditionState  NIGHT SNOW DOOR_2_OPENING
AliasConditionState  SNOW DOOR_2_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_2_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_OPENING
AliasConditionState  SNOW DAMAGED DOOR_2_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING

ConditionState     DOOR_2_CLOSING
Model            ABStrategy_A7
Animation        ABStrategy_A7.ABStrategy_A7
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_2_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW DOOR_2_CLOSING
AliasConditionState  SNOW DOOR_2_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_2_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING

ConditionState     DOOR_2_WAITING_TO_CLOSE
Model            ABStrategy_A7
Animation        ABStrategy_A7.ABStrategy_A7
AnimationMode    ONCE
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_2_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABStrategy_A7
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
;**************************************************************************************************************************
End

; ------------ SEARCH AND DESTROY BATTLE PLAN -----------------
Draw  W3DModelDraw ModuleTag_08
OkToChangeModelColor  Yes
DefaultConditionState
Model            ABStrategy_A2
Animation        ABStrategy_A2.ABStrategy_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_3_OPENING
Model            ABStrategy_A2
Animation        ABStrategy_A2.ABStrategy_A2
AnimationMode    ONCE
End
AliasConditionState  DAMAGED DOOR_3_OPENING
AliasConditionState  REALLYDAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT DOOR_3_OPENING
AliasConditionState  NIGHT SNOW DOOR_3_OPENING
AliasConditionState  SNOW DOOR_3_OPENING
AliasConditionState  NIGHT DAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  SNOW DAMAGED DOOR_3_OPENING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING

ConditionState     DOOR_3_CLOSING
Model            ABStrategy_A2
Animation        ABStrategy_A2.ABStrategy_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_3_CLOSING
AliasConditionState  REALLYDAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW DOOR_3_CLOSING
AliasConditionState  SNOW DOOR_3_CLOSING
AliasConditionState  NIGHT DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  SNOW DAMAGED DOOR_3_CLOSING
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING

ConditionState     DOOR_3_WAITING_TO_CLOSE
Model            NONE
End
AliasConditionState  DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABStrategy_A2
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
;**************************************************************************************************************************


End
Draw  W3DModelDraw ModuleTag_09
;***This is the radar array that only shows up when plan is active***
OkToChangeModelColor  Yes
DefaultConditionState
Model            NONE
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT DAMAGED
AliasConditionState  NIGHT SNOW DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE

ConditionState     DOOR_3_WAITING_TO_CLOSE
Model            ABStrategy_A3
Animation        ABStrategy_A3.ABStrategy_A3
AnimationMode    LOOP
End
AliasConditionState  DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState  SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
AliasConditionState  NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:StrategyCenter
Side  America
EditorSorting     STRUCTURE

Prerequisites
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

CommandSet           AmericaStrategyCenterCommandSet
BuildCost            2500
BuildTime            55.0           ; in seconds
EnergyProduction     -15
VisionRange          1200.0           ; Shroud clearing distance

MaxSimultaneousOfType  1

ShroudClearingRange  400
WeaponSet
Conditions            None
Weapon                PRIMARY StrategyCenterGun
AutoChooseSources     PRIMARY NONE
End
ArmorSet
Conditions       None
Armor            PropagandaStructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      250 250 250 250  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  StrategyCenterSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;These aren't playing properly, will revisit. (mp) StrategyCenter_TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAN_ATTACK SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH POWERED
Body             StructureBody ModuleTag_10
MaxHealth        5000.0
InitialHealth    5000.0

SubdualDamageCap  3000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  ProductionUpdate ModuleTag_11
; nothing
End

Behavior  DefaultProductionExitUpdate ModuleTag_111315
UnitCreatePoint    X:  0.0   Y:0.0  Z:0.0
NaturalRallyPoint  X:  80.0  Y:0.0  Z:0.0
End

Behavior  SpecialPowerCreate ModuleTag_EmergencyRepair02
End

Behavior  BaseRegenerateUpdate ModuleTag_12
;No data
End

Behavior  SpecialAbility ModuleTag_13
SpecialPowerTemplate  SpecialAbilityChangeBattlePlans
UpdateModuleStartsAttack  Yes
End

Behavior  BattlePlanUpdate ModuleTag_14
SpecialPowerTemplate               SpecialAbilityChangeBattlePlans

;Transition Timings
BombardmentPlanAnimationTime       3000
HoldTheLinePlanAnimationTime       3000
SearchAndDestroyPlanAnimationTime  3000
TransitionIdleTime                 0

;Messages
BombardmentMessageLabel       MESSAGE:BattlePlanBombardmentInitiated
HoldTheLineMessageLabel       MESSAGE:BattlePlanHoldTheLineInitiated
SearchAndDestroyMessageLabel  MESSAGE:BattlePlanSearchAndDestroyInitiated

;Audio hooks
BombardmentPlanUnpackSoundName         StrategyCenter_BombardmentPlanUnpackSound
BombardmentPlanPackSoundName           StrategyCenter_BombardmentPlanPackSound
BombardmentAnnouncementName            StrategyCenter_BombardmentPlanAnnouncement
SearchAndDestroyPlanUnpackSoundName    StrategyCenter_SearchAndDestroyPlanUnpack
SearchAndDestroyPlanIdleLoopSoundName  StrategyCenter_SearchAndDestroyPlanIdleLoop
SearchAndDestroyPlanPackSoundName      StrategyCenter_SearchAndDestroyPlanPack
SearchAndDestroyAnnouncementName       StrategyCenter_SearchAndDestroyAnnouncement
HoldTheLinePlanUnpackSoundName         StrategyCenter_HoldTheLinePlanUnpack
HoldTheLinePlanPackSoundName           StrategyCenter_HoldTheLinePlanPack
HoldTheLineAnnouncementName            StrategyCenter_HoldTheLineAnnouncement

;Army bonuses granted by different battle plans
ValidMemberKindOf                      INFANTRY VEHICLE FS_BASE_DEFENSE                          ;Battle plans affect any kind of these...
InvalidMemberKindOf                    DOZER AIRCRAFT DRONE BOAT UNATTACKABLE DEMOTRAP NO_COLLIDE MP_COUNT_FOR_VICTORY ;..but make sure they don't have any of these
BattlePlanChangeParalyzeTime           5000 ;Subjected to paralyzation whenever a battle plan is changed.
HoldTheLinePlanArmorDamageScalar       0.75 ;Armor damage bonus scalar -- LESS is better!
SearchAndDestroyPlanSightRangeScalar   1.25 ;Sight range bonus -- more is better!
;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

;Building bonuses granted based on battle plan mode.
StrategyCenterSearchAndDestroySightRangeScalar  2.0
StrategyCenterSearchAndDestroyDetectsStealth    Yes
StrategyCenterHoldTheLineMaxHealthScalar        2.0
StrategyCenterHoldTheLineMaxHealthChangeType    PRESERVE_RATIO

End

Behavior  AIUpdateInterface ModuleTag_15
Turret
ControlledWeaponSlots     PRIMARY
TurretTurnRate       10   // turn rate, in degrees per sec
TurretPitchRate      10
AllowsPitch          Yes
FiresWhileTurning    Yes
NaturalTurretPitch   45 ; this keeps it aimed half way between land and sky
; since you never know from whence cometh danger
NaturalTurretAngle  -90  ; this turret points backwards normally

FirePitch            45       ; Instead of aiming pitchwise at the target, it will aim here
MinIdleScanInterval  500    ; in milliseconds
MaxIdleScanInterval  1000   ; in milliseconds
MinIdleScanAngle     0      ; in degrees off the natural turret angle
MaxIdleScanAngle     60     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes ;ATTACK_BUILDINGS
End

;Behavior  StealthDetectorUpdate ModuleTag_16
;DetectionRate        1     ; how often to rescan for stealthed things in my sight (msec)
;InitiallyDisabled    Yes   ; only will be active when search & destroy plan active.
;DetectionRange       1     ;Dustin, enable this for independant balancing!
;CanDetectWhileGarrisoned   No ;Garrisoned means being in a structure that you units can shoot out of.;
;CanDetectWhileContained    No ;Contained means being in a transport or tunnel network.
;End

Behavior  FlammableUpdate ModuleTag_22
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_23
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris04
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_StrategyCenterCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  62.0
GeometryMinorRadius  44.0
GeometryHeight       24.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaStrategyCenter_CollapseObject

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day ***************************************************
ConditionState  NONE
Model               ABStrategy
Animation           ABStrategy.ABStrategy
AnimationMode       LOOP
End
ConditionState  DAMAGED
Model               ABStrategy_D
Animation           ABStrategy_D.ABStrategy_D
AnimationMode       LOOP
End
ConditionState  REALLYDAMAGED RUBBLE
Model               ABStrategy_E
Animation           ABStrategy_E.ABStrategy_E
AnimationMode       LOOP
End

; SNOW ***************************************************
ConditionState  SNOW
Model               ABStrategy_S
Animation           ABStrategy_S.ABStrategy_S
AnimationMode       LOOP
End
ConditionState  DAMAGED SNOW
Model               ABStrategy_DS
Animation           ABStrategy_DS.ABStrategy_DS
AnimationMode       LOOP
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model               ABStrategy_ES
Animation           ABStrategy_ES.ABStrategy_ES
AnimationMode       LOOP
End

; night **************************************************
ConditionState  NIGHT
Model               ABStrategy_N
Animation           ABStrategy_N.ABStrategy_N
AnimationMode       ONCE_BACKWARDS
Flags               START_FRAME_FIRST
End
ConditionState  NIGHT DAMAGED
Model               ABStrategy_DN
Animation           ABStrategy_DN.ABStrategy_DN
AnimationMode       LOOP
End
ConditionState  NIGHT REALLYDAMAGED RUBBLE
Model               ABStrategy_EN
Animation           ABStrategy_EN.ABStrategy_EN
AnimationMode       LOOP
End

; night Snow**************************************************
ConditionState  NIGHT SNOW
Model               ABStrategy_NS
Animation           ABStrategy_NS.ABStrategy_NS
AnimationMode       ONCE_BACKWARDS
Flags               START_FRAME_FIRST
End
ConditionState  NIGHT DAMAGED SNOW
Model               ABStrategy_DNS
Animation           ABStrategy_DNS.ABStrategy_DNS
AnimationMode       LOOP
End
ConditionState  NIGHT REALLYDAMAGED RUBBLE SNOW
Model               ABStrategy_ENS
Animation           ABStrategy_ENS.ABStrategy_ENS
AnimationMode       LOOP
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:StrategyCenter
Side  America
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            PropagandaStructureArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE
Body             StructureBody ModuleTag_10
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

Geometry             BOX
GeometryMajorRadius  62.0
GeometryMinorRadius  44.0
GeometryHeight       24.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaSupplyCenter

; *** ART Parameters ***
SelectPortrait          SASupplyCntr_L
ButtonImage             SASupplyCntr

UpgradeCameo1  Upgrade_AmericaSupplyLines

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day **************************************
ConditionState        NONE
Model               ABSupplyCT
Animation           ABSupplyCT.ABSupplyCT
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED
Model               ABSupplyCT_D
Animation           ABSupplyCT_D.ABSupplyCT_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingFire
End
ConditionState       REALLYDAMAGED RUBBLE
Model               ABSupplyCT_E
Animation           ABSupplyCT_E.ABSupplyCT_E
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
End


; day Snow **************************************
ConditionState        SNOW
Model               ABSupplyCT_S
Animation           ABSupplyCT_S.ABSupplyCT_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        DAMAGED SNOW
Model               ABSupplyCT_DS
Animation           ABSupplyCT_DS.ABSupplyCT_DS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingFire
End
ConditionState       REALLYDAMAGED RUBBLE SNOW
Model               ABSupplyCT_ES
Animation           ABSupplyCT_ES.ABSupplyCT_ES
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     Smoke05 SmolderingSmoke
ParticleSysBone     Smoke06 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingFire
ParticleSysBone     Smoke02 SmolderingFire
ParticleSysBone     Smoke03 SmolderingFire
ParticleSysBone     Smoke04 SmolderingFire
ParticleSysBone     Smoke05 SmolderingFire
ParticleSysBone     Smoke06 SmolderingFire
End



; Night *************************************
ConditionState      NIGHT
Model               ABSupplyCT_N
Animation           ABSupplyCT_N.ABSupplyCT_N
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState      DAMAGED NIGHT
Model               ABSupplyCT_DN
Animation           ABSupplyCT_DN.ABSupplyCT_DN
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState      REALLYDAMAGED RUBBLE NIGHT
Model               ABSupplyCT_EN
Animation           ABSupplyCT_EN.ABSupplyCT_EN
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End


; Night Snow*************************************
ConditionState      NIGHT SNOW
Model               ABSupplyCT_NS
Animation           ABSupplyCT_NS.ABSupplyCT_NS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState      DAMAGED NIGHT SNOW
Model               ABSupplyCT_DNS
Animation           ABSupplyCT_DNS.ABSupplyCT_DNS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState      REALLYDAMAGED RUBBLE NIGHT SNOW
Model               ABSupplyCT_ENS
Animation           ABSupplyCT_ENS.ABSupplyCT_ENS
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABSupplyCT
Animation           ABSupplyCT.ABSupplyCT
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABSupplyCT_D
Animation           ABSupplyCT_D.ABSupplyCT_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABSupplyCT_E
Animation           ABSupplyCT_E.ABSupplyCT_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABSupplyCT_N
Animation           ABSupplyCT_N.ABSupplyCT_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABSupplyCT_DN
Animation           ABSupplyCT_DN.ABSupplyCT_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABSupplyCT_EN
Animation           ABSupplyCT_EN.ABSupplyCT_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABSupplyCT_S
Animation           ABSupplyCT_S.ABSupplyCT_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABSupplyCT_DS
Animation           ABSupplyCT_DS.ABSupplyCT_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABSupplyCT_ES
Animation           ABSupplyCT_ES.ABSupplyCT_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABSupplyCT_NS
Animation           ABSupplyCT_NS.ABSupplyCT_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABSupplyCT_DNS
Animation           ABSupplyCT_DNS.ABSupplyCT_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABSupplyCT_ENS
Animation           ABSupplyCT_ENS.ABSupplyCT_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************



End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A4
Animation        ABSupplyCT_A4.ABSupplyCT_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A4N
Animation        ABSupplyCT_A4N.ABSupplyCT_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A4S
Animation        ABSupplyCT_A4S.ABSupplyCT_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A4SN
Animation        ABSupplyCT_A4SN.ABSupplyCT_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABSupplyCT_A4
Animation        ABSupplyCT_A4.ABSupplyCT_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABSupplyCT_A4N
Animation        ABSupplyCT_A4N.ABSupplyCT_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABSupplyCT_A4S
Animation        ABSupplyCT_A4S.ABSupplyCT_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABSupplyCT_A4SN
Animation        ABSupplyCT_A4SN.ABSupplyCT_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSupplyCT_A4
Animation        ABSupplyCT_A4.ABSupplyCT_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSupplyCT_A4N
Animation        ABSupplyCT_A4N.ABSupplyCT_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSupplyCT_A4S
Animation        ABSupplyCT_A4S.ABSupplyCT_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSupplyCT_A4SN
Animation        ABSupplyCT_A4SN.ABSupplyCT_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABSupplyCT_A6
Animation        ABSupplyCT_A6.ABSupplyCT_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABSupplyCT_A6N
Animation        ABSupplyCT_A6N.ABSupplyCT_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABSupplyCT_A6S
Animation        ABSupplyCT_A6S.ABSupplyCT_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABSupplyCT_A6SN
Animation        ABSupplyCT_A6SN.ABSupplyCT_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABSupplyCT_A6
Animation        ABSupplyCT_A6.ABSupplyCT_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABSupplyCT_A6N
Animation        ABSupplyCT_A6N.ABSupplyCT_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABSupplyCT_A6S
Animation        ABSupplyCT_A6S.ABSupplyCT_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABSupplyCT_A6SN
Animation        ABSupplyCT_A6SN.ABSupplyCT_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSupplyCT_A6
Animation        ABSupplyCT_A6.ABSupplyCT_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSupplyCT_A6N
Animation        ABSupplyCT_A6N.ABSupplyCT_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSupplyCT_A6S
Animation        ABSupplyCT_A6S.ABSupplyCT_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSupplyCT_A6SN
Animation        ABSupplyCT_A6SN.ABSupplyCT_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_04
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A5
Animation        ABSupplyCT_A5.ABSupplyCT_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A5N
Animation        ABSupplyCT_A5N.ABSupplyCT_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A5S
Animation        ABSupplyCT_A5S.ABSupplyCT_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABSupplyCT_A5SN
Animation        ABSupplyCT_A5SN.ABSupplyCT_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABSupplyCT_AB
Animation        ABSupplyCT_AB.ABSupplyCT_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABSupplyCT_ABN
Animation        ABSupplyCT_ABN.ABSupplyCT_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABSupplyCT_ABS
Animation        ABSupplyCT_ABS.ABSupplyCT_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABSupplyCT_ABSN
Animation        ABSupplyCT_ABSN.ABSupplyCT_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             ABSupplyCT_AB
Animation        ABSupplyCT_AB.ABSupplyCT_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             ABSupplyCT_ABN
Animation        ABSupplyCT_ABN.ABSupplyCT_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             ABSupplyCT_ABS
Animation        ABSupplyCT_ABS.ABSupplyCT_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             ABSupplyCT_ABSN
Animation        ABSupplyCT_ABSN.ABSupplyCT_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ Grabbing box crane arm -----------------
Draw  W3DModelDraw ModuleTag_19
OkToChangeModelColor  Yes
ConditionState     NONE                        ; sit there
Model            ABSupplyCT_A8
Animation        ABSupplyCT_A8.ABSupplyCT_A8
AnimationMode    LOOP
Flags            START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
WaitForStateToFinishIfPossible  TRANS_Playing
End
AliasConditionState    NIGHT
AliasConditionState    SNOW
AliasConditionState    NIGHT SNOW
AliasConditionState    DAMAGED
AliasConditionState    NIGHT DAMAGED
AliasConditionState    SNOW DAMAGED
AliasConditionState    NIGHT SNOW DAMAGED
AliasConditionState    REALLYDAMAGED RUBBLE
AliasConditionState    NIGHT REALLYDAMAGED RUBBLE
AliasConditionState    SNOW REALLYDAMAGED RUBBLE
AliasConditionState    NIGHT SNOW REALLYDAMAGED RUBBLE

ConditionState     DOCKING_ACTIVE              ; play arm box anim once
Model            ABSupplyCT_A7
Animation        ABSupplyCT_A7.ABSupplyCT_A7
AnimationMode    ONCE
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Playing
End
AliasConditionState    NIGHT DOCKING_ACTIVE
AliasConditionState    SNOW DOCKING_ACTIVE
AliasConditionState    NIGHT SNOW DOCKING_ACTIVE
AliasConditionState    DAMAGED DOCKING_ACTIVE
AliasConditionState    NIGHT DAMAGED DOCKING_ACTIVE
AliasConditionState    SNOW DAMAGED DOCKING_ACTIVE
AliasConditionState    NIGHT SNOW DAMAGED DOCKING_ACTIVE
AliasConditionState    REALLYDAMAGED RUBBLE DOCKING_ACTIVE
AliasConditionState    NIGHT REALLYDAMAGED RUBBLE DOCKING_ACTIVE
AliasConditionState    SNOW REALLYDAMAGED RUBBLE DOCKING_ACTIVE
AliasConditionState    NIGHT SNOW REALLYDAMAGED RUBBLE DOCKING_ACTIVE

End

; ------------ Spinny Belt -----------------
Draw  W3DModelDraw ModuleTag_SpinnyBelt
OkToChangeModelColor  Yes
ConditionState     NONE                        ; sit there
Model            ABSupplyCT_A9
Animation        ABSupplyCT_A9.ABSupplyCT_A9
AnimationMode    LOOP
End
AliasConditionState    NIGHT
AliasConditionState    SNOW
AliasConditionState    NIGHT SNOW
AliasConditionState    DAMAGED
AliasConditionState    NIGHT DAMAGED
AliasConditionState    SNOW DAMAGED
AliasConditionState    NIGHT SNOW DAMAGED
AliasConditionState    REALLYDAMAGED RUBBLE
AliasConditionState    NIGHT REALLYDAMAGED RUBBLE
AliasConditionState    SNOW REALLYDAMAGED RUBBLE
AliasConditionState    NIGHT SNOW REALLYDAMAGED RUBBLE


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABSupplyCT_A9
Animation           ABSupplyCT_A9.ABSupplyCT_A9
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End


; ------------ Chinook Supply Point -----------------
Draw                    W3DModelDraw ModuleTag_Generator01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               NVDeva_U2
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT
AliasConditionState  AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD NIGHT
AliasConditionState  SOLD NIGHT DAMAGED
AliasConditionState  SOLD NIGHT REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  SOLD NIGHT SNOW
AliasConditionState  SOLD NIGHT SNOW DAMAGED
AliasConditionState  SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION
AliasConditionState  LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD
AliasConditionState  LOADED SOLD DAMAGED
AliasConditionState  LOADED SOLD REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT
AliasConditionState  LOADED SOLD NIGHT DAMAGED
AliasConditionState  LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState  LOADED SOLD SNOW
AliasConditionState  LOADED SOLD SNOW DAMAGED
AliasConditionState  LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW
AliasConditionState  LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState  LOADED SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

; NORMAL ************************************
ConditionState        LOADED
Model               ABChSpPnt
End
AliasConditionState  LOADED NIGHT

; DAMAGED ************************************
ConditionState        LOADED DAMAGED
Model               ABChSpPnt_D
End
AliasConditionState  LOADED DAMAGED NIGHT

; REALLYDAMAGED ************************************
ConditionState        LOADED REALLYDAMAGED
Model               ABChSpPnt_E
End
AliasConditionState  LOADED REALLYDAMAGED NIGHT

; SNOW ************************************
ConditionState        LOADED SNOW
Model               ABChSpPnt_S
End
AliasConditionState  LOADED SNOW NIGHT

; SNOW DAMAGED ************************************
ConditionState        LOADED SNOW DAMAGED
Model               ABChSpPnt_SD
End
AliasConditionState  LOADED SNOW DAMAGED NIGHT

; SNOW REALLYDAMAGED ************************************
ConditionState        LOADED SNOW REALLYDAMAGED
Model               ABChSpPnt_SE
End
AliasConditionState  LOADED SNOW REALLYDAMAGED NIGHT

;**************************************************************************************************************************

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              ABChSpPnt
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              ABChSpPnt_D
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              ABChSpPnt_E
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              ABChSpPnt_S
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model              ABChSpPnt_SD
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model              ABChSpPnt_SE
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

End

;  ;Docking bones have been removed from the main structure models and are now handled by this module instead
;  Draw  W3DModelDraw ModuleTag_DockingBones01
;    DefaultConditionState
;      Model  ABSupplyCT_B
;    End
;  End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:SupplyCenter
Side              America
EditorSorting     STRUCTURE
BuildCost         1500
RefundValue       350 ; With nothing (or zero) listed, we sell for half price.
BuildTime         15.0           ; in seconds
EnergyProduction  -10
CommandSet        AmericaSupplyCenterCommandSet
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End

Prerequisites
Object  AmericaPowerPlant
End

ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  SupplyCenterUSASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority        STRUCTURE
KindOf               PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER
Body                 StructureBody ModuleTag_05
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  SupplyCenterCreate ModuleTag_06
;nothing
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris03
End

Behavior  ProductionUpdate ModuleTag_09
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_10
UnitCreatePoint    X:20.0 Y:-16.0 Z:0.0
NaturalRallyPoint  X:55.0 Y:-16.0 Z:0.0  ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
End

Behavior  BaseRegenerateUpdate ModuleTag_11
;No data
End

Behavior             SpawnBehavior ModuleTag_12
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  AmericaVehicleOsprey
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  SupplyCenterDockUpdate ModuleTag_13
NumberApproachPositions  9 ; There are 9 approach bones in the art
End

Behavior  FlammableUpdate ModuleTag_15
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Chinook Supply Point Modules Start ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_ChinookSupplyDrop01
Slots  1
DamagePercentToUnits  100%
AllowInsideKindOf  NO_COLLIDE
ArmedRidersUpgradeMyWeaponSet  Yes
ShouldDrawPips  No
End

Behavior  FireWeaponCollide ModuleTag_ChinookSupplyDrop02
CollideWeapon  SupplyCenterChinookSupplyPointDummyWeapon
RequiredStatus  IS_BRAKING
End

Behavior  FireWeaponCollide ModuleTag_ChinookSupplyDrop03
CollideWeapon   SupplyCenterRemoveChinookSupplyPointWeapon
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_ChinookSupplyDrop04
DeathWeapon    SupplyCenterRemoveChinookSupplyPointWeapon
ExemptStatus   UNDER_CONSTRUCTION
StartsActive   Yes
End

Behavior  BoneFXDamage ModuleTag_ChinookSupplyDrop05
End

Behavior  BoneFXUpdate ModuleTag_ChinookSupplyDrop06
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;; Special Chinook Supply Point Modules End ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  44.0
GeometryMinorRadius  45.0
GeometryHeight       24.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaSupplyDropZone

; *** ART Parameters ***
SelectPortrait          SADropZone_L
ButtonImage             SADropZone

UpgradeCameo1  Upgrade_AmericaSupplyLines

Draw                  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState        NONE
Model               ABDropZn
Animation           ABDropZn.ABDropZn
AnimationMode       LOOP
ParticleSysBone     Flare01 DropZoneLandingSmoke
End

ConditionState        DAMAGED
Model               ABDropZn_D
Animation           ABDropZn_D.ABDropZn_D
AnimationMode       LOOP
ParticleSysBone     Flare01 DropZoneLandingSmoke
End

ConditionState      REALLYDAMAGED RUBBLE
Model               ABDropZn_E
Animation           ABDropZn_E.ABDropZn_E
AnimationMode       LOOP
ParticleSysBone     Flare01 DropZoneLandingSmoke
End

;----------- SNOW

ConditionState        SNOW
Model               ABDropZn_S
Animation           ABDropZn_S.ABDropZn_S
AnimationMode       LOOP
ParticleSysBone     Flare01 DropZoneLandingSmoke
End

ConditionState        DAMAGED SNOW
Model               ABDropZn_SD
Animation           ABDropZn_SD.ABDropZn_SD
AnimationMode       LOOP
ParticleSysBone     Flare01 DropZoneLandingSmoke
End

ConditionState      REALLYDAMAGED RUBBLE SNOW
Model               ABDropZn_SE
Animation           ABDropZn_SE.ABDropZn_SE
AnimationMode       LOOP
ParticleSysBone     Flare01 DropZoneLandingSmoke
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABDropZn
Animation           ABDropZn.ABDropZn
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABDropZn_D
Animation           ABDropZn_D.ABDropZn_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABDropZn_E
Animation           ABDropZn_E.ABDropZn_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABDropZn_S
Animation           ABDropZn_S.ABDropZn_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABDropZn_SD
Animation           ABDropZn_SD.ABDropZn_SD
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABDropZn_SE
Animation           ABDropZn_SE.ABDropZn_SE
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
;**************************************************************************************************************************



End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4
Animation        ABSupDrop_A4.ABSupDrop_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4N
Animation        ABSupDrop_A4N.ABSupDrop_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4S
Animation        ABSupDrop_A4S.ABSupDrop_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4SN
Animation        ABSupDrop_A4SN.ABSupDrop_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABSupDrop_A4
Animation        ABSupDrop_A4.ABSupDrop_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABSupDrop_A4N
Animation        ABSupDrop_A4N.ABSupDrop_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABSupDrop_A4S
Animation        ABSupDrop_A4S.ABSupDrop_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABSupDrop_A4SN
Animation        ABSupDrop_A4SN.ABSupDrop_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSupDrop_A4
Animation        ABSupDrop_A4.ABSupDrop_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSupDrop_A4N
Animation        ABSupDrop_A4N.ABSupDrop_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSupDrop_A4S
Animation        ABSupDrop_A4S.ABSupDrop_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSupDrop_A4SN
Animation        ABSupDrop_A4SN.ABSupDrop_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired     MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6
Animation        ABSupDrop_A6.ABSupDrop_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6N
Animation        ABSupDrop_A6N.ABSupDrop_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6S
Animation        ABSupDrop_A6S.ABSupDrop_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6SN
Animation        ABSupDrop_A6SN.ABSupDrop_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABSupDrop_A6
Animation        ABSupDrop_A6.ABSupDrop_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABSupDrop_A6N
Animation        ABSupDrop_A6N.ABSupDrop_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABSupDrop_A6S
Animation        ABSupDrop_A6S.ABSupDrop_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABSupDrop_A6SN
Animation        ABSupDrop_A6SN.ABSupDrop_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSupDrop_A6
Animation        ABSupDrop_A6.ABSupDrop_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSupDrop_A6N
Animation        ABSupDrop_A6N.ABSupDrop_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSupDrop_A6S
Animation        ABSupDrop_A6S.ABSupDrop_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSupDrop_A6SN
Animation        ABSupDrop_A6SN.ABSupDrop_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End
PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName          OBJECT:AmericaSupplyDropZone
Side                 America
EditorSorting        STRUCTURE
BuildCost            2500
BuildTime            45.0           ; in seconds
Prerequisites
Object             AmericaStrategyCenter
End
EnergyProduction  -3
ShroudClearingRange  100

ArmorSet
Conditions         None
Armor              StructureArmor_Noshutdown
DamageFX           StructureDamageFXNoShake
End

ArmorSet
Conditions         PLAYER_UPGRADE
Armor              StructureArmor
DamageFX           StructureDamageFXNoShake
End

ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  SupplyDropZoneSelect

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End


; *** ENGINEERING Parameters ***
; Please note that this structure is not a kindof IMMUNE_TO_CAPTURE, ther is code that allows
; CAPTURABLE+STRUCTUES, and FS_TECHNOLOGY kindofs to be disabled, unless explicitly IMMUNE_TO_CAPTURE...
; If this boggles too much, then it is time for a KINDOF_DISABLEABLE!--ML
KindOf               STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_SUPPLY_DROPZONE CAN_SEE_THROUGH_STRUCTURE POWERED
RadarPriority        STRUCTURE

Body                 ActiveBody ModuleTag_04
MaxHealth          2000.0
InitialHealth      2000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior        OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
OCL           OCL_AmericaSupplyDropSpawner
MinDelay      120000
MaxDelay      120000
End

Behavior              FlammableUpdate ModuleTag_09
AflameDuration      5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior  BaseRegenerateUpdate ModuleTag_11
;No data
End

Behavior  TransitionDamageFX ModuleTag_31
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End


Behavior  SlowDeathBehavior ModuleTag_07423
ExemptStatus  UNDER_CONSTRUCTION
DestructionDelay  2000
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  ArmorUpgrade ModuleTag_ArmorUpgrade01
TriggeredBy  Upgrade_ChinaOverlordGattlingCannon
End

Behavior  GrantUpgradeCreate ModuleTag_ArmorUpgrade02
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus  UNDER_CONSTRUCTION
End

Behavior  MaxHealthUpgrade ModuleTag_ArmorUpgrade03
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth   -1000.0
ChangeType     PRESERVE_RATIO
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  27.0
GeometryMinorRadius  27.0
GeometryHeight       9.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericanSupplyDropSpawner

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  None
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE CLEANUP_HAZARD STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon    DropZoneSupplyDropWeapon
StartsActive   Yes
ConflictsWith  Upgrade_AmericaSupplyLines
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    DropZoneSupplyDropWeaponUpgraded
StartsActive   No
TriggeredBy    Upgrade_AmericaSupplyLines
End


Behavior  SlowDeathBehavior ModuleTag_07
DestructionDelay     5000
End

End

;------------------------------------------------------------------------------
Object AmericanSupplyDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  None
End
End

Side                 America
EditorSorting        SYSTEM

Behavior  OCLUpdate ModuleTag_05
MinDelay      80
MaxDelay      80
CreateAtEdge  Yes
OCL           OCL_AmericaSupplyDropZoneCrateDrop
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  150
MaxLifetime  150
End

End

;------------------------------------------------------------------------------
Object AmericanSupplyDropUpgraded

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  None
End
End

Side                 America
EditorSorting        SYSTEM

Behavior  OCLUpdate ModuleTag_05
MinDelay      80
MaxDelay      80
CreateAtEdge  Yes
OCL           OCL_AmericaSupplyDropZoneCrateDropUpgraded
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  150
MaxLifetime  150
End

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaWarFactory

; *** ART Parameters ***
SelectPortrait  SACWeaponsfact_L
ButtonImage             SACWeaponsfact

; ------------ the main factory itself -----------------
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
; day **************************************************
DefaultConditionState
Model            ABWarFact
Animation        ABWarFact.ABWarFact
AnimationMode    LOOP
ParticleSysBone  Smoke01 SteamVent
ParticleSysBone  Smoke02 SteamVent
End
ConditionState  DAMAGED
Model            ABWarFact_D
Animation        ABWarFact_D.ABWarFact_D
AnimationMode    LOOP
End
ConditionState  REALLYDAMAGED RUBBLE
Model            ABWarFact_E
Animation        ABWarFact_E.ABWarFact_E
AnimationMode    LOOP
End


; night *************************************************
ConditionState  NIGHT
Model            ABWarFact_N
Animation        ABWarFact_N.ABWarFact_N
AnimationMode    LOOP
End
ConditionState  DAMAGED NIGHT
Model            ABWarFact_DN
Animation        ABWarFact_DN.ABWarFact_DN
AnimationMode    LOOP
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT
Model            ABWarFact_EN
Animation        ABWarFact_EN.ABWarFact_EN
AnimationMode    LOOP
End

; snow *************************************************
ConditionState  SNOW
Model            ABWarFact_S
Animation        ABWarFact_S.ABWarFact_S
AnimationMode    LOOP
End
ConditionState  DAMAGED SNOW
Model            ABWarFact_DS
Animation        ABWarFact_DS.ABWarFact_DS
AnimationMode    LOOP
End
ConditionState  REALLYDAMAGED RUBBLE SNOW
Model            ABWarFact_ES
Animation        ABWarFact_ES.ABWarFact_ES
AnimationMode    LOOP
End


; night snow *************************************************
ConditionState  NIGHT SNOW
Model            ABWarFact_NS
Animation        ABWarFact_NS.ABWarFact_NS
AnimationMode    LOOP
End
ConditionState  DAMAGED NIGHT SNOW
Model            ABWarFact_DNS
Animation        ABWarFact_DNS.ABWarFact_DNS
AnimationMode    LOOP
End
ConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW
Model            ABWarFact_ENS
Animation        ABWarFact_ENS.ABWarFact_ENS
AnimationMode    LOOP
End

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABWarFact
Animation           ABWarFact.ABWarFact
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABWarFact_D
Animation           ABWarFact_D.ABWarFact_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABWarFact_E
Animation           ABWarFact_E.ABWarFact_E
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
Model               ABWarFact_N
Animation           ABWarFact_N.ABWarFact_N
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
Model               ABWarFact_DN
Animation           ABWarFact_DN.ABWarFact_DN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
Model               ABWarFact_EN
Animation           ABWarFact_EN.ABWarFact_EN
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABWarFact_S
Animation           ABWarFact_S.ABWarFact_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
Model               ABWarFact_DS
Animation           ABWarFact_DS.ABWarFact_DS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
Model               ABWarFact_ES
Animation           ABWarFact_ES.ABWarFact_ES
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
Model               ABWarFact_NS
Animation           ABWarFact_NS.ABWarFact_NS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
Model               ABWarFact_DNS
Animation           ABWarFact_DNS.ABWarFact_DNS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
Model               ABWarFact_ENS
Animation           ABWarFact_ENS.ABWarFact_ENS
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************


End

; ----------------- the factory door -------------------
Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            ABWarFact_A8
Animation        ABWarFact_A8.ABWarFact_A8
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A8
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState     DAMAGED
Model            ABWarFact_A8D
Animation        ABWarFact_A8D.ABWarFact_A8D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            ABWarFact_A8E
Animation        ABWarFact_A8E.ABWarFact_A8E
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_OPENING
Model            ABWarFact_A8
Animation        ABWarFact_A8.ABWarFact_A8
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING
AliasConditionState  SNOW DOOR_1_OPENING
AliasConditionState  SNOW NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            ABWarFact_A8D
Animation        ABWarFact_A8D.ABWarFact_A8D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW DOOR_1_OPENING DAMAGED
AliasConditionState  SNOW NIGHT DOOR_1_OPENING DAMAGED

ConditionState     DOOR_1_OPENING REALLYDAMAGED RUBBLE
Model            ABWarFact_A8E
Animation        ABWarFact_A8E.ABWarFact_A8E
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            ABWarFact_A8
Animation        ABWarFact_A8.ABWarFact_A8
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING
AliasConditionState  SNOW DOOR_1_CLOSING
AliasConditionState  SNOW NIGHT DOOR_1_CLOSING


ConditionState     DOOR_1_CLOSING DAMAGED
Model            ABWarFact_A8D
Animation        ABWarFact_A8D.ABWarFact_A8D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW DOOR_1_CLOSING DAMAGED
AliasConditionState  SNOW NIGHT DOOR_1_CLOSING DAMAGED

ConditionState     DOOR_1_CLOSING REALLYDAMAGED RUBBLE
Model            ABWarFact_A8E
Animation        ABWarFact_A8E.ABWarFact_A8E
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            ABWarFact_A8
Animation        ABWarFact_A8.ABWarFact_A8
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN
AliasConditionState  SNOW DOOR_1_WAITING_OPEN
AliasConditionState  SNOW NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            ABWarFact_A8D
Animation        ABWarFact_A8D.ABWarFact_A8D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  SNOW NIGHT DOOR_1_WAITING_OPEN DAMAGED

ConditionState     DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
Model            ABWarFact_A8E
Animation        ABWarFact_A8E.ABWarFact_A8E
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
End

; ------------------ the construction crane ------------
Draw  W3DModelDraw ModuleTag_03
; -----------------------------------------------------------
OkToChangeModelColor  Yes
; -----------------------------------------------------------
DefaultConditionState
Model            ABWarFact_A1
Animation        ABWarFact_A1.ABWarFact_A1
AnimationMode    LOOP
TransitionKey    TRANS_Idle
End
ConditionState     DAMAGED
Model            ABWarFact_A1D
Animation        ABWarFact_A1D.ABWarFact_A1D
AnimationMode    LOOP
TransitionKey    TRANS_IdleDamaged
End
ConditionState     REALLYDAMAGED RUBBLE
Model            ABWarFact_A1E
Animation        ABWarFact_A1E.ABWarFact_A1E
AnimationMode    LOOP
TransitionKey    TRANS_IdleReallyDamaged
End

; -----------------------------------------------------------
TransitionState    TRANS_Constructing TRANS_Idle
Model            ABWarFact_A3
Animation        ABWarFact_A3.ABWarFact_A3
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
TransitionState    TRANS_ConstructingDamaged TRANS_IdleDamaged
Model            ABWarFact_A3D
Animation        ABWarFact_A3D.ABWarFact_A3D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
TransitionState    TRANS_ConstructingReallyDamaged TRANS_IdleReallyDamaged
Model            ABWarFact_A3E
Animation        ABWarFact_A3E.ABWarFact_A3E
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
End

; -----------------------------------------------------------
ConditionState     ACTIVELY_CONSTRUCTING
Model            ABWarFact_A3
Animation        ABWarFact_A3.ABWarFact_A3
AnimationMode    ONCE
TransitionKey    TRANS_Constructing
Flags            MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
End
ConditionState     ACTIVELY_CONSTRUCTING DAMAGED
Model            ABWarFact_A3D
Animation        ABWarFact_A3D.ABWarFact_A3D
AnimationMode    ONCE
TransitionKey    TRANS_ConstructingDamaged
Flags            MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
End
ConditionState     ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
Model            ABWarFact_A3E
Animation        ABWarFact_A3E.ABWarFact_A3E
AnimationMode    ONCE
TransitionKey    TRANS_ConstructingReallyDamaged
Flags            MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
End
; -----------------------------------------------------------
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SOLD
Model            ABWarFact_A1
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
ConditionState     SOLD
Model            NONE
End
End

; ------------------ the construction conveyor belt ------------
Draw  W3DModelDraw ModuleTag_04
OkToChangeModelColor  Yes
DefaultConditionState
Model            ABWarFact_A7
Animation        ABWarFact_A7.ABWarFact_A7
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  SNOW
AliasConditionState  NIGHT
AliasConditionState  SNOW NIGHT

ConditionState     SOLD
Model            NONE
End
AliasConditionState  SNOW SOLD
AliasConditionState  NIGHT SOLD
AliasConditionState  SNOW NIGHT SOLD


ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A7
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState     DAMAGED
Model            ABWarFact_A7D
Animation        ABWarFact_A7D.ABWarFact_A7D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  SNOW DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  SNOW NIGHT DAMAGED

ConditionState     REALLYDAMAGED RUBBLE
Model            ABWarFact_A7E
Animation        ABWarFact_A7E.ABWarFact_A7E
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  SNOW REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT REALLYDAMAGED RUBBLE

ConditionState     ACTIVELY_CONSTRUCTING
Model            ABWarFact_A7
Animation        ABWarFact_A7.ABWarFact_A7
AnimationMode    LOOP
End
AliasConditionState  SNOW ACTIVELY_CONSTRUCTING
AliasConditionState  NIGHT ACTIVELY_CONSTRUCTING
AliasConditionState  SNOW NIGHT ACTIVELY_CONSTRUCTING

ConditionState     ACTIVELY_CONSTRUCTING DAMAGED
Model            ABWarFact_A7D
Animation        ABWarFact_A7D.ABWarFact_A7D
AnimationMode    LOOP
End
AliasConditionState  SNOW ACTIVELY_CONSTRUCTING DAMAGED
AliasConditionState  NIGHT ACTIVELY_CONSTRUCTING DAMAGED
AliasConditionState  SNOW NIGHT ACTIVELY_CONSTRUCTING DAMAGED

ConditionState     ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
Model            ABWarFact_A7E
Animation        ABWarFact_A7E.ABWarFact_A7E
AnimationMode    LOOP
End
AliasConditionState  SNOW ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
AliasConditionState  SNOW NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE

End

; ------------ construction done flashing lights ----------
Draw  W3DModelDraw ModuleTag_05
DefaultConditionState
Model            None
End
ConditionState     SOLD
Model            NONE
End
ConditionState     SOLD SNOW
Model           NONE
End
ConditionState     SOLD NIGHT
Model           NONE
End
ConditionState     SOLD NIGHT SNOW
Model           NONE
End
ConditionState     CONSTRUCTION_COMPLETE
Model            ABWarFact_A2
Animation        ABWarFact_A2.ABWarFact_A2
AnimationMode    LOOP
Flags            START_FRAME_FIRST
End
End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_06
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A4
Animation        ABWarFact_A4.ABWarFact_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A4N
Animation        ABWarFact_A4N.ABWarFact_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A4S
Animation        ABWarFact_A4S.ABWarFact_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A4SN
Animation        ABWarFact_A4SN.ABWarFact_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  SmokeS01 SmokeBuildingSmall
ParticleSysBone  SparksS01 LiveWireSparks02
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABWarFact_A4
Animation        ABWarFact_A4.ABWarFact_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABWarFact_A4N
Animation        ABWarFact_A4N.ABWarFact_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABWarFact_A4S
Animation        ABWarFact_A4S.ABWarFact_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABWarFact_A4SN
Animation        ABWarFact_A4SN.ABWarFact_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABWarFact_A4
Animation        ABWarFact_A4.ABWarFact_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABWarFact_A4N
Animation        ABWarFact_A4N.ABWarFact_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABWarFact_A4S
Animation        ABWarFact_A4S.ABWarFact_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABWarFact_A4SN
Animation        ABWarFact_A4SN.ABWarFact_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_07
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABWarFact_A6
Animation        ABWarFact_A6.ABWarFact_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABWarFact_A6N
Animation        ABWarFact_A6N.ABWarFact_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABWarFact_A6S
Animation        ABWarFact_A6S.ABWarFact_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABWarFact_A6SN
Animation        ABWarFact_A6SN.ABWarFact_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABWarFact_A6
Animation        ABWarFact_A6.ABWarFact_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABWarFact_A6N
Animation        ABWarFact_A6N.ABWarFact_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABWarFact_A6S
Animation        ABWarFact_A6S.ABWarFact_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABWarFact_A6SN
Animation        ABWarFact_A6SN.ABWarFact_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABWarFact_A6
Animation        ABWarFact_A6.ABWarFact_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABWarFact_A6N
Animation        ABWarFact_A6N.ABWarFact_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABWarFact_A6S
Animation        ABWarFact_A6S.ABWarFact_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABWarFact_A6SN
Animation        ABWarFact_A6SN.ABWarFact_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ being-constructed crane -----------------
Draw  W3DModelDraw ModuleTag_08
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SOLD
Model            NONE
End

ConditionState   ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A5
Animation        ABWarFact_A5.ABWarFact_A5
AnimationMode    LOOP
TransitionKey   UP_DAY
End

ConditionState   NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A5N
Animation        ABWarFact_A5N.ABWarFact_A5N
AnimationMode    LOOP
TransitionKey   UP_NIGHT
End
ConditionState   SNOW ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A5S
Animation        ABWarFact_A5S.ABWarFact_A5S
AnimationMode    LOOP
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
Model            ABWarFact_A5SN
Animation        ABWarFact_A5SN.ABWarFact_A5SN
AnimationMode    LOOP
TransitionKey   UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABWarFact_AB
Animation        ABWarFact_AB.ABWarFact_AB
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABWarFact_ABN
Animation        ABWarFact_ABN.ABWarFact_ABN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABWarFact_ABS
Animation        ABWarFact_ABS.ABWarFact_ABS
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABWarFact_ABSN
Animation        ABWarFact_ABSN.ABWarFact_ABSN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model             ABWarFact_AB
Animation        ABWarFact_AB.ABWarFact_AB
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model             ABWarFact_ABN
Animation        ABWarFact_ABN.ABWarFact_ABN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model             ABWarFact_ABS
Animation        ABWarFact_ABS.ABWarFact_ABS
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model             ABWarFact_ABSN
Animation        ABWarFact_ABSN.ABWarFact_ABSN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
DisplayName       OBJECT:WarFactory
Side              America
EditorSorting     STRUCTURE
Prerequisites
Object  AmericaSupplyCenter
End
BuildCost         2000
BuildTime         15.0           ; in seconds

EnergyProduction  -15
CommandSet        AmericaWarFactoryCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  WarFactoryUSASelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY POWERED
Body             StructureBody ModuleTag_09
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  2200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  ProductionUpdate ModuleTag_10
NumDoorAnimations             1
DoorOpeningTime               3250  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 4000  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds

QuantityModifier  AmericaVehicleTerrorDrone  2
QuantityModifier  AmericaVehicleTermiteDrone 2
End

Behavior  QueueProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: -10.0  Y:-30.0   Z:0.0
NaturalRallyPoint  X: 53.0  Y:-30.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
ExitDelay  200
End

Behavior  RepairDockUpdate ModuleTag_12
TimeForFullHeal    8000   ;(in milliseconds)
NumberApproachPositions  5
End

Behavior  BaseRegenerateUpdate ModuleTag_13
;No data
End

Behavior  CommandSetUpgrade ModuleTag_VehicleToDroneProduction02
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
CommandSet       AmericaWarFactoryCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  CommandSetUpgrade ModuleTag_VehicleToDroneProduction01
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
CommandSet       AmericaWarFactoryDronesCommandSet
RemovesUpgrades  Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  CreateObjectDie ModuleTag_RangerSpawn01
ExemptStatus  UNDER_CONSTRUCTION
CreationList  OCL_AmericanRangerDebris03
End

Behavior  FlammableUpdate ModuleTag_18
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  53.0
GeometryMinorRadius  60.0
GeometryHeight       40.0
GeometryIsSmall      No
FactoryExitWidth     25     ; How much space to leave for units exiting.
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaProtectorBattery

; *** ART Parameters ***
SelectPortrait          SAPatriot_L
ButtonImage             SAPatriot
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

; Idle State
DefaultConditionState
Model             ABProtector
Animation         ABProtector.ABProtector
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES
HideSubObject     LIGHTS
AltTurret         TURRET
WeaponLaunchBone  PRIMARY   WeaponA
WeaponFireFXBone  PRIMARY   WeaponA
WeaponLaunchBone  SECONDARY WeaponA
WeaponFireFXBone  SECONDARY WeaponA
WeaponLaunchBone  TERTIARY  WeaponA
WeaponFireFXBone  TERTIARY  WeaponA
End
AliasConditionState  NIGHT

; Attacking State
ConditionState      ATTACKING
Model             ABProtector
Animation         ABProtector.ABProtector
AnimationMode     ONCE
ShowSubObject     LIGHTS
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  NIGHT ATTACKING

; Damaged Idle State
ConditionState      DAMAGED
Model             ABProtector_D
Animation         ABProtector_D.ABProtector_D
End
AliasConditionState  NIGHT DAMAGED

; Damaged Attacking State
ConditionState      DAMAGED ATTACKING
Model             ABProtector_D
Animation         ABProtector_D.ABProtector_D
AnimationMode     ONCE
ShowSubObject     LIGHTS
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  NIGHT DAMAGED ATTACKING

; Really Damaged Idle State
ConditionState      REALLYDAMAGED
Model             ABProtector_E
Animation         ABProtector_E.ABProtector_E
End
AliasConditionState  NIGHT REALLYDAMAGED

; Really Damaged Attacking State
ConditionState      REALLYDAMAGED ATTACKING
Model             ABProtector_E
Animation         ABProtector_E.ABProtector_E
AnimationMode     ONCE
ShowSubObject     LIGHTS
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  NIGHT REALLYDAMAGED ATTACKING

; Snow Idle State
ConditionState      SNOW
Model             ABProtector_S
Animation         ABProtector_S.ABProtector_S
End
AliasConditionState  SNOW NIGHT

; Snow Attacking State
ConditionState      SNOW ATTACKING
Model             ABProtector_S
Animation         ABProtector_S.ABProtector_S
AnimationMode     ONCE
ShowSubObject     LIGHTS
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  NIGHT SNOW ATTACKING

; Snow Damaged Idle State
ConditionState      SNOW DAMAGED
Model             ABProtector_SD
Animation         ABProtector_SD.ABProtector_SD
End
AliasConditionState  NIGHT SNOW DAMAGED

; Snow Damaged Attacking State
ConditionState      SNOW DAMAGED ATTACKING
Model             ABProtector_SD
Animation         ABProtector_SD.ABProtector_SD
AnimationMode     ONCE
ShowSubObject     LIGHTS
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  NIGHT SNOW DAMAGED ATTACKING

; Snow Really Damaged Idle State
ConditionState      SNOW REALLYDAMAGED
Model             ABProtector_SE
Animation         ABProtector_SE.ABProtector_SE
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED

; Snow Really Damaged Attacking State
ConditionState      SNOW REALLYDAMAGED ATTACKING
Model             ABProtector_SE
Animation         ABProtector_SE.ABProtector_SE
AnimationMode     ONCE
ShowSubObject     LIGHTS
AnimationSpeedFactorRange  3.0 3.0
End
AliasConditionState  NIGHT SNOW REALLYDAMAGED ATTACKING

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABProtector
Animation           ABProtector.ABProtector
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT


ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABProtector_S
Animation           ABProtector_S.ABProtector_S
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABProtector_D
Animation           ABProtector_D.ABProtector_D
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model               ABProtector_SD
Animation           ABProtector_SD.ABProtector_SD
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABProtector_E
Animation           ABProtector_E.ABProtector_E
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model               ABProtector_SE
Animation           ABProtector_SE.ABProtector_SE
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
OkToChangeModelColor  Yes
AnimationsRequirePower  No ; Do not pause the construction anims when low power disabled
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABProtector_A4
Animation        ABProtector_A4.ABProtector_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABProtector_A4
Animation        ABProtector_A4.ABProtector_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABProtector_A4S
Animation        ABProtector_A4S.ABProtector_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABProtector_A4S
Animation        ABProtector_A4S.ABProtector_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABProtector_A4
Animation        ABProtector_A4.ABProtector_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABProtector_A4
Animation        ABProtector_A4.ABProtector_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABProtector_A4S
Animation        ABProtector_A4S.ABProtector_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABProtector_A4S
Animation        ABProtector_A4S.ABProtector_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABProtector_A4
Animation        ABProtector_A4.ABProtector_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABProtector_A4
Animation        ABProtector_A4.ABProtector_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABProtector_A4S
Animation        ABProtector_A4S.ABProtector_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABProtector_A4S
Animation        ABProtector_A4S.ABProtector_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
OkToChangeModelColor  Yes
AnimationsRequirePower  No ; Do not pause the construction anims when low power disabled
MinLODRequired  MEDIUM
DefaultConditionState
Model            NVDeva_U2
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABProtector_A6
Animation        ABProtector_A6.ABProtector_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABProtector_A6
Animation        ABProtector_A6.ABProtector_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABProtector_A6S
Animation        ABProtector_A6S.ABProtector_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABProtector_A6S
Animation        ABProtector_A6S.ABProtector_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABProtector_A6
Animation        ABProtector_A6.ABProtector_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABProtector_A6
Animation        ABProtector_A6.ABProtector_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABProtector_A6S
Animation        ABProtector_A6S.ABProtector_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABProtector_A6S
Animation        ABProtector_A6S.ABProtector_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABProtector_A6
Animation        ABProtector_A6.ABProtector_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABProtector_A6
Animation        ABProtector_A6.ABProtector_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABProtector_A6S
Animation        ABProtector_A6S.ABProtector_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABProtector_A6S
Animation        ABProtector_A6S.ABProtector_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_AssistedAttack01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NONE
End
AliasConditionState  NIGHT
AliasConditionState  ATTACKING
AliasConditionState  NIGHT ATTACKING
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  DAMAGED ATTACKING
AliasConditionState  NIGHT DAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW DAMAGED ATTACKING
AliasConditionState  SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED ATTACKING
AliasConditionState  SNOW NIGHT REALLYDAMAGED ATTACKING

ConditionState       USING_WEAPON_B
Model              ABProtector_B
Animation          ABProtector_B.ABProtector_B
AnimationMode      LOOP
Flags              RANDOMSTART
End
AliasConditionState  USING_WEAPON_B NIGHT
AliasConditionState  USING_WEAPON_B ATTACKING
AliasConditionState  USING_WEAPON_B NIGHT ATTACKING
AliasConditionState  USING_WEAPON_B DAMAGED
AliasConditionState  USING_WEAPON_B NIGHT DAMAGED
AliasConditionState  USING_WEAPON_B DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B NIGHT DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B REALLYDAMAGED
AliasConditionState  USING_WEAPON_B NIGHT REALLYDAMAGED
AliasConditionState  USING_WEAPON_B REALLYDAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW
AliasConditionState  USING_WEAPON_B SNOW NIGHT
AliasConditionState  USING_WEAPON_B SNOW ATTACKING
AliasConditionState  USING_WEAPON_B SNOW NIGHT ATTACKING
AliasConditionState  USING_WEAPON_B SNOW DAMAGED
AliasConditionState  USING_WEAPON_B SNOW DAMAGED NIGHT
AliasConditionState  USING_WEAPON_B SNOW DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW REALLYDAMAGED
AliasConditionState  USING_WEAPON_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  USING_WEAPON_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B
AliasConditionState  PREATTACK_B NIGHT
AliasConditionState  PREATTACK_B ATTACKING
AliasConditionState  PREATTACK_B NIGHT ATTACKING
AliasConditionState  PREATTACK_B DAMAGED
AliasConditionState  PREATTACK_B NIGHT DAMAGED
AliasConditionState  PREATTACK_B DAMAGED ATTACKING
AliasConditionState  PREATTACK_B NIGHT DAMAGED ATTACKING
AliasConditionState  PREATTACK_B REALLYDAMAGED
AliasConditionState  PREATTACK_B NIGHT REALLYDAMAGED
AliasConditionState  PREATTACK_B REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW
AliasConditionState  PREATTACK_B SNOW NIGHT
AliasConditionState  PREATTACK_B SNOW ATTACKING
AliasConditionState  PREATTACK_B SNOW NIGHT ATTACKING
AliasConditionState  PREATTACK_B SNOW DAMAGED
AliasConditionState  PREATTACK_B SNOW DAMAGED NIGHT
AliasConditionState  PREATTACK_B SNOW DAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW REALLYDAMAGED
AliasConditionState  PREATTACK_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  PREATTACK_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B
AliasConditionState  FIRING_B NIGHT
AliasConditionState  FIRING_B ATTACKING
AliasConditionState  FIRING_B NIGHT ATTACKING
AliasConditionState  FIRING_B DAMAGED
AliasConditionState  FIRING_B NIGHT DAMAGED
AliasConditionState  FIRING_B DAMAGED ATTACKING
AliasConditionState  FIRING_B NIGHT DAMAGED ATTACKING
AliasConditionState  FIRING_B REALLYDAMAGED
AliasConditionState  FIRING_B NIGHT REALLYDAMAGED
AliasConditionState  FIRING_B REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW
AliasConditionState  FIRING_B SNOW NIGHT
AliasConditionState  FIRING_B SNOW ATTACKING
AliasConditionState  FIRING_B SNOW NIGHT ATTACKING
AliasConditionState  FIRING_B SNOW DAMAGED
AliasConditionState  FIRING_B SNOW DAMAGED NIGHT
AliasConditionState  FIRING_B SNOW DAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW REALLYDAMAGED
AliasConditionState  FIRING_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  FIRING_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B DAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW DAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW DAMAGED NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_B NIGHT
AliasConditionState  RELOADING_B ATTACKING
AliasConditionState  RELOADING_B NIGHT ATTACKING
AliasConditionState  RELOADING_B DAMAGED
AliasConditionState  RELOADING_B NIGHT DAMAGED
AliasConditionState  RELOADING_B DAMAGED ATTACKING
AliasConditionState  RELOADING_B NIGHT DAMAGED ATTACKING
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  RELOADING_B NIGHT REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW
AliasConditionState  RELOADING_B SNOW NIGHT
AliasConditionState  RELOADING_B SNOW ATTACKING
AliasConditionState  RELOADING_B SNOW NIGHT ATTACKING
AliasConditionState  RELOADING_B SNOW DAMAGED
AliasConditionState  RELOADING_B SNOW DAMAGED NIGHT
AliasConditionState  RELOADING_B SNOW DAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW REALLYDAMAGED
AliasConditionState  RELOADING_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  RELOADING_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW NIGHT REALLYDAMAGED ATTACKING

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName        OBJECT:PatriotBattery
Side               America
EditorSorting      STRUCTURE

Prerequisites
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

BuildCost         1000
BuildTime         25.0           ; in seconds
EnergyProduction  -3

WeaponSet

Conditions           None
Weapon               PRIMARY     ProtectorMissileWeapon
PreferredAgainst     PRIMARY     VEHICLE INFANTRY
AutoChooseSources    PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT

Weapon               SECONDARY   ProtectorMissileAssistWeapon
PreferredAgainst     SECONDARY   BALLISTIC_MISSILE AIRCRAFT
AutoChooseSources    SECONDARY   NONE

Weapon               TERTIARY    ProtectorMissileWeaponAir
PreferredAgainst     TERTIARY    BALLISTIC_MISSILE AIRCRAFT
AutoChooseSources    TERTIARY    FROM_PLAYER FROM_AI FROM_SCRIPT

ShareWeaponReloadTime  Yes
End
VisionRange     400.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  400.0
ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         AmericaPatriotBatteryCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  PatriotBatterySelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE CAN_SEE_THROUGH_STRUCTURE
Body             StructureBody ModuleTag_04
MaxHealth      1200.0
InitialHealth  1200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1400
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  BaseRegenerateUpdate ModuleTag_05
End

Behavior  AIUpdateInterface ModuleTag_06

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End

AltTurret
TurretTurnRate         180
ControlledWeaponSlots  SECONDARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
TurretsLinked               Yes

AutoAcquireEnemiesWhenIdle  Yes Stealthed;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior  AssistedTargetingUpdate ModuleTag_07
AssistingClipSize  4                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
AssistingWeaponSlot  SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
LaserFromAssisted  PatriotBinaryDataStream ; Stream to draw from the requestor to me
LaserToTarget      PatriotBinaryDataStream ; Stream to draw from me to the target
End

Behavior  DestroyDie ModuleTag_08
End

;  Behavior              CreateObjectDie ModuleTag_09
;    CreationList   OCL_AmericanRangerDebris03
;    ExemptStatus   UNDER_CONSTRUCTION
;  End

Behavior              FXListDie ModuleTag_10
DeathFX        FX_StructureTinyDeath
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ProductionUpdate ModuleTag_ShowRelayRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowRelayRange02
UpgradeObject  OCL_ProtectorMissileSystemRelayRangeIndicator
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             CYLINDER
GeometryMajorRadius  17.0
GeometryMinorRadius  1.0
GeometryHeight       17.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaPhanlanxBattery

; *** ART Parameters ***
SelectPortrait           SAPhanlanx
ButtonImage              SAPhanlanx

Draw   W3DModelDraw ModuleTag_01

OkToChangeModelColor   Yes

DefaultConditionState
Model               ABPhanlanx
Animation           ABPhanlanx.ABPhanlanx
AnimationMode       MANUAL

Turret              TURRET
TurretPitch         TURRETEL

HideSubObject       Belt_Anim
ShowSubObject       Belt_Idle

WeaponLaunchBone    PRIMARY MuzzleFX
WeaponMuzzleFlash   PRIMARY MuzzleFX
WeaponFireFXBone    PRIMARY MuzzleFX
End
AliasConditionState   NIGHT

ConditionState        DAMAGED
Model               ABPhanlanx_D
End
AliasConditionState   DAMAGED NIGHT

ConditionState        REALLYDAMAGED RUBBLE
Model               ABPhanlanx_E
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT


ConditionState        SNOW
Model               ABPhanlanx_S
End
AliasConditionState   SNOW NIGHT

ConditionState        DAMAGED SNOW
Model               ABPhanlanx_SD
End
AliasConditionState   SNOW NIGHT DAMAGED

ConditionState        REALLYDAMAGED RUBBLE SNOW
Model               ABPhanlanx_SE
End
AliasConditionState   SNOW NIGHT REALLYDAMAGED RUBBLE


;;;;Attacking States
ConditionState        ATTACKING
Model               ABPhanlanx
Animation           ABPhanlanx.ABPhanlanx
AnimationMode       LOOP
HideSubObject       Belt_Idle
ShowSubObject       Belt_Anim
End
AliasConditionState   ATTACKING NIGHT

ConditionState        ATTACKING DAMAGED
Model               ABPhanlanx_D
Animation           ABPhanlanx_D.ABPhanlanx_D
AnimationMode       LOOP
HideSubObject       Belt_Idle
ShowSubObject       Belt_Anim
End
AliasConditionState   ATTACKING DAMAGED NIGHT

ConditionState        ATTACKING REALLYDAMAGED RUBBLE
Model               ABPhanlanx_E
Animation           ABPhanlanx_E.ABPhanlanx_E
AnimationMode       LOOP
HideSubObject       Belt_Idle
ShowSubObject       Belt_Anim
End
AliasConditionState   ATTACKING REALLYDAMAGED RUBBLE NIGHT


ConditionState        ATTACKING SNOW
Model               ABPhanlanx_S
Animation           ABPhanlanx.ABPhanlanx
AnimationMode       LOOP
HideSubObject       Belt_Idle
ShowSubObject       Belt_Anim
End
AliasConditionState   ATTACKING SNOW NIGHT

ConditionState        ATTACKING DAMAGED SNOW
Model               ABPhanlanx_SD
Animation           ABPhanlanx_SD.ABPhanlanx_SD
AnimationMode       LOOP
HideSubObject       Belt_Idle
ShowSubObject       Belt_Anim
End
AliasConditionState   ATTACKING SNOW NIGHT DAMAGED

ConditionState        ATTACKING REALLYDAMAGED RUBBLE SNOW
Model               ABPhanlanx_SE
Animation           ABPhanlanx_SE.ABPhanlanx_SE
AnimationMode       LOOP
HideSubObject       Belt_Idle
ShowSubObject       Belt_Anim
End
AliasConditionState   ATTACKING SNOW NIGHT REALLYDAMAGED RUBBLE

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState         AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model                ABPhanlanx
Flags                ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT


ConditionState         AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model                ABPhanlanx_S
Flags                ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState         AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model                ABPhanlanx_D
Flags                ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT



ConditionState         AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model                ABPhanlanx_SD
Flags                ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW



ConditionState         AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model                ABPhanlanx_E
Flags                ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

ConditionState         AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model                ABPhanlanx_SE
Flags                ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState    AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW



ConditionState         AWAITING_CONSTRUCTION
Model                NONE
End
AliasConditionState    AWAITING_CONSTRUCTION DAMAGED
AliasConditionState    AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState    AWAITING_CONSTRUCTION NIGHT
AliasConditionState    AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState    AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState    AWAITING_CONSTRUCTION SNOW
AliasConditionState    AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState    AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState    AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState    AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState    AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState    SOLD DAMAGED
AliasConditionState    SOLD REALLYDAMAGED
AliasConditionState    SOLD NIGHT
AliasConditionState    SOLD NIGHT DAMAGED
AliasConditionState    SOLD NIGHT REALLYDAMAGED
AliasConditionState    SOLD SNOW
AliasConditionState    SOLD SNOW DAMAGED
AliasConditionState    SOLD SNOW REALLYDAMAGED
AliasConditionState    SOLD NIGHT SNOW
AliasConditionState    SOLD NIGHT SNOW DAMAGED
AliasConditionState    SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************



End

; ------------ construction-zone fence -----------------
Draw   W3DModelDraw ModuleTag_02
AnimationsRequirePower   No ; Do not pause the construction anims when low power disabled
DefaultConditionState
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      NIGHT
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      SNOW
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      SNOW NIGHT
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             ABPatriot_A4
Animation         ABPatriot_A4.ABPatriot_A4
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_DAY
End
ConditionState      NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             ABPatriot_A4N
Animation         ABPatriot_A4N.ABPatriot_A4N
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_NIGHT
End
ConditionState      SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             ABPatriot_A4S
Animation         ABPatriot_A4S.ABPatriot_A4S
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_SNOW
End
ConditionState      SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             ABPatriot_A4SN
Animation         ABPatriot_A4SN.ABPatriot_A4SN
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_SNOWNIGHT
End
TransitionState     DOWN_DEFAULT UP_DAY
Model             ABPatriot_A4
Animation         ABPatriot_A4.ABPatriot_A4
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_NIGHT
Model             ABPatriot_A4N
Animation         ABPatriot_A4N.ABPatriot_A4N
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_SNOW
Model             ABPatriot_A4S
Animation         ABPatriot_A4S.ABPatriot_A4S
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_SNOWNIGHT
Model             ABPatriot_A4SN
Animation         ABPatriot_A4SN.ABPatriot_A4SN
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     UP_DAY DOWN_DEFAULT
Model             ABPatriot_A4
Animation         ABPatriot_A4.ABPatriot_A4
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_NIGHT DOWN_DEFAULT
Model             ABPatriot_A4N
Animation         ABPatriot_A4N.ABPatriot_A4N
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_SNOW DOWN_DEFAULT
Model             ABPatriot_A4S
Animation         ABPatriot_A4S.ABPatriot_A4S
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_SNOWNIGHT DOWN_DEFAULT
Model             ABPatriot_A4SN
Animation         ABPatriot_A4SN.ABPatriot_A4SN
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw   W3DModelDraw ModuleTag_03
AnimationsRequirePower   No ; Do not pause the construction anims when low power disabled
MinLODRequired   MEDIUM
DefaultConditionState
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      NIGHT
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      SNOW
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      SNOW NIGHT
Model             None
TransitionKey     DOWN_DEFAULT
End
ConditionState      PARTIALLY_CONSTRUCTED
Model             ABPatriot_A6
Animation         ABPatriot_A6.ABPatriot_A6
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_DAY
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
ConditionState      NIGHT PARTIALLY_CONSTRUCTED
Model             ABPatriot_A6N
Animation         ABPatriot_A6N.ABPatriot_A6N
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_NIGHT
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
ConditionState      SNOW PARTIALLY_CONSTRUCTED
Model             ABPatriot_A6S
Animation         ABPatriot_A6S.ABPatriot_A6S
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_SNOW
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
ConditionState      SNOW NIGHT PARTIALLY_CONSTRUCTED
Model             ABPatriot_A6SN
Animation         ABPatriot_A6SN.ABPatriot_A6SN
AnimationMode     MANUAL
Flags             START_FRAME_LAST
TransitionKey     UP_SNOWNIGHT
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
TransitionState     DOWN_DEFAULT UP_DAY
Model             ABPatriot_A6
Animation         ABPatriot_A6.ABPatriot_A6
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_NIGHT
Model             ABPatriot_A6N
Animation         ABPatriot_A6N.ABPatriot_A6N
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_SNOW
Model             ABPatriot_A6S
Animation         ABPatriot_A6S.ABPatriot_A6S
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     DOWN_DEFAULT UP_SNOWNIGHT
Model             ABPatriot_A6SN
Animation         ABPatriot_A6SN.ABPatriot_A6SN
AnimationMode     ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags             START_FRAME_FIRST
End
TransitionState     UP_DAY DOWN_DEFAULT
Model             ABPatriot_A6
Animation         ABPatriot_A6.ABPatriot_A6
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_NIGHT DOWN_DEFAULT
Model             ABPatriot_A6N
Animation         ABPatriot_A6N.ABPatriot_A6N
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_SNOW DOWN_DEFAULT
Model             ABPatriot_A6S
Animation         ABPatriot_A6S.ABPatriot_A6S
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
TransitionState     UP_SNOWNIGHT DOWN_DEFAULT
Model             ABPatriot_A6SN
Animation         ABPatriot_A6SN.ABPatriot_A6SN
AnimationMode     ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0   ; play teardown animations more quickly
Flags             START_FRAME_LAST
End
End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName       OBJECT:Phanlanx
Side              America
EditorSorting     STRUCTURE
Prerequisites
Object AmericaPowerPlant
End
BuildCost        1000
BuildTime        20.0           ; in seconds
EnergyProduction -2

WeaponSet
Conditions            None
Weapon                PRIMARY     PhanlanxWeaponAir
End

VisionRange      350.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange   375
ArmorSet
Conditions        None
Armor             BaseDefenseArmor
DamageFX          StructureDamageFXNoShake
End
CommandSet          AmericaPhanlanxBatteryCommandSet
ExperienceValue       200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect   PhanlanxSelect
SoundOnDamaged          BuildingDamagedStateLight
SoundOnReallyDamaged    BuildingDestroy

UnitSpecificSounds
UnderConstruction       UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode   SomeNameSomewhereInLookupINIs
TurretMoveStart   NoSound
TurretMoveLoop   NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority     STRUCTURE
KindOf            PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
Body              StructureBody ModuleTag_04
MaxHealth       1000.0
InitialHealth   1000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap   1200
SubdualDamageHealRate   500
SubdualDamageHealAmount   100
End

Behavior   BaseRegenerateUpdate ModuleTag_05
;No data
End

Behavior   AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate          180   // turn rate, in degrees per sec
TurretPitchRate         180
AllowsPitch             Yes
NaturalTurretPitch      12
MinPhysicalPitch        -20
ControlledWeaponSlots   PRIMARY SECONDARY TERTIARY
MinIdleScanInterval     250    ; in milliseconds
MaxIdleScanInterval     250    ; in milliseconds
MinIdleScanAngle        0       ; in degrees off the natural turret angle
MaxIdleScanAngle        360     ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle   Yes ;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate          250
End

Behavior   DestroyDie ModuleTag_08
;nothing
End

Behavior               CreateObjectDie ModuleTag_09
CreationList    OCL_AmericanRangerDebris03
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior               FXListDie ModuleTag_10
DeathFX         FX_StructureTinyDeath
End

Behavior   FlammableUpdate ModuleTag_12
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   5       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

Behavior   TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1         Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1   Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2   Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3   Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry              CYLINDER
GeometryMajorRadius   18.0
GeometryHeight        25.0
GeometryIsSmall       No
Shadow            SHADOW_VOLUME
BuildCompletion   PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
; 
;------------------------------------------------------------------------------
Object AmericaPatriotBattery
; *** ART Parameters ***
SelectPortrait   SAMPatriot
ButtonImage   SAMPatriot

Draw   W3DModelDraw ModuleTag_661
ProjectileBoneFeedbackEnabledSlots   PRIMARY SECONDARY TERTIARY
OkToChangeModelColor   Yes
DefaultConditionState
Model   ABPatriot2
Animation   ABPatriot2.ABPatriot2
AnimationMode   Manual
Turret   TURRET
TurretPitch   TURRETEL
WeaponLaunchBone   PRIMARY WeaponA
WeaponLaunchBone   SECONDARY WeaponA
WeaponLaunchBone   TERTIARY WeaponA
WeaponFireFXBone   PRIMARY WeaponA
WeaponFireFXBone   SECONDARY WeaponA
WeaponFireFXBone   TERTIARY WeaponA
TransitionKey   TRANS_IDLE
End
AliasConditionState   NIGHT
ConditionState   DAMAGED
Model   ABPatriot2_D
TransitionKey   TRANS_IDLE_D
End
AliasConditionState   DAMAGED NIGHT
ConditionState   REALLYDAMAGED RUBBLE
Model   ABPatriot2_E
TransitionKey   TRANS_IDLE_E
End
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT
ConditionState   SNOW
Model   ABPatriot2_S
TransitionKey   TRANS_IDLE_S
End
AliasConditionState   SNOW NIGHT
ConditionState   DAMAGED SNOW
Model   ABPatriot2_DS
TransitionKey   TRANS_IDLE_DS
End
AliasConditionState   SNOW NIGHT DAMAGED
ConditionState   REALLYDAMAGED RUBBLE SNOW
Model   ABPatriot2_ES
TransitionKey   TRANS_IDLE_ES
End
AliasConditionState   SNOW NIGHT REALLYDAMAGED RUBBLE
;------------------
;** Attacking **
;------------------
ConditionState   ATTACKING
Flags   START_FRAME_LAST
TransitionKey   TRANS_ATTACK
End
AliasConditionState   NIGHT ATTACKING
ConditionState   DAMAGED ATTACKING
Model   ABPatriot2_D
Flags   START_FRAME_LAST
TransitionKey   TRANS_ATTACK_D
End
AliasConditionState   DAMAGED NIGHT ATTACKING
ConditionState   REALLYDAMAGED ATTACKING
Model   ABPatriot2_E
Flags   START_FRAME_LAST
TransitionKey   TRANS_ATTACK_E
End
AliasConditionState   REALLYDAMAGED NIGHT ATTACKING

ConditionState   SNOW ATTACKING
Model   ABPatriot2_S
Flags   START_FRAME_LAST
TransitionKey   TRANS_ATTACK_S
End
AliasConditionState   SNOW NIGHT ATTACKING
ConditionState   SNOW DAMAGED ATTACKING
Model   ABPatriot2_DS
Flags   START_FRAME_LAST
TransitionKey   TRANS_ATTACK_DS
End
AliasConditionState   SNOW DAMAGED NIGHT ATTACKING
ConditionState   SNOW REALLYDAMAGED ATTACKING
Model   ABPatriot2_ES
Flags   START_FRAME_LAST
TransitionKey   TRANS_ATTACK_ES
End
AliasConditionState   SNOW REALLYDAMAGED NIGHT ATTACKING
;------------------
;** OPEN **
;------------------
TransitionState   TRANS_IDLE TRANS_ATTACK
AnimationMode   ONCE
End
TransitionState   TRANS_IDLE_D TRANS_ATTACK_D
Model   ABPatriot2_D
AnimationMode   ONCE
End
TransitionState   TRANS_IDLE_E TRANS_ATTACK_E
Model   ABPatriot2_E
AnimationMode   ONCE
End

TransitionState   TRANS_IDLE_S TRANS_ATTACK_S
Model   ABPatriot2_S
AnimationMode   ONCE
End
TransitionState   TRANS_IDLE_DS TRANS_ATTACK_DS
Model   ABPatriot2_DS
AnimationMode   ONCE
End
TransitionState   TRANS_IDLE_ES TRANS_ATTACK_ES
Model   ABPatriot2_ES
AnimationMode   ONCE
End

;------------------
;** CLOSE **
;------------------

TransitionState   TRANS_ATTACK TRANS_IDLE
AnimationMode   ONCE_BACKWARDS
Flags   START_FRAME_LAST
End
TransitionState   TRANS_ATTACK_D TRANS_IDLE_D
Model   ABPatriot2_D
AnimationMode   ONCE_BACKWARDS
Flags   START_FRAME_LAST
End
TransitionState   TRANS_ATTACK_E TRANS_IDLE_E
Model   ABPatriot2_E
AnimationMode   ONCE_BACKWARDS
Flags   START_FRAME_LAST
End

TransitionState   TRANS_ATTACK_S TRANS_IDLE_S
Model   ABPatriot2_S
AnimationMode   ONCE_BACKWARDS
Flags   START_FRAME_LAST
End
TransitionState   TRANS_ATTACK_DS TRANS_IDLE_DS
Model   ABPatriot2_DS
AnimationMode   ONCE_BACKWARDS
Flags   START_FRAME_LAST
End
TransitionState   TRANS_ATTACK_ES TRANS_IDLE_ES
Model   ABPatriot2_ES
AnimationMode   ONCE_BACKWARDS
Flags   START_FRAME_LAST
End

; **************************************************************************************************************************
; This block handles every possible case with construction process, selling process, awaiting construction, and sold states
; for this draw module
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model   ABPatriot2
Flags   ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model   ABPatriot2_S
Flags   ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model   ABPatriot2_D
Flags   ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model   ABPatriot2_DS
Flags   ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model   ABPatriot2_E
Flags   ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model   ABPatriot2_ES
Flags   ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
ConditionState   AWAITING_CONSTRUCTION
Model   NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
; **************************************************************************************************************************
End
; ------------ construction-zone fence -----------------
Draw   W3DModelDraw ModuleTag_662
AnimationsRequirePower   No     ; Do not pause the construction anims when low power disabled
DefaultConditionState
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   NIGHT
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   SNOW
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   SNOW NIGHT
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model   ABPatriot_A4
Animation   ABPatriot_A4.ABPatriot_A4
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_DAY
End
ConditionState   NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model   ABPatriot_A4N
Animation   ABPatriot_A4N.ABPatriot_A4N
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_NIGHT
End
ConditionState   SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model   ABPatriot_A4S
Animation   ABPatriot_A4S.ABPatriot_A4S
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_SNOW
End
ConditionState   SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model   ABPatriot_A4SN
Animation   ABPatriot_A4SN.ABPatriot_A4SN
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_SNOWNIGHT
End
TransitionState   DOWN_DEFAULT UP_DAY
Model   ABPatriot_A4
Animation   ABPatriot_A4.ABPatriot_A4
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   DOWN_DEFAULT UP_NIGHT
Model   ABPatriot_A4N
Animation   ABPatriot_A4N.ABPatriot_A4N
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   DOWN_DEFAULT UP_SNOW
Model   ABPatriot_A4S
Animation   ABPatriot_A4S.ABPatriot_A4S
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   DOWN_DEFAULT UP_SNOWNIGHT
Model   ABPatriot_A4SN
Animation   ABPatriot_A4SN.ABPatriot_A4SN
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   UP_DAY DOWN_DEFAULT
Model   ABPatriot_A4
Animation   ABPatriot_A4.ABPatriot_A4
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
TransitionState   UP_NIGHT DOWN_DEFAULT
Model   ABPatriot_A4N
Animation   ABPatriot_A4N.ABPatriot_A4N
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
TransitionState   UP_SNOW DOWN_DEFAULT
Model   ABPatriot_A4S
Animation   ABPatriot_A4S.ABPatriot_A4S
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
TransitionState   UP_SNOWNIGHT DOWN_DEFAULT
Model   ABPatriot_A4SN
Animation   ABPatriot_A4SN.ABPatriot_A4SN
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
End
; ------------ under-construction scaffolding -----------------
Draw   W3DModelDraw ModuleTag_663
AnimationsRequirePower   No     ; Do not pause the construction anims when low power disabled
MinLODRequired   MEDIUM
DefaultConditionState
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   NIGHT
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   SNOW
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   SNOW NIGHT
Model   None
TransitionKey   DOWN_DEFAULT
End
ConditionState   PARTIALLY_CONSTRUCTED
Model   ABPatriot_A6
Animation   ABPatriot_A6.ABPatriot_A6
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_DAY
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
ConditionState   NIGHT PARTIALLY_CONSTRUCTED
Model   ABPatriot_A6N
Animation   ABPatriot_A6N.ABPatriot_A6N
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_NIGHT
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
ConditionState   SNOW PARTIALLY_CONSTRUCTED
Model   ABPatriot_A6S
Animation   ABPatriot_A6S.ABPatriot_A6S
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_SNOW
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
ConditionState   SNOW NIGHT PARTIALLY_CONSTRUCTED
Model   ABPatriot_A6SN
Animation   ABPatriot_A6SN.ABPatriot_A6SN
AnimationMode   MANUAL
Flags   START_FRAME_LAST
TransitionKey   UP_SNOWNIGHT
ParticleSysBone   Sparks01 BuildUpBlueSpark
ParticleSysBone   Sparks02 BuildUpBlueSpark
End
TransitionState   DOWN_DEFAULT UP_DAY
Model   ABPatriot_A6
Animation   ABPatriot_A6.ABPatriot_A6
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   DOWN_DEFAULT UP_NIGHT
Model   ABPatriot_A6N
Animation   ABPatriot_A6N.ABPatriot_A6N
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   DOWN_DEFAULT UP_SNOW
Model   ABPatriot_A6S
Animation   ABPatriot_A6S.ABPatriot_A6S
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   DOWN_DEFAULT UP_SNOWNIGHT
Model   ABPatriot_A6SN
Animation   ABPatriot_A6SN.ABPatriot_A6SN
AnimationMode   ONCE
AnimationSpeedFactorRange   1.0 1.0
Flags   START_FRAME_FIRST
End
TransitionState   UP_DAY DOWN_DEFAULT
Model   ABPatriot_A6
Animation   ABPatriot_A6.ABPatriot_A6
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
TransitionState   UP_NIGHT DOWN_DEFAULT
Model   ABPatriot_A6N
Animation   ABPatriot_A6N.ABPatriot_A6N
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
TransitionState   UP_SNOW DOWN_DEFAULT
Model   ABPatriot_A6S
Animation   ABPatriot_A6S.ABPatriot_A6S
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
TransitionState   UP_SNOWNIGHT DOWN_DEFAULT
Model   ABPatriot_A6SN
Animation   ABPatriot_A6SN.ABPatriot_A6SN
AnimationMode   ONCE_BACKWARDS
AnimationSpeedFactorRange   2.0 2.0     ; play teardown animations more quickly
Flags   START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_AssistedAttack01

OkToChangeModelColor  Yes

DefaultConditionState
Model                NONE
End
AliasConditionState  NIGHT
AliasConditionState  ATTACKING
AliasConditionState  NIGHT ATTACKING
AliasConditionState  DAMAGED
AliasConditionState  NIGHT DAMAGED
AliasConditionState  DAMAGED ATTACKING
AliasConditionState  NIGHT DAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT
AliasConditionState  SNOW ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING
AliasConditionState  SNOW DAMAGED
AliasConditionState  SNOW DAMAGED NIGHT
AliasConditionState  SNOW DAMAGED ATTACKING
AliasConditionState  SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW REALLYDAMAGED NIGHT
AliasConditionState  SNOW REALLYDAMAGED ATTACKING
AliasConditionState  SNOW NIGHT REALLYDAMAGED ATTACKING

ConditionState       USING_WEAPON_B
Model              ABProtector_B
Animation          ABProtector_B.ABProtector_B
AnimationMode      LOOP
Flags              RANDOMSTART
End
AliasConditionState  USING_WEAPON_B NIGHT
AliasConditionState  USING_WEAPON_B ATTACKING
AliasConditionState  USING_WEAPON_B NIGHT ATTACKING
AliasConditionState  USING_WEAPON_B DAMAGED
AliasConditionState  USING_WEAPON_B NIGHT DAMAGED
AliasConditionState  USING_WEAPON_B DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B NIGHT DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B REALLYDAMAGED
AliasConditionState  USING_WEAPON_B NIGHT REALLYDAMAGED
AliasConditionState  USING_WEAPON_B REALLYDAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW
AliasConditionState  USING_WEAPON_B SNOW NIGHT
AliasConditionState  USING_WEAPON_B SNOW ATTACKING
AliasConditionState  USING_WEAPON_B SNOW NIGHT ATTACKING
AliasConditionState  USING_WEAPON_B SNOW DAMAGED
AliasConditionState  USING_WEAPON_B SNOW DAMAGED NIGHT
AliasConditionState  USING_WEAPON_B SNOW DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW REALLYDAMAGED
AliasConditionState  USING_WEAPON_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  USING_WEAPON_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  USING_WEAPON_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B
AliasConditionState  PREATTACK_B NIGHT
AliasConditionState  PREATTACK_B ATTACKING
AliasConditionState  PREATTACK_B NIGHT ATTACKING
AliasConditionState  PREATTACK_B DAMAGED
AliasConditionState  PREATTACK_B NIGHT DAMAGED
AliasConditionState  PREATTACK_B DAMAGED ATTACKING
AliasConditionState  PREATTACK_B NIGHT DAMAGED ATTACKING
AliasConditionState  PREATTACK_B REALLYDAMAGED
AliasConditionState  PREATTACK_B NIGHT REALLYDAMAGED
AliasConditionState  PREATTACK_B REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW
AliasConditionState  PREATTACK_B SNOW NIGHT
AliasConditionState  PREATTACK_B SNOW ATTACKING
AliasConditionState  PREATTACK_B SNOW NIGHT ATTACKING
AliasConditionState  PREATTACK_B SNOW DAMAGED
AliasConditionState  PREATTACK_B SNOW DAMAGED NIGHT
AliasConditionState  PREATTACK_B SNOW DAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW REALLYDAMAGED
AliasConditionState  PREATTACK_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  PREATTACK_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  PREATTACK_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B
AliasConditionState  FIRING_B NIGHT
AliasConditionState  FIRING_B ATTACKING
AliasConditionState  FIRING_B NIGHT ATTACKING
AliasConditionState  FIRING_B DAMAGED
AliasConditionState  FIRING_B NIGHT DAMAGED
AliasConditionState  FIRING_B DAMAGED ATTACKING
AliasConditionState  FIRING_B NIGHT DAMAGED ATTACKING
AliasConditionState  FIRING_B REALLYDAMAGED
AliasConditionState  FIRING_B NIGHT REALLYDAMAGED
AliasConditionState  FIRING_B REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW
AliasConditionState  FIRING_B SNOW NIGHT
AliasConditionState  FIRING_B SNOW ATTACKING
AliasConditionState  FIRING_B SNOW NIGHT ATTACKING
AliasConditionState  FIRING_B SNOW DAMAGED
AliasConditionState  FIRING_B SNOW DAMAGED NIGHT
AliasConditionState  FIRING_B SNOW DAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW REALLYDAMAGED
AliasConditionState  FIRING_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  FIRING_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  FIRING_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B DAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW DAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW DAMAGED NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  BETWEEN_FIRING_SHOTS_B SNOW NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_B NIGHT
AliasConditionState  RELOADING_B ATTACKING
AliasConditionState  RELOADING_B NIGHT ATTACKING
AliasConditionState  RELOADING_B DAMAGED
AliasConditionState  RELOADING_B NIGHT DAMAGED
AliasConditionState  RELOADING_B DAMAGED ATTACKING
AliasConditionState  RELOADING_B NIGHT DAMAGED ATTACKING
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  RELOADING_B NIGHT REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B NIGHT REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW
AliasConditionState  RELOADING_B SNOW NIGHT
AliasConditionState  RELOADING_B SNOW ATTACKING
AliasConditionState  RELOADING_B SNOW NIGHT ATTACKING
AliasConditionState  RELOADING_B SNOW DAMAGED
AliasConditionState  RELOADING_B SNOW DAMAGED NIGHT
AliasConditionState  RELOADING_B SNOW DAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW NIGHT DAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW REALLYDAMAGED
AliasConditionState  RELOADING_B SNOW REALLYDAMAGED NIGHT
AliasConditionState  RELOADING_B SNOW REALLYDAMAGED ATTACKING
AliasConditionState  RELOADING_B SNOW NIGHT REALLYDAMAGED ATTACKING

End

PlacementViewAngle   -45

; ***DESIGN parameters ***
DisplayName   OBJECT:PatriotBattery
Side   America
EditorSorting   STRUCTURE
Prerequisites
Object   AmericaPowerPlant
End
BuildCost   1000
BuildTime   25.0     ; in seconds
EnergyProduction   -2
WeaponSet
Conditions   None
Weapon   PRIMARY MultipurposePatriotMissileWeapon
Weapon   SECONDARY MultipurposePatriotMissileAssistWeapon
Weapon   TERTIARY MultipurposePatriotMissileWeaponAir
AutoChooseSources   PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
AutoChooseSources   SECONDARY NONE
AutoChooseSources   TERTIARY FROM_PLAYER FROM_AI FROM_SCRIPT
PreferredAgainst   PRIMARY VEHICLE INFANTRY
PreferredAgainst   SECONDARY BALLISTIC_MISSILE AIRCRAFT
PreferredAgainst   TERTIARY BALLISTIC_MISSILE AIRCRAFT
ShareWeaponReloadTime   Yes
End
VisionRange   300.0     ; Shroud clearing distance AND targeting range
ShroudClearingRange   350
ArmorSet
Conditions   None
Armor   BaseDefenseArmor
DamageFX   StructureDamageFXNoShake
End
CommandSet   AmericaPatriotBatteryCommandSet
ExperienceValue   200 200 200 200     ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect   PatriotBatterySelect
SoundOnDamaged   BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
UnitSpecificSounds
TurretMoveLoop   TurretMoveLoop
UnderConstruction   UnderConstructionLoop
End
; *** ENGINEERING Parameters ***
RadarPriority   STRUCTURE
KindOf   PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE CAN_SEE_THROUGH_STRUCTURE
Body   StructureBody ModuleTag_665
MaxHealth   1400.0
InitialHealth   1400.0
; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap   1200
SubdualDamageHealRate   500
SubdualDamageHealAmount   100
End

Behavior   BaseRegenerateUpdate ModuleTag_667
; No data
End
Behavior   AIUpdateInterface ModuleTag_668
Turret
TurretTurnRate   120     ; turn rate, in degrees per sec
TurretPitchRate   120
AllowsPitch   Yes
NaturalTurretPitch   45
GroundUnitPitch   40
MinPhysicalPitch   -10
ControlledWeaponSlots   PRIMARY SECONDARY TERTIARY
MinIdleScanInterval   250     ; in milliseconds
MaxIdleScanInterval   250     ; in milliseconds
MinIdleScanAngle   0     ; in degrees off the natural turret angle
MaxIdleScanAngle   360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle   Yes     ; ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate   250
End

Behavior   AssistedTargetingUpdate ModuleTag_669
AssistingClipSize   4     ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
AssistingWeaponSlot   SECONDARY     ; And the weapon to use.  Should have huge range and no natural clip.
LaserFromAssisted   PatriotBinaryDataStream     ; Stream to draw from the requestor to me
LaserToTarget   PatriotBinaryDataStream     ; Stream to draw from me to the target
End

Behavior   DestroyDie ModuleTag_670
; nothing
End
Behavior   CreateObjectDie ModuleTag_671
CreationList   OCL_AmericanRangerDebris03
ExemptStatus   UNDER_CONSTRUCTION
End
Behavior   FXListDie ModuleTag_672
DeathFX   FX_StructureTinyDeath
End
Behavior   FlammableUpdate ModuleTag_673
AflameDuration   5000     ; If I catch fire, I'll burn for this long...
AflameDamageAmount   5     ; taking this much damage...
AflameDamageDelay   500     ; this often.
End
Behavior   TransitionDamageFX ModuleTag_674
; -------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1   Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
; ---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1   Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2   Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3   Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

Behavior  ProductionUpdate ModuleTag_ShowRelayRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowRelayRange02
UpgradeObject  OCL_ProtectorMissileSystemRelayRangeIndicator
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry   CYLINDER
GeometryMajorRadius   12.0
GeometryMinorRadius   1.0
GeometryHeight   14.0
GeometryIsSmall   No
Shadow   SHADOW_VOLUME
BuildCompletion   PLACED_BY_PLAYER
End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaFireBase

; *** ART Parameters ***
SelectPortrait          SAFirebase_L
ButtonImage             SAFirebase

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState        NONE
Model              ABFIREBASE
HideSubObject      TURRET01
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              ABFIREBASE_D
HideSubObject      TURRET01
End
AliasConditionState  NIGHT DAMAGED

ConditionState       REALLYDAMAGED RUBBLE
Model              ABFIREBASE_E
HideSubObject      TURRET01
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState       SNOW
Model              ABFIREBASE_S
HideSubObject      TURRET01
End
AliasConditionState  NIGHT SNOW

ConditionState       DAMAGED SNOW
Model              ABFirebase_SD
HideSubObject      TURRET01
End
AliasConditionState  NIGHT DAMAGED SNOW

ConditionState       REALLYDAMAGED RUBBLE SNOW
Model              ABFirebase_SE
HideSubObject      TURRET01
End
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE SNOW


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABFIREBASE
HideSubObject       TURRET01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABFIREBASE_S
HideSubObject       TURRET01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABFIREBASE_D
HideSubObject       TURRET01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model               ABFIREBASE_SD
HideSubObject       TURRET01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model               ABFIREBASE_E
HideSubObject       TURRET01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
Model               ABFIREBASE_SE
HideSubObject       TURRET01
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION
AliasConditionState  NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  NIGHT SOLD
AliasConditionState  NIGHT SOLD DAMAGED
AliasConditionState  NIGHT SOLD REALLYDAMAGED
AliasConditionState  NIGHT SOLD SNOW
AliasConditionState  NIGHT SOLD SNOW DAMAGED
AliasConditionState  NIGHT SOLD SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw  W3DModelDraw ModuleTag_GunUpgrade01

OkToChangeModelColor  Yes

ConditionState       NONE
Model              ABFireBaseU
Turret             TURRET
TurretPitch        TURRETEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
End
AliasConditionState  NIGHT

ConditionState       DAMAGED
Model              ABFireBaseU_D
Turret             TURRET
TurretPitch        TURRETEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
End
AliasConditionState  NIGHT DAMAGED

ConditionState       REALLYDAMAGED
Model              ABFireBaseU_E
Turret             TURRET
TurretPitch        TURRETEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT REALLYDAMAGED RUBBLE

ConditionState       SNOW
Model              ABFireBaseU_S
Turret             TURRET
TurretPitch        TURRETEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
End
AliasConditionState  NIGHT SNOW

ConditionState       DAMAGED SNOW
Model              ABFireBaseU_SD
Turret             TURRET
TurretPitch        TURRETEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
End
AliasConditionState  NIGHT DAMAGED SNOW

ConditionState       REALLYDAMAGED SNOW
Model              ABFireBaseU_SE
Turret             TURRET
TurretPitch        TURRETEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponRecoilBone   PRIMARY Barrel
End
AliasConditionState  NIGHT REALLYDAMAGED SNOW
AliasConditionState  RUBBLE SNOW
AliasConditionState  NIGHT RUBBLE SNOW


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABFireBaseU
Turret              TURRET
TurretPitch         TURRETEL
WeaponMuzzleFlash   PRIMARY MuzzleFX
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABFireBaseU_S
Turret              TURRET
TurretPitch         TURRETEL
WeaponMuzzleFlash   PRIMARY MuzzleFX
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABFireBaseU_D
Turret              TURRET
TurretPitch         TURRETEL
WeaponMuzzleFlash   PRIMARY MuzzleFX
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model               ABFireBaseU_SD
Turret              TURRET
TurretPitch         TURRETEL
WeaponMuzzleFlash   PRIMARY MuzzleFX
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
Model               ABFireBaseU_E
Turret              TURRET
TurretPitch         TURRETEL
WeaponMuzzleFlash   PRIMARY MuzzleFX
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE

ConditionState        PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
Model               ABFireBaseU_SE
Turret              TURRET
TurretPitch         TURRETEL
WeaponMuzzleFlash   PRIMARY MuzzleFX
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW

;**************************************************************************************************************************

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION
AliasConditionState  NIGHT AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION SNOW
AliasConditionState  NIGHT AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  NIGHT AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  NIGHT SOLD
AliasConditionState  NIGHT SOLD DAMAGED
AliasConditionState  NIGHT SOLD REALLYDAMAGED
AliasConditionState  NIGHT SOLD SNOW
AliasConditionState  NIGHT SOLD SNOW DAMAGED
AliasConditionState  NIGHT SOLD SNOW REALLYDAMAGED

End

; ------------ Garrisoned states -----------------
Draw  W3DModelDraw ModuleTag_Garrisoned01


DefaultConditionState
Model              NONE
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  AWAITING_CONSTRUCTION
AliasConditionState  AWAITING_CONSTRUCTION DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW
AliasConditionState  AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState  SOLD
AliasConditionState  SOLD DAMAGED
AliasConditionState  SOLD REALLYDAMAGED
AliasConditionState  SOLD SNOW
AliasConditionState  SOLD SNOW DAMAGED
AliasConditionState  SOLD SNOW REALLYDAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
AliasConditionState  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW

;;Garrisoned States

ConditionState       GARRISONED
Model              ABFIREBASE_G
End
AliasConditionState  GARRISONED DAMAGED
AliasConditionState  GARRISONED REALLYDAMAGED RUBBLE
AliasConditionState  GARRISONED SNOW
AliasConditionState  GARRISONED DAMAGED SNOW
AliasConditionState  GARRISONED REALLYDAMAGED RUBBLE SNOW

End

; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4
Animation        ABSupDrop_A4.ABSupDrop_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4N
Animation        ABSupDrop_A4N.ABSupDrop_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4S
Animation        ABSupDrop_A4S.ABSupDrop_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABSupDrop_A4SN
Animation        ABSupDrop_A4SN.ABSupDrop_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABSupDrop_A4
Animation        ABSupDrop_A4.ABSupDrop_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABSupDrop_A4N
Animation        ABSupDrop_A4N.ABSupDrop_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABSupDrop_A4S
Animation        ABSupDrop_A4S.ABSupDrop_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABSupDrop_A4SN
Animation        ABSupDrop_A4SN.ABSupDrop_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSupDrop_A4
Animation        ABSupDrop_A4.ABSupDrop_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSupDrop_A4N
Animation        ABSupDrop_A4N.ABSupDrop_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSupDrop_A4S
Animation        ABSupDrop_A4S.ABSupDrop_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSupDrop_A4SN
Animation        ABSupDrop_A4SN.ABSupDrop_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired     MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6
Animation        ABSupDrop_A6.ABSupDrop_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6N
Animation        ABSupDrop_A6N.ABSupDrop_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6S
Animation        ABSupDrop_A6S.ABSupDrop_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABSupDrop_A6SN
Animation        ABSupDrop_A6SN.ABSupDrop_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
ParticleSysBone  Sparks03 BuildUpBlueSpark
ParticleSysBone  Sparks04 BuildUpBlueSpark
ParticleSysBone  Sparks05 BuildUpBlueSpark
ParticleSysBone  Sparks06 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             ABSupDrop_A6
Animation        ABSupDrop_A6.ABSupDrop_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             ABSupDrop_A6N
Animation        ABSupDrop_A6N.ABSupDrop_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             ABSupDrop_A6S
Animation        ABSupDrop_A6S.ABSupDrop_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             ABSupDrop_A6SN
Animation        ABSupDrop_A6SN.ABSupDrop_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABSupDrop_A6
Animation        ABSupDrop_A6.ABSupDrop_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABSupDrop_A6N
Animation        ABSupDrop_A6N.ABSupDrop_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABSupDrop_A6S
Animation        ABSupDrop_A6S.ABSupDrop_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABSupDrop_A6SN
Animation        ABSupDrop_A6SN.ABSupDrop_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

Draw  W3DModelDraw ModuleTag_Bones01

ExtraPublicBone  STATION01
ExtraPublicBone  STATION02
ExtraPublicBone  STATION03
ExtraPublicBone  STATION04


ConditionState        NONE
Model              ABFIREBASE_B
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName        OBJECT:FireBase
Side               America
EditorSorting      STRUCTURE

Prerequisites
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

BuildCost         1000
BuildTime         20.0           ; in seconds
EnergyProduction  -10

;  WeaponSet
;    Conditions         None
;    Weapon             PRIMARY   FireBaseHowitzerGun
;  End

;  WeaponSet
;    Conditions         PLAYER_UPGRADE
;    Weapon             PRIMARY   FireBaseGuidedHowitzerGun
;  End

WeaponSet
Conditions         None
Weapon             PRIMARY   FireBaseGuidedHowitzerGun
End


VisionRange     840.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  150
ArmorSet
Conditions       None
Armor            DefenceBunkerArmor
DamageFX         StructureDamageFXNoShake
End
CommandSet         AmericaFireBaseCommandSet
ExperienceValue  150 150 150 150 ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  FireBaseSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED CAN_SEE_THROUGH_STRUCTURE


Body                  HiveStructureBody ModuleTag_04;
MaxHealth           1400.0
InitialHealth       1400.0

SubdualDamageCap  1600
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End


Behavior  BaseRegenerateUpdate ModuleTag_05
;No data
End
Behavior  AIUpdateInterface ModuleTag_06

Turret
TurretTurnRate         10   // turn rate, in degrees per sec
TurretPitchRate        10
AllowsPitch            Yes
NaturalTurretPitch     15
GroundUnitPitch        30
MinPhysicalPitch       15
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    550    ; in milliseconds
MaxIdleScanInterval    950    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
End

AutoAcquireEnemiesWhenIdle  Yes Stealthed;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         33
End

Behavior  GarrisonContain ModuleTag_07
ContainMax                     4
EnterSound                     GarrisonEnter
ExitSound                      GarrisonExit
ImmuneToClearBuildingAttacks   Yes
DamagePercentToUnits           0%
IsEnclosingContainer           No
HealObjects                    Yes
TimeForFullHeal                1000
End

;  Behavior  AutoHealBehavior ModuleTag_Healing01
;    HealingAmount      2
;    HealingDelay       33 ; msec
;    Radius             36.0
;    StartsActive       Yes
;    KindOf             INFANTRY
;  End

Behavior  DestroyDie ModuleTag_08
;nothing
End

Behavior              FXListDie ModuleTag_10
DeathFX        FX_StructureMediumDeath
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                   CreateObjectDie ModuleTag_13
CreationList        OCL_LargeStructureDebris
End

;  Behavior  ObjectCreationUpgrade ModuleTag_DroneUpgrade02
;    UpgradeObject  OCL_AmericanFirebaseDrone
;    TriggeredBy
;  End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  26.0
GeometryMinorRadius  26.0
GeometryHeight       15.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object AmericaDroneHive

; *** ART Parameters ***
SelectPortrait          SADroneHive_L
ButtonImage             SADroneHive

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

; Normal State
DefaultConditionState
Model             ABDrnHive
Animation         ABDrnHive.ABDrnHive
AnimationMode     MANUAL
Flags             MAINTAIN_FRAME_ACROSS_STATES
HideSubObject     LIGHTS
Turret            TURRET
WaitForStateToFinishIfPossible  TRANS_DEPLOYING_DRONES
End
AliasConditionState  NIGHT

ConditionState      FIRING_C
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject     LIGHTS
TransitionKey     TRANS_DEPLOYING_DRONES
End
AliasConditionState  FIRING_C NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_C
AliasConditionState  BETWEEN_FIRING_SHOTS_C NIGHT
AliasConditionState  FIRING_B
AliasConditionState  FIRING_B NIGHT
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B NIGHT

ConditionState      RELOADING_C
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
End
AliasConditionState  RELOADING_C NIGHT
AliasConditionState  RELOADING_B
AliasConditionState  RELOADING_B NIGHT

; Damaged State
ConditionState      DAMAGED
Model             ABDrnHive_D
Animation         ABDrnHive_D.ABDrnHive_D
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_DAMAGED_DEPLOYING_DRONES
End
AliasConditionState  DAMAGED NIGHT

ConditionState      DAMAGED FIRING_C
Model             ABDrnHive_D
Animation         ABDrnHive_D.ABDrnHive_D
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject     LIGHTS
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
TransitionKey     TRANS_DAMAGED_DEPLOYING_DRONES
End
AliasConditionState  DAMAGED FIRING_C NIGHT
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_C NIGHT
AliasConditionState  DAMAGED FIRING_B
AliasConditionState  DAMAGED FIRING_B NIGHT
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DAMAGED BETWEEN_FIRING_SHOTS_B NIGHT

ConditionState      DAMAGED RELOADING_C
Model             ABDrnHive_D
Animation         ABDrnHive_D.ABDrnHive_D
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_DAMAGED_DEPLOYING_DRONES
End
AliasConditionState  DAMAGED RELOADING_C NIGHT
AliasConditionState  DAMAGED RELOADING_B
AliasConditionState  DAMAGED RELOADING_B NIGHT

; Really Damaged State
ConditionState      REALLYDAMAGED
Model             ABDrnHive_E
Animation         ABDrnHive_E.ABDrnHive_E
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_REALLYDAMAGED_DEPLOYING_DRONES
End
AliasConditionState  REALLYDAMAGED NIGHT

ConditionState      REALLYDAMAGED FIRING_C
Model             ABDrnHive_E
Animation         ABDrnHive_E.ABDrnHive_E
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject     LIGHTS
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
TransitionKey     TRANS_REALLYDAMAGED_DEPLOYING_DRONES
End
AliasConditionState  REALLYDAMAGED FIRING_C NIGHT
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_C NIGHT
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED FIRING_B NIGHT
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED BETWEEN_FIRING_SHOTS_B NIGHT

ConditionState      REALLYDAMAGED RELOADING_C
Model             ABDrnHive_E
Animation         ABDrnHive_E.ABDrnHive_E
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_REALLYDAMAGED_DEPLOYING_DRONES
End
AliasConditionState  REALLYDAMAGED RELOADING_C NIGHT
AliasConditionState  REALLYDAMAGED RELOADING_B
AliasConditionState  REALLYDAMAGED RELOADING_B NIGHT

; Snow State
ConditionState      SNOW
Model             ABDrnHive_S
Animation         ABDrnHive_S.ABDrnHive_S
Flags             MAINTAIN_FRAME_ACROSS_STATES
WaitForStateToFinishIfPossible  TRANS_SNOW_DEPLOYING_DRONES
End
AliasConditionState  SNOW NIGHT

ConditionState      SNOW FIRING_C
Model             ABDrnHive_S
Animation         ABDrnHive_S.ABDrnHive_S
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject     LIGHTS
TransitionKey     TRANS_SNOW_DEPLOYING_DRONES
End
AliasConditionState  SNOW FIRING_C NIGHT
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_C NIGHT
AliasConditionState  SNOW FIRING_B
AliasConditionState  SNOW FIRING_B NIGHT
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW BETWEEN_FIRING_SHOTS_B NIGHT

ConditionState      SNOW RELOADING_C
Model             ABDrnHive_S
Animation         ABDrnHive_S.ABDrnHive_S
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
WaitForStateToFinishIfPossible  TRANS_SNOW_DEPLOYING_DRONES
End
AliasConditionState  SNOW RELOADING_C NIGHT
AliasConditionState  SNOW RELOADING_B
AliasConditionState  SNOW RELOADING_B NIGHT

; Snow Damaged State
ConditionState      SNOW DAMAGED
Model             ABDrnHive_SD
Animation         ABDrnHive_SD.ABDrnHive_SD
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_SNOW_DAMAGED_DEPLOYING_DRONES
End
AliasConditionState  SNOW DAMAGED NIGHT

ConditionState      SNOW DAMAGED FIRING_C
Model             ABDrnHive_SD
Animation         ABDrnHive_SD.ABDrnHive_SD
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject     LIGHTS
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
TransitionKey     TRANS_SNOW_DAMAGED_DEPLOYING_DRONES
End
AliasConditionState  SNOW DAMAGED FIRING_C NIGHT
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_C NIGHT
AliasConditionState  SNOW DAMAGED FIRING_B
AliasConditionState  SNOW DAMAGED FIRING_B NIGHT
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW DAMAGED BETWEEN_FIRING_SHOTS_B NIGHT

ConditionState      SNOW DAMAGED RELOADING_C
Model             ABDrnHive_SD
Animation         ABDrnHive_SD.ABDrnHive_SD
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_SNOW_DAMAGED_DEPLOYING_DRONES
End
AliasConditionState  SNOW DAMAGED RELOADING_C NIGHT
AliasConditionState  SNOW DAMAGED RELOADING_B
AliasConditionState  SNOW DAMAGED RELOADING_B NIGHT

; Snow Really Damaged State
ConditionState      SNOW REALLYDAMAGED
Model             ABDrnHive_SE
Animation         ABDrnHive_SE.ABDrnHive_SE
ParticleSysBone   TURRET SparksMedium
ParticleSysBone   TURRET SmolderingSmoke
WaitForStateToFinishIfPossible  TRANS_SNOW_REALLYDAMAGED_DEPLOYING_DRONES
End
AliasConditionState  SNOW REALLYDAMAGED NIGHT

ConditionState      SNOW REALLYDAMAGED FIRING_C
Model             ABDrnHive_SE
Animation         ABDrnHive_SE.ABDrnHive_SE
AnimationMode     ONCE_BACKWARDS
Flags             MAINTAIN_FRAME_ACROSS_STATES2
ShowSubObject     LIGHTS
TransitionKey     TRANS_SNOW_REALLYDAMAGED_DEPLOYING_DRONES
End
AliasConditionState  SNOW REALLYDAMAGED FIRING_C NIGHT
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_C NIGHT
AliasConditionState  SNOW REALLYDAMAGED FIRING_B
AliasConditionState  SNOW REALLYDAMAGED FIRING_B NIGHT
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
AliasConditionState  SNOW REALLYDAMAGED BETWEEN_FIRING_SHOTS_B NIGHT

ConditionState      SNOW REALLYDAMAGED RELOADING_C
Model             ABDrnHive_SE
Animation         ABDrnHive_SE.ABDrnHive_SE
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
WaitForStateToFinishIfPossible  TRANS_SNOW_REALLYDAMAGED_DEPLOYING_DRONES
End
AliasConditionState  SNOW REALLYDAMAGED RELOADING_C NIGHT
AliasConditionState  SNOW REALLYDAMAGED RELOADING_B
AliasConditionState  SNOW REALLYDAMAGED RELOADING_B NIGHT

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABDrnHive
Animation           ABDrnHive.ABDrnHive
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABDrnHive_S
Animation           ABDrnHive_S.ABDrnHive_S
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABDrnHive_D
Animation           ABDrnHive_D.ABDrnHive_D
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model               ABDrnHive_SD
Animation           ABDrnHive_SD.ABDrnHive_SD
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABDrnHive_E
Animation           ABDrnHive_E.ABDrnHive_E
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model               ABDrnHive_SE
Animation           ABDrnHive_SE.ABDrnHive_SE
AnimationMode       ONCE_BACKWARDS
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
OkToChangeModelColor  Yes
AnimationsRequirePower  No ; Do not pause the construction anims when low power disabled
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABDrnHive_A4
Animation        ABDrnHive_A4.ABDrnHive_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABDrnHive_A4
Animation        ABDrnHive_A4.ABDrnHive_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABDrnHive_A4S
Animation        ABDrnHive_A4S.ABDrnHive_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABDrnHive_A4S
Animation        ABDrnHive_A4S.ABDrnHive_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABDrnHive_A4
Animation        ABDrnHive_A4.ABDrnHive_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABDrnHive_A4
Animation        ABDrnHive_A4.ABDrnHive_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABDrnHive_A4S
Animation        ABDrnHive_A4S.ABDrnHive_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABDrnHive_A4S
Animation        ABDrnHive_A4S.ABDrnHive_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABDrnHive_A4
Animation        ABDrnHive_A4.ABDrnHive_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABDrnHive_A4
Animation        ABDrnHive_A4.ABDrnHive_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABDrnHive_A4S
Animation        ABDrnHive_A4S.ABDrnHive_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABDrnHive_A4S
Animation        ABDrnHive_A4S.ABDrnHive_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
OkToChangeModelColor  Yes
AnimationsRequirePower  No ; Do not pause the construction anims when low power disabled
MinLODRequired  MEDIUM
DefaultConditionState
Model            NVDeva_U2
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABDrnHive_A6
Animation        ABDrnHive_A6.ABDrnHive_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABDrnHive_A6
Animation        ABDrnHive_A6.ABDrnHive_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABDrnHive_A6S
Animation        ABDrnHive_A6S.ABDrnHive_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABDrnHive_A6S
Animation        ABDrnHive_A6S.ABDrnHive_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABDrnHive_A6
Animation        ABDrnHive_A6.ABDrnHive_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABDrnHive_A6
Animation        ABDrnHive_A6.ABDrnHive_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABDrnHive_A6S
Animation        ABDrnHive_A6S.ABDrnHive_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABDrnHive_A6S
Animation        ABDrnHive_A6S.ABDrnHive_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABDrnHive_A6
Animation        ABDrnHive_A6.ABDrnHive_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABDrnHive_A6
Animation        ABDrnHive_A6.ABDrnHive_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABDrnHive_A6S
Animation        ABDrnHive_A6S.ABDrnHive_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABDrnHive_A6S
Animation        ABDrnHive_A6S.ABDrnHive_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName        OBJECT:DroneHive
Side               America
EditorSorting      STRUCTURE

Prerequisites
Object  AmericaPowerPlant
End

BuildCost         1000
BuildTime         15.0           ; in seconds
EnergyProduction  -3

WeaponSet
Conditions           None
Weapon               PRIMARY   DroneHiveTargetDesignator
Weapon               SECONDARY DroneHiveDeployDroneWeapon
End

VisionRange     275.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  275.0

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

CommandSet         AmericaDroneHiveCommandSet
ExperienceValue      100 100 100 100  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect           DroneHiveSelect
SoundOnDamaged        BuildingDamagedStateLight
SoundOnReallyDamaged  BuildingDestroy

UnitSpecificSounds
UnderConstruction  UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE CAN_SEE_THROUGH_STRUCTURE
;KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE CAN_SEE_THROUGH_STRUCTURE
Body             StructureBody ModuleTag_04
MaxHealth      1200.0
InitialHealth  1200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1400
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate         180
ControlledWeaponSlots  PRIMARY SECONDARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
TurretsLinked  Yes
End

Behavior  BaseRegenerateUpdate ModuleTag_05
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  FXListDie ModuleTag_10
DeathFX  FX_StructureTinyDeath
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  ProductionUpdate ModuleTag_ShowRelayRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowRelayRange02
UpgradeObject  OCL_ProtectorMissileSystemRelayRangeIndicator
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  25.0
GeometryMinorRadius  18.0
GeometryHeight       19.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
; - 
;------------------------------------------------------------------------------
Object AmericaCyclopsLaser

; *** ART Parameters ***
SelectPortrait          SACyclops_L
ButtonImage             SACyclops

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

; Normal State
DefaultConditionState
Model             ABCyclops
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     TARGETLSR LSRLNSFLR LIGHTS
End
AliasConditionState  NIGHT

ConditionState      ATTACKING
Model             ABCyclops
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     NONE
ShowSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Laser01 CyclopsLaserChargingLenseFlareEffect
ParticleSysBone   Laser01 CyclopsLaserChargingParticles
End
AliasConditionState  NIGHT ATTACKING

ConditionState      DAMAGED
Model             ABCyclops_D
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
End
AliasConditionState  NIGHT DAMAGED

ConditionState      ATTACKING DAMAGED
Model             ABCyclops_D
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     NONE
ShowSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Laser01 CyclopsLaserChargingLenseFlareEffect
ParticleSysBone   Laser01 CyclopsLaserChargingParticles
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
End
AliasConditionState  NIGHT ATTACKING DAMAGED

ConditionState      REALLYDAMAGED
Model             ABCyclops_E
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Smoke03 SmokeFactionMedium
ParticleSysBone   Smoke04 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
ParticleSysBone   Spark02 SparksMedium
End
AliasConditionState  NIGHT REALLYDAMAGED

ConditionState      ATTACKING REALLYDAMAGED
Model             ABCyclops_E
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     NONE
ShowSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Laser01 CyclopsLaserChargingLenseFlareEffect
ParticleSysBone   Laser01 CyclopsLaserChargingParticles
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Smoke03 SmokeFactionMedium
ParticleSysBone   Smoke04 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
ParticleSysBone   Spark02 SparksMedium
End
AliasConditionState  NIGHT ATTACKING REALLYDAMAGED

;;;;;;;;;;;;;;;;;;;;;;;;;;SNOW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

ConditionState      SNOW
Model             ABCyclops_S
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     TARGETLSR LSRLNSFLR LIGHTS
End
AliasConditionState  SNOW NIGHT

ConditionState      SNOW ATTACKING
Model             ABCyclops_S
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     NONE
ShowSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Laser01 CyclopsLaserChargingLenseFlareEffect
ParticleSysBone   Laser01 CyclopsLaserChargingParticles
End
AliasConditionState  SNOW NIGHT ATTACKING

ConditionState      SNOW DAMAGED
Model             ABCyclops_SD
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
End
AliasConditionState  SNOW NIGHT DAMAGED

ConditionState      SNOW ATTACKING DAMAGED
Model             ABCyclops_SD
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     NONE
ShowSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Laser01 CyclopsLaserChargingLenseFlareEffect
ParticleSysBone   Laser01 CyclopsLaserChargingParticles
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
End
AliasConditionState  SNOW NIGHT ATTACKING DAMAGED

ConditionState      SNOW REALLYDAMAGED
Model             ABCyclops_SE
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Smoke03 SmokeFactionMedium
ParticleSysBone   Smoke04 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
ParticleSysBone   Spark02 SparksMedium
End
AliasConditionState  SNOW NIGHT REALLYDAMAGED

ConditionState      SNOW ATTACKING REALLYDAMAGED
Model             ABCyclops_SE
Turret            TURRET
TurretPitch       TURRETEL
HideSubObject     NONE
ShowSubObject     TARGETLSR LSRLNSFLR LIGHTS
ParticleSysBone   Laser01 CyclopsLaserChargingLenseFlareEffect
ParticleSysBone   Laser01 CyclopsLaserChargingParticles
ParticleSysBone   Smoke01 SmokeFactionMedium
ParticleSysBone   Smoke02 SmokeFactionMedium
ParticleSysBone   Smoke03 SmokeFactionMedium
ParticleSysBone   Smoke04 SmokeFactionMedium
ParticleSysBone   Spark01 SparksMedium
ParticleSysBone   Spark02 SparksMedium
End
AliasConditionState  SNOW NIGHT ATTACKING REALLYDAMAGED

;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               ABCyclops
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT


ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               ABCyclops_S
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               ABCyclops_D
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
ParticleSysBone     Smoke01 SmokeFactionMedium
ParticleSysBone     Smoke02 SmokeFactionMedium
ParticleSysBone     Spark01 SparksMedium
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
Model               ABCyclops_SD
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
ParticleSysBone     Smoke01 SmokeFactionMedium
ParticleSysBone     Smoke02 SmokeFactionMedium
ParticleSysBone     Spark01 SparksMedium
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model               ABCyclops_E
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
ParticleSysBone     Smoke01 SmokeFactionMedium
ParticleSysBone     Smoke02 SmokeFactionMedium
ParticleSysBone     Smoke03 SmokeFactionMedium
ParticleSysBone     Smoke04 SmokeFactionMedium
ParticleSysBone     Spark01 SparksMedium
ParticleSysBone     Spark02 SparksMedium
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
Model               ABCyclops_SE
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
ParticleSysBone     Smoke01 SmokeFactionMedium
ParticleSysBone     Smoke02 SmokeFactionMedium
ParticleSysBone     Smoke03 SmokeFactionMedium
ParticleSysBone     Smoke04 SmokeFactionMedium
ParticleSysBone     Spark01 SparksMedium
ParticleSysBone     Spark02 SparksMedium
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW



ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************



End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
OkToChangeModelColor  Yes
AnimationsRequirePower  No ; Do not pause the construction anims when low power disabled
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABCyclops_A4
Animation        ABCyclops_A4.ABCyclops_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABCyclops_A4
Animation        ABCyclops_A4.ABCyclops_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABCyclops_A4S
Animation        ABCyclops_A4S.ABCyclops_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            ABCyclops_A4S
Animation        ABCyclops_A4S.ABCyclops_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABCyclops_A4
Animation        ABCyclops_A4.ABCyclops_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABCyclops_A4
Animation        ABCyclops_A4.ABCyclops_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABCyclops_A4S
Animation        ABCyclops_A4S.ABCyclops_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABCyclops_A4S
Animation        ABCyclops_A4S.ABCyclops_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABCyclops_A4
Animation        ABCyclops_A4.ABCyclops_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABCyclops_A4
Animation        ABCyclops_A4.ABCyclops_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABCyclops_A4S
Animation        ABCyclops_A4S.ABCyclops_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABCyclops_A4S
Animation        ABCyclops_A4S.ABCyclops_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
OkToChangeModelColor  Yes
AnimationsRequirePower  No ; Do not pause the construction anims when low power disabled
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            ABCyclops_A6
Animation        ABCyclops_A6.ABCyclops_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            ABCyclops_A6
Animation        ABCyclops_A6.ABCyclops_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            ABCyclops_A6S
Animation        ABCyclops_A6S.ABCyclops_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            ABCyclops_A6S
Animation        ABCyclops_A6S.ABCyclops_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Sparks01 BuildUpBlueSpark
ParticleSysBone  Sparks02 BuildUpBlueSpark
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            ABCyclops_A6
Animation        ABCyclops_A6.ABCyclops_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            ABCyclops_A6
Animation        ABCyclops_A6.ABCyclops_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            ABCyclops_A6S
Animation        ABCyclops_A6S.ABCyclops_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            ABCyclops_A6S
Animation        ABCyclops_A6S.ABCyclops_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            ABCyclops_A6
Animation        ABCyclops_A6.ABCyclops_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            ABCyclops_A6
Animation        ABCyclops_A6.ABCyclops_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            ABCyclops_A6S
Animation        ABCyclops_A6S.ABCyclops_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            ABCyclops_A6S
Animation        ABCyclops_A6S.ABCyclops_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName        OBJECT:Cyclops
Side               America
EditorSorting      STRUCTURE

Prerequisites
Object  AmericaStrategyCenter
End

BuildCost         1400
BuildTime         25.0           ; in seconds
EnergyProduction  -6

WeaponSet
Conditions             WEAPON_RIDER1
Weapon                 TERTIARY    CyclopsTacticalLaserDeathRay
End

WeaponSet
Conditions             WEAPON_RIDER2
Weapon                 TERTIARY    CyclopsTacticalLaserAntiMissileRay
End

VisionRange     400.0           ; Shroud clearing distance AND targeting range
ShroudClearingRange  400.0

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End
;CommandSet         AmericaCyclopsLaserCommandSet
ExperienceValue      200 200 200 200  ; Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect  CyclopsLaserSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
Body             StructureBody ModuleTag_04
MaxHealth      1200.0
InitialHealth  1200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1900
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

Behavior  BaseRegenerateUpdate ModuleTag_05
End

Behavior  AIUpdateInterface ModuleTag_06

Turret
TurretTurnRate         360
TurretPitchRate        360
AllowsPitch            Yes
NaturalTurretPitch     20
ControlledWeaponSlots  SECONDARY TERTIARY
MinIdleScanInterval    2000    ; in milliseconds
MaxIdleScanInterval    4000    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
TurretsLinked               Yes

AutoAcquireEnemiesWhenIdle  Yes Stealthed;ATTACK_BUILDINGS; defensive weapon
MoodAttackCheckRate         50
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  FXListDie ModuleTag_10
DeathFX  FX_StructureTinyDeath
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  TransitionDamageFX ModuleTag_14
;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaCyclopsLaserCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaCyclopsLaserCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    CyclopsTacticalLaserSwitchToAntiAirBeamMode
RequiredStatus   STATUS_RIDER2 STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_WotanArrayFocusedBeamModeTrigger
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    STATUS_RIDER8
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    CyclopsTacticalLaserSwitchToAntiMissileBeamMode
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_WotanArrayDenseBeamModeTrigger
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  STATUS_RIDER8
End

;PDL Aura

Behavior  FireWeaponCollide  ModuleTag_Transform10
CollideWeapon    CyclopsPDLDecalWeapon
RequiredStatus   STATUS_RIDER2
End

Behavior  FireWeaponUpdate ModuleTag_Transform11
Weapon  GenericCollisionDummyWeapon
End

;************************************
;******Transformation Code End********
;************************************

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             CYLINDER
GeometryMajorRadius  20.0
GeometryMinorRadius  1.0
GeometryHeight       24.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object AmericaVehicleTerrorDrone

; *** ART Parameters ***
SelectPortrait          SATerrorDrone_L
ButtonImage             SATerrorDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model                AVTrDrn_SKN
End
End

Side  America
EditorSorting  VEHICLE
BuildCost        800
BuildTime        10.0          ;in seconds

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

BuildVariations  AmericaVehicleTerrorDrone_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  6.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaVehicleTerrorDrone_Var1

; *** ART Parameters ***
SelectPortrait          SATerrorDrone_L
ButtonImage             SATerrorDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              AVTrDrn_SKN
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDA 0 10
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDB
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDC
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDD
AnimationMode      ONCE
TransitionKey      TRANS_NOT_DUGIN
AnimationSpeedFactorRange  1.0 1.2
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_RNA 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       RIDER1 MOVING ATTACKING
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_RNB 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       RIDER1 ATTACKING
Model              AVTrDrn_SKN_A
Animation          AVTrDrn_SKL.AVTrDrn_ATA
AnimationMode      LOOP
AnimationSpeedFactorRange  2.0 2.0
TransitionKey      TRANS_NOT_DUGIN
End

; ----- DIGGING ANIMATIONS

ConditionState       RIDER2
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_DIG
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_DUGIN
End
AliasConditionState  RIDER2 ATTACKING
AliasConditionState  RIDER2 MOVING
AliasConditionState  RIDER2 MOVING ATTACKING

TransitionState      TRANS_DUGIN TRANS_NOT_DUGIN
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_POP
AnimationMode      ONCE
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE
TransitionKey      TRANS_PARACHUTING
Flags              START_FRAME_LAST
End
AliasConditionState  PARACHUTING

TransitionState      TRANS_PARACHUTING TRANS_NOT_DUGIN
Model              AVTrDrn_SKN
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE_BACKWARDS
End

; ----- DAMAGED CONDITIONS

ConditionState       REALLYDAMAGED
Model              AVTrDrn_SKN_D
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDA 0 10
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDB
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDC
IdleAnimation      AVTrDrn_SKL.AVTrDrn_IDD
AnimationMode      ONCE
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
AnimationSpeedFactorRange  1.0 1.2
ParticleSysBone    B_BODY02 SparksMedium
End
AliasConditionState  REALLYDAMAGED RIDER1

ConditionState       REALLYDAMAGED RIDER1 MOVING
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_RNA 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
ParticleSysBone    B_BODY02 SparksMedium
End

ConditionState       REALLYDAMAGED RIDER1 MOVING ATTACKING
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_RNB 63
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
ParticleSysBone    BONE04B InfantryDustTrails
ParticleSysBone    BONE04  InfantryDustTrails
ParticleSysBone    BONE04D InfantryDustTrails
ParticleSysBone    BONE04C InfantryDustTrails
AnimationSpeedFactorRange  1.0 1.0
ParticleSysBone    B_BODY02 SparksMedium
End

ConditionState       REALLYDAMAGED RIDER1 ATTACKING
Model              AVTrDrn_SKN_DA
Animation          AVTrDrn_SKL.AVTrDrn_ATA
AnimationMode      LOOP
AnimationSpeedFactorRange  2.0 2.0
TransitionKey      TRANS_DAMAGED_NOT_DUGIN
ParticleSysBone    B_BODY02 SparksMedium
End

; ----- DIGGING ANIMATIONS

ConditionState       REALLYDAMAGED RIDER2
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_DIG
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
TransitionKey      TRANS_DAMAGED_DUGIN
End
AliasConditionState  REALLYDAMAGED RIDER2 ATTACKING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING ATTACKING

TransitionState      TRANS_DAMAGED_DUGIN TRANS_DAMAGED_NOT_DUGIN
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_POP
AnimationMode      ONCE
End

; ----- PARACHUTING ANIMATIONS
ConditionState       REALLYDAMAGED FREEFALL
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE
TransitionKey      TRANS_DAMAGED_PARACHUTING
Flags              START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED PARACHUTING

TransitionState      TRANS_DAMAGED_PARACHUTING TRANS_DAMAGED_NOT_DUGIN
Model              AVTrDrn_SKN_D
Animation          AVTrDrn_SKL.AVTrDrn_CHT
AnimationMode      ONCE_BACKWARDS
End

End

Draw  W3DModelDraw ModuleTag_DirtPatch01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              NONE
TransitionKey      TRANS_STAND
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 MOVING
AliasConditionState  RIDER1 MOVING ATTACKING
AliasConditionState  RIDER1 ATTACKING
AliasConditionState  FREEFALL
AliasConditionState  PARACHUTING
AliasConditionState  REALLYDAMAGED RIDER1
AliasConditionState  REALLYDAMAGED RIDER1 MOVING
AliasConditionState  REALLYDAMAGED RIDER1 MOVING ATTACKING
AliasConditionState  REALLYDAMAGED RIDER1 ATTACKING
AliasConditionState  REALLYDAMAGED FREEFALL
AliasConditionState  REALLYDAMAGED PARACHUTING

; ----- DIGGING ANIMATIONS

TransitionState      TRANS_STAND TRANS_DUGIN
Model              AVTrDrn_DRT
Animation          AVTrDrn_DRT.AVTrDrn_DRT
AnimationMode      ONCE
AnimationSpeedFactorRange  2.0 2.0
END
ConditionState       RIDER2
Model              AVTrDrn_DRT
Animation          AVTrDrn_DRT.AVTrDrn_DRT
AnimationMode      ONCE
Flags              START_FRAME_LAST
TransitionKey      TRANS_DUGIN
End
AliasConditionState  RIDER2 ATTACKING
AliasConditionState  RIDER2 MOVING
AliasConditionState  RIDER2 MOVING ATTACKING
AliasConditionState  REALLYDAMAGED RIDER2
AliasConditionState  REALLYDAMAGED RIDER2 ATTACKING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING
AliasConditionState  REALLYDAMAGED RIDER2 MOVING ATTACKING

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model                AVTrDrn_BOX
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:TerrorDrone
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon             PRIMARY   TerrorDronePlasmaCutterBuildingWeapon
PreferredAgainst   PRIMARY   STRUCTURE
Weapon             SECONDARY TerrorDronePlasmaCutterVehicleWeapon
PreferredAgainst   SECONDARY VEHICLE
Weapon             TERTIARY  TerrorDroneBorrowWeapon
AutoChooseSources  TERTIARY  NONE
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   NONE
AutoChooseSources  PRIMARY   NONE
Weapon             SECONDARY NONE
AutoChooseSources  SECONDARY NONE
Weapon             TERTIARY  NONE
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            TerrorDroneArmor
DamageFX         TruckDamageFX
End

VisionRange  200
ShroudClearingRange  200

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDroneControlCenter AmericaDetentionCamp
End

BuildCost  500
BuildTime  5.0          ;in seconds

ExperienceValue  40 40 40 40    ;Experience point value at each level
IsTrainable  No             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            TerrorDroneVoiceSelect
VoiceMove              TerrorDroneVoiceMove
VoiceGuard             TerrorDroneVoiceMove
VoiceAttack            TerrorDroneVoiceAttack

SoundMoveLoop          TerrorDroneMoveLoop
SoundMoveLoopDamaged   TerrorDroneMoveLoop

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED ;NO_COLLIDE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        200.0
InitialHealth    200.0

SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_06
Turret
TurretTurnRate  0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL TerrorDroneLocomotor TerrorDroneCliffLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  InstantDeathBehavior ModuleTag_Death01
DeathTypes           ALL
FX   FX_TerrorDroneDeathEffect
OCL  OCL_AmericanTerrorDroneDeathEffect
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaTerrorDroneCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaTerrorDroneCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform02
UpgradeObject    OCL_TerrorDroneUnBurrow
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
FXListUpgrade    FX_TerrorDronePopoutofGround
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform04
MaxQueueEntries  1
End

;************************************
;******Transformation Code End********
;************************************

Behavior  FireWeaponUpdate ModuleTag_CollisionRemoval01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CollisionRemoval02
CollideWeapon   TerrorDroneCollisionRemovalWeapon
RequiredStatus  IS_FIRING_WEAPON
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  StealthUpdate ModuleTag_Stealth01
RequiredStatus               STATUS_RIDER2
StealthDelay                 2000 ; msec
StealthForbiddenConditions   ATTACKING
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  6.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object AmericaVehicleTermiteDrone

; *** ART Parameters ***
SelectPortrait          SATermiteDrone_L
ButtonImage             SATermiteDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_HVR
AnimationMode      LOOP
ParticleSysBone    NONE TermiteHoveringWave
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
End
End

Side  America
EditorSorting  VEHICLE
BuildCost        600
BuildTime        6.0          ;in seconds

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

BuildVariations  AmericaVehicleTermiteDrone_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  6.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaVehicleTermiteDrone_Var1

; *** ART Parameters ***
SelectPortrait          SATermiteDrone_L
ButtonImage             SATermiteDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState       NONE
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_HVR
AnimationMode      LOOP
ParticleSysBone    NONE TermiteHoveringWave
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
TransitionKey      TRANS_NORMAL
End
AliasConditionState  RIDER1

TransitionState      TRANS_NORMAL TRANS_DEPLOYED
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
ParticleSysBone    NONE TermiteHoveringWave
End

TransitionState      TRANS_DEPLOYED TRANS_NORMAL
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE_BACKWARDS
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
ParticleSysBone    NONE TermiteHoveringWave
End

ConditionState       RIDER2
Model              AVTermite_SKN
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
Turret             Turret
Flags              START_FRAME_LAST
TransitionKey      TRANS_DEPLOYED
End

;Damaged conditions

ConditionState       REALLYDAMAGED RIDER1
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_HVR
AnimationMode      LOOP
ParticleSysBone    NONE TermiteHoveringWave
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
TransitionKey      TRANS_DAMAGED_NORMAL
ParticleSysBone    HOUSECOLOR02 SparksMedium
End

TransitionState      TRANS_DAMAGED_NORMAL TRANS_DAMAGED_DEPLOYED
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
ParticleSysBone    NONE TermiteHoveringWave
End

TransitionState      TRANS_DAMAGED_DEPLOYED TRANS_DAMAGED_NORMAL
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE_BACKWARDS
ParticleSysBone    THRUSTER01 TermiteEngineFlare
ParticleSysBone    THRUSTER02 TermiteEngineFlare
ParticleSysBone    THRUSTER03 TermiteEngineFlare
ParticleSysBone    THRUSTER04 TermiteEngineFlare
ParticleSysBone    NONE TermiteHoveringWave
End

ConditionState       REALLYDAMAGED RIDER2
Model              AVTermite_SKN_D
Animation          AVTermite_SKL.AVTermite_DPL
AnimationMode      ONCE
Turret             Turret
Flags              START_FRAME_LAST
TransitionKey      TRANS_DAMAGED_DEPLOYED
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model                AVTermite_BOX
End
End


; ***DESIGN parameters ***
DisplayName         OBJECT:TermiteDrone
Side                America
EditorSorting       SYSTEM
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  SECONDARY TermiteDroneMicrowavePulseGunDummyWeapon
AutoChooseSources  SECONDARY NONE
Weapon  TERTIARY  TermiteDroneMicrowavePulseGunDummyWeapon
AutoChooseSources  TERTIARY NONE
WeaponLockSharedAcrossSets  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  SECONDARY TermiteDroneMicrowavePulseGun
Weapon  TERTIARY  TermiteDroneMicrowavePulseGunDummyWeapon
AutoChooseSources  TERTIARY NONE
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         TruckDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  SentryDroneArmorUpgraded
DamageFX               None
End

BuildCost        300
BuildTime        6.0          ;in seconds
VisionRange      100
ShroudClearingRange  200

Prerequisites
Object  FactionBasePowerActive
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue  50 50 50 50
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            TermiteDroneVoiceSelect
VoiceMove              TermiteDroneVoiceMove
VoiceGuard             TermiteDroneVoiceMove
VoiceAttack            TermiteDroneVoiceMove
;SoundMoveStart         TermiteMoveStart
;SoundMoveStartDamaged  TermiteMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
Deploy               DirtExplosion
Undeploy             TerrorDroneBurstOutOfGround
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         360
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY TERTIARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ;No they now auto accuire targets set them to hold fire you don't want them to fire
MoodAttackCheckRate  33
TurretsLinked  Yes
End
Locomotor  SET_NORMAL TermiteDroneLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaTermiteDroneCommandSet         SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaTermiteDroneDeployedCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform02
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  GrantUpgradeCreate ModuleTag_Transform04
UpgradeToGrant      Upgrade_ChinaOverlordGattlingCannon
End

Behavior  LockWeaponCreate ModuleTag_Transform05
SlotToLock  SECONDARY
End

Behavior  FireWeaponUpdate ModuleTag_Transform06
Weapon  GenericCollisionDummyWeapon
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
UpgradeObject    OCL_TermiteDroneSwitchModeDelayObject
TriggeredBy      Upgrade_ChinaOverlordGattlingCannon
End

;Primary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_TermiteDroneStandardMode
ConflictsWith    Upgrade_ChinaOverlordGattlingCannon
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
FXListUpgrade    FX_TerrorDronePopoutofGround
End

;Secondary Unit Mode Triggers
Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_TermiteDroneDeployMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
FXListUpgrade    FX_TerrorDroneDigInGround
End

Behavior  FireWeaponCollide ModuleTag_Transform10
CollideWeapon   TermiteDroneEmitterDecalWeapon
RequiredStatus  STATUS_RIDER2
End

Behavior  FireWeaponCollide ModuleTag_Transform11
CollideWeapon   TermiteDroneDeployedCollisionDummyWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End


Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL
DestructionDelay   1
OCL  FINAL OCL_AmericanTermiteDroneDeathEffect
FX   FINAL FX_TermiteDroneDeathEffect
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                 2000 ; msec
RequiredStatus               STATUS_RIDER2
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  8.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------
;  
;------------------------
Object AmericaVehicleSupplyDronePurchasedByAirdrop

; *** ART Parameters ***
SelectPortrait  SASupplyDrone_L
ButtonImage     SASupplyDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVWrkHrs
End
End

Side  America
EditorSorting  SYSTEM
BuildCost  500
BuildTime  10.0      ;in seconds

Prerequisites
Object  AmericaSupplyCenter
Object  FactionBasePowerActive
Science  SCIENCE_LogisticsEffeciency
End

BuildVariations  AmericaVehicleSupplyDroneDeliveredByChinookObject
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER POWERED DRONE SCORE

End

;------------------------------------------------------------------------------
Object AmericaVehicleSupplyDrone

; *** ART Parameters ***
SelectPortrait  SASupplyDrone_L
ButtonImage     SASupplyDrone

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState    NONE
Model          AVWrkHrs
HideSubObject  CARGO01
End

ConditionState   CARRYING
Model          AVWrkHrs
ShowSubObject  CARGO01
End

ConditionState   REALLYDAMAGED
Model          AVWrkHrs_D
HideSubObject  CARGO01
End
AliasConditionState  RUBBLE

ConditionState   REALLYDAMAGED CARRYING
Model          AVWrkHrs_D
ShowSubObject  CARGO01
End
AliasConditionState  RUBBLE CARRYING

TrackMarks               EXTireTrack.tga

Dust                     RocketBuggyDust
DirtSpray                RocketBuggyDirtSpray
PowerslideSpray          RocketBuggyDirtPowerSlide

LeftFrontTireBone            Wheel01
RightFrontTireBone           Wheel02
MidLeftRearTireBone          Wheel03
MidRightRearTireBone         Wheel04
LeftRearTireBone             Wheel05
RightRearTireBone            Wheel06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.
End

; ***DESIGN parameters ***
DisplayName          OBJECT:SupplyDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   2                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            500
BuildTime            10.0      ;in seconds
VisionRange          150
ShroudClearingRange  200

Prerequisites
Object  AmericaSupplyCenter
Object  FactionBasePowerActive
Science  SCIENCE_LogisticsEffeciency
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TankDamageFX
End

ExperienceValue          50 50 50 50 ;Experience point value at each level
CrusherLevel             0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               StopOnlyGenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect            SupplyDroneVoiceSelect
VoiceMove              SupplyDroneVoiceMove
VoiceGuard             SupplyDroneVoiceMove
SoundMoveStart         SupplyDroneMoveStart
SoundMoveStartDamaged  SupplyDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
VoiceSupply          SupplyDroneVoiceSupply
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER POWERED DRONE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  300
SubdualDamageHealRate  500
SubdualDamageHealAmount  25
End

Behavior  ChinookAIUpdate ModuleTag_03
MaxBoxes                 2
SupplyCenterActionDelay  4000     ; ms for whole thing (one transaction)
SupplyWarehouseActionDelay  3000  ; ms per box (many small transactions)
SupplyWarehouseScanDistance  700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
UpgradedSupplyBoost  15    ; increase in value of the crates when supply lines has been upgraded
End
Locomotor  SET_NORMAL SupplyDroneLocomotor

;This transport contain can't actually be used by anything but its required for the ChinookAIUpdate supply code to work properly
Behavior  TransportContain ModuleTag_Supply01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
ForbidInsideKindOf     AIRCRAFT HUGE_VEHICLE INFANTRY VEHICLE
ExitDelay              100
NumberOfExitPaths      1
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL FX_SupplyDroneExplosionOneFinal
OCL  FINAL OCL_AmericaSupplyDroneDeathEffect
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_07
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_AmericaSupplyDroneDeathEffect
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  BOX
GeometryMajorRadius  15.6
GeometryMinorRadius  8.0
GeometryHeight  12.6
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------
;  
;------------------------

Object AmericaVehicleSentryDrone

; *** ART Parameters ***
SelectPortrait          SAsentry_L
ButtonImage             SAsentry

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      LOOP
Turret             TURRET01
HideSubObject      HOUSECOLOR03 GUN01 GUNUPGRADE01 MUZZLEFX01 MGMZLFX01
ParticleSysBone    RADAR GLAVanRadarEffect
End

ConditionState       REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
ParticleSysBone    TURRET01 SparksMedium
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_Gun01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      MANUAL
Turret             GUN_TURRET
HideSubObject      CHASSIS HOUSECOLOR03 GUNUPGRADE01
WeaponFireFXBone   PRIMARY MgMzlFX
WeaponLaunchBone   PRIMARY MgMzlFX
WeaponMuzzleFlash  PRIMARY MgMzlFX
WeaponMuzzleFlash  SECONDARY MuzzleFX
End
AliasConditionState  MOVING
AliasConditionState  ATTACKING MOVING
AliasConditionState  ATTACKING

ConditionState  REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      MANUAL
Turret             GUN_TURRET
HideSubObject      CHASSIS HOUSECOLOR03 GUNUPGRADE01
WeaponFireFXBone   PRIMARY MgMzlFX
WeaponLaunchBone   PRIMARY MgMzlFX
WeaponMuzzleFlash  PRIMARY MgMzlFX
WeaponMuzzleFlash  SECONDARY MuzzleFX
End
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  REALLYDAMAGED ATTACKING MOVING
AliasConditionState  ATTACKING REALLYDAMAGED

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      MANUAL
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      LOOP
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      MANUAL
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED ATTACKING MOVING

ConditionState  WEAPONSET_PLAYER_UPGRADE ATTACKING REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      LOOP
Turret             GUN_TURRET
ShowSubObject      GUNUPGRADE01
HideSubObject      CHASSIS HOUSECOLOR03 GUN01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponMuzzleFlash  SECONDARY MgMzlFX
End

End

Draw  W3DModelDraw ModuleTag_Antenna

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVSentry
Animation          AVSentry.AVSentry
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             GUN_TURRET
HideSubObject      CHASSIS HOUSECOLOR04 TURRET01 GUN01 GUNUPGRADE01 MUZZLEFX01 MGMZLFX01
End

ConditionState  MOVING
AnimationMode      LOOP
End

ConditionState  REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
End

ConditionState  MOVING REALLYDAMAGED
Model              AVSentry_D
Animation          AVSentry_D.AVSentry_D
AnimationMode      LOOP
End

End

Draw  W3DModelDraw ModuleTag_Headlights01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVSentry_N
Turret  Turret
End

ConditionState  RUBBLE
Model  NONE
End

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDtectDcl_B
WaitForStateToFinishIfPossible  TRANS_SHOW_DETECTION_RANGE
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              EXDtectDcl
Animation          EXDtectDcl.EXDtectDcl
AnimationMode      ONCE
TransitionKey      TRANS_SHOW_DETECTION_RANGE
End

End

; ***DESIGN parameters ***
DisplayName         OBJECT:SentryDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  NONE
Weapon  PRIMARY SentryDroneGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY SentryDroneGunUpgraded
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         TruckDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SentryDroneArmorUpgraded
DamageFX         TruckDamageFX
End

Prerequisites
Object             FactionBasePowerActive
End

BuildCost        500
BuildTime        7.0          ;in seconds
VisionRange      200
ShroudClearingRange  250

ExperienceValue  50 50 50 50
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaVehicleSentryDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            SentryDroneVoiceSelect
VoiceMove              SentryDroneVoiceMove
VoiceGuard             SentryDroneVoiceMove
VoiceAttack            SentryDroneVoiceMove
SoundMoveStart         SentryDroneMoveStart
SoundMoveStartDamaged  SentryDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         90
TurretPitchRate        90
FirePitch              0            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch            No
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY TERTIARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaDroneWeapons
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End

Locomotor  SET_NORMAL SentryLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleSentryDroneDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  ProductionUpdate ModuleTag_ShowDetectionRange01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ObjectCreationUpgrade ModuleTag_ShowDetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  OverlordContain ModuleTag_ShowDetectionRange03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericanSentryDroneDetectionRangeIndicatorDecalObject
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object AmericanSentryDroneDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

;------------------------
;  
;------------------------
Object AmericaVehicleRepairDrone

; *** ART Parameters ***
SelectPortrait          SARepairDrone_L
ButtonImage             SARepairDrone

Draw  W3DOverlordTruckDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOINT01

DefaultConditionState
Model          AVRepairDr
End

ConditionState   PREATTACK_A
Model          AVRepairDr
Animation      AVRepairDr.AVRepairDr
AnimationMode  ONCE
End

ConditionState   REALLYDAMAGED
Model          AVRepairDr_D
ParticleSysBone  TURRET01 SparksMedium
End

ConditionState   REALLYDAMAGED PREATTACK_A
Model          AVRepairDr_D
Animation      AVRepairDr_D.AVRepairDr_D
AnimationMode  ONCE
End

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone            TIRE01
RightFrontTireBone           TIRE02
LeftRearTireBone             TIRE03
RightRearTireBone            TIRE04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   2.5   ; This speed is added to the rotation speed when powersliding.

RotationDamping  0.7
TrackMarks            EXTireTrack.tga

End


; ***DESIGN parameters ***
DisplayName         OBJECT:RepairDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  TERTIARY SupportVehicleDummyWeapon
End

ArmorSet
Conditions       None
Armor            RepairDroneArmor
DamageFX         TruckDamageFX
End

Prerequisites
Object             FactionBasePowerActive
End

BuildCost        600
BuildTime        8.0          ;in seconds

VisionRange  200
ShroudClearingRange  200

ExperienceValue  50 50 100 150   ;Experience point value at each level
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaRepairDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            RepairDroneVoiceSelect
VoiceMove              RepairDroneVoiceMove
VoiceGuard             RepairDroneVoiceMove
VoiceAttack            RepairDroneVoiceMove
SoundMoveStart         RocketBuggyMoveStart
SoundMoveStartDamaged  RocketBuggyMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE DRONE POWERED

Body  ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle    Yes
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End
Locomotor  SET_NORMAL HumveeLocomotor


Behavior  OverlordContain ModuleTag_PointDefenceLaser01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      RepairDronePointDefenceLaserObject
ExperienceSinkForRider   Yes ; I get the Exp for things my turret friend kills
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_PointDefenceLaser02
StartsActive   No
TriggeredBy    Upgrade_AmericaPointDefenceLasers
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       AvengerPDLDecalWeapon
ContinuousWeaponDamaged        AvengerPDLDecalWeapon
ContinuousWeaponReallyDamaged  AvengerPDLDecalWeapon
;No rubble weapon as this decal should disappear when dead
;ContinuousWeaponRubble
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  FINAL OCL_AmericaRepairDroneDebris
FX   FINAL FX_AmericaRepairDroneDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_RepairDecal01
Weapon  RepairDroneDecalWeapon
End

Behavior  BoneFXDamage ModuleTag_Repair01
End

Behavior  BoneFXUpdate ModuleTag_Repair02
PristineOCL1       bone:NULL OnlyOnce:No 200 200 OCL:OCL_RepairDroneHealingAura
DamagedOCL1        bone:NULL OnlyOnce:No 200 200 OCL:OCL_RepairDroneHealingAura
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 200 200 OCL:OCL_RepairDroneHealingAura
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45
Scale  0.95

End

;------------------------------------------------------------------------------
Object RepairDronePointDefenceLaserObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model          NONE
End
AliasConditionState  REALLYDAMAGED

ConditionState   WEAPONSET_PLAYER_UPGRADE
Model          AVRepairDr_L
End

ConditionState   REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
Model          AVRepairDr_LD
End

End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   1

VisionRange      250
ShroudClearingRange  150

WeaponSet
Conditions  None
Weapon  PRIMARY   NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   RepairDronePointDefenseLaser
End

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate       36000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  1
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaPointDefenceLasers
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object RepairDroneHealingFieldObject

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AutoHealBehavior ModuleTag_Repair01
HealingAmount  5.0
HealingDelay  200
Radius  80.0
StartsActive  Yes
KindOf  DRONE
ForbiddenKindOf  AIRCRAFT
;UnitHealPulseParticleSystemName  VehicleRepairingEffect
SkipSelfForHealing  Yes
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  200
MaxLifetime  200
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_RepairDroneVehicleRepairCrate
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the repair drone constantly but will only activate once a workshop has been constructed
Object RepairDroneVehicleRepairCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM


; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  RepairDroneVehicleHealingFieldObject
RequiredKindOf  DRONE
ForbiddenKindOf  INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  No
ForbidOwnerPlayer  No
PickupScience  SCIENCE_DroneWorkshop
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  100
MaxLifetime  100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object RepairDroneVehicleHealingFieldObject

EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AutoHealBehavior ModuleTag_Repair02
HealingAmount  6.0
HealingDelay  200
Radius  80.0
StartsActive  Yes
KindOf  VEHICLE
ForbiddenKindOf  DRONE AIRCRAFT
;UnitHealPulseParticleSystemName  VehicleRepairingEffect
SkipSelfForHealing  Yes
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  200
MaxLifetime  200
End

End

;------------------------
;   
;------------------------
Object AmericaVehicleReconDrone

; *** ART Parameters ***
SelectPortrait          SAReconDrone_L
ButtonImage             SAReconDrone

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model          AVRcnDrn
Animation      AVRcnDrn.AVRcnDrn
AnimationMode  ONCE_BACKWARDS
Turret         TURRET
Flags          MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState   PREATTACK_A
Model          AVRcnDrn
Animation      AVRcnDrn.AVRcnDrn
AnimationMode  ONCE
End

ConditionState   USING_WEAPON_A
Model          AVRcnDrn
Animation      AVRcnDrn.AVRcnDrn
AnimationMode  ONCE
End

ConditionState   REALLYDAMAGED
Model          AVRcnDrn_D
Animation      AVRcnDrn_D.AVRcnDrn_D
End
AliasConditionState  RUBBLE

ConditionState   REALLYDAMAGED PREATTACK_A
Model          AVRcnDrn_D
Animation      AVRcnDrn_D.AVRcnDrn_D
AnimationMode  ONCE
End

ConditionState   REALLYDAMAGED USING_WEAPON_A
Model          AVRcnDrn_D
Animation      AVRcnDrn_D.AVRcnDrn_D
AnimationMode  ONCE
End

TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

; ***DESIGN parameters ***
DisplayName         OBJECT:ReconDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY  ReconDroneMineDisarmingWeapon
Weapon  TERTIARY ReconDroneTargetDesignator
End

Prerequisites
Object  FactionBasePowerActive
End

ArmorSet
Conditions       None
Armor            RecondDroneArmor
DamageFX         TruckDamageFX
End

BuildCost        200
BuildTime        5.0          ;in seconds
VisionRange          130
ShroudClearingRange  350

ExperienceValue  10 10 10 10
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaReconDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            ReconDroneVoiceSelect
VoiceMove              ReconDroneVoiceMove
VoiceGuard             ReconDroneVoiceMove
VoiceAttack            ReconDroneVoiceMove
SoundMoveStart         ReconDroneMoveStart
SoundMoveStartDamaged  ReconDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         180
ControlledWeaponSlots  TERTIARY
NaturalTurretAngle     0
MinIdleScanInterval    1000 ; in milliseconds
MaxIdleScanInterval    1000 ; in milliseconds
MinIdleScanAngle       20   ; in degrees off the natural turret angle
MaxIdleScanAngle       180  ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  No
TurretsLinked Yes
End
Locomotor  SET_NORMAL ReconDroneLocomotor

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100    ;how often to rescan for stealthed things in my sight (msec)
DetectionRange             150    ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No     ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No     ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE   ;we can only detect MINES, not other stealthed things
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100    ;how often to rescan for stealthed things in my sight (msec)
DetectionRange             150    ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No     ;Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No     ;Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP ;we can only detect MINES, not other stealthed things
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   1
FX   INITIAL  FX_ReconDroneDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleReconDroneDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------------------
;   
;-----------------------------------
Object AmericaVehicleSpyDrone

; *** ART Parameters ***
SelectPortrait          SAPredatorDrone_L
ButtonImage             SAPredatorDrone

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       CHASSIS

ConditionState  NONE
Model  AVSpyDr
Animation  AVSpyDr.AVSpyDr
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  AVSpyDr_D
Animation  AVSpyDr_D.AVSpyDr_D
AnimationMode  LOOP
ParticleSysBone    NONE SparksMedium
End

End

Draw  W3DModelDraw ModuleTag_Rotor01

ConditionState  NONE
Model  AVSpyDr_U
Animation  AVSpyDr_U.AVSpyDr_U
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  AVSpyDr_UD
Animation  AVSpyDr_UD.AVSpyDr_UD
AnimationMode  LOOP
End

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDtectDcl_B
WaitForStateToFinishIfPossible  TRANS_SHOW_DETECTION_RANGE
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              EXDtectDcl
Animation          EXDtectDcl.EXDtectDcl
AnimationMode      ONCE
TransitionKey      TRANS_SHOW_DETECTION_RANGE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:SpyDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions       None
Weapon           PRIMARY   PredatorDroneFollowWeapon
Weapon           SECONDARY PredatorDroneRevealDummyWeapon
End

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         SmallTankDamageFX
End

Prerequisites
Object  AmericaDetentionCamp AmericaDroneControlCenter
Science SCIENCE_SpyDrone
End

VisionRange          200
ShroudClearingRange  200
BuildCost            500
BuildTime            5.0
IsTrainable      No
ExperienceValue     5 5 5 5     ;Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            PredatorVoiceSelect
VoiceMove              PredatorVoiceMove
VoiceGuard             PredatorVoiceMove
VoiceAttack            PredatorVoiceMove
SoundMoveStart         SpyDroneMoveStart
SoundMoveStartDamaged  SpyDroneMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          PredatorVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE AIRCRAFT DRONE IGNORES_SELECT_ALL CANNOT_RETALIATE SCORE PRODUCED_AT_HELIPAD

CommandSet       AmericaDroneGlobalHawkCommandSet

Body  ActiveBody ModuleTag_02
MaxHealth        90.0
InitialHealth    90.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End
Locomotor  SET_NORMAL GlobalHawkLocomtor


Behavior  PhysicsBehavior ModuleTag_06
Mass  50.0
End

Behavior  DestroyDie ModuleTag_07
DeathTypes  ALL
End

Behavior                  CreateObjectDie ModuleTag_08
DeathTypes  ALL
CreationList       OCL_AmericaScoutDroneExplode
End

Behavior  MaxHealthUpgrade ModuleTag_10
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   22.5
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  SpecialAbility ModuleTag_ScannerSweep01
SpecialPowerTemplate      SpecialAbilityPredatorDroneScanner
UpdateModuleStartsAttack  Yes
StartsPaused              No
InitiateSound             PredatorVoiceScan
End

Behavior  SpecialAbilityUpdate ModuleTag_ScannerSweep02
SpecialPowerTemplate                SpecialAbilityPredatorDroneScanner
StartAbilityRange                   15.0
PreparationTime                     0
SpecialObjectAttachToBone           None
SpecialObject                       PredatorDroneScannerSweepObject
MaxSpecialObjects                   5
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent            Yes     ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets          No      ;This would prevent multiple charges placed on the same object.
UnpackTime                          450.0     ;slight delay to drop bomb
PackTime                            0.0
FlipOwnerAfterUnpacking             No
FleeRangeAfterCompletion            0.0     ;Dees not run away after finishing ability
UnpackSound                         NoSound
LoseStealthOnTrigger                No
ApproachRequiresLOS                 No      ; we are a helicopter, we can see everything
NeedToFaceTarget                    No      ; can drop the bomb at any angle to target
PersistentPrepTime                  100
PersistenceRequiresRecharge         Yes
End

Behavior  FireWeaponCollide ModuleTag_ScannerSweep03
CollideWeapon   PredatorDroneScanningPingEffectWeapon
RequiredStatus  USING_ABILITY
End

Behavior  FireWeaponUpdate ModuleTag_ScannerSweep04
Weapon  GenericCollisionDummyWeapon
End

Behavior            OCLSpecialPower ModuleTag_PulseDetection01
SpecialPowerTemplate  SpecialAbilitySentryDroneDetectionPulse
OCL                   OCL_SentryDroneStealthDetectionPulse
CreateLocation        USE_OWNER_OBJECT
End

Behavior  StealthUpdate ModuleTag_Stealth01
RequiredStatus               USING_ABILITY
StealthDelay                 3000 ; msec
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                No ;Requires upgrade first
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  StealthUpgrade ModuleTag_Stealth02
TriggeredBy  Upgrade_AmericaStealthCoating
End

Behavior  ProductionUpdate ModuleTag_DetectionRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_DetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  OverlordContain ModuleTag_ShowDetectionRange03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericaPredatorDroneDetectionRangeIndicatorDecalObject
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaPredatorDroneDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

;-----------------------------------
;   
;-----------------------------------
Object AmericaVehicleMuleDrone

; *** ART Parameters ***
SelectPortrait          SAMule_L
ButtonImage             SAMule

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVMule
End
End

Prerequisites
Object             FactionBasePowerActive
End

Side  America
EditorSorting  VEHICLE
BuildCost        400
BuildTime        5.0          ;in seconds

BuildVariations  AmericaVehicleMule_Var1 AmericaVehicleMule_Var2 AmericaVehicleMule_Var3 AmericaVehicleMule_Var4 AmericaVehicleMule_Var5 AmericaVehicleMule_Var6
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

End

;------------------------------------------------------------------------------
Object AmericaVehicleMule_Core

; *** ART Parameters ***
SelectPortrait          SAMule_L
ButtonImage             SAMule

UpgradeCameo1  Upgrade_AmericaDroneArmor

Draw  W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model              AVMule
End
End

; ***DESIGN parameters ***
DisplayName         OBJECT:Mule
Side                America
EditorSorting       SYSTEM
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  NONE
Weapon  PRIMARY   MuleDroneMinigunWeapon
Weapon  SECONDARY MuleDroneHoldfireFollowWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         TruckDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  SentryDroneArmorUpgraded
DamageFX               None
End

Prerequisites
Object             FactionBasePowerActive
End

BuildCost        400
BuildTime        5.0          ;in seconds
VisionRange      200
ShroudClearingRange  250

ExperienceValue  50 50 50 50
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet     AmericaVehicleMuleDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MuleDroneVoiceSelect
VoiceMove              MuleDroneVoiceMove
VoiceGuard             MuleDroneVoiceMove
VoiceAttack            MuleDroneVoiceAttack
SoundMoveStart         MuleDroneMoveStart
SoundMoveStartDamaged  MuleDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_0223121
MaxHealth        250.0
InitialHealth    250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         180
TurretPitchRate        180
FirePitch              0            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch            No
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      No
MinIdleScanInterval    250     ; in milliseconds
MaxIdleScanInterval    1000    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       150     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End
Locomotor  SET_NORMAL CrusaderLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_MuleDroneDeathEffect
FX   FINAL    FX_AmericaMuleDroneDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  MuleDroneWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  MuleDroneWeaponBonusDecalWeapon
End

;Countermeasure grenades
Behavior            OCLSpecialPower ModuleTag_FireFlares01
SpecialPowerTemplate  SpecialAbilityMuleDroneFlares
OCL                   OCL_UniversalAbbilityTrigger
CreateLocation        USE_OWNER_OBJECT
End

Behavior  FireWeaponCollide ModuleTag_FireFlares02
CollideWeapon   MuleDroneCounterMeasureFlareLaunchWeapon
RequiredStatus  USING_ABILITY
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  12.0
GeometryMinorRadius  9.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var1 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES02 CRATES03 CRATES04 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var2 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES03 CRATES04 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var3 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES04 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var4 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES03 CRATES05 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var5 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES03 CRATES04 CRATES06 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaVehicleMule_Var6 AmericaVehicleMule_Core


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Animation          AVMule.AVMule
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
Turret             TURRET
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
HideSubObject      CRATES01 CRATES02 CRATES03 CRATES04 CRATES05 MUZZLEFX01
AnimationSpeedFactorRange  1.0 1.0
End

ConditionState       ATTACKING
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState       REALLYDAMAGED
Model              AVMule_D
Animation          AVMule_D.AVMule_D
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       REALLYDAMAGED ATTACKING
Model              AVMule_D
Animation          AVMule_D.AVMule_D
AnimationMode      LOOP
AnimationSpeedFactorRange  3.0 3.0
ParticleSysBone    TURRET01 SparksMedium
End

ConditionState       RUBBLE
Model              AVMule_D1
End


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_02

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVMule
Turret             TURRET
HideSubObject      CHASSIS TURRET01 MUZZLEFX01
End

ConditionState       FIRING_A
ShowSubObject       MUZZLEFX01
End

End

End

;-----------------------------------
;    
;-----------------------------------
Object AmericaJetHunterKillerDrone

; *** ART Parameters ***
SelectPortrait          SAHunterKiller_L
ButtonImage             SAHunterKiller

Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY SECONDARY

DefaultConditionState
Model                AVHntrKlr
HideSubObject        BurnerFX01 BurnerFX02
WeaponLaunchBone     PRIMARY   WeaponA
WeaponLaunchBone     SECONDARY WeaponB
End

ConditionState         JETEXHAUST
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         JETEXHAUST JETAFTERBURNER
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
; afterburner
HideSubObject        BurnerFX01 BurnerFX02
End

ConditionState         REALLYDAMAGED
Model                AVHntrKlr_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke01 SparksMedium
ParticleSysBone      Engine01 JetEngineDamagedSmoke
End

ConditionState         REALLYDAMAGED JETEXHAUST
Model                AVHntrKlr_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke01 SparksMedium
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End

ConditionState         REALLYDAMAGED JETEXHAUST JETAFTERBURNER
Model                AVHntrKlr_D
; damage
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke01 SparksMedium
ParticleSysBone      Engine01 JetEngineDamagedSmoke
; afterburner
HideSubObject        BurnerFX01 BurnerFX02
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End


ConditionState         RUBBLE JETEXHAUST JETAFTERBURNER
Model                AVHntrKlr_D
HideSubObject        None
ShowSubObject        None
ParticleSysBone      Smoke01 JetSmoke
ParticleSysBone      Smoke02 JetSmoke
ParticleSysBone      Smoke03 JetSmoke
; exhaust
ParticleSysBone      Wingtip01 JetContrail
ParticleSysBone      Wingtip02 JetContrail
End
AliasConditionState         RUBBLE

End

Draw                 W3DModelDraw ModuleTag_TargetingLaser01

DefaultConditionState
Model            None
AltTurretPitch   LASER01
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  FIRING_A
AliasConditionState  USER_1

ConditionState     USER_1 FIRING_A
Model            AVJetLsr
Animation        AVJetLsr.AVJetLsr
AnimationMode    ONCE
TransitionKey    TRANS_START_FIRING
End

End

Draw  W3DModelDraw ModuleTag_PickBox01
DefaultConditionState
Model          EXJetPickBox
End
End



; ***DESIGN parameters ***
DisplayName              OBJECT:HunterKiller
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              400.0
ShroudClearingRange      400.0

WeaponSet
Conditions             None
Weapon                 PRIMARY   HunterKillerDroneMissileWeapon
Weapon                 SECONDARY HunterKillerDroneMissileWeapon
End

ArmorSet
Conditions             None
Armor                  AirplaneArmor
DamageFX               None
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  CountermeasuresAirplaneArmor
DamageFX               None
End

BuildCost                1000
BuildTime                14.0
ExperienceValue          100 100 100 100
IsTrainable              No             ;Can gain experience

CrusherLevel            1  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               AmericaJetHunterKillerDroneCommandSet

; *** AUDIO Parameters ***
VoiceSelect             HunterKillerVoiceSelect
VoiceMove               HunterKillerVoiceMove
VoiceAttack             HunterKillerVoiceAttack
VoiceGuard              HunterKillerVoiceGuardArea
SoundAmbient            RaptorAmbientLoop

UnitSpecificSounds
VoiceCreate           HunterKillerVoiceCreate
Afterburner           RaptorAfterburner
VoiceGarrison         HunterKillerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT DRONE
Body                    ActiveBody ModuleTag_02
MaxHealth             150.0
InitialHealth         150.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                           JetSlowDeathBehavior ModuleTag_05
FXOnGroundDeath                  FX_JetOnGroundDeath
OCLOnGroundDeath                 OCL_RaptorDeathFinalBlowUp
DestructionDelay                 99999999; destruction will happen when we
RollRate                         0.2
RollRateDelta                    100% ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_HunterKillerDeathInitial
OCLInitialDeath                  OCL_RaptorDeathInitial
DelaySecondaryFromInitialDeath   500  ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     OCL_RaptorDeathSecondary
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_RaptorDeathHitGround
DelayFinalBlowUpFromHitGround    200 ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_HunterKillerDeathFinalBlowUp
End

Behavior                PhysicsBehavior ModuleTag_07
Mass                  500.0
End

Behavior                  TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End

Behavior  JetAIUpdate ModuleTag_09

Turret
TurretTurnRate         0
ControlledWeaponSlots  PRIMARY
End
AltTurret
TurretTurnRate         0
ControlledWeaponSlots  SECONDARY
End
TurretsLinked               Yes

OutOfAmmoDamagePerSecond   10%  ; amount of damage to take per SEC (not per frame) when out of ammo
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause               500
MinHeight                  5
ParkingOffset              3             ; scooch it a little forward so the tail doesn't hit the doors
ReturnToBaseIdleTime       10000         ; if idle for this long, return to base, even if not out of ammo
End
Locomotor  SET_NORMAL HunterKillerLocomotor
Locomotor  SET_TAXIING BasicJetTaxiLocomotor

Behavior  MaxHealthUpgrade ModuleTag_DroneArmor01
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   110.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  ModelConditionUpgrade ModuleTag_LaserGuidance02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaLaserMissiles
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare  ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1      ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000    ; Time between flare volleys
NumberOfVolleys        12     ; Number of times the volleys will fire before reloading
ReloadTime             0      ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%    ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0      ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200    ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End


Behavior   StealthUpdate ModuleTag_Stealth02
StealthDelay                            3000 ; msec
StealthForbiddenConditions              FIRING_PRIMARY ATTACKING USING_ABILITY TAKING_DAMAGE
RevealDistanceFromTarget                20.0f
FriendlyOpacityMin                      5.0%
FriendlyOpacityMax                      10.0%
InnateStealth                           No
OrderIdleEnemiesToAttackMeUponReveal    Yes
End

Behavior   StealthUpgrade ModuleTag_Stealth03
TriggeredBy   Upgrade_AmericaStealthCoating
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
;   
;------------------------------------------------------------------------------
Object AmericaVehicleGuardianDrone

; *** ART Parameters ***
SelectPortrait          SAGuardian_L
ButtonImage             SAGuardian

Draw  W3DTankDraw ModuleTag_01

MaxRecoilDistance     2.0
RecoilSettleSpeed     4.0
OkToChangeModelColor  Yes

ConditionState       NONE
Model              AVGuardDr
Animation          AVGuardDr.AVGuardDr
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_NORMAL
End
AliasConditionState  RIDER1
AliasConditionState  RIDER1 NIGHT
AliasConditionState  DISGUISED NIGHT

;Transitions
TransitionState      TRANS_NORMAL TRANS_DUG_IN
Model              AVGuardDr
Animation          AVGuardDr.AVGuardDr
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

TransitionState      TRANS_DUG_IN TRANS_NORMAL
Model              AVGuardDr_A
Animation          AVGuardDr_A.AVGuardDr_A
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

ConditionState  RIDER2
Model              AVGuardDr
Animation          AVGuardDr.AVGuardDr
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_DUG_IN
End
AliasConditionState  RIDER2 NIGHT

;Damaged Conditions
ConditionState       REALLYDAMAGED
Model              AVGuardDr_D
Animation          AVGuardDr_D.AVGuardDr_D
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_DAMAGED_NORMAL
ParticleSysBone    TURRET SparksMedium
End
AliasConditionState  RIDER1 REALLYDAMAGED
AliasConditionState  RIDER1 REALLYDAMAGED NIGHT
AliasConditionState  DISGUISED REALLYDAMAGED
AliasConditionState  DISGUISED REALLYDAMAGED NIGHT

;Transitions
TransitionState      TRANS_DAMAGED_NORMAL TRANS_DAMAGED_DUG_IN
Model              AVGuardDr_D
Animation          AVGuardDr_D.AVGuardDr_D
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

TransitionState      TRANS_DAMAGED_DUG_IN TRANS_DAMAGED_NORMAL
Model              AVGuardDr_AD
Animation          AVGuardDr_AD.AVGuardDr_AD
AnimationMode      ONCE
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY NONE
WeaponRecoilBone   SECONDARY BARREL
WeaponMuzzleFlash  TERTIARY MUZZLEFX
End

ConditionState       RIDER2 REALLYDAMAGED
Model              AVGuardDr_D
Animation          AVGuardDr_D.AVGuardDr_D
AnimationMode      ONCE
Flags              START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret             TURRET
WeaponFireFXBone   SECONDARY TURRETMS
WeaponLaunchBone   SECONDARY TURRETMS
WeaponMuzzleFlash  SECONDARY MUZZLEFX
WeaponRecoilBone   SECONDARY BARREL
TransitionKey      TRANS_DAMAGED_DUG_IN
ParticleSysBone    TURRET SparksMedium
End
AliasConditionState  RIDER2 REALLYDAMAGED NIGHT


TrackMarks            EXTnkTrack.tga
TreadDebrisLeft       RocketBuggyDust
TreadDebrisRight      Nada
TreadAnimationRate    4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_DirtPatch01

DefaultConditionState
Model              AVGuardDr_A2
Animation          AVGuardDr_A2.AVGuardDr_A2
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
HideSubObject      DIRT
TransitionKey      TRANS_NORMAL
End
AliasConditionState  RIDER1
AliasConditionState  NIGHT RIDER1

TransitionState  TRANS_NORMAL TRANS_DUG_IN
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

ConditionState  RIDER2
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_DUG_IN
ShowSubObject      DIRT
End
AliasConditionState  NIGHT RIDER2

TransitionState  TRANS_DUG_IN TRANS_NORMAL
Model              AVGuardDr_A3
Animation          AVGuardDr_A3.AVGuardDr_A3
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

ConditionState        SNOW
Model              AVGuardDr_A2S
Animation          AVGuardDr_A2S.AVGuardDr_A2S
AnimationMode      MANUAL
Flags              START_FRAME_FIRST
HideSubObject      DIRT
TransitionKey      TRANS_SNOW_NORMAL
End
AliasConditionState  SNOW RIDER1
AliasConditionState  SNOW NIGHT RIDER1

TransitionState  TRANS_SNOW_NORMAL TRANS_SNOW_DUG_IN
Model              AVGuardDr_A2S
Animation          AVGuardDr_A2S.AVGuardDr_A2S
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

ConditionState  SNOW RIDER2
Model              AVGuardDr_A2S
Animation          AVGuardDr_A2S.AVGuardDr_A2S
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_SNOW_DUG_IN
ShowSubObject      DIRT
End
AliasConditionState  SNOW NIGHT RIDER2

TransitionState  TRANS_SNOW_DUG_IN TRANS_SNOW_NORMAL
Model              AVGuardDr_A3S
Animation          AVGuardDr_A3S.AVGuardDr_A3S
AnimationMode      ONCE
ShowSubObject      DIRT
ParticleSysBone    NONE GuardianDiggingDust
End

End


; ***DESIGN parameters ***
DisplayName         OBJECT:GuardianDrone
Side                America
EditorSorting       VEHICLE
TransportSlotCount  2                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon  PRIMARY   GuardianDroneStandardGunDummyWeapon
Weapon  SECONDARY GuardianDroneStandardGun
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon  PRIMARY   GuardianDroneDugInGunDummyWeapon
Weapon  SECONDARY GuardianDroneDugInGun
End

ArmorSet
Conditions       None
Armor            SentryDroneArmor
DamageFX         SmallTankDamageFX
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SentryDroneArmorUpgraded
DamageFX         None
End

Prerequisites
Object  FactionBasePowerActive
End

BuildCost        750
BuildTime        9.0          ;in seconds
VisionRange      200
ShroudClearingRange  250

ExperienceValue         60 60 60 60
IsTrainable  No             ;Can gain experience
CrusherLevel            0  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect            GuardianDroneVoiceSelect
VoiceMove              GuardianDroneVoiceMove
VoiceGuard             GuardianDroneVoiceMove
VoiceAttack            GuardianDroneVoiceAttack
SoundMoveStart         SentryDroneMoveStart
SoundMoveStartDamaged  SentryDroneMoveStart

UnitSpecificSounds
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE POWERED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        500.0
InitialHealth    500.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  800
SubdualDamageHealRate  200
SubdualDamageHealAmount  25
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         90
TurretPitchRate        90
RecenterTime           1000         ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
NaturalTurretAngle     0
InitiallyDisabled      No
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
TurretsLinked  Yes
MoodAttackCheckRate  33
End
Locomotor  SET_NORMAL     GuardianDroneLocomotor
Locomotor  SET_SUPERSONIC GuardianDroneDugInLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaVehicleGuardianDroneCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaVehicleGuardianDroneCommandSet SET_SUPERSONIC

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate  ModuleTag_Transform02
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  GrantUpgradeCreate ModuleTag_Transform03
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  GrantUpgradeCreate ModuleTag_Transform04
UpgradeToGrant      Upgrade_ChinaOverlordGattlingCannon
End

Behavior  FireWeaponUpdate ModuleTag_Transform05
Weapon  GenericCollisionDummyWeapon
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GuardianDroneSwitchModeDelayObject
TriggeredBy      Upgrade_ChinaOverlordGattlingCannon
End

;Primary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform07
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
UpgradeObject   OCL_GuardianDroneStandardMode
ConflictsWith   Upgrade_ChinaOverlordGattlingCannon
FXListUpgrade   FX_GuardianDronePopoutofGround
End

Behavior  MaxHealthUpgrade ModuleTag_Transform08
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
ConflictsWith   Upgrade_ChinaOverlordGattlingCannon
AddMaxHealth    -250.0 ; And remove them when i come back out
ChangeType      PRESERVE_RATIO
End

;Secondary Unit Mode Triggers

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
UpgradeObject   OCL_GuardianDroneDiginMode
FXListUpgrade   FX_GuardianDroneDigInGround
End

Behavior  MaxHealthUpgrade ModuleTag_Transform10
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
AddMaxHealth    250.0 ; Give me 250 more hit points when dug in
ChangeType      PRESERVE_RATIO
End

Behavior  FireWeaponCollide ModuleTag_Transform11
CollideWeapon   GuardianDroneDuginCollisionDummyWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_GuardianDroneDeathEffect
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_09
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  ProductionUpdate ModuleTag_14
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  MaxHealthUpgrade ModuleTag_13
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaDroneArmor
End

Behavior  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
;    
;------------------------------------------------------------------------------
Object AmericaVehicleDroneLifter

; *** ART Parameters ***
SelectPortrait          SADroneLifter_L
ButtonImage             SADroneLifter


Draw  W3DModelDraw                         ModuleTag_01 ; Helicopter

ExtraPublicBone  RopeStart
ExtraPublicBone  RopeEnd

DefaultConditionState
Model  AVDrnLftr
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_HOVERING
End

TransitionState  TRANS_HOVERING TRANS_MOVING
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  AVDrnLftr_SKL.AVDrnLftr_FLA
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_MOVING
End

TransitionState  TRANS_MOVING TRANS_HOVERING
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

TransitionState  TRANS_DAMAGED_HOVERING TRANS_DAMAGED_MOVING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_FLA
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_DAMAGED_MOVING
End

TransitionState  TRANS_DAMAGED_MOVING TRANS_DAMAGED_HOVERING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVDrnLftr_D
HideSubObject  Props01
HideSubObject  Props02
TransitionKey  TRANS_DAMAGED_HOVERING
End

OkToChangeModelColor  Yes
End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  OVER_WATER
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  MOVING SNOW
AliasConditionState  MOVING SNOW REALLYDAMAGED
AliasConditionState  MOVING OVER_WATER
AliasConditionState  MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  MOVING SNOW OVER_WATER
AliasConditionState  MOVING SNOW OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING
AliasConditionState  POWER_PLANT_UPGRADED MOVING REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED MOVING OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED MOVING SNOW OVER_WATER REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState  POWER_PLANT_UPGRADED REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  POWER_PLANT_UPGRADED SNOW REALLYDAMAGED

ConditionState         POWER_PLANT_UPGRADED OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  POWER_PLANT_UPGRADED OVER_WATER REALLYDAMAGED
AliasConditionState  POWER_PLANT_UPGRADED SNOW OVER_WATER
AliasConditionState  POWER_PLANT_UPGRADED SNOW OVER_WATER REALLYDAMAGED

End

Draw                     W3DModelDraw ModuleTag_ChopperCrashBone01
DefaultConditionState
Model                EXChprCrsh_B
End
End

Draw                     W3DModelDraw ModuleTag_DismissEffectPositions01

ConditionState  NONE
Model  AVStrLftr_B
WeaponLaunchBone  TERTIARY WeaponB
End

ConditionState  LOADED
Model  AVStrLftr_B
WeaponLaunchBone  TERTIARY WeaponA
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:DroneLifter
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  300.0
BuildCost            1000
BuildTime            10.0          ;in seconds

WeaponSet
Conditions  NONE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  SuicideUnresistableWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon      PRIMARY   NONE
Weapon      SECONDARY NONE
Weapon      TERTIARY  NONE
End

Prerequisites
Object             AmericaSupplyCenter
End

ExperienceValue      50 50 50 50 ;Experience point value at each level
IsTrainable          No
CommandSet           AmericaVehicleDroneLifterCommandSet

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

; *** AUDIO Parameters ***
VoiceSelect      DroneAirlifterVoiceSelect
VoiceMove        DroneAirlifterVoiceMove
SoundAmbient     DroneLifterAmbientLoop
SoundAmbientRubble     NoSound
SoundEnter       HumveeEnter
SoundExit        HumveeExit
UnitSpecificSounds
VoiceCreate          DroneAirlifterVoiceCreate
VoiceUnload          DroneAirlifterVoiceUnload
VoiceCombatDrop      DroneAirlifterVoiceCombatDrop
VoiceClearBuilding   RangerVoiceClearBuilding ;Special combat drop that clears buildings!
VoiceGarrison        DroneAirlifterVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority    UNIT
KindOf           PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE IGNORES_SELECT_ALL PRODUCED_AT_HELIPAD DRONE

Body  ActiveBody ModuleTag_03
MaxHealth        300.0
InitialHealth    300.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

Behavior                        TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End


Behavior  ChinookAIUpdate ModuleTag_07
NumRopes                 4
PerRopeDelayMin          100
PerRopeDelayMax          500
RopeWidth                0.5
RopeColor                R:0 G:0 B:0
RopeWobbleLen            10
RopeWobbleAmplitude      0.25
RopeWobbleRate           180
RopeFinalHeight          10    ; stop this far above ground
RappelSpeed              50
MinDropHeight            40    ; if dropping into a tall bldg, go at least this far above it

AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
RotorWashParticleSystem     HelixRotorWashRing
End
Locomotor  SET_NORMAL    OspreyLocomotor
Locomotor  SET_TAXIING   BasicHelicopterTaxiLocomotor

Behavior  PhysicsBehavior ModuleTag_09
Mass  50.0
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   75.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  CommandSetUpgrade ModuleTag_Stealth01
CommandSet   AmericaVehicleDroneLifterUpgradedCommandSet
TriggeredBy  Upgrade_AmericaStealthCoating
End

Behavior  OCLSpecialPower ModuleTag_Stealth02
SpecialPowerTemplate  SpecialAbilityAmericaStealthMode
OCL                   OCL_HunterKillerStealthMode
CreateLocation        USE_OWNER_OBJECT
End

Behavior  StealthUpdate ModuleTag_Stealth03
RequiredStatus               STATUS_RIDER2
StealthDelay                 500 ; msec
StealthForbiddenConditions   ATTACKING
FriendlyOpacityMin           25.0%
FriendlyOpacityMax           75.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code Start ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  HelixContain ModuleTag_08
Slots                  8
DamagePercentToUnits   100%
HealthRegen%PerSec     40%
AllowInsideKindOf      INFANTRY
ForbidInsideKindOf     VEHICLE
BurnedDeathToUnits     Yes
ArmedRidersUpgradeMyWeaponSet  Yes
End

Behavior  CreateObjectDie ModuleTag_Dismiss04
DeathTypes  NONE +SUICIDED
CreationList  OCL_DroneLifterDismiss
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Dismiss05
DeathTypes  NONE +SUICIDED
DestructionDelay  33
End

;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Dismiss Code End ::::
;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  FXListDie ModuleTag_05
DeathTypes  ALL -SUICIDED
DeathFX  FX_DroneLifterStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_076
DeathTypes                       ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          350.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      12.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                DroneLifterRubbleHull
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0   ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        3     ; Number of times the volleys will fire before reloading
ReloadTime             4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  6500 ; this is triggers the delay on the rotor wash particle effects
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;----------------------------------
;  
;----------------------------------

Object AmericaInfantryVanguard
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAVanguard_L
ButtonImage             SAVanguard

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIVngrd_SKN
End

End

BuildCost  350
BuildTime  8.0

Prerequisites
Object  AmericaBarracks
Object  AmericaAirfield AmericaWarFactory
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryVanguard_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryVanguard_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAVanguard_L
ButtonImage             SAVanguard

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; ------- Standing-Around Animations

DefaultConditionState
Model                AIVngrd_SKN
IdleAnimation        NICNSC_SKL.NICNSC_STA 0 35
IdleAnimation        NICNSC_SKL.NICNSC_IDA
IdleAnimation        NICNSC_SKL.NICNSC_IDB
AnimationMode        ONCE
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
TransitionKey        TRANS_STAND
End

ConditionState         REALLYDAMAGED
IdleAnimation        NICNSC_SKL.NICNSC_STB
AnimationMode        ONCE
TransitionKey        TRANS_StandDamaged
End

; ------- Attack Animations
ConditionState       FIRING_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      ONCE
TransitionKey      TRANS_Firing
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  None
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          NICNSC_SKL.NICNSC_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing
End
AliasConditionState  RELOADING_A

ConditionState       FIRING_A  REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      ONCE
TransitionKey      TRANS_Firing_Damaged
AnimationSpeedFactorRange  1.5 1.5
WaitForStateToFinishIfPossible  None
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_ATC
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_Damaged
End
AliasConditionState  RELOADING_A REALLYDAMAGED

; ------------- Deploying Mine Drone --------------------

ConditionState       PREATTACK_B
Model              AIVngrd_SKN_B
Animation          NICNSC_F_SKL.NICNSC_F_MDPL
AnimationMode      ONCE
TransitionKey      TRANS_UNPACKING_MINE_DRONE
End
AliasConditionState  PREATTACK_B REALLYDAMAGED

ConditionState       FIRING_B
Model              AIVngrd_SKN
Animation          NICNSC_SKL.NICNSC_STA
AnimationMode      LOOP
TransitionKey      TRANS_PLANTING_MINE_DRONE
End
AliasConditionState  RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  FIRING_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

; ---- Throwing Bomb Drone

ConditionState  PREATTACK_C
Model          AIVngrd_SKN_D
Animation      UIMOB01_SKL.AIVngrd_ATD
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C RELOADING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C RELOADING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState  FIRING_C
Model          AIVngrd_SKN_D
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  REALLYDAMAGED FIRING_C
AliasConditionState  REALLYDAMAGED FIRING_C BETWEEN_FIRING_SHOTS_C

TransitionState      TRANS_THROW TRANS_STAND
Model          AIVngrd_SKN_D
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState RELOADING_C
Model      AIVngrd_SKN_D
Animation  UIMOB01_SKL.UIMOB01_IDA1
End
AliasConditionState  RELOADING_C FIRING_C
AliasConditionState  RELOADING_C BETWEEN_FIRING_SHOTS_C
AliasConditionState  RELOADING_C REALLYDAMAGED
AliasConditionState  RELOADING_C REALLYDAMAGED FIRING_C
AliasConditionState  RELOADING_C REALLYDAMAGED BETWEEN_FIRING_SHOTS_C

; ------------- Damage Transitions --------------------

TransitionState  TRANS_StandDamaged TRANS_RunDamaged
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE
AnimationSpeedFactorRange  2 2
End
TransitionState  TRANS_RunDamaged TRANS_StandDamaged
Animation        NICNSC_SKL.NICNSC_AA2AC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2 2
Flags            START_FRAME_LAST
End
TransitionState  TRANS_STAND TRANS_StandDamaged
Animation        NICNSC_SKL.NICNSC_AA2SA
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  4 5
Flags            START_FRAME_LAST
End

; ------- Parachuting Animations

ConditionState     FREEFALL
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
TransitionKey    TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState     PARACHUTING
Animation        NICNSC_SKL.NICNSC_PHG
AnimationMode    LOOP
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey    TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState    TRANS_Falling TRANS_Chute
Animation        NICNSC_SKL.NICNSC_POP
AnimationMode    ONCE
Flags            PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState    TRANS_Chute TRANS_STAND
Animation        NICNSC_SKL.NICNSC_PTD
AnimationMode    ONCE
End

; ------- Movement Animations

ConditionState       MOVING
Animation          NICNSC_SKL.NICNSC_RNA 26
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      None
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          NICNSC_SKL.NICNSC_RNB 28
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_RunDamaged
TransitionKey      None
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  MOVING ATTACKING REALLYDAMAGED

; ------- Dying Animations

ConditionState       DYING
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NICNSC_SKL.NICNSC_ATDE1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          NICNSC_SKL.NICNSC_ATDE2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          NICNSC_SKL.NICNSC_ATDE3
AnimationMode      ONCE
TransitionKey      None
End

; ------- Misc Animations

ConditionState       SPECIAL_CHEERING
Animation          NICNSC_SKL.NICNSC_CHA
AnimationMode      LOOP
End
AliasConditionState  SPECIAL_CHEERING REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Vanguard
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   VanguardAutoShotgunWeapon

Weapon             SECONDARY VanguardMineDroneDeployWeapon
AutoChooseSources  SECONDARY NONE

Weapon             TERTIARY  VanguardBombDroneWeapon
PreferredAgainst   TERTIARY  STRUCTURE
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
Object  AmericaAirfield AmericaWarFactory
End
BuildCost  350
BuildTime  8.0          ;in seconds

ExperienceValue  30 30 50 70    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryVanguardCommandSet

; *** AUDIO Parameters ***
VoiceSelect        VanguardVoiceSelect
VoiceMove          VanguardVoiceMove
VoiceGuard         VanguardVoiceMove
VoiceAttack        VanguardVoiceAttack
VoiceFear          VanguardVoiceFear

UnitSpecificSounds
VoiceEnter          VanguardVoiceMove
VoiceEnterHostile   VanguardVoiceMove
VoiceGarrison       VanguardVoiceGarrison
VoiceCreate         VanguardVoiceCreate
VoiceClearBuilding  VanguardVoiceBombDrone
VoiceGetHealed      VanguardVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1  AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryVanguardCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior            OCLSpecialPower ModuleTag_AttackDrone01
SpecialPowerTemplate  SpecialAbilityVanguardDeployAttackDrone
OCL                   OCL_VanguardAttackDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_VanguardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_VanguardSurrender
OCL                  INITIAL OCL_VanguardSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-----------------------------
;   
;-----------------------------
Object AmericaInfantrySeal
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SASeal_L
ButtonImage             SASeal

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AISEAL_SKN
End
End

BuildCost  700
BuildTime  10.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
Science  SCIENCE_Rank1
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantrySeal_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantrySeal_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SASeal_L
ButtonImage             SASeal

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                AISEAL_SKN
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponFireFXBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End
AliasConditionState  FIRING_B

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End
AliasConditionState  FIRING_B REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; C4 Placement animations
ConditionState       PREATTACK_C
Animation          AIHERO_SKL.AIHERO_ATC
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
End

ConditionState       FIRING_C
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
TransitionKey      TRANS_Placing_C4
End

ConditionState       RELOADING_C
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Placing_C4
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C


; Injured  C4 Placement animations
ConditionState       PREATTACK_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC1
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
End

ConditionState       FIRING_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
HideSubObject      MUZZLEFX01
TransitionKey      TRANS_Placing_C4_Injured
End

ConditionState       RELOADING_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Placing_C4_Injured
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

;;;;Brand new swimming animations

ConditionState       OVER_WATER
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWI
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Swimming_Idle
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  OVER_WATER PREATTACK_C
AliasConditionState  OVER_WATER FIRING_C
AliasConditionState  OVER_WATER RELOADING_C
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_C
AliasConditionState  OVER_WATER PREATTACK_C REALLYDAMAGED
AliasConditionState  OVER_WATER FIRING_C REALLYDAMAGED
AliasConditionState  OVER_WATER RELOADING_C REALLYDAMAGED
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
AliasConditionState  OVER_WATER SPECIAL_CHEERING
AliasConditionState  OVER_WATER SPECIAL_CHEERING REALLYDAMAGED


; moving
ConditionState         OVER_WATER MOVING
Model                AISEAL_SKN_B
Animation            AIHERO_SKL.AIHERO_SWM
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Swimming
End
AliasConditionState  OVER_WATER MOVING FIRING_A
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  OVER_WATER MOVING RELOADING_A
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  OVER_WATER MOVING REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING FIRING_A REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING FIRING_C
AliasConditionState  OVER_WATER MOVING FIRING_C REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
AliasConditionState  OVER_WATER MOVING RELOADING_C
AliasConditionState  OVER_WATER MOVING RELOADING_C REALLYDAMAGED

; Firing animation
ConditionState       OVER_WATER FIRING_A
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWA
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Firing
End
AliasConditionState  OVER_WATER FIRING_A REALLYDAMAGED
AliasConditionState  OVER_WATER FIRING_B
AliasConditionState  OVER_WATER FIRING_B REALLYDAMAGED

ConditionState       OVER_WATER BETWEEN_FIRING_SHOTS_A
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWB
AnimationMode      LOOP
TransitionKey      TRANS_Swimming_Reloading
Flags              RANDOMSTART
WaitForStateToFinishIfPossible  TRANS_Swimming_Firing
End
AliasConditionState  OVER_WATER RELOADING_A
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  OVER_WATER RELOADING_A REALLYDAMAGED
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_B
AliasConditionState  OVER_WATER RELOADING_B
AliasConditionState  OVER_WATER BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  OVER_WATER RELOADING_B REALLYDAMAGED


; dying anims
ConditionState       OVER_WATER DYING
Model              AISEAL_SKN_B
Animation          AIHERO_SKL.AIHERO_SWD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Dying
End


End

; ***DESIGN parameters ***
DisplayName          OBJECT:Seal
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None

Weapon            PRIMARY   SealSubMachineGunWeapon
PreferredAgainst  PRIMARY   INFANTRY

Weapon            SECONDARY SealSubMachineGunVehicleWeapon

Weapon            TERTIARY  SealC4ExplosiveChargeWeapon
PreferredAgainst  TERTIARY  STRUCTURE

End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
Science  SCIENCE_Rank1
End
BuildCost  700
BuildTime  10.0          ;in seconds

ExperienceValue     40 60  80  100  ;Experience point value at each level
ExperienceRequired  0  300 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet

; *** AUDIO Parameters ***
VoiceSelect        SealVoiceSelect
VoiceMove          SealVoiceMove
VoiceGuard         SealVoiceMove
VoiceAttack        SealVoiceAttack

UnitSpecificSounds
VoiceEnter         SealVoiceMove
VoiceEnterHostile  SealVoiceMove
VoiceGarrison      SealVoiceMove
VoiceCreate          SealVoiceCreate
VoiceGetHealed       SealVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL SealLandLocomotor SealWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantrySealCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             2.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_SealDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_SealDie
OCL                  INITIAL OCL_AmericaExplodedDeathSEAL
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_SealDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL   OCL_AmericaExplodedDeathSEAL
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-----------------------------
;  
;-----------------------------
Object AmericaInfantryRanger
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIRngr_SKN
End

End

BuildCost  110
BuildTime  5.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryRanger_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryRanger_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; --- Idle
DefaultConditionState
Model              AIRngr_SKN
IdleAnimation      AIRngr_SKL.AIRngr_NIA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_NIB
IdleAnimation      AIRngr_SKL.AIRngr_NIC
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
TransitionKey      TRANS_Rifle_Stand
End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_Rifle_StandInjured
End

TransitionState      TRANS_Rifle_Stand TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRNGR_NAT
AnimationMode      LOOP
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_FiringAInjured
End

TransitionState      TRANS_Rifle_StandInjured TRANS_Rifle_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Rifle_FiringAInjured TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

; --- attacking (flashbang)
ConditionState   PREATTACK_B
Model          AIRngr_SKN_3
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
TransitionKey  NONE
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B RELOADING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B RELOADING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState  FIRING_B
Model          AIRngr_SKN_3
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED FIRING_B BETWEEN_FIRING_SHOTS_B

ConditionState RELOADING_B
Model      AIRngr_SKN_3
Animation  UIMOB01_SKL.UIMOB01_IDA1
TransitionKey  NONE
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_B FIRING_B
AliasConditionState  RELOADING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED FIRING_B
AliasConditionState  RELOADING_B REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_NRN 30
AnimationMode      LOOP
Flags              RANDOMSTART
ParticleSysBone    None InfantryDustTrails
TransitionKey      NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NONE
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Rifle_Dying TRANS_Rifle_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Rifle_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Rifle_Falling TRANS_Rifle_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Rifle_Chute TRANS_Rifle_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Rifle_Chute TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED


ConditionState       RAISING_FLAG
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Rifle_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Rifle_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Rifle_Raising TRANS_Rifle_Packing
Model              AIRngr_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; --- RAPPELLING ANIMATIONS
ConditionState       RAPPELLING
Animation          AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Rifle_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState      TRANS_Rifle_Rappelling TRANS_Rifle_Stand
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

TransitionState      TRANS_Rifle_Rappelling TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Ranger
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions                  WEAPON_RIDER1
Weapon                      PRIMARY   RangerAdvancedCombatRifle
Weapon                      SECONDARY RangerFlashBangGrenadeWeapon
AutoChooseSources           SECONDARY NONE
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  110
BuildTime  5.0

ExperienceValue     20 20 40 60     ;Experience point value at each level
ExperienceRequired  0  40 60 120    ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryRangerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  RangerVoiceSelect
VoiceMove  RangerVoiceMove
VoiceGuard  RangerVoiceMove
VoiceAttack  RangerVoiceAttack
VoiceFear  RangerVoiceFear
VoiceTaskComplete  RangerVoiceCaptureComplete

UnitSpecificSounds
VoiceEnter  RangerVoiceMove
VoiceEnterHostile  RangerVoiceMove
VoiceGarrison  RangerVoiceGarrison
VoiceCreate          RangerVoiceCreate
VoiceSubdue          RangerVoiceSubdue
VoiceClearBuilding   RangerVoiceClearBuilding
VoiceGetHealed       RangerVoiceMove
VoicePrimaryWeaponMode  RangerVoiceModeGun
VoiceSecondaryWeaponMode  RangerVoiceModeFlashBang
End

UnitSpecificFX
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
CombatDropKillFX  FX_RangerCombatDropKill
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE CAN_RAPPEL SCORE

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryRangerCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_RangerSurrender
OCL                  INITIAL OCL_RangerSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_18
SpecialPowerTemplate       SpecialAbilityRangerCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          RangerVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_19
SpecialPowerTemplate   SpecialAbilityRangerCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   15
End

Behavior  LockWeaponCreate ModuleTag_21
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

;This grants the player the "SCIENCE" to capture surrendered soldiers/infantry
Behavior  GrantScienceUpgrade ModuleTag_GrantScience01
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_CapturePrisoners
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;-----------------------------
;  
;-----------------------------
Object AmericaInfantryPilot
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAPilot_L
ButtonImage             SAPilot

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AIRPlt_SKN
IdleAnimation  AIRPlt_SKL.AIRPlt_STA 0 20
IdleAnimation  AIRPlt_SKL.AIRPlt_IDA
IdleAnimation  AIRPlt_SKL.AIRPlt_IDB
AnimationMode  ONCE
HideSubObject  HEAD02 HELMET
TransitionKey  TRANS_Stand
End

ConditionState  FREEFALL
Animation  AIRPlt_SKL.AIRPLT_PFL
AnimationMode  ONCE
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  AIRPlt_SKL.AIRPlt_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
WaitForStateToFinishIfPossible  TRANS_Falling
End
AliasConditionState  PARACHUTING DYING

ConditionState  MOVING
Animation  AIRPlt_SKL.AIRPlt_RNA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
ParticleSysBone      None InfantryDustTrails
End

; climbing
ConditionState       CLIMBING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING

ConditionState       CLIMBING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End

ConditionState       RAPPELLING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End

; Brand new swimming animations
ConditionState       OVER_WATER
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWI
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Swimming_Idle
End

ConditionState         OVER_WATER MOVING
Model                AIRPlt_SKN_B
Animation            AIHERO_SKL.AIHERO_SWM
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Swimming
End

ConditionState       OVER_WATER DYING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Dying
End

ConditionState  DYING
Animation  AIRPlt_SKL.AIRPlt_DTA
Animation  AIRPlt_SKL.AIRPlt_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIRPlt_SKL.AIRPlt_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIRPlt_SKL.AIRPlt_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIRPlt_SKL.AIRPlt_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AIRPLT_SKL.AIRPLT_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  AIRPlt_SKL.AIRPlt_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName  OBJECT:Pilot
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1               ;how many "slots" we take in a transport (0 == not transportable)
ExperienceValue     10 10 10 10 ;Experience point value at each level
ExperienceRequired   0 1 2 3 ;Experience points needed to gain each level
IsTrainable      Yes  ;Can gain experience
CommandSet  AmericaInfantryPilotCommandSet

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

BuildCost            300
BuildTime            14.0          ;in seconds

VisionRange  220
ShroudClearingRange  220
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  PilotVoiceSelect
VoiceMove  PilotVoiceMove
VoiceAttack  PilotVoiceMove
VoiceGarrison  PilotVoiceMove
VoiceFear  PilotVoiceFear
UnitSpecificSounds
VoiceEnter  PilotVoiceEnter
VoiceEnterHostile      PilotVoiceEnter
VoiceGetHealed       PilotVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON SCORE IGNORES_SELECT_ALL

Behavior  VeterancyGainCreate ModuleTag_02
; omit the "ScienceRequired" so that this upgrade always occurs.
; Pilots should never (repeat, never) be less than VETERAN status.
StartingLevel  VETERAN
End

Behavior  VeterancyCrateCollide       ModuleTag_03
RequiredKindOf  VEHICLE      ; we only give our bonus to VEHICLEs we collide with
ForbiddenKindOf  DOZER CLIFF_JUMPER ; but not to TRANSPORTs or DOZERs!
EffectRange  0               ; 0=="affect only the thing you collide with"
AddsOwnerVeterancy  Yes      ; we add our own veterancy to the target (rather than just +1 level)
IsPilot  Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
End

Body  ActiveBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor SealWaterLocomotor

Behavior  AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
MinHealth  0.5 ;  don't enter a vehicle less than 50% healthy.
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  SquishCollide ModuleTag_11
;nothing
End


; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PilotDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_PilotSurrender
OCL                  INITIAL OCL_PilotSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_14
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;-----------------------------
;  
;-----------------------------
Object AmericaInfantryPathfinder
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAPathfinder1_L
ButtonImage             SAPathfinder1

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIPFDR_SKN
End
End

BuildCost  400
BuildTime  10.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
;Science  SCIENCE_Pathfinder
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryPathfinder_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryPathfinder_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAPathfinder1_L
ButtonImage             SAPathfinder1

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AIPFDR_SKN
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  SILENCER BINOC
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Rider1_Standing
End
AliasConditionState  RIDER1

ConditionState  RIDER1 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Rider1_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   RIDER1 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
TransitionKey  TRANS_Rider1_FiringA
End
AliasConditionState  RIDER1 FIRING_A MOVING

ConditionState   RIDER1 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_Rider1_FiringA
End
AliasConditionState  RIDER1 RELOADING_A
AliasConditionState  RIDER1 PREATTACK_A


;Using Binoculars
ConditionState   RIDER1 USING_WEAPON_C
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  SILENCER
ShowSubObject  BINOC
End

ConditionState  RIDER1 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Rider1_Dying
End

TransitionState  TRANS_Rider1_Dying TRANS_Rider1_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  RIDER1 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Rider1_Flailing
End

ConditionState  RIDER1 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  RIDER1 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Rider1_Falling
End
AliasConditionState  RIDER1 FREEFALL DYING

ConditionState  RIDER1 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Rider1_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING


TransitionState  TRANS_Rider1_Falling TRANS_Rider1_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Rider1_Chute TRANS_Rider1_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Silencer attached conditions

ConditionState  RIDER2
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Rider2_Standing
End

ConditionState  RIDER2 MOVING
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  RANDOMSTART
TransitionKey  TRANS_Rider2_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   RIDER2 FIRING_A
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_FiringA
End
AliasConditionState  RIDER2 FIRING_A MOVING

ConditionState   RIDER2 BETWEEN_FIRING_SHOTS_A
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
WaitForStateToFinishIfPossible  TRANS_Rider2_FiringA
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 PREATTACK_A

;Using Binoculars
ConditionState   RIDER2 USING_WEAPON_C
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  NONE
ShowSubObject  BINOC SILENCER
End

ConditionState  RIDER2 DYING
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_Dying
End

TransitionState  TRANS_Rider2_Dying TRANS_Rider2_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

ConditionState  RIDER2 DYING EXPLODED_FLAILING
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_Flailing
End

ConditionState  RIDER2 DYING EXPLODED_BOUNCING
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  None
End

ConditionState  RIDER2 FREEFALL
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Rider2_Falling
End
AliasConditionState  RIDER2 FREEFALL DYING

ConditionState  RIDER2 PARACHUTING
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Rider2_Chute
End
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState  TRANS_Rider2_Falling TRANS_Rider2_Chute
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Rider2_Chute TRANS_Rider2_Standing
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

;Snow Conditions

ConditionState  SNOW RIDER1
Model  AIPFDR_SKN_S
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Snow_Rider1_Standing
End

ConditionState  SNOW RIDER1 MOVING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Snow_Rider1_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   SNOW RIDER1 FIRING_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
TransitionKey  TRANS_Snow_Rider1_FiringA
End
AliasConditionState  SNOW RIDER1 FIRING_A MOVING

ConditionState   SNOW RIDER1 BETWEEN_FIRING_SHOTS_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  ONCE
WaitForStateToFinishIfPossible  TRANS_Snow_Rider1_FiringA
End
AliasConditionState  SNOW RIDER1 RELOADING_A
AliasConditionState  SNOW RIDER1 PREATTACK_A

;Attaching Silencer
ConditionState  SNOW RIDER1 PREATTACK_B
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
End

;Using Binoculars
ConditionState   SNOW RIDER1 USING_WEAPON_C
Model          AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  SILENCER
ShowSubObject  BINOC
End

ConditionState  SNOW RIDER1 DYING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Snow_Rider1_Dying
End

TransitionState  TRANS_Snow_Rider1_Dying TRANS_Snow_Rider1_Flailing
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
End

ConditionState  SNOW RIDER1 DYING EXPLODED_FLAILING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
TransitionKey  TRANS_Snow_Rider1_Flailing
End

ConditionState  SNOW RIDER1 DYING EXPLODED_BOUNCING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SNOW RIDER1 FREEFALL
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Snow_Rider1_Falling
End
AliasConditionState  SNOW RIDER1 FREEFALL DYING

ConditionState  SNOW RIDER1 PARACHUTING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Snow_Rider1_Chute
End
AliasConditionState  SNOW RIDER1 PARACHUTING DYING


TransitionState  TRANS_Snow_Rider1_Falling TRANS_Snow_Rider1_Chute
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Snow_Rider1_Chute TRANS_Snow_Rider1_Standing
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
End

;Silencer attached conditions

ConditionState  SNOW RIDER2
Model  AIPFDR_SKN_S
IdleAnimation  AIPFDR_SKL.AIPFDR_STA 0 10
IdleAnimation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_Snow_Rider2_Standing
End

ConditionState  SNOW RIDER2 MOVING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_RNA 25
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  RANDOMSTART
TransitionKey  TRANS_Snow_Rider2_Standing
ParticleSysBone    None InfantryDustTrails
End

ConditionState   SNOW RIDER2 FIRING_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_FiringA
End
AliasConditionState  SNOW RIDER2 FIRING_A MOVING

ConditionState   SNOW RIDER2 BETWEEN_FIRING_SHOTS_A
Model  AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
WaitForStateToFinishIfPossible  TRANS_Snow_Rider2_FiringA
End
AliasConditionState  SNOW RIDER2 RELOADING_A
AliasConditionState  SNOW RIDER2 PREATTACK_A

;Detaching Silencer
ConditionState  SNOW RIDER2 PREATTACK_B
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_IDA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

;Using Binoculars
ConditionState   SNOW RIDER2 USING_WEAPON_C
Model          AIPFDR_SKN_S
Animation      AIPFDR_SKL.AIPFDR_BIN
AnimationMode  LOOP
HideSubObject  NONE
ShowSubObject  BINOC SILENCER
End

ConditionState  SNOW RIDER2 DYING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_DTA
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_Dying
End

TransitionState  TRANS_Snow_Rider2_Dying TRANS_Snow_Rider2_Flailing
Animation  AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

ConditionState  SNOW RIDER2 DYING EXPLODED_FLAILING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_Flailing
End

ConditionState  SNOW RIDER2 DYING EXPLODED_BOUNCING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  None
End

ConditionState  SNOW RIDER2 FREEFALL
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PFL
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
TransitionKey  TRANS_Snow_Rider2_Falling
Model  AIPFDR_SKN_S
End
AliasConditionState  SNOW RIDER2 FREEFALL DYING

ConditionState  SNOW RIDER2 PARACHUTING
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PHG
AnimationMode  LOOP
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Snow_Rider2_Chute
End
AliasConditionState  SNOW RIDER2 PARACHUTING DYING

TransitionState  TRANS_Snow_Rider2_Falling TRANS_Snow_Rider2_Chute
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_POP
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME
;our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Snow_Rider2_Chute TRANS_Snow_Rider2_Standing
Model  AIPFDR_SKN_S
Animation  AIPFDR_SKL.AIPFDR_PTD
AnimationMode  ONCE
HideSubObject  BINOC
ShowSubObject  SILENCER
End

End


; ***DESIGN parameters ***
DisplayName       OBJECT:Pathfinder
Side  America
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   USAPathfinderSniperRifle
PreferredAgainst   PRIMARY   INFANTRY
Weapon             TERTIARY  USAPathfinderBinoculars
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   USAPathfinderSilencedSniperRifle
PreferredAgainst   PRIMARY   INFANTRY
Weapon             TERTIARY  USAPathfinderBinoculars
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions  None
Armor       RifleHumanArmor
DamageFX    InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

Prerequisites
Object  AmericaBarracks
Object  AmericaDetentionCamp AmericaDroneControlCenter
Science  SCIENCE_Pathfinder
End

BuildCost  400
BuildTime  10.0          ;in seconds

ExperienceValue  40 40 60 80    ;Experience point value at each level
ExperienceRequired  0 50 100 200  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  PathfinderVoiceSelect
VoiceMove  PathfinderVoiceMove
VoiceGuard  PathfinderVoiceMove
VoiceAttack  PathfinderVoiceAttack
VoiceFear  PathfinderVoiceFear
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff
VoiceFear  PathfinderVoiceFear

UnitSpecificSounds
VoiceCreate           PathfinderVoiceCreate
VoiceGarrison  PathfinderVoiceGarrison
VoiceEnter  PathfinderVoiceMove
VoiceEnterHostile   PathfinderVoiceMove
VoiceGetHealed       PathfinderVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE CANNOT_RETALIATE ATTACK_NEEDS_LINE_OF_SIGHT

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         0
TurretPitchRate        0
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
InitiallyDisabled      Yes
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  250
End

Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor

Behavior  ExperienceScalarUpgrade ModuleTag_05
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  StealthUpdate ModuleTag_09
StealthDelay                 2000
ForbiddenStatus              DETECTED
FriendlyOpacityMin           30.0%
FriendlyOpacityMax           80.0%
PulseFrequency               500
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

;*************************************
;******Transformation Code Start********
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryPathfinderCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryPathfinderCommandSet SET_NORMAL

;;;;We only use this for a split second and then never again
Rider3  AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryPathfinderCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    PathfinderSwitchToUnSilencedRifle
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    HIJACKED
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    PathfinderSwitchToSilencedRifle
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  HIJACKED
End

;************************************
;******Transformation Code End********
;************************************

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PathfinderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_PathfinderSurrender
OCL                  INITIAL OCL_PathfinderSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;----------------------------------
;  
;----------------------------------
Object AmericaInfantryMissileDefender
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAMissleDefender_L
ButtonImage             SAMissleDefender

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIMslDfr_SKN
End

End

BuildCost  250
BuildTime  5.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryMissileDefender_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryMissileDefender_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAMissleDefender_L
ButtonImage             SAMissleDefender

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;***NOTE***
;A little history -- the MissileDefender now uses the assets of the TankHunter.
;The TH uses assets of the GLA tunnel defender, and the TD uses assets of the NEW
;MD. It was a design/art/code decision because the new missile defender animations
;don't suit that of a mobile/offensive unit with packing and unpacking.

DefaultConditionState
Model              AIMslDfr_SKN
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
AnimationMode      ONCE
HideSubObject      LASER01
TransitionKey      TRANS_Stand
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1

ConditionState       RIDER1 MOVING
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Nada
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER1 MOVING RELOADING_A
AliasConditionState  RIDER1 MOVING RELOADING_C
AliasConditionState  RIDER1 MOVING RELOADING_B

ConditionState       RIDER1 FIRING_A
Animation          NITHNT_SKL.NITHNT_ATA
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 1.8
End

ConditionState       RIDER1 RELOADING_A
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      ONCE
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_A

ConditionState       RIDER1 FIRING_C
Animation          NITHNT_SKL.NITHNT_ATB
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING
WaitForStateToFinishIfPossible  NONE
AnimationSpeedFactorRange  1.5 1.8
End
AliasConditionState  RIDER1 FIRING_B

ConditionState       RIDER1 BETWEEN_FIRING_SHOTS_C
Animation          NITHNT_SKL.NITHNT_ATB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End
AliasConditionState  RIDER1 RELOADING_C
AliasConditionState  RIDER1 PREATTACK_C
AliasConditionState  RIDER1 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER1 RELOADING_B

;;;;;;Swith to Laser animations Lock :

TransitionState      TRANS_Stand TRANS_RIDER2_Stand
Animation          NITHNT_SKL.NITHNT_PBA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.2 1.2
End

TransitionState      TRANS_RIDER2_Stand TRANS_Stand
ShowSubObject      LASER01
Animation          NITHNT_SKL.NITHNT_PBA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.2 1.2
End

;;;;;;Laser Lock Activated:

ConditionState       RIDER2
ShowSubObject      LASER01
IdleAnimation      NITHNT_SKL.NITHNT_STA 0 30
IdleAnimation      NITHNT_SKL.NITHNT_IDA
IdleAnimation      NITHNT_SKL.NITHNT_IDB
AnimationMode      ONCE
AnimationSpeedFactorRange  0.8 1.2
TransitionKey      TRANS_RIDER2_Stand
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End

ConditionState       RIDER2 MOVING
ShowSubObject      LASER01
Animation          NITHNT_SKL.NITHNT_RNA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      Nada
ParticleSysBone    None InfantryDustTrails
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 MOVING RELOADING_A
AliasConditionState  RIDER2 MOVING RELOADING_C
AliasConditionState  RIDER2 MOVING RELOADING_B

ConditionState       RIDER2 FIRING_A
ShowSubObject      LASER01
Animation          NITHNT_SKL.NITHNT_STA
AnimationMode      LOOP
TransitionKey      Nada
WaitForStateToFinishIfPossible  TRANS_RIDER2_START_FIRING
End
AliasConditionState  RIDER2 RELOADING_A
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_A
AliasConditionState  RIDER2 FIRING_B
AliasConditionState  RIDER2 RELOADING_B
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_B
AliasConditionState  RIDER2 FIRING_C
AliasConditionState  RIDER2 RELOADING_C
AliasConditionState  RIDER2 BETWEEN_FIRING_SHOTS_C
AliasConditionState  RIDER2 PREATTACK_A

;Death animations:

ConditionState       RIDER1 DYING
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationSpeedFactorRange  0.9 1.25
AnimationMode      ONCE
TransitionKey      TRANS_Dying
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          NITHNT_SKL.NITHNT_ADTA1
AnimationMode      ONCE
End

ConditionState       RIDER1 DYING EXPLODED_FLAILING
Animation          NITHNT_SKL.NITHNT_ADTA2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 DYING EXPLODED_FLAILING

ConditionState       RIDER1 DYING EXPLODED_BOUNCING
Animation          NITHNT_SKL.NITHNT_ADTA3
AnimationMode      ONCE
TransitionKey      Nada
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  RIDER2 DYING EXPLODED_BOUNCING

;PARACHUTING ANIMATIONS
ConditionState      RIDER1 FREEFALL
Animation          NITHNT_SKL.NITHNT_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  RIDER1 FREEFALL DYING
AliasConditionState  RIDER2 FREEFALL
AliasConditionState  RIDER2 FREEFALL DYING


ConditionState       RIDER1 PARACHUTING
Animation          NITHNT_SKL.NITHNT_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  RIDER1 PARACHUTING DYING
AliasConditionState  RIDER2 PARACHUTING
AliasConditionState  RIDER2 PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          NITHNT_SKL.NITHNT_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          NITHNT_SKL.NITHNT_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:MissileTeam
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         WEAPON_RIDER1
Weapon             PRIMARY   MissileDefenderMissileWeapon
Weapon             SECONDARY MissileDefenderMissileAirWeapon
Weapon             TERTIARY  MissileDefenderLaserGuidedMissileWeapon
AutoChooseSources  TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         WEAPON_RIDER2
Weapon             PRIMARY   MissileDefenderLaserGuidanceWeapon
Weapon             SECONDARY MissileDefenderLaserGuidanceInitialRangeDummyWeapon
Weapon             TERTIARY  MissileDefenderLaserGuidedMissileWeapon_Dummy
AutoChooseSources  TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  250
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 100 200 400  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  MissileDefenderVoiceSelect
VoiceMove  MissileDefenderVoiceMove
VoiceGuard  MissileDefenderVoiceMove
VoiceAttack  MissileDefenderVoiceAttack
VoiceAttackAir  MissileDefenderVoiceAttack
VoiceFear  MissileDefenderVoiceFear

UnitSpecificSounds
VoiceGarrison  MissileDefenderVoiceGarrison
VoiceCreate           MissileDefenderVoiceCreate
VoiceEnter  MissileDefenderVoiceMove
VoiceGetHealed       MissileDefenderVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT


Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_03
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL MissileDefenderLocomotor

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  AssistedTargetingUpdate ModuleTag_038
AssistingClipSize    1                        ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
AssistingWeaponSlot  TERTIARY                 ; And the weapon to use.  Should have huge range and no natural clip.
End

Behavior  CommandButtonHuntUpdate  ModuleTag_CBHunt ; allows use of command button hunt script with this unit.
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryMissileDefenderCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryMissileDefenderCommandSet SET_NORMAL

;;;;We only use this for a split second and then never again
Rider3  AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryMissileDefenderCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform05
CollideWeapon    MissileDefenderSwitchToStandardMode
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform06
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform07
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     HIJACKED
StatusToClear   REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform08
CollideWeapon    MissileDefenderSwitchToLaserlockMode
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform09
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform10
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
StatusToSet     REPULSOR
StatusToClear   HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MissileDefenderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderSurrender
OCL                  INITIAL OCL_MissileDefenderSurrendering
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_13
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;----------------------------------
;  
;----------------------------------
Object AmericaInfantryJavelin
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAJavelin_L
ButtonImage             SAJavelin

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIJvln_SKN
End
End

BuildCost  650
BuildTime  8.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryJavelin_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryJavelin_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAJavelin_L
ButtonImage             SAJavelin

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal state
DefaultConditionState
Model              AIJvln_SKN
IdleAnimation      UISMSD_SKL.UISMSD_STB 0 15
IdleAnimation      UISMSD_SKL.UISMSD_IDC
IdleAnimation      UISMSD_SKL.UISMSD_IDD
AnimationMode      ONCE
Turret             UISMSD_MAINRT
ShowSubObject      MISSILE
TransitionKey      TRANS_STAND
WeaponFireFXBone   PRIMARY   Muzzle01
WeaponLaunchBone   PRIMARY   Muzzle01
WeaponLaunchBone   SECONDARY Muzzle01
WeaponFireFXBone   SECONDARY Muzzle01
End

ConditionState       MOVING
Animation          UISMSD_SKL.UISMSD_WKA 20
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING
AliasConditionState  DEPLOYED MOVING
AliasConditionState  DEPLOYED MOVING ATTACKING

;Deploy animation
ConditionState     UNPACKING
Animation        UISMSD_SKL.AIJVLN_JDP
AnimationMode    ONCE
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  UNPACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  UNPACKING MOVING
AliasConditionState  UNPACKING ATTACKING
AliasConditionState  UNPACKING ATTACKING MOVING

;Deployed animations
ConditionState   DEPLOYED
IdleAnimation  UISMSD_SKL.AIJVLN_JIDA 0 30
IdleAnimation  UISMSD_SKL.AIJVLN_JIDB
IdleAnimation  UISMSD_SKL.AIJVLN_JIDC
AnimationMode  ONCE
TransitionKey  TRANS_DEPLOYED
End

;Deployed attacking animation
ConditionState     DEPLOYED PREATTACK_A
Animation        UISMSD_SKL.AIJVLN_JAT
AnimationMode    ONCE
Flags            START_FRAME_LAST
TransitionKey    TRANS_FIRING_A
End
AliasConditionState  DEPLOYED PREATTACK_B
AliasConditionState  DEPLOYED PREATTACK_C
AliasConditionState  DEPLOYED FIRING_C
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_C
AliasConditionState  DEPLOYED RELOADING_C

ConditionState     DEPLOYED FIRING_A
Animation        UISMSD_SKL.AIJVLN_JAT
AnimationMode    ONCE
HideSubObject    MISSILE
TransitionKey    TRANS_FIRING_A
End
AliasConditionState  DEPLOYED FIRING_B

ConditionState     DEPLOYED BETWEEN_FIRING_SHOTS_A
Animation        UISMSD_SKL.AIJVLN_JIDA
AnimationMode    LOOP
HideSubObject    MISSILE
WaitForStateToFinishIfPossible  TRANS_FIRING_A
End
AliasConditionState  DEPLOYED RELOADING_A
AliasConditionState  DEPLOYED BETWEEN_FIRING_SHOTS_B
AliasConditionState  DEPLOYED RELOADING_B

;Packup animation
ConditionState     PACKING
Animation        UISMSD_SKL.AIJVLN_JDP
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0
End
AliasConditionState  PACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  ATTACKING PACKING
AliasConditionState  ATTACKING PACKING BETWEEN_FIRING_SHOTS_A

;Cheering animations
ConditionState   SPECIAL_CHEERING
Animation      UISMSD_SKL.UISMSD_CHB
AnimationMode  ONCE
Turret         UISMSD_MAINRT
End

;Regulair Death animations
ConditionState     DYING
Animation  UISMSD_SKL.UISMSD_DTA
Animation  UISMSD_SKL.UISMSD_DTB
AnimationMode  ONCE
TransitionKey  TRANS_DYING
End
AliasConditionState  DEPLOYED DYING

TransitionState  TRANS_DYING TRANS_Flailing
Animation      UISMSD_SKL.UISMSD_ADTF1
Animation      UISMSD_SKL.UISMSD_ADTG21
AnimationMode  ONCE
End

ConditionState   DYING EXPLODED_FLAILING
Animation      UISMSD_SKL.UISMSD_ADTF2
Animation      UISMSD_SKL.UISMSD_ADTG22
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End
AliasConditionState  DEPLOYED DYING EXPLODED_FLAILING

ConditionState   DYING EXPLODED_BOUNCING
Animation      UISMSD_SKL.UISMSD_ADTF3
Animation      UISMSD_SKL.UISMSD_ADTG23
AnimationMode  ONCE
End
AliasConditionState  DEPLOYED DYING EXPLODED_BOUNCING

End


; ***DESIGN parameters ***
DisplayName       OBJECT:Javelin
Side  America
EditorSorting  SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  WEAPON_RIDER1
Weapon               SECONDARY JavelinMissileWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 VETERAN
Weapon               SECONDARY JavelinMissileVeteranWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 ELITE
Weapon               SECONDARY JavelinMissileEliteWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER1 HERO
Weapon               SECONDARY JavelinMissileHeroicWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2
Weapon               SECONDARY JavelinAirburstMissileWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 VETERAN
Weapon               SECONDARY JavelinAirburstMissileVeteranWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 ELITE
Weapon               SECONDARY JavelinAirburstMissileEliteWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions  WEAPON_RIDER2 HERO
Weapon               SECONDARY JavelinAirburstMissileHeroicWeapon
Weapon               TERTIARY  JavelinDummyDeployWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

VisionRange  220
ShroudClearingRange  220

BuildCost  650
BuildTime  8.0          ;in seconds

ExperienceValue     60 80  100 120  ;Experience point value at each level
ExperienceRequired  0  200 400 600  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect     JavelinVoiceSelect
VoiceMove       JavelinVoiceMove
VoiceGuard      JavelinVoiceMove
VoiceAttack     JavelinVoiceAttack
VoiceFear       JavelinVoiceFear

UnitSpecificSounds
VoiceGarrison   JavelinVoiceMove
VoiceCreate     JavelinVoiceCreate
VoiceEnter      JavelinVoiceMove
VoiceGetHealed  JavelinVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE NO_GARRISON REJECT_UNMANNED SCORE CANNOT_RETALIATE

Body  HiveStructureBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0

PropagateDamageTypesToSlavesWhenExisting  ALL -STATUS
End

Behavior  DeployStyleAIUpdate ModuleTag_03
PackTime  462
UnpackTime  462
ManualDeployAnimations  No
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryJavelinTeamCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaInfantryJavelinTeamCommandSet SET_NORMAL

;;;;We only use this for a split second and then never again
Rider3  AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryJavelinTeamCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    JavelinSwitchToStandardMissiles
RequiredStatus   STATUS_RIDER2 HIJACKED
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy     Upgrade_GLAWorkerRealCommandSet
StatusToSet     HIJACKED
StatusToClear   REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    JavelinSwitchToAirburstMissiles
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
StatusToSet     REPULSOR
StatusToClear   HIJACKED
End

;************************************
;******Transformation Code End*******
;************************************

Behavior             SpawnBehavior ModuleTag_SpawnTeam01
SpawnNumber            1
SpawnReplaceDelay      2000
SpawnTemplateName      AmericaInfantryJavelinTeamMember
InitialBurst           0
OneShot                Yes
ExitByBudding          Yes
SpawnedRequireSpawner  Yes
AggregateHealth        No
SlavesHaveFreeWill     No
End

Behavior  QueueProductionExitUpdate ModuleTag_SpawnTeam02
UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
ExitDelay      2000
InitialBurst   1
End

Behavior  ExperienceScalarUpgrade ModuleTag_0323
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_JavelinTeamDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  FINAL OCL_AmericaExplodedDeathJavelinTeam01
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathJavelinTeam01
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_12
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryJavelinTeamMember
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAJavelin_L
ButtonImage             SAJavelin

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIJvln_SKN_B
IdleAnimation  NIHCKR_SKL.NIHCKR_KI1 0 10
IdleAnimation  NIHCKR_SKL.NIHCKR_KI2
IdleAnimation  NIHCKR_SKL.NIHCKR_KI3
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
AliasConditionState  REALLYDAMAGED

TransitionState  TRANS_Stand Trans_Moving
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE_BACKWARDS
AnimationSpeedFactorRange  3.5 3.5
End

TransitionState  Trans_Moving TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_KNL
AnimationMode  ONCE
AnimationSpeedFactorRange  1.5 1.5
End

ConditionState  MOVING
Animation  NIHCKR_SKL.NIHCKR_RNA 14
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  Trans_Moving
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING UNPACKING
AliasConditionState  MOVING UNPACKING REALLYDAMAGED


ConditionState  FREEFALL
Animation  NIHCKR_SKL.NIHCKR_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  NIHCKR_SKL.NIHCKR_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING


ConditionState  DYING
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  NIHCKR_SKL.NIHCKR_ADTG1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  NIHCKR_SKL.NIHCKR_ADTG2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  NIHCKR_SKL.NIHCKR_ADTG3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  NIHCKR_SKL.NIHCKR_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Falling TRANS_Chute
Animation  NIHCKR_SKL.NIHCKR_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  NIHCKR_SKL.NIHCKR_PTD
AnimationMode  ONCE
End

End

;**** DESIGN parameters ***
Side  America
EditorSorting  SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            WeaponTeamHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

BuildTime  0.0

IsTrainable  No             ;Can gain experience
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End

Behavior  SlavedUpdate ModuleTag_04
GuardMaxRange  15      ;How far away from master I'm allowed when master is idle (doesn't wander)
StayOnSameLayerAsMaster  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior BehaviorTag_01
Mass  5.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_0323
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_JavelinTeamMemberDeathObject
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_AmericaExplodedDeathJavelinTeam02
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieFire
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDieToxin
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
DestructionDelay     0
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
OCL                  FINAL   OCL_JavelinTeamMemberDeathObject
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_JavelinTeamDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathJavelinTeam02
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_JavelinTeamDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior BehaviorTag_02
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal
HealingAmount  2.5  ;in health points
HealingDelay  800 ; msec
StartHealingDelay  5000 ;in miliseconds
StartsActive   Yes
End

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryJavelinTeamMemberDeathObject
Scale 0.90
; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIJvln_SKN_B
Animation  NIHCKR_SKL.NIHCKR_DTA
Animation  NIHCKR_SKL.NIHCKR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End
AliasConditionState  DYING
End

;**** DESIGN parameters ***
Side  America
EditorSorting  SYSTEM

;**** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE IGNORED_IN_GUI UNATTACKABLE CANNOT_RETALIATE

Body  ActiveBody BodyTag_01
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL NukeneerLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05242
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End
; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  4.0 ; very thin
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;----------------------------------
;  
;----------------------------------
Object AmericaInfantryGreenBeret
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SAGreenBeret_L
ButtonImage              SAGreenBeret

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIGrnBrt_SKN
End

End

BuildCost  125
BuildTime  5.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryGreenBeret_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryGreenBeret_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SAGreenBeret_L
ButtonImage              SAGreenBeret


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; this says "we don't use these condition states at all, so completely
; ignore them for purposes of matchmaking"... this is useful to help
; reduce the number of AliasConditionState clauses you must add in
; order to avoid ambiguity in some cases.
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; --- Idle
DefaultConditionState
Model              AIGrnBrt_SKN
IdleAnimation      AIRngr_SKL.AIRngr_NIA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_NIB
IdleAnimation      AIRngr_SKL.AIRngr_NIC
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   TERTIARY Muzzle
WeaponLaunchBone   TERTIARY Muzzle
TransitionKey      TRANS_Stand

End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRNGR_NAT
AnimationMode      LOOP
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_Rifle_FiringAInjured
End

TransitionState      TRANS_Rifle_StandInjured TRANS_Rifle_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Rifle_FiringAInjured TRANS_Rifle_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End


; --- attacking (Flashbang Grenade)
ConditionState   PREATTACK_B
Model          AIGrnBrt_SKN2
Animation      UIMOB01_SKL.UIMOB01_ATCA_BF
TransitionKey  NONE
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B RELOADING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B RELOADING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState  FIRING_B
Model          AIGrnBrt_SKN2
Animation      UIMOB01_SKL.UIMOB01_ATCA_AF
AnimationSpeedFactorRange  1.5 1.5
TransitionKey  TRANS_THROW
WaitForStateToFinishIfPossible  NADA
End
AliasConditionState  FIRING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  REALLYDAMAGED FIRING_B
AliasConditionState  REALLYDAMAGED FIRING_B BETWEEN_FIRING_SHOTS_B

ConditionState RELOADING_B
Model      AIGrnBrt_SKN2
Animation  UIMOB01_SKL.UIMOB01_IDA1
TransitionKey  NONE
WaitForStateToFinishIfPossible  TRANS_THROW
End
AliasConditionState  RELOADING_B FIRING_B
AliasConditionState  RELOADING_B BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED FIRING_B
AliasConditionState  RELOADING_B REALLYDAMAGED BETWEEN_FIRING_SHOTS_B

; --- attacking (Grenade Launcher)
ConditionState       PREATTACK_C
Animation          AIRngr_SKL.AIRngr_ATBA
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End
AliasConditionState  PREATTACK_C MOVING
AliasConditionState  PREATTACK_C FIRING_C
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C

ConditionState       FIRING_C
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End

ConditionState       BETWEEN_FIRING_SHOTS_C
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringB
WaitForStateToFinishIfPossible  TRANS_FiringB
End
AliasConditionState  RELOADING_C

TransitionState      TRANS_Stand TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATBST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringB TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATBST2
AnimationMode      ONCE
End

ConditionState       PREATTACK_C REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2A
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End
AliasConditionState  PREATTACK_C MOVING REALLYDAMAGED
AliasConditionState  PREATTACK_C FIRING_C REALLYDAMAGED
AliasConditionState  PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState       FIRING_C REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringBInjured
WaitForStateToFinishIfPossible  TRANS_FiringBInjured
End
AliasConditionState  RELOADING_C REALLYDAMAGED

TransitionState      TRANS_StandInjured TRANS_FiringBInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringBInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST2
AnimationMode      ONCE
End

; -- cross-attack transitions

TransitionState      TRANS_FiringA TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringB TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4 4
End


; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_NRN 30
AnimationMode      LOOP
Flags              RANDOMSTART
ParticleSysBone    None InfantryDustTrails
TransitionKey      NONE
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      NONE
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState      TRANS_Falling TRANS_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState      TRANS_Chute TRANS_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End
TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

; ------- Bldg-capture

ConditionState       UNPACKING
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE
End
AliasConditionState  UNPACKING REALLYDAMAGED


ConditionState       RAISING_FLAG
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE
TransitionKey      TRANS_Raising
End
AliasConditionState  RAISING_FLAG REALLYDAMAGED

ConditionState       PACKING
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP1
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
TransitionKey      TRANS_Packing
End
AliasConditionState  PACKING REALLYDAMAGED

TransitionState      TRANS_Raising TRANS_Packing
Model              AIGrnBrt_F_SKN
Animation          AIRngr_F_SKL.AIRngr_F_FDP2
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_LAST
End

; --- RAPPELLING ANIMATIONS
ConditionState       RAPPELLING
Animation          AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState      TRANS_Rappelling TRANS_Stand
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

TransitionState      TRANS_Rappelling TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_RPL3
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:GreenBeret
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions                  WEAPON_RIDER1
Weapon                      PRIMARY   GreenBeretAdvancedCombatRifle
Weapon                      SECONDARY RangerFlashBangGrenadeWeapon
AutoChooseSources           SECONDARY NONE
Weapon                      TERTIARY  GreenBeret40mmGrenadeLauncherWeapon
AutoChooseSources           TERTIARY  NONE
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  125
BuildTime  5.0          ;in seconds

ExperienceValue  20 20 40 60    ;Experience point value at each level
ExperienceRequired  0 40 60 120  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryGreenBeretCommandSet

; *** AUDIO Parameters ***
VoiceSelect        GreenBeretVoiceSelect
VoiceMove          GreenBeretVoiceMove
VoiceGuard         GreenBeretVoiceMove
VoiceAttack        GreenBeretVoiceAttack
VoiceFear          GreenBeretVoiceFear
VoiceTaskComplete  GreenBeretVoiceCaptureComplete

UnitSpecificSounds
VoiceEnter           GreenBeretVoiceMove
VoiceEnterHostile    GreenBeretVoiceMove
VoiceGarrison        GreenBeretVoiceGarrison
VoiceCreate          GreenBeretVoiceCreate
VoiceSubdue          GreenBeretVoiceSubdue
VoiceClearBuilding   GreenBeretVoiceClearBuilding
VoiceGetHealed       GreenBeretVoiceMove
VoicePrimaryWeaponMode    GreenBeretVoiceModeGun
VoiceSecondaryWeaponMode  GreenBeretVoiceModeFlashBang
VoiceTertiaryWeaponMode   GreenBeretVoiceModeGrenade
End

UnitSpecificFX
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
CombatDropKillFX  FX_RangerCombatDropKill
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE CAN_RAPPEL SCORE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryGreenBeretCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  ProductionUpdate ModuleTag_08
; nothing
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GreenBeretDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_GreenBeretSurrender
OCL                  INITIAL OCL_GreenBeretSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  SpecialAbility ModuleTag_18
SpecialPowerTemplate       SpecialAbilityRangerCaptureBuilding
UpdateModuleStartsAttack   Yes
StartsPaused               No
InitiateSound          GreenBeretVoiceCapture
End
Behavior  SpecialAbilityUpdate ModuleTag_19
SpecialPowerTemplate   SpecialAbilityRangerCaptureBuilding
StartAbilityRange   5.0
UnpackTime             3000  ; (changing this will scale anim speed)
PreparationTime        20000 ; time to complete hack once prepared (changing this will scale anim speed)
PackTime               2000  ; (changing this will scale anim speed)
DoCaptureFX            Yes
AwardXPForTriggering   15
;SkillPointsForTriggering  ???  -- Dustin, fill me out if you want different balance values.
End

Behavior  LockWeaponCreate ModuleTag_21
SlotToLock  PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End



;----------------------------------
;  
;----------------------------------
Object AmericaInfantryEnforcer
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SAEnforcer_L
ButtonImage             SAEnforcer

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AIEnfrcr_SKN
End
End

BuildCost  600
BuildTime  7.0          ;in seconds

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryEnforcer_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryEnforcer_Var1
Scale 0.90
; *** ART Parameters ***
SelectPortrait           SAEnforcer_L
ButtonImage              SAEnforcer

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                AIEnfrcr_SKN
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponFireFXBone     SECONDARY Muzzle
WeaponLaunchBone     SECONDARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Model                AIEnfrcr_B_SKN
Animation            AIRngr_SKL.AIRngr_NRN 30
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Model             AIEnfrcr_B_SKN
Animation         AIRngr_SKL.AIRngr_RNB 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

;Firing animation

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B
End
AliasConditionState  FIRING_A

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B
End
AliasConditionState  RELOADING_B
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A

; Injured Arc Firing mode animation
ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_Firing_B_Injured
End
AliasConditionState  FIRING_A REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_Firing_B_Injured
End
AliasConditionState  RELOADING_B REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_Firing_B TRANS_Firing_B_Injured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Enforcer
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         NONE
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeDefaultWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         VETERAN
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeVeteranWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         ELITE
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeEliteWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions         HERO
Weapon             PRIMARY   EnforcerGrenadeLauncherWeaponTimedGrenadeHeroicWeapon
Weapon             SECONDARY EnforcerGrenadeLauncherWeaponProximityGrenadeWeapon
AutoChooseSources  SECONDARY NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitHumanArmor
DamageFX         InfantryDamageFX
End

Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End

VisionRange          220
ShroudClearingRange  220

BuildCost  600
BuildTime  7.0          ;in seconds

ExperienceValue      40 60  80  100  ;Experience point value at each level
ExperienceRequired   0  200 300 400  ;Experience points needed to gain each level
IsTrainable          Yes             ;Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryEnforcerCommandSet

; *** AUDIO Parameters ***
VoiceSelect            EnforcerVoiceSelect
VoiceMove              EnforcerVoiceMove
VoiceGuard             EnforcerVoiceMove
VoiceAttack            EnforcerVoiceAttack
VoiceFear              EnforcerVoiceFear

UnitSpecificSounds
VoiceCreate          EnforcerVoiceCreate
VoiceGarrison        EnforcerVoiceGarrison
VoiceEnter           EnforcerVoiceMove
VoiceEnterHostile    EnforcerVoiceMove
VoiceGetHealed       EnforcerVoiceMove
VoicePrimaryWeaponMode    EnforcerVoiceModeTimed
VoiceSecondaryWeaponMode  EnforcerVoiceModeProxomity
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ConscriptHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaSpecialistInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryEnforcerCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaSpecialistInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior                 ArmorUpgrade ModuleTag_Upgrade02
TriggeredBy            Upgrade_AmericaChemicalSuits
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_AmericaExplodedDeathEnforcer
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathEnforcer
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_16
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;----------------------------------
;  
;----------------------------------
Object AmericaInfantryDeltaGunner
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model                AIDltaGnr_SKN
End

End

BuildCost  400
BuildTime  6.0

Prerequisites
Object  AmericaBarracks
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryDeltaGunner_Var1

KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

;This is to ensure that the barracks icon shows a veterancy chevron
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryDeltaGunner_Var1

; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIDltaGnr_SKN
IdleAnimation      AIRngr_SKL.AIRngr_STA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDA
IdleAnimation      AIRngr_SKL.AIRngr_IDB
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY   Muzzle
WeaponLaunchBone   PRIMARY   Muzzle
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
WeaponFireFXBone   TERTIARY  Muzzle
WeaponLaunchBone   TERTIARY  Muzzle
TransitionKey      TRANS_Stand
End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRngr_ATA
AnimationMode      LOOP
TransitionKey      TRANS_FiringA
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_FiringAInjured
End

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_A2WAA
AnimationMode      ONCE
End

TransitionState      TRANS_Stand TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATAST
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringA TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATAED
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_StandInjured TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringAInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Stand TRANS_Move
Animation          AIRngr_SKL.AIRngr_STA2RNA
AnimationMode      ONCE
End

; --- attacking (Machine Gun Air)
ConditionState       USING_WEAPON_B
Animation          AIRngr_SKL.AIRNGR_ATE
AnimationMode      LOOP
TransitionKey      TRANS_FiringB
End
AliasConditionState  USING_WEAPON_B REALLYDAMAGED


; ----- MORTAR ATTACK ANIMATIONS

ConditionState       PREATTACK_C
Model              AIDltaGnr_SKN_B
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE
TransitionKey      TRANS_USING_MORTAR
End
AliasConditionState  PREATTACK_C REALLYDAMAGED

ConditionState       BETWEEN_FIRING_SHOTS_C
Model              AIDltaGnr_SKN_B
IdleAnimation      AIRngr_SKL.AIRngr_MIA 0 7
IdleAnimation      AIRngr_SKL.AIRngr_MIB
AnimationMode      ONCE
TransitionKey      TRANS_USING_MORTAR
WaitForStateToFinishIfPossible  TRANS_START_FIRING_MORTAR
End
AliasConditionState  BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

ConditionState       FIRING_C
Model              AIDltaGnr_SKN_B
Animation          AIRngr_SKL.AIRNGR_MAT
AnimationMode      ONCE
TransitionKey      TRANS_START_FIRING_MORTAR
End
AliasConditionState  FIRING_C REALLYDAMAGED

;Transitions
TransitionState      TRANS_USING_MORTAR TRANS_Stand
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End
TransitionState      TRANS_START_FIRING_MORTAR TRANS_Stand
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End

TransitionState      TRANS_USING_MORTAR TRANS_StandInjured
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End
TransitionState      TRANS_START_FIRING_MORTAR TRANS_StandInjured
Animation          AIRngr_SKL.AIRNGR_MDP
AnimationMode      ONCE_BACKWARDS
End



; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_RNA 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState      TRANS_Falling TRANS_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState      TRANS_Chute TRANS_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End
TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

; --- RAPPELLING ANIMATIONS
ConditionState       RAPPELLING
Animation          AIRngr_SKL.AIRngr_RPL1 ;30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Rappelling
End
AliasConditionState  MOVING RAPPELLING

TransitionState      TRANS_Rappelling TRANS_Stand
Animation          AIRngr_SKL.AIRngr_RPL2
AnimationMode      ONCE
End

TransitionState      TRANS_Rappelling TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_RPL2
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:DeltaGunner
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions                  WEAPON_RIDER1
Weapon                      PRIMARY   DeltaGunnnerMachineGun
Weapon                      SECONDARY DeltaGunnnerMachineGunAir
PreferredAgainst            SECONDARY AIRCRAFT
Weapon                      TERTIARY  DeltaGunnnerMortarBarrageWeapon
AutoChooseSources           TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220
Prerequisites
Object  AmericaBarracks
End
BuildCost  400
BuildTime  6.0          ;in seconds

ExperienceValue     40 40  70  90   ;Experience point value at each level
ExperienceRequired  0  200 300 500  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet           AmericaInfantryDeltaGunnerCommandSet

; *** AUDIO Parameters ***
VoiceSelect        DeltaForceOperatorVoiceSelect
VoiceMove          DeltaForceOperatorVoiceMove
VoiceGuard         DeltaForceOperatorVoiceMove
VoiceAttack        DeltaForceOperatorVoiceAttack
VoiceAttackAir     DeltaForceOperatorVoiceAttackAir
VoiceFear          DeltaForceOperatorVoiceFear

UnitSpecificSounds
VoiceEnter           DeltaForceOperatorVoiceMove
VoiceEnterHostile    DeltaForceOperatorVoiceMove
VoiceGarrison        DeltaForceOperatorVoiceGarrison
VoiceCreate          DeltaForceOperatorVoiceCreate
VoiceGetHealed       DeltaForceOperatorVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_04
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  AIUpdateInterface ModuleTag_06
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL BasicHumanLocomotor


Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  RiderChangeContain ModuleTag_Veteran01
Rider1                 AmericaBasicInfantryFakeRider RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaInfantryDeltaGunnerCommandSet SET_NORMAL
Slots                  1
InitialPayload         AmericaBasicInfantryFakeRider 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_DeltaGunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Surrender_Death
DeathTypes           NONE +EXTRA_8
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerSurrender
OCL                  INITIAL OCL_DeltaGunnerSurrendering
End
; --- end Death modules ---

Behavior  SquishCollide ModuleTag_12
;nothing
End

Behavior  PoisonedBehavior ModuleTag_17
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryDeltaGunnerSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIDltaGnr_SKN
Animation          AIRngr_SKL.AIRngr_SUR
AnimationMode      ONCE
HideSubObject      SAW
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Model              AIDltaGnr_SKN
Animation          AIRngr_SKL.AIRngr_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedDeltaGunnerRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_DeltaGunnerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DeltaGunnerToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
FX                   INITIAL FX_DeltaGunnerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathDeltaGunner
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DeltaGunnerToxinDie
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End
;------------------------------------------------------------------------------
;  
;------------------------------------------------------------------------------
Object AmericaInfantryColonelBurton
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SABurton_L
ButtonImage             SABurton


Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; idle
DefaultConditionState
Model                AIHERO_SKN
IdleAnimation        AIHERO_SKL.AIHERO_STA 0 25
IdleAnimation        AIHERO_SKL.AIHERO_IDA
IdleAnimation        AIHERO_SKL.AIHERO_IDB
AnimationMode        ONCE
TransitionKey        TRANS_Stand
WeaponFireFXBone     PRIMARY  Muzzle
WeaponFireFXBone     PRIMARY  Muzzle
WeaponMuzzleFlash    PRIMARY  MuzzleFX
WeaponLaunchBone     TERTIARY Muzzle
WeaponFireFXBone     TERTIARY Muzzle
End


; injured idle
ConditionState         REALLYDAMAGED
IdleAnimation        AIHERO_SKL.AIHERO_ISTA 0 30
IdleAnimation        AIHERO_SKL.AIHERO_IIDA
IdleAnimation        AIHERO_SKL.AIHERO_IIDB
AnimationMode        ONCE
TransitionKey        TRANS_StandInjured
End


TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_ISTAHIT
AnimationMode      ONCE
End

; moving
ConditionState         MOVING
Animation            AIHERO_SKL.AIHERO_RNA 26
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Walking
ParticleSysBone      None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A
AliasConditionState  MOVING FIRING_B
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B
AliasConditionState  MOVING RELOADING_B

; injured moving
ConditionState      MOVING REALLYDAMAGED
Animation         AIHERO_SKL.AIHERO_IRNA 26
AnimationMode     LOOP
Flags             RANDOMSTART
TransitionKey     TRANS_WalkingInjured
ParticleSysBone   None InfantryDustTrails
HideSubObject      MUZZLEFX01
End
AliasConditionState  MOVING FIRING_A REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  MOVING RELOADING_A REALLYDAMAGED
AliasConditionState  MOVING FIRING_B REALLYDAMAGED
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  MOVING RELOADING_B REALLYDAMAGED

; Firing animation
ConditionState       FIRING_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringA
End

ConditionState       BETWEEN_FIRING_SHOTS_A
Animation          AIHERO_SKL.AIHERO_ATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringA
End
AliasConditionState  RELOADING_A

; Injured Firing animation
ConditionState       FIRING_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringAInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATA
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringAInjured
End
AliasConditionState  RELOADING_A REALLYDAMAGED

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIHERO_SKL.AIHERO_IATAHIT
AnimationMode      ONCE
End

; Grenade Firing animation

ConditionState       FIRING_C
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringC
End

ConditionState       BETWEEN_FIRING_SHOTS_C
Animation          AIHERO_SKL.AIHERO_ATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringC
End
AliasConditionState  RELOADING_C

; Injured Grenade Firing animation
ConditionState       FIRING_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      ONCE
AnimationSpeedFactorRange  1.5 1.5
TransitionKey      TRANS_FiringCInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATD
AnimationMode      MANUAL
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_FiringCInjured
End
AliasConditionState  RELOADING_C REALLYDAMAGED

TransitionState      TRANS_FiringC TRANS_FiringCInjured
Animation          AIHERO_SKL.AIHERO_IATDHIT
AnimationMode      ONCE
End

; Placing charge animation
ConditionState       UNPACKING
Animation          AIHERO_SKL.AIHERO_ATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING

; Injured Placing charge animation
ConditionState       UNPACKING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATB1
AnimationMode      ONCE
End
AliasConditionState  MOVING UNPACKING REALLYDAMAGED

; Stab animations
ConditionState       PREATTACK_B
Animation          AIHERO_SKL.AIHERO_ATC
AnimationMode      ONCE
TransitionKey      TRANS_Stabbing
HideSubObject      MUZZLEFX01
End
AliasConditionState  PREATTACK_B MOVING
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B

ConditionState       FIRING_B
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
TransitionKey      TRANS_Stabbing
HideSubObject      MUZZLEFX01
End
AliasConditionState  BETWEEN_FIRING_SHOTS_B
AliasConditionState  RELOADING_B

TransitionState      TRANS_Stabbing TRANS_Stand
Animation          AIHERO_SKL.AIHERO_ATC2
AnimationMode      ONCE
End

; Injured Stab animations
ConditionState       PREATTACK_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC1
AnimationMode      ONCE
TransitionKey      TRANS_StabbingInjured
HideSubObject      MUZZLEFX01
End
AliasConditionState  PREATTACK_B MOVING REALLYDAMAGED
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState       FIRING_B REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
TransitionKey      TRANS_StabbingInjured
HideSubObject      MUZZLEFX01
End
AliasConditionState  BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_StabbingInjured TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_IATC2
AnimationMode      ONCE
End

; cheering
ConditionState       SPECIAL_CHEERING
Animation          AIHERO_SKL.AIHERO_CHA
AnimationMode      ONCE
End

; injured cheering
ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIHERO_SKL.AIHERO_ICHA
AnimationMode      ONCE
End

; climbing
ConditionState       CLIMBING
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING
AliasConditionState  CLIMBING REALLYDAMAGED
AliasConditionState  RAPPELLING REALLYDAMAGED

ConditionState       CLIMBING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  CLIMBING MOVING REALLYDAMAGED

ConditionState       RAPPELLING MOVING
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING MOVING REALLYDAMAGED

; dying anims
ConditionState       DYING
Animation          AIHERO_SKL.AIHERO_DTA
Animation          AIHERO_SKL.AIHERO_DTB
Animation          AIHero_SKL.AIHero_IDTA
Animation          AIHero_SKL.AIHero_IDTB
AnimationMode      ONCE
TransitionKey      TRANS_Dying
End
AliasConditionState  RAPPELLING DYING
AliasConditionState  CLIMBING DYING

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIHERO_SKL.AIHERO_ADTG21
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIHERO_SKL.AIHERO_ADTG22
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIHERO_SKL.AIHERO_ADTG23
AnimationMode      ONCE
TransitionKey      None
End

; misc anims
ConditionState       FREEFALL
Animation          AIHERO_SKL.AIHERO_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING

ConditionState       PARACHUTING
Animation          AIHERO_SKL.AIHERO_PHG
AnimationMode      LOOP
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING

TransitionState      TRANS_Falling TRANS_Chute
Animation          AIHERO_SKL.AIHERO_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End

TransitionState      TRANS_Chute TRANS_Stand
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIHERO_SKL.AIHERO_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ColonelBurton
Side                 America
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          250
ShroudClearingRange  300
Prerequisites
Object  AmericaBarracks
Object  AmericaStrategyCenter
End
BuildCost  1500
BuildTime  20.0          ;in seconds

ExperienceValue      50 100 100 150  ; Experience point value at each level
ExperienceRequired   0 200 300 600   ; Experience points needed to gain each level
IsTrainable          Yes             ; Can gain experience
CrushableLevel       2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaInfantryColonelBurtonCommandSet
MaxSimultaneousOfType  1

WeaponSet
Conditions           None
Weapon               PRIMARY   ColonelBurtonSniperRifleWeapon
Weapon               SECONDARY ColonelBurtonKnifeWeapon
AutoChooseSources    SECONDARY NONE
Weapon               TERTIARY  ColonelBurton30mmGrenadeWeapon
AutoChooseSources    TERTIARY  NONE
End

ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End


; *** AUDIO Parameters ***
VoiceSelect  ColonelBurtonVoiceSelect
VoiceMove  ColonelBurtonVoiceMove
VoiceAttack  ColonelBurtonVoiceAttack
VoiceFear  ColonelBurtonVoiceFear
VoiceGuard  ColonelBurtonVoiceMove
SoundStealthOn  StealthOn
SoundStealthOff  StealthOff

UnitSpecificSounds
VoiceSubdue            ColonelBurtonVoiceAttackKnife
VoiceCreate            ColonelBurtonVoiceCreate
VoiceGarrison          ColonelBurtonVoiceGarrison
VoiceEnter             ColonelBurtonVoiceMove
VoiceEnterHostile      ColonelBurtonVoiceMove
VoiceGetHealed         ColonelBurtonVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE HERO REJECT_UNMANNED CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        250.0
InitialHealth    250.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  250
End
Locomotor  SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

Behavior  CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
End

Behavior  AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  5.0
End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaChemicalSuits
End

Behavior  StealthUpdate ModuleTag_07
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_TERTIARY
HintDetectableConditions     IS_FIRING_WEAPON
FriendlyOpacityMin           50.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
EnemyDetectionEvaEvent       EnemyColonelBurtonDetected
OwnDetectionEvaEvent         OwnColonelBurtonDetected
End

Behavior  SpecialAbility ModuleTag_08
SpecialPowerTemplate  SpecialAbilityColonelBurtonRemoteCharges
UpdateModuleStartsAttack  Yes
InitiateSound              ColonelBurtonVoicePlantRemoteCharge
End

Behavior  SpecialAbilityUpdate ModuleTag_09
SpecialPowerTemplate  SpecialAbilityColonelBurtonRemoteCharges
StartAbilityRange  0.0
PreparationTime  0
SpecialObject  RemoteC4Charge
MaxSpecialObjects  150 ; used to be 8 but if you can actualy manage to place that many charges without beeing spotted you should not be punished for it
SpecialObjectsPersistWhenOwnerDies  No ;Charges are removed instantly when owner dies (nobody can detonate).
AlwaysValidateSpecialObjects  Yes      ;Coupled with the above setting, this one is necessary for code optimization.
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets  Yes        ;This prevents multiple charges placed on the same object.
UnpackTime               3000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
PackTime                 0
SkipPackingWithNoTarget  Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
FlipOwnerAfterUnpacking  Yes
FleeRangeAfterCompletion  100.0         ;Runs away after finishing ability
UnpackSound                ColonelBurtonPlantCharge
LoseStealthOnTrigger       Yes
PreTriggerUnstealthTime    2500 ; in milliseconds
End

Behavior  SpecialAbility ModuleTag_10
SpecialPowerTemplate  SpecialAbilityColonelBurtonTimedCharges
UpdateModuleStartsAttack  Yes
InitiateSound              ColonelBurtonVoicePlantTimedCharge
End

Behavior  SpecialAbilityUpdate ModuleTag_11
SpecialPowerTemplate  SpecialAbilityColonelBurtonTimedCharges
StartAbilityRange  0.0
PreparationTime  0
SpecialObject  TimedC4Charge
MaxSpecialObjects  150 ; used to be 8 but if you can actualy manage to place that many charges without beeing spotted you should not be punished for it
SpecialObjectsPersistWhenOwnerDies  Yes
SpecialObjectsPersistent  Yes          ;Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets  Yes        ;This prevents multiple charges placed on the same object.
UnpackTime               3000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
FlipOwnerAfterUnpacking  Yes
FleeRangeAfterCompletion  100.0         ;Runs away after finishing ability
UnpackSound                ColonelBurtonPlantCharge
LoseStealthOnTrigger       Yes
PreTriggerUnstealthTime    2500 ; in milliseconds

End

Behavior  ExperienceScalarUpgrade ModuleTag_12
TriggeredBy    Upgrade_AmericaAdvancedTraining
AddXPScalar    1.0 ;Increases experience gained by an additional 100%
End

Behavior  BoneFXDamage ModuleTag_HeroDecal01
End

Behavior  BoneFXUpdate ModuleTag_HeroDecal02
PristineOCL1       bone:NULL OnlyOnce:No 33 33 OCL:OCL_AmericanHeroUnitDecal
DamagedOCL1        bone:NULL OnlyOnce:No 33 33 OCL:OCL_AmericanHeroUnitDecal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 33 33 OCL:OCL_AmericanHeroUnitDecal
End

;  Behavior  FireWeaponUpdate ModuleTag_HeroDecal01
;    Weapon  AmericanHeroUnitDecalWeapon
;  End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_ColonelBurtonDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_ColonelBurtonDie
OCL                  INITIAL OCL_AmericaExplodedDeathBurton
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_ColonelBurtonDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathBurton
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_18
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14
ShadowSizeY  14
ShadowTexture  ShadowI
BuildCompletion  APPEARS_AT_RALLY_POINT

End
;------------------------------------------------------------------------------
;    1
;------------------------------------------------------------------------------
Object AmericaTankCrusader

; *** ART Parameters ***
SelectPortrait           SXCrusader
ButtonImage              SXCrusader

Draw   W3DTankDraw ModuleTag_01
DefaultConditionState
Model                 AVLeoAdv
Turret                Turret
WeaponFireFXBone      PRIMARY Muzzle
WeaponRecoilBone      PRIMARY Barrel
WeaponMuzzleFlash     PRIMARY MuzzleFX
WeaponLaunchBone      PRIMARY Muzzle
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
HideSubObject         LAUNCHER
End
ConditionState         REALLYDAMAGED RUBBLE
Model                AVLeoAdv_D
Turret                Turret
WeaponFireFXBone      PRIMARY Muzzle
WeaponRecoilBone      PRIMARY Barrel
WeaponMuzzleFlash     PRIMARY MuzzleFX
WeaponLaunchBone      PRIMARY Muzzle
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
HideSubObject         LAUNCHER
End
ConditionState         WEAPONSET_PLAYER_UPGRADE
Model                AVLeoAdv
Turret                Turret
WeaponFireFXBone      PRIMARY Muzzle
WeaponRecoilBone      PRIMARY Barrel
WeaponMuzzleFlash     PRIMARY MuzzleFX
WeaponLaunchBone      PRIMARY Muzzle
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
ShowSubObject         LAUNCHER
End
ConditionState         REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
Model                AVLeoAdv_D
Turret                Turret
WeaponFireFXBone      PRIMARY Muzzle
WeaponRecoilBone      PRIMARY Barrel
WeaponMuzzleFlash     PRIMARY MuzzleFX
WeaponLaunchBone      PRIMARY Muzzle
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
ShowSubObject         LAUNCHER
End

ConditionState         WEAPONSET_HERO
Model                AVLeoAdv_L
Turret                Turret
WeaponFireFXBone      PRIMARY WEAPONA
WeaponRecoilBone      PRIMARY Barrel
WeaponLaunchBone      PRIMARY WEAPONA
WeaponMuzzleFlash     PRIMARY WEAPONA
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
HideSubObject         LAUNCHER RODS01 STEALTHGENERATO
End
ConditionState         WEAPONSET_HERO REALLYDAMAGED RUBBLE
Model                AVLeoAdv_LD
Turret                Turret
WeaponFireFXBone      PRIMARY WEAPONA
WeaponRecoilBone      PRIMARY Barrel
WeaponLaunchBone      PRIMARY WEAPONA
WeaponMuzzleFlash     PRIMARY WEAPONA
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
HideSubObject         LAUNCHER RODS01 STEALTHGENERATO
End
ConditionState         WEAPONSET_HERO WEAPONSET_PLAYER_UPGRADE
Model                AVLeoAdv_L
Turret                Turret
WeaponFireFXBone      PRIMARY WEAPONA
WeaponRecoilBone      PRIMARY Barrel
WeaponLaunchBone      PRIMARY WEAPONA
WeaponMuzzleFlash     PRIMARY WEAPONA
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
HideSubObject         RODS01 STEALTHGENERATO
ShowSubObject         LAUNCHER
End
ConditionState         WEAPONSET_HERO REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
Model                AVLeoAdv_LD
Turret                Turret
WeaponFireFXBone      PRIMARY WEAPONA
WeaponRecoilBone      PRIMARY Barrel
WeaponLaunchBone      PRIMARY WEAPONA
WeaponMuzzleFlash     PRIMARY WEAPONA
WeaponFireFXBone      TERTIARY WeaponA01
WeaponLaunchBone      TERTIARY WeaponA01
HideSubObject         RODS01 STEALTHGENERATO
ShowSubObject         LAUNCHER
End

TrackMarks             EXTnkTrack.tga
TreadAnimationRate        2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction   0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction   0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor   Yes
End

; ***DESIGN parameters ***
DisplayName        OBJECT:Crusader
Side                     America
EditorSorting            VEHICLE
TransportSlotCount       5

WeaponSet
Conditions             None
Weapon                 PRIMARY CrusaderTankGun
;Weapon                 SECONDARY CrusaderMachineGun
;Weapon                 TERTIARY CrusaderAntiGun
;PreferredAgainst       PRIMARY STRUCTURE
;AutoChooseSources      PRIMARY FROM_SCRIPT FROM_AI
;AutoChooseSources      SECONDARY FROM_SCRIPT FROM_AI
End
WeaponSet
Conditions             PLAYER_UPGRADE
Weapon                 PRIMARY CrusaderTankGun
Weapon                 TERTIARY CrusaderMissileWeapon
End
;WeaponSet
;Conditions             HERO
;Weapon                 PRIMARY LaserTankWeapon
;End
;WeaponSet
;Conditions             HERO PLAYER_UPGRADE
;Weapon                 PRIMARY LaserTankWeapon
;Weapon                 TERTIARY CrusaderMissileWeapon
;End

ArmorSet
Conditions             None
Armor                  TankArmor
DamageFX               TankDamageFX
End
;ArmorSet
;  Conditions             PLAYER_UPGRADE
;  Armor                  UpgradedTankArmor
;  DamageFX               TankDamageFX
;End
BuildCost                900
BuildTime                10.0          ;in seconds
VisionRange              250
ShroudClearingRange   275
Prerequisites
Object   AmericaWarFactory
End
ExperienceValue          100 100 200 400 ;Experience point value at each level
ExperienceRequired       0 200 300 600 ;Experience points needed to gain each level
IsTrainable              Yes  ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1   infantry, 2   trees, 3   vehicles
CrushableLevel           2  ;What am I?:        0   for infantry, 1   for trees, 2   general vehicles
CommandSet               AmericaTankCrusaderCommandSet

; *** AUDIO Parameters ***
VoiceSelect             CrusaderTankVoiceSelect
VoiceMove               CrusaderTankVoiceMove
VoiceGuard              CrusaderTankVoiceMove
VoiceAttack             CrusaderTankVoiceAttack
SoundMoveStart          CrusaderTankMoveStart
SoundMoveStartDamaged   CrusaderTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode   SomeNameSomewhereInLookupINIs
VoiceCreate           CrusaderTankVoiceCreate
VoiceEnter               CrusaderTankVoiceMove
TurretMoveStart       NoSound
TurretMoveLoop        TurretMoveLoop
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
VoiceCrush            CrusaderTankVoiceCrush
End

; *** ENGINEERING Parameters ***
RadarPriority            UNIT
KindOf                   PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT VEHICLE SCORE

Body                     ActiveBody ModuleTag_02
MaxHealth         500
InitialHealth     500
End

Behavior   AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         60
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle   Yes
End
Locomotor              SET_NORMAL CrusaderLocomotor
Behavior   PhysicsBehavior ModuleTag_04
Mass                   50.0
End

;Drones
Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior   ProductionUpdate ModuleTag_405
MaxQueueEntries   1; So you can't build multiple upgrades in the same frame
End

Behavior   ExperienceScalarUpgrade ModuleTag_08
TriggeredBy     Upgrade_AmericaAdvancedTraining
AddXPScalar     1.0 ;Increases experience gained by an additional 100%
End

Behavior   MaxHealthUpgrade ModuleTag_09
TriggeredBy     Upgrade_AmericaCompositeArmor
AddMaxHealth    100.0
ChangeType      ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

; Turret fly off death
Behavior   SlowDeathBehavior ModuleTag_10
DeathTypes   ALL -CRUSHED -SPLATTED
ProbabilityModifier    50
DestructionDelay    500
DestructionDelayVariance    100
FX    INITIAL  FX_GenericTankDeathEffect
OCL   MIDPOINT OCL_GenericTankDeathEffect
FX    FINAL    FX_GenericTankDeathExplosion
OCL   FINAL    OCL_CrusaderTurret
End

; Catch fire, and explode death
Behavior   SlowDeathBehavior ModuleTag_11
DeathTypes   ALL -CRUSHED -SPLATTED
ProbabilityModifier    50
DestructionDelay    2000
DestructionDelayVariance    300
FX    INITIAL  FX_CrusaderCatchFire
OCL   FINAL    OCL_GenericTankDeathEffect
FX    FINAL    FX_GenericTankDeathExplosion
End

Behavior                   TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1   Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1   Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior   InstantDeathBehavior ModuleTag_13
DeathTypes   NONE +CRUSHED +SPLATTED
OCL      OCL_CrusaderTank_CrushEffect
FX       FX_CarCrush
End

Behavior                      CreateCrateDie ModuleTag_CratesChange
CrateData               SalvageCrateData
;CrateData               EliteTankCrateData
;CrateData               HeroicTankCrateData
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;Behavior   ObjectCreationUpgrade ModuleTag_HeroSFX
;UpgradeObject   OCL_HeroicUnitRankUp
;TriggeredBy     Upgrade_Veterancy_HEROIC
;FXListUpgrade   FX_HeroicUnitRankUp
;End

Behavior   FlammableUpdate ModuleTag_21
AflameDuration   5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount   3       ; taking this much damage...
AflameDamageDelay   500       ; this often.
End

;Behavior   WeaponSetUpgrade ModuleTag_22
;TriggeredBy   Upgrade_AmericaTOWMissile
;End

;Behavior   VeterancyGainCreate ModuleTag_AIVeterancy1
;StartingLevel   VETERAN
;ScienceRequired   SCIENCE_AIForcePromotionVeteran
;End

;Behavior   VeterancyGainCreate ModuleTag_AIVeterancy2
;StartingLevel   ELITE
;ScienceRequired   SCIENCE_AIForcePromotionElite
;End

;Behavior   VeterancyGainCreate ModuleTag_AIVeterancy3
;StartingLevel   HEROIC
;ScienceRequired   SCIENCE_AIForcePromotionHeroic
;End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry                 BOX
GeometryMajorRadius      15.0
GeometryMinorRadius      10.0
GeometryHeight           10.0
GeometryIsSmall          Yes
Shadow   SHADOW_VOLUME
ShadowSizeX   45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------------------------------------------------
;    2
;------------------------------------------------------------------------------
Object AmericaTankCrusaderII

; *** ART Parameters ***
SelectPortrait          SACLeopard_L
ButtonImage             SACLeopard


Draw  W3DTankDraw ModuleTag_01

DefaultConditionState
Model                AVCrusader
Animation            AVCrusader.AVCrusader
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
Turret               Turret
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY TurretMS
WeaponLaunchBone     PRIMARY TurretMS
WeaponMuzzleFlash    PRIMARY TurretFX
WeaponFireFXBone     TERTIARY TurretMG
WeaponLaunchBone     TERTIARY TurretMG
WeaponMuzzleFlash    TERTIARY TurretMGFX
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
TransitionKey        TRANS_TRACK_MODE
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

;;;;;Transition Animations
TransitionState        TRANS_TRACK_MODE TRANS_HOVER_MODE
Model                AVCrusader
Animation            AVCrusader.AVCrusader
AnimationMode        ONCE
Flags                PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret               Turret
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;;;;When in Hover Mode
ConditionState         USER_1
Model                AVCrusader_H
Animation            AVCrusader_H.AVCrusader_H
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_HOVER_MODE
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 SNOW
AliasConditionState  USER_1 SNOW NIGHT

;;;;;Damaged Conditions
ConditionState         REALLYDAMAGED
Model                AVCrusader_D
Animation            AVCrusader_D.AVCrusader_D
AnimationMode        ONCE_BACKWARDS
Flags                START_FRAME_FIRST
Turret               Turret
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
TransitionKey        TRANS_DAMAGED_TRACK_MODE
End
AliasConditionState  NIGHT REALLYDAMAGED
AliasConditionState  RUBBLE
AliasConditionState  NIGHT RUBBLE
AliasConditionState  SNOW REALLYDAMAGED
AliasConditionState  SNOW NIGHT REALLYDAMAGED
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW NIGHT RUBBLE

;;;;;Transition Animations
TransitionState        TRANS_DAMAGED_TRACK_MODE TRANS_DAMAGED_HOVER_MODE
Model                AVCrusader_D
Animation            AVCrusader_D.AVCrusader_D
AnimationMode        ONCE
Flags                PRISTINE_BONE_POS_IN_FINAL_FRAME
Turret               Turret
HideSubObject        LASER01 ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;;;;When in Hover Mode
ConditionState         REALLYDAMAGED USER_1
Model                AVCrusader_HD
Animation            AVCrusader_HD.AVCrusader_HD
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_DAMAGED_HOVER_MODE
End
AliasConditionState  NIGHT REALLYDAMAGED USER_1
AliasConditionState  RUBBLE USER_1
AliasConditionState  NIGHT RUBBLE USER_1
AliasConditionState  SNOW REALLYDAMAGED USER_1
AliasConditionState  SNOW NIGHT REALLYDAMAGED USER_1
AliasConditionState  SNOW RUBBLE USER_1
AliasConditionState  SNOW NIGHT RUBBLE USER_1

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End


Draw  W3DModelDraw ModuleTag_DownDraftEffects01
OkToChangeModelColor   Yes

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  SNOW REALLYDAMAGED


ConditionState         USER_1
Model                NVDeva_U2
ParticleSysBone      NONE ShattererDownDraft
End
AliasConditionState    USER_1 REALLYDAMAGED


ConditionState         USER_1 SNOW
Model                NVDeva_U2
ParticleSysBone      NONE ShattererDownDraftSnow
End
AliasConditionState    USER_1 SNOW REALLYDAMAGED


ConditionState         USER_1 OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE AmphibWaveRest
ParticleSysBone      NONE HoverCraftLandingShipEffect
End
AliasConditionState    USER_1 OVER_WATER REALLYDAMAGED
AliasConditionState    USER_1 SNOW OVER_WATER
AliasConditionState    USER_1 SNOW OVER_WATER REALLYDAMAGED

End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName             OBJECT:CrusaderII
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      5

WeaponSet
Conditions         NONE
Weapon             PRIMARY  CrusaderIITankGun
Weapon             TERTIARY CrusaderTankCoaxialMachineGun
PreferredAgainst   TERTIARY INFANTRY
End

WeaponSet
Conditions         PLAYER_UPGRADE
Weapon             PRIMARY  CrusaderIITankGunUpgraded
Weapon             TERTIARY CrusaderTankCoaxialMachineGunUpgraded
PreferredAgainst   TERTIARY INFANTRY
End

ArmorSet
Conditions            None
Armor                 TankArmor
DamageFX              TankDamageFX
End

ArmorSet
Conditions            PLAYER_UPGRADE
Armor                 HoverTankArmor
DamageFX              TankDamageFX
End

BuildCost               1000
BuildTime               10.0          ;in seconds
VisionRange             250
ShroudClearingRange     275

Prerequisites
Object  AmericaWarFactory
;    Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue         100 100 200 400 ;Experience point value at each level
ExperienceRequired      0   200 300 600 ;Experience points needed to gain each level
IsTrainable             Yes             ;Can gain experience
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              AmericaTankCrusaderCommandSet

; *** AUDIO Parameters ***
VoiceSelect            CrusaderTankVoiceSelect
VoiceMove              CrusaderTankVoiceMove
VoiceGuard             CrusaderTankVoiceMove
VoiceAttack            CrusaderTankVoiceAttack
SoundMoveStart         CrusaderTankMoveStart
SoundMoveStartDamaged  CrusaderTankMoveStart

UnitSpecificSounds
VoiceCreate          CrusaderTankVoiceCreate
VoiceEnter           CrusaderTankVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           CrusaderTankVoiceCrush
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body                    ActiveBody ModuleTag_02
MaxHealth        500
InitialHealth    500

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
SubdualDamageCap  960
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         60
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor             SET_NORMAL CrusaderLocomotor
Locomotor             SET_NORMAL_UPGRADED CrusaderHoverLocomotor CrusaderOverWaterHoverLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

Behavior  ProductionUpdate ModuleTag_07
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

;Drone Upgrades
Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

;Avanced Training
Behavior  ExperienceScalarUpgrade ModuleTag_08
TriggeredBy    Upgrade_AmericaAdvancedTraining
AddXPScalar    1.0 ;Increases experience gained by an additional 100%
End

;Laser Range Finder
Behavior  SubObjectsUpgrade ModuleTag_LaserRangeFinder01
TriggeredBy     Upgrade_AmericaLaserRangeFinders
ShowSubObjects  LASER01
End

Behavior  WeaponSetUpgrade ModuleTag_LaserRangeFinder02
TriggeredBy  Upgrade_AmericaLaserRangeFinders
End

;Composite Armor
Behavior  MaxHealthUpgrade ModuleTag_09
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   125.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  SubObjectsUpgrade ModuleTag_145623Q123
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01 ARMOR02 ARMOR03 ARMOR04
End

;Hover Upgrade
Behavior  LocomotorSetUpgrade ModuleTag_HoverDrive01
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  ModelConditionUpgrade ModuleTag_HoverDrive02
ConditionFlag  USER_1
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_HoverDrive03
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
StatusToSet    STATUS_RIDER2
FXListUpgrade  FX_HoverModeTransitionSoundFX
End

Behavior  MaxHealthUpgrade ModuleTag_HoverDrive04
AddMaxHealth   -200.0 ;Minus 40%
ChangeType     PRESERVE_RATIO
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet
End

Behavior  ArmorUpgrade ModuleTag_HoverDrive05
TriggeredBy   Upgrade_GLAWorkerWorthlessCommandSet
End

;Negative modifier to ensure that composite armor does not give more than 25% bonus armour with the hover mode
Behavior  MaxHealthUpgrade ModuleTag_HoverDrive06
AddMaxHealth   -50.0
ChangeType     PRESERVE_RATIO
TriggeredBy    Upgrade_GLAWorkerWorthlessCommandSet Upgrade_AmericaCompositeArmor
RequiresAllTriggers  Yes
End

Behavior  CommandSetUpgrade ModuleTag_HoverDrive07
CommandSet  AmericaTankCrusaderUpgradedCommandSet
TriggeredBy  Upgrade_AmericaCrusaderHoverDrive
End

; --- begin Death modules ---
;Track Mode - Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
ExemptStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_CrusaderIITankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_CrusaderTurret
End

;Track Mode - Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_1121
ExemptStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_CrusaderIITankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

;Hover Mode - Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_102
RequiredStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_HoverCrusaderTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_CrusaderiIITurret
End

;Hover Mode - Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_112
RequiredStatus  STATUS_RIDER2
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   500
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_HoverCrusaderTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderIITank_CrushEffect
End

Behavior  CreateCrateDie ModuleTag_salvage01
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End
; --- end Death modules ---

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Geometry                BOX
GeometryMajorRadius     15.0
GeometryMinorRadius     10.0
GeometryHeight          10.0
GeometryIsSmall         Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;--------------------------------
;  
;--------------------------------
Object AmericaVehicleHumvee

; *** ART Parameters ***
SelectPortrait          SAHummer_L
ButtonImage             SAHummer

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVHUMVEE
Turret  Turret01
HideSubObject  MissileUp01
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  REALLYDAMAGED
Model  AVHUMVEE_d
Turret  Turret01
HideSubObject  MissileUp01
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  RUBBLE

;;;; Snow States

ConditionState  SNOW
Model  AVHUMVEE
Turret  Turret01
HideSubObject  MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMVEE_D
Turret  Turret01
HideSubObject  MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY Muzzle
WeaponLaunchBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End
AliasConditionState  SNOW RUBBLE

;;;; Upgraded States

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  AVHUMVEE
HideSubObject  Turret01 MissileUp01
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  AVHUMVEE_d
HideSubObject  Turret01 MissileUp01
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

;;;; Snow Upgraded States

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW
Model  AVHUMVEE
HideSubObject  Turret01 MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
End

ConditionState  WEAPONSET_PLAYER_UPGRADE SNOW REALLYDAMAGED
Model  AVHUMVEE_D
HideSubObject  Turret01 MissileUp01 Housecolor03 MuzzleFXUP01 TIRE01 TIRE02 TIRE03 TIRE04
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE SNOW RUBBLE


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW RUBBLE MOVING

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_Doors

ConditionState   NONE
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End

;Doors Opening
ConditionState   DOOR_1_OPENING
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End

;Doors Open
ConditionState   DOOR_1_WAITING_OPEN
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE
Flags          START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_TO_CLOSE

;Doors closing
ConditionState   DOOR_1_CLOSING
Model          AVHUMVEE_R
Animation      AVHUMVEE_R.AVHUMVEE_R
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_LAST
End

;Damaged
ConditionState   REALLYDAMAGED
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_FIRST
End
AliasConditionState  RUBBLE

;Damaged Doors Opening
ConditionState   REALLYDAMAGED DOOR_1_OPENING
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE
Flags          START_FRAME_FIRST
End

;Damaged Doors Open
ConditionState   REALLYDAMAGED DOOR_1_WAITING_OPEN
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE
Flags          START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

;Damaged Doors closing
ConditionState   REALLYDAMAGED DOOR_1_CLOSING
Model          AvHumvee_RD
Animation      AvHumvee_RD.AvHumvee_RD
AnimationMode  ONCE_BACKWARDS
Flags          START_FRAME_LAST
End

End

Draw  W3DModelDraw ModuleTag_TOWMissile01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

DefaultConditionState
Model  NVDeva_U2
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

;;;; Upgraded States

ConditionState  WEAPONSET_PLAYER_UPGRADE
Model  AVHummerTow
Turret  Turret
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  AVHummerTow_d
Turret  Turret
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

End

Draw  W3DModelDraw ModuleTag_DroneAntenna01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVHumvee_DR
End

End

Draw  W3DModelDraw ModuleTag_ExhaustSmoke01

ConditionState  NONE
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName            OBJECT:Humvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY HumveeGun
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY HumveeMissileWeapon
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        700
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  HumveeVoiceSelect
VoiceMove  HumveeVoiceMove
VoiceGuard  HumveeVoiceMove
VoiceAttack  HumveeVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          HumveeVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           HumveeVoiceCrush

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  HumveeVoiceUnload
VoiceEnter   HumveeVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End
Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  120
RecenterTime  7000   ; how long to wait during idle before recentering
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL HumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  TransportContain  ModuleTag_05
PassengersAllowedToFire  No ;no more humvee laming for you!
Slots              5
DamagePercentToUnits  10%
AllowInsideKindOf   INFANTRY
ExitDelay  50
NumberOfExitPaths  3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime         2000
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End


Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  25
DestructionDelay  1
OCL  INITIAL  OCL_InitialHumveeDebris
FX   FINAL    FX_BattleMasterExplosionOneFinal
OCL  FINAL    OCL_FinalHumveeDebris
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_062
DeathWeapon    HumveeMissileDeathWeapon
StartsActive   No
TriggeredBy    Upgrade_AmericaTOWMissile
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaTOWMissile
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;--------------------------------
; 
;--------------------------------
Object AmericaTankMicrowave

; *** ART Parameters ***
SelectPortrait          SAThunderBolt_L
ButtonImage             SAThunderBolt

Draw  W3DTankDraw ModuleTag_01

ExtraPublicBone  WEAPON02
OkToChangeModelColor  Yes

ConditionState   NONE
Model            AVThdrblt_LG
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End

ConditionState   USING_WEAPON_A USING_WEAPON_B
Model            AVThdrblt_LG
HideSubObject    ARMOR01
End

ConditionState   REALLYDAMAGED
Model            AVThdrblt_LG_D
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End
AliasConditionState  RUBBLE

ConditionState   REALLYDAMAGED USING_WEAPON_A USING_WEAPON_B
Model            AVThdrblt_LG_D
HideSubObject    ARMOR01
End


ConditionState   WEAPONSET_PLAYER_UPGRADE
Model            AVThdrblt_LG
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A USING_WEAPON_B

ConditionState   WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model            AVThdrblt_LG_D
HideSubObject    ARMOR01
ParticleSysBone  PROJECTORGLOW09 MicrowaveLenzflare
ParticleSysBone  NONE MicrowaveRotisserie
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED USING_WEAPON_A USING_WEAPON_B
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE


TrackMarks               EXTnkTrack.tga
TreadAnimationRate       4.0  ; amount of tread texture to move per second
End

Draw  W3DModelDraw ModuleTag_DroneAntenna01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVThdrblt_LGD
End

End

; ***DESIGN parameters ***
DisplayName             OBJECT:Microwave
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      3

ArmorSet
Conditions            None
Armor                 MicroWaveTankArmor
DamageFX              TankDamageFX
End

WeaponSet
Conditions           None
Weapon               PRIMARY   MicrowaveTankDisablerBeam
Weapon               SECONDARY MicrowaveTankBuildingClearer
PreferredAgainst     SECONDARY STRUCTURE
Weapon               TERTIARY  MicrowaveDummyWeapon
PreferredAgainst     TERTIARY  INFANTRY
End

WeaponSet
Conditions           PLAYER_UPGRADE
Weapon               PRIMARY   MicrowaveDummyWithVehicleTargetingWeapon
Weapon               SECONDARY MicrowaveTankBuildingClearer
Weapon               TERTIARY  MicrowaveDummyWeapon
AutoChooseSources    TERTIARY  NONE
End

BuildCost               1200
BuildTime               12.0          ;in seconds
VisionRange             250
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue         100 100 200 400 ;Experience point value at each level
ExperienceRequired      0 200 300 600 ;Experience points needed to gain each level
IsTrainable             Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              AmericaTankMicrowaveCommandSet

; *** AUDIO Parameters ***
VoiceSelect            MicrowaveTankVoiceSelect
VoiceMove              MicrowaveTankVoiceMove
VoiceGuard             MicrowaveTankVoiceMove
VoiceAttack            MicrowaveTankVoiceAttack
SoundMoveStart         MicrowaveTankMoveStart
SoundMoveStartDamaged  MicrowaveTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          MicrowaveTankVoiceCreate
VoiceEnter              MicrowaveTankVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           MicrowaveTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE

Body                    ActiveBody ModuleTag_02
MaxHealth        450
InitialHealth    450

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  960
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor             SET_NORMAL CrusaderLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_MicrowaveTankDeath
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Very Special Weapon Switch Mode Starts Here ;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;This switches my weaponset to the upgraded condition if i have a passenger
Behavior  HelixContain  ModuleTag_WeaponSwitchMode01
Slots  1
DamagePercentToUnits  100%
AllowInsideKindOf  NO_COLLIDE
ArmedRidersUpgradeMyWeaponSet  Yes
ShouldDrawPips  No
End

;And this is the only way of me getting a passenger
Behavior  ObjectCreationUpgrade ModuleTag_WeaponSwitchMode02
UpgradeObject  OCL_GenericDummyRider6_Normal
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Very Special Weapon Switch Mode Ends Here ;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_MicrowaveTankDeath_CrushEffect
End

Behavior                     CreateCrateDie ModuleTag_CratesChange
CrateData              SalvageCrateDataUSATier1
;CrateData              EliteTankCrateData
;CrateData              HeroicTankCrateData
End

Behavior  EjectPilotDie ModuleTag_17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  MaxHealthUpgrade ModuleTag_18
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SubObjectsUpgrade ModuleTag_18322
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01
End

Behavior  ExperienceScalarUpgrade ModuleTag_Upgrade01
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  ObjectCreationUpgrade ModuleTag_Upgrade02
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_Upgrade03
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_Prod01
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_22
Weapon  MicrowaveTankEmitterWeapon
ExclusiveWeaponDelay  1000 ; If we fire a real weapon, we turn this module off for this long
End

Behavior  FireWeaponUpdate ModuleTag_Decal01
Weapon  MicrowaveTankEmitterDecalWeapon
End

Behavior  CommandButtonHuntUpdate  ModuleTag_24 ; allows use of command button hunt script with this unit.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry                BOX
GeometryMajorRadius     15.0
GeometryMinorRadius     10.0
GeometryHeight          10.0
GeometryIsSmall         Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------
;   
;------------------------------------

Object AmericaTankPaladin

; *** ART Parameters ***
SelectPortrait          SAPaladin_L
ButtonImage             SAPaladin

Draw  W3DOverlordTankDraw ModuleTag_01

ExtraPublicBone  FIREPOINT01

DefaultConditionState
Model                AVPldn
Animation            AVPldn.AVPldn
AnimationMode        ONCE
Flags                START_FRAME_LAST
Turret               Turret
TurretPitch          TurretEL
HideSubObject        Firepoint01 LASER01 ARMOR01
WeaponFireFXBone     PRIMARY TurretMS
WeaponLaunchBone     PRIMARY TurretMS
WeaponFireFXBone     TERTIARY TurretMG
WeaponLaunchBone     TERTIARY TurretMG
WeaponMuzzleFlash    TERTIARY TurretMGFX
WaitForStateToFinishIfPossible  TRANS_START_FIRING
End

ConditionState       FIRING_A
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING
End

ConditionState       REALLYDAMAGED
Model              AVPldn_D
Animation          AVPldn_D.AVPldn_D
WaitForStateToFinishIfPossible  TRANS_START_FIRING_DAMAGED
End
AliasConditionState  RUBBLE

ConditionState       REALLYDAMAGED FIRING_A
Model              AVPldn_D
Animation          AVPldn_D.AVPldn_D
Flags              START_FRAME_FIRST
TransitionKey      TRANS_START_FIRING_DAMAGED
End


;Disguised Art for bombtrucks
ConditionState         DISGUISED
Model                AVPldn
HideSubObject        LASER01 ARMOR01
ShowSubObject        Firepoint01
End

ConditionState         DISGUISED REALLYDAMAGED
Model                AVPldn_D
HideSubObject        LASER01 ARMOR01
ShowSubObject        Firepoint01
End
AliasConditionState  DISGUISED RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Paladin
Side  America
EditorSorting    VEHICLE
TransportSlotCount  6

WeaponSet
Conditions  None
Weapon             PRIMARY  PaladinTankGun
Weapon             TERTIARY PaladinTankCoaxialMachineGun
PreferredAgainst   TERTIARY INFANTRY
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY  PaladinTankGunUpgraded
Weapon             TERTIARY PaladinTankCoaxialMachineGunUpgraded
PreferredAgainst   TERTIARY INFANTRY
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost        1500
BuildTime        18.0          ;in seconds
VisionRange      275
ShroudClearingRange  300

Prerequisites
Object  AmericaWarFactory
Object  AmericaStrategyCenter
Science SCIENCE_Rank1
End

ExperienceValue     150 150 250 500 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level


IsTrainable      Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaTankPaladinCommandSet

; *** AUDIO Parameters ***
VoiceSelect  PaladinTankVoiceSelect
VoiceMove  PaladinTankVoiceMove
VoiceGuard  PaladinTankVoiceMove
VoiceAttack  PaladinTankVoiceAttack
SoundMoveStart  PaladinTankMoveStart
SoundMoveStartDamaged  PaladinTankMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      PaladinTankVoiceCreate
TurretMoveLoop  TurretMoveLoop
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
VoiceCrush  PaladinTankVoiceCrush
VoiceEnter  PaladinTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE HUGE_VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        600.0
InitialHealth    600.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1400
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         80
TurretPitchRate        50
AllowsPitch            Yes
MinPhysicalPitch       -5
NaturalTurretPitch     5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL PaladinLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_PaladinTankDeathEffect
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  2000
DestructionDelayVariance  300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_PaladinTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  OverlordContain ModuleTag_07
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PassengersInTurret       Yes
PayloadTemplateName      AmericaTankPaladinLaserTurret
ExperienceSinkForRider   Yes ; I get the Exp for things my turret friend kills
End

Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_11
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SubObjectsUpgrade ModuleTag_LaserRangeFinder01
TriggeredBy     Upgrade_AmericaLaserRangeFinders
ShowSubObjects  LASER01
End

Behavior  WeaponSetUpgrade ModuleTag_LaserRangeFinder02
TriggeredBy  Upgrade_AmericaLaserRangeFinders
End

Behavior  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  DestroyDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateDataUSATier2
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End
Behavior  EjectPilotDie ModuleTag_17
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  MaxHealthUpgrade ModuleTag_18
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SubObjectsUpgrade ModuleTag_145623Q123
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  FireWeaponUpdate ModuleTag_Decal01
Weapon  PaladinTankPDLDecalWeapon
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;------------------------------------
;    
;------------------------------------
Object AmericaVehiclePatriot

; *** ART Parameters ***
SelectPortrait          SAPatriotTruck_L
ButtonImage             SAPatriotTruck

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVPat
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  AVPat
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

ConditionState  REALLYDAMAGED
Model  AVPat_D
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End
AliasConditionState  RUBBLE

ConditionState  MOVING REALLYDAMAGED
Model  AVPat_D
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  SECONDARY FireSmoke
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End
AliasConditionState  MOVING RUBBLE

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray

CabBone  CHASSIS
TrailerBone  TRAILER
CabRotationMultiplier  0.0
TrailerRotationMultiplier  0.5

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
MidLeftFrontTireBone   TIRE03
MidRightFrontTireBone  TIRE04
LeftRearTireBone       TIRE05
RightRearTireBone      TIRE06
MidLeftRearTireBone    TIRE07
MidRightRearTireBone   TIRE08

RotationDamping  0.9
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0

End

; ***DESIGN parameters ***
DisplayName             OBJECT:Patriot
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      8

WeaponSet
Conditions            None
Weapon                SECONDARY PatriotTruckMissileWeapon
End

ArmorSet
Conditions            None
Armor                 HeavyAntiAirArmor
DamageFX              TankDamageFX
End

BuildCost               1500
BuildTime               18.0  ;in seconds
VisionRange             500
ShroudClearingRange     300

Prerequisites
Object  AmericaWarFactory
Object  AmericaStrategyCenter
Science  SCIENCE_Rank1
End

ExperienceValue         100 100 200 400 ;Experience point value at each level
ExperienceRequired      0   200 300 600 ;Experience points needed to gain each level
IsTrainable             Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet              AmericaTankPatriotCommandSet

; *** AUDIO Parameters ***
VoiceSelect            PatriotVoiceSelect
VoiceMove              PatriotVoiceMove
VoiceGuard             PatriotVoiceGuard
VoiceAttack            PatriotVoiceAttack
VoiceAttackAir         PatriotVoiceAttack
SoundMoveStart         PatriotTruckMoveStart
SoundMoveStartDamaged  PatriotTruckMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          PatriotVoiceCreate
VoiceEnter           PatriotVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           PatriotVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

Body                    ActiveBody ModuleTag_02
MaxHealth        400
InitialHealth    400

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  960
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         180
TurretPitchRate        180
AllowsPitch            Yes
ControlledWeaponSlots  SECONDARY
NaturalTurretPitch     0
NaturalTurretAngle     180  ; this turret points backwards normally
;MinPhysicalPitch       25
;MinIdleScanAngle       15
;MaxIdleScanAngle       90
;MinIdleScanInterval    5000
;MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         30
End
Locomotor             SET_NORMAL PatriotLocomotor
Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_07
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_08
TriggeredBy    Upgrade_AmericaAdvancedTraining
AddXPScalar    1.0 ;Increases experience gained by an additional 100%
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_PatriotDeathEffect
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_PatriotDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior                     CreateCrateDie ModuleTag_CratesChange
CrateData              SalvageCrateDataUSATier2
End

Behavior  EjectPilotDie ModuleTag_17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry                BOX
GeometryMajorRadius     18.0
GeometryMinorRadius     8.0
GeometryHeight          12.0
GeometryIsSmall         Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------
;    
;------------------------------------
Object AmericaVehicleTomahawk

; *** ART Parameters ***
SelectPortrait          SACTomahawk_L
ButtonImage             SACTomahawk

Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY

;Normal Mode
DefaultConditionState
Model  AVTmhwk
Turret  TURRET
TurretPitch  TURRETEL
HideSubObject  LASER01
WeaponLaunchBone  PRIMARY WeaponA
TransitionKey  TRANS_NORMAL_MODE
End
AliasConditionState  NIGHT
AliasConditionState  RIDER1
AliasConditionState  NIGHT RIDER1

ConditionState  RIDER1 REALLYDAMAGED
Model  AVTmhwk_D
TransitionKey  TRANS_DAMAGED_NORMAL_MODE
End
AliasConditionState  RUBBLE
AliasConditionState  RIDER1 RUBBLE
AliasConditionState  RIDER2 RUBBLE
AliasConditionState  NIGHT RIDER1 REALLYDAMAGED
AliasConditionState  NIGHT RUBBLE
AliasConditionState  NIGHT RIDER1 RUBBLE
AliasConditionState  NIGHT RIDER2 RUBBLE

TransitionState  TRANS_NORMAL_MODE TRANS_CRUISE_MODE
Model  AVTmhwk_B
Animation  AVTmhwk_B.AVTmhwk_B
AnimationMode  ONCE
ShowSubObject  LASER01
HideSubObject  WEAPONB01
End

TransitionState  TRANS_DAMAGED_NORMAL_MODE TRANS_DAMAGED_CRUISE_MODE
Model  AVTmhwk_BD
Animation  AVTmhwk_BD.AVTmhwk_BD
AnimationMode  ONCE
ShowSubObject  LASER01
HideSubObject  WEAPONB01
End

;Cruise Mode
ConditionState  RIDER2
Model  AVTmhwk_B
ShowSubObject  LASER01
TransitionKey  TRANS_CRUISE_MODE
WeaponLaunchBone  PRIMARY WeaponB
End
AliasConditionState  NIGHT RIDER2

ConditionState  RIDER2 REALLYDAMAGED
Model  AVTmhwk_BD
ShowSubObject  LASER01
TransitionKey  TRANS_DAMAGED_CRUISE_MODE
WeaponLaunchBone  PRIMARY WeaponB
End
AliasConditionState  NIGHT RIDER2 REALLYDAMAGED

TransitionState  TRANS_CRUISE_MODE TRANS_NORMAL_MODE
Model  AVTmhwk
Animation  AVTmhwk.AVTmhwk
AnimationMode  ONCE
HideSubObject  WEAPONA01
End

TransitionState  TRANS_DAMAGED_CRUISE_MODE TRANS_DAMAGED_NORMAL_MODE
Model  AVTmhwk_D
Animation  AVTmhwk_D.AVTmhwk_D
AnimationMode  ONCE
HideSubObject  WEAPONA01
End

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Tomahawk
Side  America
EditorSorting    VEHICLE
TransportSlotCount  5
BuildCost        1600
BuildTime        20.0          ;in seconds
VisionRange      300
ShroudClearingRange  150
Prerequisites
Object  AmericaWarFactory
Object  AmericaStrategyCenter
End
ExperienceValue     75 100 150 200   ;Experience point value at each level
ExperienceRequired  0 200 400 800   ;Experience points needed to gain each levell
IsTrainable  Yes             ;Can gain experience

WeaponSet
Conditions             WEAPON_RIDER1
Weapon                 PRIMARY TomahawkMissileWeapon
ShareWeaponReloadTime  Yes
End

WeaponSet
Conditions             WEAPON_RIDER2
Weapon                 PRIMARY TomahawkMissileLongCruiseWeapon
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            BikeLogicTruckArmor
DamageFX         TankDamageFX
End
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
;CommandSet       AmericaVehicleTomahawkCommandSet

; *** AUDIO Parameters ***
VoiceSelect  TomahawkVoiceSelect
VoiceMove  TomahawkVoiceMove
VoiceGuard  TomahawkVoiceMove
VoiceAttack  TomahawkVoiceAttack
SoundMoveStart  TomahawkMoveStart
SoundMoveStartDamaged  TomahawkMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate  TomahawkVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoopLoud
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
VoiceCrush  TomahawkVoiceCrush
VoiceEnter  TomahawkVoiceMove
VoiceBombard  TomahawkVoiceAttack
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE DONT_AUTO_CRUSH_INFANTRY CANNOT_RETALIATE GARRISONABLE_UNTIL_DESTROYED

Body  ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  360
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  20   ; turn rate, in degrees per sec
TurretPitchRate  20
FirePitch  70  ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch  Yes
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
End
Locomotor  SET_NORMAL TomahawkLocomotor

;*************************************
;******Transformation Code Start******
;*************************************

Behavior  RiderChangeContain ModuleTag_Transform01

;;;;Fast Mode Missiles
Rider1  GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 AmericaVehicleTomahawkCommandSet SET_NORMAL

;;;;Cruise Mode Missiles
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 AmericaVehicleTomahawkCommandSet SET_NORMAL

;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  GrantUpgradeCreate ModuleTag_Transform02
UpgradeToGrant      Upgrade_GLAWorkerRealCommandSet
End

Behavior  ProductionUpdate  ModuleTag_Transform03
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

;Primary Unit Mode Triggers

Behavior  FireWeaponCollide ModuleTag_Transform04
CollideWeapon    TomahawkSwitchToStandardMissiles
RequiredStatus   STATUS_RIDER2 STATUS_RIDER8
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform05
UpgradeObject    OCL_GrenadierHEGrenadeMode
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform06
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
StatusToSet    STATUS_RIDER8
StatusToClear  REPULSOR
End

;Secondary Unit Mode Triggers

Behavior  FireWeaponCollide  ModuleTag_Transform07
CollideWeapon    TomahawkSwitchToCruiseModeMissiles
RequiredStatus   STATUS_RIDER1 REPULSOR
End

Behavior  ObjectCreationUpgrade ModuleTag_Transform08
UpgradeObject    OCL_GrenadierAirburtGrenadeMode
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_Transform09
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
StatusToSet    REPULSOR
StatusToClear  STATUS_RIDER8
End

;************************************
;******Transformation Code End*******
;************************************

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ExperienceScalarUpgrade ModuleTag_09
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  CreateCrateDie ModuleTag SalvageData
CrateData  SalvageCrateDataUSATier2
End

Behavior  TransitionDamageFX ModuleTag_14
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED -EXTRA_7
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleTomahawkDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior  DestroyDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED +EXTRA_7
End

;Deaths for pilot kill weapons
Behavior  CreateObjectDie ModuleTag_105235
DeathTypes  NONE +EXTRA_7
CreationList  OCL_TomahawkNerveGasKill
TransferPreviousHealth  Yes
End

Behavior  FXListDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED -TOPPLED -EXTRA_7
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  EjectPilotDie ModuleTag_13
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------
;   
;----------------------------
Object AmericaVehicleWaspHive

; *** ART Parameters ***
SelectPortrait          SAWaspHive_L
ButtonImage             SAWaspHive

Draw  W3DTruckDraw ModuleTag_01

DefaultConditionState
Model  AVWasp
Animation  AVWasp.AVWasp
AnimationMode  LOOP
AnimationSpeedFactorRange  2.0 2.0
Turret  Turret
HideSubObject  TopHatch01 TopHatch02
End
ConditionState  REALLYDAMAGED
Model  AVWasp_D
Animation  AVWasp_D.AVWasp_D
End
AliasConditionState  RUBBLE

TrackMarks  EXTireTrack.tga
OkToChangeModelColor  Yes

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone        Tire01
RightFrontTireBone       Tire02
LeftRearTireBone         Tire03
RightRearTireBone        Tire04
MidLeftMidTireBone       Tire05
MidRightMidTireBone      Tire06
MidLeftRearTireBone      Tire07
MidRightRearTireBone     Tire08
TireRotationMultiplier   0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DModelDraw ModuleTag_Door01

DefaultConditionState
Model          AVWasp
Animation      AVWasp.AVWasp
AnimationMode  ONCE_BACKWARDS
Flags          MAINTAIN_FRAME_ACROSS_STATES
HideSubObject  Chassis
AnimationSpeedFactorRange  3.0 3.0
End

ConditionState  ATTACKING
AnimationMode  ONCE
End

;;;REALLYDAMAGED Conditions

ConditionState  REALLYDAMAGED
Model          AVWasp_D
Animation      AVWasp_D.AVWasp_D
End

ConditionState  REALLYDAMAGED ATTACKING
Model          AVWasp_D
Animation      AVWasp_D.AVWasp_D
AnimationMode  ONCE
End

End

Draw  W3DModelDraw ModuleTag_Headlights01

DefaultConditionState
Model              AVWasp_N
End

ConditionState  RUBBLE
Model              NONE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:WaspHive
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY   WaspHiveHarmlessWeapon
Weapon             SECONDARY WaspHiveDroneDeployDroneWeapon
End

ArmorSet
Conditions       None
Armor            TruckArmor
DamageFX         TruckDamageFX
End

BuildCost        1400
BuildTime        18.0          ;in seconds
VisionRange      300
ShroudClearingRange  220

Prerequisites
Object  AmericaWarFactory
Object  AmericaDetentionCamp AmericaDroneControlCenter
End

ExperienceValue     80 80 80 80   ;Experience point value at each level
IsTrainable         No
CrusherLevel        2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel      2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet          AmericaVehicleWaspHiveCommandSet

; *** AUDIO Parameters ***
VoiceSelect            WaspHiveVoiceSelect
VoiceMove              WaspHiveVoiceMove
VoiceGuard             WaspHiveVoiceMove
VoiceAttack            WaspHiveVoiceAttack
SoundMoveStart         HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart

UnitSpecificSounds
VoiceCreate           WaspHiveVoiceCreate
TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceEnter            WaspHiveVoiceMove
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
VoiceCrush            WaspHiveVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK SELECTABLE CAN_CAST_REFLECTIONS VEHICLE DONT_AUTO_CRUSH_INFANTRY SCORE CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_05
Turret
TurretTurnRate         180
MinIdleScanAngle       30
MaxIdleScanAngle       110
MinIdleScanInterval    1000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  No NotWhileAttacking
TurretsLinked  Yes
End
Locomotor  SET_NORMAL WasphiveLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  0
FX   FINAL FX_GenericTankDeathExplosion
OCL  FINAL OCL_FinalWaspHiveDebris
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FXListDie ModuleTag_15
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_GenericTankDeathEffect
End

;Old Drone Spawn Modules
;  Behavior  SpawnBehavior ModuleTag_Drones01
;    SpawnNumber            3
;    SpawnReplaceDelay      10000
;    SpawnTemplateName      AmericaVehicleWaspDrone
;    ExitByBudding          No
;    InitialBurst           1
;    OneShot                No
;    AggregateHealth        No
;    SlavesHaveFreeWill     No
;    SpawnedRequireSpawner  Yes
;  End

;  Behavior  QueueProductionExitUpdate ModuleTag_Drones02
;    UnitCreatePoint    X:0.0  Y:0.0  Z:0.0
;    NaturalRallyPoint  X:0.0  Y:0.0  Z:0.0
;    ExitDelay          10000
;    InitialBurst       1
;  End

Behavior  ProductionUpdate ModuleTag_AirBorneCallin01
MaxQueueEntries  1
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ObjectCreationUpgrade ModuleTag_Drones01
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_Drones02
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateDataUSATier1
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  EjectPilotDie ModuleTag_Pilot17
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  18.0
GeometryMinorRadius  9.0
GeometryHeight  12.0  ; height set to allow clear clipping of projectile streams
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;----------------------------
;   
;----------------------------
Object AmericaVehiclePOWTruck
; *** ART Parameters ***
SelectPortrait          SAPowTruck
ButtonImage             SAPowTruck

Draw                    W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState        NONE
Model               AVPOWTRUCK
End
ConditionState        REALLYDAMAGED
Model               AVPOWTRUCK_D
End
ConditionState        RUBBLE
Model               AVPOWTruck_D
End
TrackMarks            EXTireTrack.tga
Dust                  RocketBuggyDust
DirtSpray             RocketBuggyDirtSpray
PowerslideSpray       RocketBuggyDirtPowerSlide
; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone           Tire01
RightFrontTireBone          Tire02
MidLeftRearTireBone         Tire03
MidRightRearTireBone        Tire05
LeftRearTireBone            Tire04
RightRearTireBone           Tire06
TireRotationMultiplier      0.2   ; this * speed  rotation.
PowerslideRotationAddition  2.5   ; This speed is added to the rotation speed when powersliding.
End
; ***DESIGN parameters ***
DisplayName           OBJECT:POWTruck
Side                  America
EditorSorting         VEHICLE
TransportSlotCount    3                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions          None
Armor               TruckArmor
DamageFX            TankDamageFX
End
; nope, sorry, can't build it. (srj)
Buildable  No
;BuildCost             500
;BuildTime             10.0          ;in seconds
VisionRange           200
ShroudClearingRange   300
ExperienceValue       50 50 50 50    ;Experience point value at each level
ExperienceRequired    0 150 450 900  ;Experience points needed to gain each level
IsTrainable           Yes             ;Can gain experience
CrusherLevel          2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel        2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; nope, sorry, can't control it. (srj)
;CommandSet            VehiclePOWTruckCommandSet

; *** AUDIO Parameters ***
VoiceSelect  POWTruckUSAVoiceSelect
VoiceMove  POWTruckUSAVoiceMove
VoiceGuard  POWTruckUSAVoiceMove
SoundEnter  POWTruckEnter
SoundExit  POWTruckExit
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           POWTruckUSAVoiceCreate
TurretMoveLoop        TurretMoveLoop
SoundMoveStart        POWTruckUSAMoveStart
SoundMoveStartDamaged  POWTruckUSAMoveStart
SoundEject            PilotSoundEject
VoiceEject            PilotVoiceEject
VoiceCrush            POWTruckUSAVoiceCrush
; Required for the W3DTruckDraw module
TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  POWTruckUSAMoveStart
VoiceEnter            POWTruckUSAVoiceMove
End
; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE TRANSPORT SCORE
Body                    ActiveBody ModuleTag_02
MaxHealth             500.0
InitialHealth         500.0
End
; but we must have an AIUpdate in order for our Locomotor to work.
Behavior  AIUpdateInterface ModuleTag_04
; no data
End
Locomotor               SET_NORMAL POWTruckLocomotor
Behavior                PhysicsBehavior ModuleTag_05
Mass                  50.0
End
Behavior                SlowDeathBehavior ModuleTag_06
DeathTypes            ALL -CRUSHED -SPLATTED
ProbabilityModifier   25
DestructionDelay      1
FX                    FINAL    FX_BattleMasterExplosionOneFinal
;OCL                   FINAL    OCL_AmericanPOWTruckDeathEffect
End
Behavior                FXListDie ModuleTag_07
DeathTypes            NONE +CRUSHED +SPLATTED
DeathFX               FX_CarCrush
End
Behavior  TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End
Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End
Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End
Geometry                BOX
GeometryMajorRadius     15.0
GeometryMinorRadius     7.0
GeometryHeight          13.5
GeometryIsSmall         Yes
Shadow                  SHADOW_VOLUME
End


;----------------------------
;    
;----------------------------
Object AmericaVehicleBradley

; *** ART Parameters ***
SelectPortrait          SABradley_L
ButtonImage             SABradley

Draw  W3DOverlordTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone  FIREPOINT01
RecoilSettleSpeed  20
MaxRecoilDistance  2.2

DefaultConditionState
Model                AVBrad
Animation            AVBrad.AVBrad
AnimationMode        ONCE_BACKWARDS
Flags                MAINTAIN_FRAME_ACROSS_STATES
Turret               Turret
HideSubObject        DOOR FIREPOINT01 ARMOR
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY WeaponA
WeaponLaunchBone     SECONDARY WeaponA
AnimationSpeedFactorRange  1.2 1.2
End

ConditionState         REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
End
AliasConditionState  RUBBLE

ConditionState         PREATTACK_B
AnimationMode        ONCE
End

ConditionState         PREATTACK_B REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
AnimationMode        ONCE
End

;;;;;;;Composite Armor upgrade

ConditionState         WEAPONSET_PLAYER_UPGRADE
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End

ConditionState         WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End
AliasConditionState  WEAPONSET_PLAYER_UPGRADE RUBBLE

ConditionState         WEAPONSET_PLAYER_UPGRADE PREATTACK_B
AnimationMode        ONCE
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End

ConditionState         WEAPONSET_PLAYER_UPGRADE PREATTACK_B REALLYDAMAGED
Model                AVBrad_D
Animation            AVBrad_D.AVBrad_D
AnimationMode        ONCE
HideSubObject        DOOR FIREPOINT01 ARMOR HOUSECOLOR02
End

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.

End

Draw               W3DModelDraw ModuleTag_Doors01

ConditionState  NONE
Model          AVBrad
HideSubObject  CHASSIS TURRET ARMOR
End

ConditionState  REALLYDAMAGED
Model          AVBrad_D
HideSubObject  CHASSIS TURRET ARMOR
End
AliasConditionState  RUBBLE

ConditionState   DOOR_1_WAITING_OPEN ;AV03B
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_WAITING_TO_CLOSE
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

ConditionState   DOOR_1_WAITING_OPEN REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

ConditionState   DOOR_1_OPENING
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_CLOSING
Model          AVBrad
Animation      AVBrad.AVBrad
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

ConditionState   DOOR_1_OPENING REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_FIRST
End
ConditionState   DOOR_1_CLOSING REALLYDAMAGED
Model          AVBrad_D
Animation      AVBrad_D.AVBrad_D
AnimationMode  ONCE_BACKWARDS
HideSubObject  CHASSIS TURRET ARMOR
Flags          START_FRAME_LAST
End

End

Draw               W3DModelDraw ModuleTag_Armor01

OkToChangeModelColor  Yes

DefaultConditionState
Model               AVBrad
ShowSubObject       NONE
HideSubObject       ARMOR DOOR FIREPOINT01 CHASSIS TURRET
End
ConditionState  REALLYDAMAGED
Model               AVBrad_D
ShowSubObject       NONE
HideSubObject       ARMOR DOOR FIREPOINT01 CHASSIS TURRET
End
AliasConditionState  RUBBLE

ConditionState        WEAPONSET_PLAYER_UPGRADE
Model               AVBrad
ShowSubObject       ARMOR
HideSubObject       DOOR FIREPOINT01 CHASSIS TURRET
End

ConditionState        WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model               AVBrad_D
ShowSubObject       ARMOR
HideSubObject       DOOR FIREPOINT01 CHASSIS TURRET
End
AliasConditionState   WEAPONSET_PLAYER_UPGRADE RUBBLE

End

Draw  W3DModelDraw ModuleTag_01232515

DefaultConditionState
Model                AVBrad_N
End

End
; ***DESIGN parameters ***
DisplayName            OBJECT:Bradley
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   BradleyCannonWeapon
Weapon  SECONDARY BradleyMissileWeapon
;AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            BradleyArmor
DamageFX         TruckDamageFX
End

BuildCost        1000
BuildTime        12.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     50 50  100 150  ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes           ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleBradleyCommandSet

; *** AUDIO Parameters ***
VoiceSelect  BradleyVoiceSelect
VoiceMove  BradleyVoiceMove
VoiceGuard  BradleyVoiceMove
VoiceAttack  BradleyVoiceAttack
SoundMoveStart  BradleyMoveStart
SoundMoveStartDamaged  BradleyMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          BradleyVoiceCreate
VoiceCrush           BradleyVoiceMove
VoiceEnter           BradleyVoiceMove
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  90
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         33
End
Locomotor  SET_NORMAL BradleyLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  HelixContain ModuleTag_05
Slots                  4
ScatterNearbyOnExit    No
DamagePercentToUnits   10%
AllowInsideKindOf      INFANTRY PORTABLE_STRUCTURE
ExitDelay              250
NumberOfExitPaths      1
GoAggressiveOnExit     Yes
PassengersInTurret     Yes
PayloadTemplateName    AmericaVehicleBradleyLaserTurret
DoorOpenTime           2000
End

Behavior  MaxHealthUpgrade ModuleTag_1812
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   87.5
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  WeaponSetUpgrade ModuleTag_0232
TriggeredBy  Upgrade_AmericaCompositeArmor
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_102321
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_BradleyDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_BradleyTurret
End

Behavior  SlowDeathBehavior ModuleTag_1121
RequiredStatus  STATUS_RIDER1
DeathTypes  ALL -CRUSHED -SPLATTED +TOPPLED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_BradleyDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaTankAvenger

; *** ART Parameters ***
SelectPortrait          SAAvnger_L
ButtonImage             SAAvnger


Draw  W3DOverlordTruckDraw ModuleTag_01
OkToChangeModelColor   Yes
ExtraPublicBone  TurretFX03

DefaultConditionState
Model                AVAvnger
Turret               Turret01
HideSubObject        Turret02 LazerSpot01 LazerSpot02
End

ConditionState         REALLYDAMAGED
Model                AVAvnger_D
End
AliasConditionState    RUBBLE

ConditionState         SNOW
Model                AVAvnger
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End

ConditionState         SNOW REALLYDAMAGED
Model                AVAvnger_D
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End

;When a bombtruck disguises as an avenger, use a different model

ConditionState         DISGUISED
Model                AVAvnger
Animation            AVAvnger.AVAvnger
AnimationMode        LOOP
ShowSubObject        Turret02
End

ConditionState         REALLYDAMAGED DISGUISED
Model                AVAvnger_D
Animation            AVAvnger_D.AVAvnger_D
AnimationMode        LOOP
ShowSubObject        Turret02
End
AliasConditionState    RUBBLE DISGUISED

ConditionState         SNOW DISGUISED
Model                AVAvnger
Animation            AVAvnger_D.AVAvnger_D
AnimationMode        LOOP
ShowSubObject        Turret02
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End

ConditionState         SNOW REALLYDAMAGED DISGUISED
Model                AVAvnger_D
Animation            AVAvnger_D.AVAvnger_D
AnimationMode        LOOP
ShowSubObject        Turret02
HideSubObject        TIRE01 TIRE02 TIRE03 TIRE04
End
AliasConditionState    SNOW RUBBLE DISGUISED

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW RUBBLE MOVING

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ExhaustSmoke01

ConditionState  NONE
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Avenger
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon  PRIMARY   AvengerTargetDesignator
Weapon  SECONDARY AvengerAirGunAirDummy
End

ArmorSet
Conditions       None
Armor            AvengerArmor
DamageFX         TankDamageFX
End

BuildCost        1200
BuildTime        12.0          ;in seconds
VisionRange      250
ShroudClearingRange  300

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     80  80  160 300 ;Experience point value at each level
ExperienceRequired  0   200 300 600 ;Experience points needed to gain each level

IsTrainable      Yes
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaTankAvengerCommandSet

; *** AUDIO Parameters ***
VoiceSelect  AvengerVoiceSelect
VoiceMove  AvengerVoiceMove
VoiceGuard  AvengerVoiceMove
VoiceAttack  AvengerVoicePaint
VoiceAttackAir  AvengerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate      AvengerVoiceCreate
TurretMoveLoop  NoSound
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
VoiceCrush  NoSound
VoiceEnter  AvengerVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE

Body  ActiveBody ModuleTag_02
MaxHealth        300.0
InitialHealth    300.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
NaturalTurretPitch   35
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  100 ; default is 2000
End
Locomotor  SET_NORMAL AvengerLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  50
DestructionDelay  500
DestructionDelayVariance  100
FX   INITIAL  FX_GenericTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_AvengerTankDeathEffect
End

Behavior  SubObjectsUpgrade ModuleTag_PointDefenceLaser01
TriggeredBy     Upgrade_AmericaPointDefenceLasers
ShowSubObjects  LazerSpot01 LazerSpot02
End

Behavior  PointDefenseLaserUpdate ModuleTag_PointDefenceLaser02
WeaponTemplate         AvengerPointDefenseLaserDummyWeapon
PrimaryTargetTypes     SMALL_MISSILE
ScanRate               1
ScanRange              200.0
PredictTargetVelocityFactor  1.0
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_PointDefenceLaser03
StartsActive   No
TriggeredBy    Upgrade_AmericaPointDefenceLasers
DamageTypes    ALL
;Effectively all the time when set to zero which we want in this case
DamageAmount   0
ContinuousWeaponPristine       AvengerPDLDecalWeapon
ContinuousWeaponDamaged        AvengerPDLDecalWeapon
ContinuousWeaponReallyDamaged  AvengerPDLDecalWeapon
;No rubble weapon as this decal should disappear when dead
;ContinuousWeaponRubble
End

Behavior  OverlordContain ModuleTag_OverlordContain
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName         AmericaTankAvengerLaserTurret
ExperienceSinkForRider  Yes ; I get the Exp for things my turret friend kills
End

Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  ExperienceScalarUpgrade ModuleTag_11
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End
Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End
Behavior  DestroyDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
End
Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End
Behavior  EjectPilotDie ModuleTag_17
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  FlammableUpdate ModuleTag_22
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------
;   
;-----------------------
Object AmericaVehicleAirborneHumvee

; *** ART Parameters ***
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor   Yes

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVATHmr
Animation          AVATHmr.AVATHmr
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      MuzzleFX01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
End

ConditionState  USING_WEAPON_A
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USING_WEAPON_B

ConditionState  REALLYDAMAGED
Model              AVATHmr_D
End

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
End
AliasConditionState  REALLYDAMAGED USING_WEAPON_B

ConditionState  RUBBLE
Model              AVATHmr_D1
End


ConditionState  SNOW
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW USING_WEAPON_A
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW USING_WEAPON_B

ConditionState  SNOW REALLYDAMAGED
Model              AVATHmr_D
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW REALLYDAMAGED USING_WEAPON_B

ConditionState  SNOW RUBBLE
Model              AVATHmr_D1
HideSubObject      Tire01 Tire02 Tire03 Tire04
End


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide


LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End
AliasConditionState  SNOW MOVING RUBBLE

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              AVAirbrnHmmr_N
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              AVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model              NONE
End

ConditionState  FIRING_A
Model              AVATHmr_Mzl
Animation          AVATHmr_Mzl.AVATHmr_Mzl
AnimationMode      ONCE
Turret             TURRET
Flags              RANDOMSTART
End
AliasConditionState  FIRING_B

End

; ***DESIGN parameters ***
DisplayName            OBJECT:AirborneHumvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY HumveeMinigun
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        500
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAirborneHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ATVHummerVoiceSelect
VoiceMove  ATVHummerVoiceMove
VoiceGuard  ATVHummerVoiceMove
VoiceAttack  ATVHummerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          ATVHummerVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           ATVHummerVoiceMove

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  ATVHummerVoiceUnload
VoiceEnter   ATVHummerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL AirborneHumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  TransportContain  ModuleTag_05
Slots                          5
DamagePercentToUnits           10%
AllowInsideKindOf              INFANTRY
ExitDelay                      100
NumberOfExitPaths              3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit             Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime                   2000
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior            OCLSpecialPower ModuleTag_PointDefenceDrone01
SpecialPowerTemplate  SpecialAbilityAmericaPointDefenceDrone
OCL                   OCL_AmericanPointDefenceDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_AirborneHumveeAirDeathStart
FX   INITIAL FX_AirborneHumveeAirDeathGroundPart
OCL  FINAL   OCL_RocketBuggyAirDeath
FX   FINAL   FX_RocketBuggyAirDeathAirPart
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  ATVHumveeWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  ATVHumveeWeaponBonusDecalWeapon
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------
;   
;-----------------------
Object AmericaTankAcolyte

; *** ART Parameters ***
SelectPortrait          SATankAcolyte_L
ButtonImage             SATankAcolyte

Draw  W3DTankDraw ModuleTag_01

MaxRecoilDistance     2.5

DefaultConditionState
Model                AVAcolyte
Turret               Turret
TurretPitch          TurretEL
HideSubObject        ARMOR01 ARMOR02 LASER01
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY MuzzleMG
WeaponLaunchBone     SECONDARY MuzzleMG
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End

ConditionState         REALLYDAMAGED
Model                AVAcolyte_D
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Acolyte
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions  None
Weapon            PRIMARY   AcolyteTankGun
Weapon            SECONDARY AcolyteTankCoaxialMachineGun
PreferredAgainst  SECONDARY INFANTRY
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon            PRIMARY   AcolyteTankGunUpgraded
Weapon            SECONDARY AcolyteTankCoaxialMachineGunUpgraded
PreferredAgainst  SECONDARY INFANTRY
End

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         TankDamageFX
End

BuildCost               750
BuildTime               10.0          ;in seconds
VisionRange             250
ShroudClearingRange     275

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     80 80 150 300   ;Experience point value at each level
ExperienceRequired  0 200 300 600   ;Experience points needed to gain each level

IsTrainable      Yes  ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaTankPaladinCommandSet

; *** AUDIO Parameters ***
VoiceSelect     AcolyteTankVoiceSelect
VoiceMove       AcolyteTankVoiceMove
VoiceGuard      AcolyteTankVoiceMove
VoiceAttack     AcolyteTankVoiceAttack
SoundMoveStart         AcolyteTankMoveStart
SoundMoveStartDamaged  AcolyteTankMoveStart

UnitSpecificSounds
VoiceCreate  AcolyteTankVoiceCreate
VoiceCrush   AcolyteTankVoiceMove
VoiceEnter   AcolyteTankVoiceMove
SoundEject   PilotSoundEject
VoiceEject   PilotVoiceEject
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        380.0
InitialHealth    380.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  1000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         90
TurretPitchRate        50
AllowsPitch            Yes
MinPhysicalPitch       -15
NaturalTurretPitch     5
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL AcolyteTankLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

;Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_1021
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_AcolyteTurret
End

;Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_1121
DeathTypes  ALL
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
DeathFX  FX_CarCrush
End

Behavior  ObjectCreationUpgrade ModuleTag_08
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_10
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_11
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  MaxHealthUpgrade ModuleTag_18
TriggeredBy    Upgrade_AmericaCompositeArmor
AddMaxHealth   100.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SubObjectsUpgrade ModuleTag_18322
TriggeredBy     Upgrade_AmericaCompositeArmor
ShowSubObjects  ARMOR01 ARMOR02
End

Behavior  SubObjectsUpgrade ModuleTag_LaserRangeFinder01
TriggeredBy     Upgrade_AmericaLaserRangeFinders
ShowSubObjects  LASER01
End

Behavior  WeaponSetUpgrade ModuleTag_LaserRangeFinder02
TriggeredBy  Upgrade_AmericaLaserRangeFinders
End

Behavior  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  EjectPilotDie ModuleTag_17
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End



;-----------------------
;   
;-----------------------
Object AmericaVehicleMedic

; *** ART Parameters ***
SelectPortrait          SAAmbulance_L
ButtonImage             SAAmbulance

Draw  W3DTruckDraw ModuleTag_01

ConditionState  NONE
Model  AVAmbulance
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
ConditionState  REALLYDAMAGED
Model  AVAmbulance_D
Turret  Turret
TurretPitch  TurretEL
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  RUBBLE

ConditionState  SNOW
Model  AVAmbulance
Turret  Turret
TurretPitch  TurretEL
HideSubObject  TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
ConditionState  SNOW REALLYDAMAGED
Model  AVAmbulance_D
Turret  Turret
TurretPitch  TurretEL
HideSubObject  TIRE01 TIRE02 TIRE03 TIRE04
WeaponFireFXBone  PRIMARY WeaponA
WeaponLaunchBone  PRIMARY WeaponA
End
AliasConditionState  SNOW RUBBLE

TrackMarks  EXTireTrack.tga
OkToChangeModelColor  Yes

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.
LeftFrontTireBone  Tire01
RightFrontTireBone  Tire02
LeftRearTireBone  Tire03
RightRearTireBone  Tire04
TireRotationMultiplier  0.2        ; this * speed  rotation.
PowerslideRotationAddition  2.5    ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE
AliasConditionState  SNOW RUBBLE MOVING

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_HealingRing01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDclBone
Animation          EXDclBone.EXDclBone
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME
End
AliasConditionState  MOVING USING_WEAPON_B

ConditionState  USING_WEAPON_B
AnimationMode      ONCE_BACKWARDS
Flags              START_FRAME_FIRST
End

End

Draw  W3DModelDraw ModuleTag_FieldHospitalStuff01

DefaultConditionState
Model  NONE
TransitionKey      TRANS_Packed
End
AliasConditionState  MOVING
AliasConditionState  MOVING REALLYDAMAGED
AliasConditionState  MOVING USING_WEAPON_B
AliasConditionState  MOVING REALLYDAMAGED USING_WEAPON_B
AliasConditionState  MOVING SNOW
AliasConditionState  MOVING SNOW REALLYDAMAGED
AliasConditionState  MOVING SNOW USING_WEAPON_B
AliasConditionState  MOVING SNOW REALLYDAMAGED USING_WEAPON_B

;Normal
TransitionState  TRANS_Packed TRANS_Unpacked
Model              AVAmbulance_A1
Animation          AVAmbulance_A1.AVAmbulance_A1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  USING_WEAPON_B
Model              AVAmbulance_A2
Animation          AVAmbulance_A2.AVAmbulance_A2
AnimationMode      LOOP
TransitionKey      TRANS_Unpacked
End

TransitionState  TRANS_Unpacked TRANS_Packed
Model              AVAmbulance_A1
Animation          AVAmbulance_A1.AVAmbulance_A1
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4.5 4.5
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

;Snow
TransitionState  TRANS_Packed TRANS_Unpacked_Snow
Model              AVAmbulance_SA1
Animation          AVAmbulance_SA1.AVAmbulance_SA1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  SNOW USING_WEAPON_B
Model              AVAmbulance_SA2
Animation          AVAmbulance_SA2.AVAmbulance_SA2
AnimationMode      LOOP
TransitionKey      TRANS_Unpacked_Snow
End

TransitionState  TRANS_Unpacked_Snow TRANS_Packed
Model              AVAmbulance_SA1
Animation          AVAmbulance_SA1.AVAmbulance_SA1
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4.5 4.5
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

;Damaged
TransitionState  TRANS_Packed TRANS_Unpacked_Damaged
Model              AVAmbulance_DA1
Animation          AVAmbulance_DA1.AVAmbulance_DA1
AnimationMode      ONCE
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ConditionState  REALLYDAMAGED USING_WEAPON_B
Model              AVAmbulance_DA2
Animation          AVAmbulance_DA2.AVAmbulance_DA2
AnimationMode      LOOP
TransitionKey      TRANS_Unpacked_Damaged
End

TransitionState  TRANS_Unpacked_Damaged TRANS_Packed
Model              AVAmbulance_DA1
Animation          AVAmbulance_DA1.AVAmbulance_DA1
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4.5 4.5
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

End

Draw  W3DModelDraw ModuleTag_ExhaustSmoke01

ConditionState  NONE
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeLight
End

ConditionState  MOVING
Model  Humvee_Smk
ParticleSysBone  EXHAUST01 GLATankEngineSmokeHeavy
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Medic
Side  America
EditorSorting    VEHICLE
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet

;*** Fully automated and driven by the CleanupHazardUpdate ***
Conditions         None
Weapon             PRIMARY   AmbulanceCleanHazardWeapon
AutoChooseSources  PRIMARY   NONE

;*** Brand new field hospital weapon! ***
Weapon             SECONDARY AmbulanceHospitalWeapon
AutoChooseSources  SECONDARY NONE

End
ArmorSet
Conditions       None
Armor            AmbulanceTruckArmor
DamageFX         TruckDamageFX
End
BuildCost        500
BuildTime        7.0          ;in seconds
VisionRange      220
ShroudClearingRange  220
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue     50 50 50 50 ;Experience point value at each level
IsTrainable      No
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAmbulanceCommandSet

; *** AUDIO Parameters ***
VoiceSelect  AmbulanceVoiceSelect
VoiceMove  AmbulanceVoiceMove
VoiceGuard  AmbulanceVoiceMove
VoiceAttack  AmbulanceVoiceDetox
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate           AmbulanceVoiceCreate
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
; Required for the W3DTruckDraw module
TruckLandingSound  RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceCrush           AmbulanceVoiceCrush
VoiceEnter  AmbulanceVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE HEAL_PAD TRANSPORT IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_02
MaxHealth        240.0
InitialHealth    240.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  CleanupHazardUpdate ModuleTag_03
WeaponSlot             PRIMARY
ScanRate               100
ScanRange              220.0 ;If this range exceeds the AmbulanceCleanHazardWeapon AttackRange, it'll move!
End

;Can be ordered to clean up a larger area with the ability to move around at an extended range.
Behavior  CleanupAreaPower ModuleTag_04
SpecialPowerTemplate           SpecialAbilityAmbulanceCleanupArea
MaxMoveDistanceFromLocation    300.0 ;allows the unit to move around while cleaning up
InitiateSound  AmbulanceVoiceDetox
End

Behavior  TransportAIUpdate ModuleTag_05
AutoAcquireEnemiesWhenIdle  No  ;CleanupHazardUpdate handles this...
Turret
TurretTurnRate  180
TurretPitchRate  180
AllowsPitch  Yes
MinPhysicalPitch  -20 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
TurretFireAngleSweep  PRIMARY 20
TurretSweepSpeedModifier  PRIMARY 0.5    ; Sweep slower than you turn
ControlledWeaponSlots  PRIMARY
MinIdleScanAngle       10
MaxIdleScanAngle       40
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
End
Locomotor  SET_NORMAL HumveeLocomotor

;  Behavior  HealContain ModuleTag_06
;    ContainMax           10 ;way bigger than the # of objects we can have
;    NumberOfExitPaths    10
;    TimeForFullHeal      2000   ;(in milliseconds)
;    AllowInsideKindOf    INFANTRY
;    AllowAlliesInside    Yes
;    AllowNeutralInside   No
;    AllowEnemiesInside   No
;  End

Behavior  OverlordContain ModuleTag_HealingDecal01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericaAmbulanceHealingDecal
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  50.0
End
Behavior  SlowDeathBehavior ModuleTag_08
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  0
FX   FINAL FX_GenericTankDeathExplosion
OCL  FINAL OCL_FinalAmbulanceDebris
End

Behavior  ObjectCreationUpgrade ModuleTag_09
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_10
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ProductionUpdate ModuleTag_11
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FXListDie ModuleTag_15
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_GenericTankDeathEffect
End

Behavior  CreateCrateDie ModuleTag_16
CrateData  SalvageCrateData
;CrateData  EliteTankCrateData
;CrateData  HeroicTankCrateData
End

Behavior  ExperienceScalarUpgrade ModuleTag_17
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  TransitionDamageFX ModuleTag_18
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  14.0
GeometryHeight  12.0  ; height set to allow clear clipping of projectile streams
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End


;-----------------
;  
;-----------------
Object AmericaVehicleDozer

; *** ART Parameters ***
SelectPortrait          SACDozer_L
ButtonImage             SACDozer

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End



;;;;Realy Damaged
ConditionState  REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_IDLE_DAMAGED
End

ConditionState  PREATTACK_A REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING_DAMAGED
End

ConditionState       MOVING REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_MOVING_DAMAGED
End

ConditionState       ACTIVELY_CONSTRUCTING REALLYDAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING_DAMAGED
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_IDLE_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_MOVING_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End


TrackMarks             EXTireTrack2.tga
Dust                   RocketBuggyDust
DirtSpray              RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
LeftRearTireBone       TIRE03
RightRearTireBone      TIRE04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DTruckDraw ModuleTag_GroundAndDirtParticles01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_B
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_B
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      LOOP
ParticleSysBone    DIRTFX01 DozerDirtFall_Permanent ;gush of dirt
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Dozer
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   5 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ; in seconds
VisionRange          200
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              RussianDozerArmor
DamageFX           TankDamageFX
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaDozerCommandSet

; *** AUDIO Parameters ***
VoiceSelect          DozerUSAVoiceSelect
VoiceMove            DozerUSAVoiceMove
VoiceGuard           DozerUSAVoiceMove
VoiceTaskComplete    DozerUSAVoiceBuildComplete
VoiceAttack          DozerUSAVoiceCrush
SoundMoveStart         DozerUSAMoveStart
SoundMoveStartDamaged  DozerUSAMoveStart

UnitSpecificSounds
VoiceCreate            DozerUSAVoiceCreate
VoiceNoBuild           DozerUSAVoiceBuildNot
VoiceCrush             DozerUSAVoiceCrush
VoiceRepair            DozerUSAVoiceRepair
;VoiceDisarm            DozerUSAVoiceClearMine
TruckLandingSound      NoSound
TruckPowerslideSound   NoSound
VoiceEnter             DozerUSAVoiceMove
VoiceBuildResponse     DozerUSAVoiceBuild
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor  SET_NORMAL AmericaVehicleDozerLocomotor

Behavior             PhysicsBehavior ModuleTag_04
Mass               75.0
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AmericaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End


;*************************************
;******Transformation Code Start********
;*************************************

Behavior  ProductionUpdate ModuleTag_CommandSetUpgrade01
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade02
CommandSet       AmericaDozerCommandSet
TriggeredBy      Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade03
TriggeredBy          Upgrade_GLAWorkerRealCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
StatusToClear        STATUS_RIDER2
End

Behavior  CommandSetUpgrade ModuleTag_CommandSetUpgrade04
CommandSet       AmericaDozerDefenceCommandSet
TriggeredBy      Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades  Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade05
TriggeredBy          Upgrade_GLAWorkerFakeCommandSet
RemovesUpgrades      Upgrade_GLAWorkerRealCommandSet Upgrade_GLAWorkerFakeCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER2
StatusToClear        STATUS_RIDER1
End

Behavior  StatusBitsUpgrade ModuleTag_CommandSetUpgrade06
TriggeredBy          Upgrade_CostReduction
ConflictsWith        Upgrade_GLAWorkerFakeCommandSet Upgrade_GLAWorkerRealCommandSet
RequiresAllTriggers  No
StatusToSet          STATUS_RIDER1
End

;This module fires a weapon with a dummy collision object that ensures that we always have collision
Behavior  FireWeaponUpdate ModuleTag_CommandSetUpgrade07
Weapon  GenericCollisionDummyWeapon
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade08
CollideWeapon   EuropeExcavatorStandardBuildingDecalWeapon
RequiredStatus  STATUS_RIDER1
End

Behavior  FireWeaponCollide ModuleTag_CommandSetUpgrade09
CollideWeapon   EuropeExcavatorDefenceBuildingDecalWeapon
RequiredStatus  STATUS_RIDER2
End

;************************************
;******Transformation Code End********
;************************************

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;-----------------
;  
;-----------------
Object AmericaVehicleDozer_AI

; *** ART Parameters ***
SelectPortrait          SACDozer_L
ButtonImage             SACDozer

Draw  W3DTruckDraw ModuleTag_01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_A
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_A
Animation          AVCONSTDOZ_A.AVCONSTDOZ_A
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End



;;;;Realy Damaged
ConditionState  REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeLight
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_IDLE_DAMAGED
End

ConditionState  PREATTACK_A REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_DIGGING_DAMAGED
End

ConditionState       MOVING REALLYDAMAGED RUBBLE
Model              AVCONSTDOZ_AD
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
WaitForStateToFinishIfPossible  TRANS_DIGGING_DAMAGED
TransitionKey      TRANS_MOVING_DAMAGED
End

ConditionState       ACTIVELY_CONSTRUCTING REALLYDAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      LOOP
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
TransitionKey      TRANS_CONSTRUCTING_DAMAGED
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_IDLE_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING_DAMAGED TRANS_MOVING_DAMAGED
Model              AVCONSTDOZ_AD
Animation          AVCONSTDOZ_AD.AVCONSTDOZ_AD
AnimationMode      ONCE
ParticleSysBone    EXHAUSTFX01 DozerSmokeHeavy
Flags              MAINTAIN_FRAME_ACROSS_STATES
End


TrackMarks             EXTireTrack2.tga
Dust                   RocketBuggyDust
DirtSpray              RocketBuggyDirtSpray

; These parameters are only used if the model has a separate suspension,
; and the locomotor has HasSuspension  Yes.

LeftFrontTireBone      TIRE01
RightFrontTireBone     TIRE02
LeftRearTireBone       TIRE03
RightRearTireBone      TIRE04

TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.

ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DTruckDraw ModuleTag_GroundAndDirtParticles01

OkToChangeModelColor  Yes

;;;;Normal
ConditionState       NONE
Model              AVCONSTDOZ_B
TransitionKey      TRANS_IDLE
End

ConditionState  PREATTACK_A
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
TransitionKey      TRANS_DIGGING
End

ConditionState  MOVING
Model              AVCONSTDOZ_B
WaitForStateToFinishIfPossible  TRANS_DIGGING
TransitionKey      TRANS_MOVING
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      LOOP
ParticleSysBone    DIRTFX01 DozerDirtFall_Permanent ;gush of dirt
TransitionKey      TRANS_CONSTRUCTING
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_IDLE
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState   TRANS_CONSTRUCTING TRANS_MOVING
Model              AVCONSTDOZ_B
Animation          AVCONSTDOZ_B.AVCONSTDOZ_B
AnimationMode      ONCE
ParticleSysBone    DIRTFX01 DozerDirtFall ;gush of dirt
Flags              MAINTAIN_FRAME_ACROSS_STATES
End

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Dozer
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   5 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            5.0 ; in seconds
VisionRange          200
ShroudClearingRange  200

ArmorSet
Conditions         None
Armor              RussianDozerArmor
DamageFX           TankDamageFX
End

ExperienceValue     5 5 5 5     ;Experience point value at each level

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaDozerCommandSet_AI

; *** AUDIO Parameters ***
VoiceSelect          DozerUSAVoiceSelect
VoiceMove            DozerUSAVoiceMove
VoiceGuard           DozerUSAVoiceMove
VoiceTaskComplete    DozerUSAVoiceBuildComplete
VoiceAttack          DozerUSAVoiceCrush
SoundMoveStart         DozerUSAMoveStart
SoundMoveStartDamaged  DozerUSAMoveStart

UnitSpecificSounds
VoiceCreate            DozerUSAVoiceCreate
VoiceNoBuild           DozerUSAVoiceBuildNot
VoiceCrush             DozerUSAVoiceCrush
VoiceRepair            DozerUSAVoiceRepair
;VoiceDisarm            DozerUSAVoiceClearMine
TruckLandingSound      NoSound
TruckPowerslideSound   NoSound
VoiceEnter             DozerUSAVoiceMove
VoiceBuildResponse     DozerUSAVoiceBuild
End

; *** ENGINEERING Parameters ***
RadarPriority        UNIT
KindOf               PRELOAD VEHICLE SCORE SELECTABLE CANNOT_RETALIATE CAN_CAST_REFLECTIONS DOZER CANNOT_RETALIATE IMMUNE_TO_CAPTURE

Body                 ActiveBody ModuleTag_02
MaxHealth          250.0
InitialHealth      250.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  500
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  DozerAIUpdate ModuleTag_03
RepairHealthPercentPerSecond  2%    ; % of max health to repair each second
BoredTime                     3000  ; in milliseconds
BoredRange                    150   ; when bored, we look this far away to do something
AutoAcquireEnemiesWhenIdle    Yes
End

Locomotor  SET_NORMAL AmericaVehicleDozerLocomotor

Behavior             PhysicsBehavior ModuleTag_04
Mass               75.0
End

Behavior                  TransitionDamageFX ModuleTag_06
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

; Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_07
DeathTypes  ALL -CRUSHED -SPLATTED
ProbabilityModifier  100
DestructionDelay  1500
DestructionDelayVariance  600
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AmericaDozerExplode
FX   FINAL    FX_BattleMasterExplosionOneFinal
End

Behavior  AutoHealBehavior ModuleTag_AutoRepair01
StartsActive   Yes
HealingAmount  5
HealingDelay  1000
StartHealingDelay  3000
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                FXListDie ModuleTag_23
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX          FX_CarCrush
End

Behavior  DestroyDie ModuleTag_24
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight       15.0
GeometryIsSmall      Yes
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;---------------
;  
;---------------
Object AmericaAmbulanceHealingDecal

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0
GeometryIsSmall      No
Scale                50.0
ShadowTexture  EXHealAura; this is not really a shadow, it's used for decal to indicate fake structure.
ShadowSizeX  310
ShadowSizeY  310

End

;------------------------------------------------------------------------------
Object AmericaTankAcolyteParaDropping

Draw  W3DTankDraw ModuleTag_01

MaxRecoilDistance     2.5

DefaultConditionState
Model                AVAcolyte
Turret               Turret
TurretPitch          TurretEL
HideSubObject        ARMOR01 ARMOR02 LASER01
WeaponRecoilBone     PRIMARY Barrel
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
WeaponFireFXBone     SECONDARY MuzzleMG
WeaponLaunchBone     SECONDARY MuzzleMG
WeaponMuzzleFlash    SECONDARY MuzzleMGFX
End

ConditionState         REALLYDAMAGED
Model                AVAcolyte_D
End
AliasConditionState  RUBBLE

TrackMarks            EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              NONE
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              EXParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End


; ***DESIGN parameters ***
DisplayName            OBJECT:Acolyte
Side                   America
EditorSorting          SYSTEM
TransportSlotCount     3

ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         DamageFX_Empty
End

VisionRange      200
ShroudClearingRange  200

CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS PARACHUTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        380.0
InitialHealth    380.0
End

Behavior  TransportAIUpdate ModuleTag_03
End
Locomotor  SET_NORMAL AcolyteTankLocomotor

Behavior  FireWeaponUpdate ModuleTag_51
Weapon  SuicideWeapon
End

; --- begin Death modules ---
;Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_1021
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -SUICIDED
ProbabilityModifier   50
DestructionDelay   1
DestructionDelayVariance   1
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
OCL  FINAL    OCL_AcolyteTurret
End

;Catch fire, and explode death
Behavior  SlowDeathBehavior ModuleTag_1121
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -SUICIDED
ProbabilityModifier   50
DestructionDelay   2000
DestructionDelayVariance   300
FX   INITIAL  FX_CrusaderCatchFire
OCL  FINAL    OCL_AcolyteTankDeathEffect
FX   FINAL    FX_GenericTankDeathExplosion
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +SUICIDED
End

Behavior  CreateObjectDie ModuleTag_11
DeathTypes  NONE +SUICIDED
CreationList  OCL_AcolyteOnGround
TransferPreviousHealth  Yes
End
; --- end Death modules ---

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object CINE_U06_CruiseMissileFLY

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model          AVCINECMF
;ParticleSysBone  Engine01 CINE_U06_JetBlackTrailThin
ParticleSysBone  Engine01 CINE_U06_JetExhaust
ParticleSysBone  Engine01 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine02 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine03 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine04 CINE_U06_SteamRocketFuselage
End
End

Scale  .66

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End


; *** AUDIO Parameters ***
VoiceSelect              MigVoiceSelect
VoiceMove                MigVoiceMove
VoiceAttack              MigVoiceAttack
VoiceAttackAir           MigVoiceAttackAir
VoiceGuard               MigVoiceAirPatrol
SoundAmbient             MigAmbientLoop
UnitSpecificSounds
VoiceCreate            MigVoiceCreate
Afterburner            RaptorAfterburner
VoiceGarrison          MigVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
Body                    ActiveBody ModuleTag_02
MaxHealth             160.0
InitialHealth         160.0
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End


Behavior  PhysicsBehavior ModuleTag_05
Mass  250.0
End

Behavior  JetAIUpdate ModuleTag_06
OutOfAmmoDamagePerSecond  10%  ; amount of damage to take per SEC (not per frame) when out of ammo
; note that it's expressed as a percent of max health, not an absolute
TakeoffDistForMaxLift      0%   ; larger numbers give more lift sooner when taking off
TakeoffPause            500
MinHeight               5
ReturnToBaseIdleTime    1000000         ; if idle for this long, return to base, even if not out of ammo
End


Locomotor  SET_NORMAL CINE_CruiseMissile
Locomotor  SET_TAXIING BasicJetTaxiLocomotor


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000        ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500      ; this often.
End

Behavior                        TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
End


Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       14.0
GeometryMinorRadius       7.0
GeometryHeight            5.0
Shadow                    SHADOW_VOLUME

Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_U06_CruiseMissileAttack

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model          AVCINECMA
Animation      AVCINECMA.AVCINECMA
AnimationMode  ONCE
;ParticleSysBone  Engine01 CINE_U06_JetBlackTrailThin
ParticleSysBone  Engine01 CINE_U06_JetExhaust
ParticleSysBone  Engine01 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine02 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine03 CINE_U06_SteamRocketFuselage
;ParticleSysBone  Engine04 CINE_U06_SteamRocketFuselage
End
End

Scale  .66

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** AUDIO Parameters ***
;  SoundAmbient             Cin_CruiseMissileAmbientLoop


; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------
Object CINE_U06_BBus

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            CINE_BBus
End

ConditionState     DOOR_1_OPENING
Model            CINE_BBus
Animation        CINE_BBus.CINE_BBus
AnimationMode    ONCE
End

ConditionState     DAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState     REALLYDAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState  RUBBLE
Model  CBBaikRock_CR
End

End

; ***DESIGN parameters ***
DisplayName      OBJECT:Structure
EditorSorting    STRUCTURE
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End
CommandSet       BaikonurLaunchTowerCommandSet

;***AUDIO parameters ***
;  SoundAmbient     Cin_BaikonurRocketAmbientLoop
SoundAmbient     BuildingNeutronMissileHiss

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  FlammableUpdate ModuleTag_05
FlameDamageLimit  20         ;Catch fire if I take this much fire damage...
FlameDamageExpiration  2000  ;in a span of this long
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  25       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_07
CreationList   OCL_PoisonFieldLarge
End

Behavior              FXListDie ModuleTag_08
DeathFX        FX_NukeGLA
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    45.0
GeometryMinorRadius    46.0
GeometryHeight         160.0
GeometryIsSmall        No
Shadow                 None
End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto01

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          CINE_SatP01
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto02

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          CINE_SatP02
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto03

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model          CINE_SatP03
End
End

; ***DESIGN parameters ***
DisplayName              OBJECT:MIG
EditorSorting            VEHICLE
Side                     America
TransportSlotCount       0          ;how many "slots" we take in a transport (0 == not transportable)
VisionRange              200.0
ShroudClearingRange      300.0

ArmorSet
Conditions            None
Armor                 AirplaneArmor
DamageFX              None
End

; *** ENGINEERING Parameters ***
Body             ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End
Shadow           SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

Behavior  DestroyDie ModuleTag_05
DeathTypes  ALL
End

; An Explosive Death
Behavior  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX  FX_PropExplode
End

End

;------------------------------------------------------------------------------

;------------------------------Cinematic Only-----------------------------
Object CINE_Sattelite3

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            CINE_Sat02
Animation        CINE_Sat02.CINE_Sat02
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

ConditionState     DOOR_1_OPENING
Model            CINE_Sat02
Animation        CINE_Sat02.CINE_Sat02
AnimationMode    ONCE
End

ConditionState     DAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 SteamRocketFuselage
ParticleSysBone  Smoke02 SteamRocketFuselage
ParticleSysBone  Smoke03 SteamRocketFuselage
ParticleSysBone  Smoke04 SteamRocketFuselage
;     ParticleSysBone  ESmoke01 SteamRocketFuselage
End

ConditionState     REALLYDAMAGED
Model            CBBaikRock_A1
Animation        CBBaikRock_A1.CBBaikRock_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 SteamRocketFuselage
ParticleSysBone  Smoke02 SteamRocketFuselage
ParticleSysBone  Smoke03 SteamRocketFuselage
ParticleSysBone  Smoke04 SteamRocketFuselage
;     ParticleSysBone  ESmoke01 SteamRocketFuselage
End

ConditionState  RUBBLE
Model  CBBaikRock_CR
End

End

; ***DESIGN parameters ***
DisplayName      OBJECT:Structure
EditorSorting    STRUCTURE
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End
CommandSet       BaikonurLaunchTowerCommandSet

;***AUDIO parameters ***
SoundAmbient     CINE_SatSound01Loop
SoundAmbient     ParticleUplinkCannon_PowerupSoundLoop

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  FlammableUpdate ModuleTag_05
FlameDamageLimit  20         ;Catch fire if I take this much fire damage...
FlameDamageExpiration  2000  ;in a span of this long
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  25       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior              CreateObjectDie ModuleTag_07
CreationList   OCL_PoisonFieldLarge
End

Behavior              FXListDie ModuleTag_08
DeathFX        FX_NukeGLA
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    1.0
GeometryMinorRadius    1.0
GeometryHeight         1.0
GeometryIsSmall        No
Shadow                 None
End


;------------------------------------------------------------------------------
Object CINE_CruiseMissileDetObject ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL CINE_WeaponFX_CruiseMissile
Weapon               FINAL   DummyWeapon
End
End

;------------------------------------------------------------------------------
Object CINE_MiniNukeExplosion ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL FX_ChinaPowerPlantDeath
Weapon               FINAL   DummyWeapon
End

End
;------------------------------------------------------------------------------



;------------------------------------------------------------------------------
;*************************** Cinematic-only unit ******************************
;
; ??? This unit is used in a mission for "color".
; This unit is never human-controllable!
;
Object CINE_AmericaInfantryOfficer
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIOFCR_SKN
IdleAnimation  AIOFCR_SKL.AIOFCR_STA 0 21
;Regular spice animations
IdleAnimation  AIOFCR_SKL.AIOFCR_IDA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_STAND
End

ConditionState     MOVING
Animation        AIOFCR_SKL.AIOFCR_RNA
AnimationMode    LOOP
ParticleSysBone      None InfantryDustTrails
End

; NORMAL ATTACK
;--------------------------------------------------------
; Drawing gun
ConditionState   PREATTACK_A
Animation      AIOFCR_SKL.AIOFCR_ATAST
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; Firing gun
ConditionState   FIRING_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
ConditionState   BETWEEN_FIRING_SHOTS_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_A TRANS_STAND
Animation      AIOFCR_SKL.AIOFCR_ATAED
AnimationMode  ONCE
End
;--------------------------------------------------------

ConditionState   DYING
Animation      AIOFCR_SKL.AIOFCR_DTA
Animation      AIOFCR_SKL.AIOFCR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIOFCR_SKL.AIOFCR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIOFCR_SKL.AIOFCR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIOFCR_SKL.AIOFCR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      AIOFCR_SKL.AIOFCR_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS

;@TODO - MISSING ANIMATION FILE
;ConditionState    FREEFALL
;  Animation       AIOFCR_SKL.AIOFCR_PFL
;  AnimationMode   LOOP
;  TransitionKey   TRANS_Falling
;End
;AliasConditionState  FREEFALL REALLYDAMAGED
;AliasConditionState  FREEFALL DYING
ConditionState   PARACHUTING
Animation      AIOFCR_SKL.AIOFCR_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute

End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation      AIOFCR_SKL.AIOFCR_POP
AnimationMode  ONCE
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation      AIOFCR_SKL.AIOFCR_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Officer
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY AmericaOfficerMachineGun
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150

BuildCost      400
BuildTime      10.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  RangerVoiceSelect
VoiceGroupSelect  BattleCrySound
VoiceMove  RangerVoiceMove
VoiceAttack  RangerVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL CINE_BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_07
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
FX                   FINAL   FX_IfantryTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
Weapon               INITIAL  ShockTrooperTeslaDeathZapWeapon
Weapon               MIDPOINT ShockTrooperTeslaDeathZapWeapon
Weapon               FINAL    ShockTrooperTeslaDeathZapWeapon
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_10
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End


;------------------------------Cinematic Only-----------------------------
Object CINE_AircraftCarrier

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            PSAirCarrier_Dt
Animation        PSAirCarrier_Dt.PSAirCarrier_Dt
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_FIRST
End

; DEATH ****************************************
ConditionState        RUBBLE
Model                PSAirCarrier_Dt
Animation            PSAirCarrier_Dt.PSAirCarrier_Dt
AnimationMode        ONCE
ParticleSysBone      SPLASH0BONE airCarrierDeathSplash0
ParticleSysBone      SPLASH0BONE airCarrierShockWave0
ParticleSysBone      SPLASH1BONE airCarrierDeathSplash
ParticleSysBone      SPLASH1BONE airCarrierShockWave
ParticleSysBone      SPLASH3BONE airCarrierTowerSplash
ParticleSysBone      SPLASH3BONE airCarrierDeckSmoke
ParticleSysBone      OILSLICKBONE airCarrierDeckSmoke

ParticleSysBone      EXPLOSION1BONE airCarrierExplosion0
ParticleSysBone      EXPLOSION1BONE airCarrierLightFlash1
ParticleSysBone      EXPLOSION1BONE airCarrierShockWave1
ParticleSysBone      EXPLOSION1BONE airCarrierExplosionSparks

ParticleSysBone      EXPLOSION2BONE airCarrierExplosion1
ParticleSysBone      EXPLOSION2BONE airCarrierLightFlash2
ParticleSysBone      EXPLOSION2BONE airCarrierShockWave2
ParticleSysBone      EXPLOSION2BONE airCarrierDeckFireBig

ParticleSysBone      EXPLOSION4BONE airCarrierExplosion2
ParticleSysBone      EXPLOSION4BONE airCarrierLightFlash3
ParticleSysBone      EXPLOSION4BONE airCarrierShockWave3
ParticleSysBone      EXPLOSION4BONE airCarrierDeckFire

ParticleSysBone      EXPLOSION5BONE airCarrierFinalExplosion
ParticleSysBone      EXPLOSION5BONE airCarrierDeckFire
ParticleSysBone      EXPLOSION5BONE airCarrierSmoke

ParticleSysBone      SPLASH4BONE airCarrierDeathSplash1
ParticleSysBone      SPLASH5BONE airCarrierDeathSplash1
ParticleSysBone      SPLASH6BONE airCarrierDeathSplash2
ParticleSysBone      SPLASH7BONE airCarrierDeathSplash3

ParticleSysBone      MAST1BONE airCarrierDeckFireBig
ParticleSysBone      MAST2BONE airCarrierDeckFire

ParticleSysBone      SPLASH4BONE airCarrierDeathRipple
ParticleSysBone      SPLASH5BONE airCarrierDeathRipple
ParticleSysBone      SPLASH6BONE airCarrierDeathRipple
ParticleSysBone      SPLASH7BONE airCarrierDeathRipple

ParticleSysBone      SPLASH5BONE airCarrierFinalDeathSplash

ParticleSysBone      JET01BONE airCarrierDeckFireJet5
ParticleSysBone      JET01BONE airCarrierJetEngine01Smoke
ParticleSysBone      JET01BONE airCarrierJet01Explosion

ParticleSysBone      JET03BONE airCarrierDeckFireBig
ParticleSysBone      JET04BONE airCarrierDeckFireBig

ParticleSysBone      JET05BONE airCarrierJetExplosion1
ParticleSysBone      JET05BONE airCarrierDeckFireJet5

ParticleSysBone      JET06BONE airCarrierDeckFireJet6
ParticleSysBone      JET06BONE airCarrierJetExplosion2

ParticleSysBone      JET07BONE airCarrierJetExplosion3
ParticleSysBone      JET07BONE airCarrierDeckFireJet7

ParticleSysBone      JET08BONE airCarrierDeckFire
ParticleSysBone      JET08BONE airCarrierJet8Splash

ParticleSysBone      OILSLICKBONE airCarrierOilSlick
ParticleSysBone      OILSLICKBONE airCarrierMidShipSplash
ParticleSysBone      SPARK1BONE airCarrierSmoke
ParticleSysBone      SPARK1BONE airCarrierDeckFire
ParticleSysBone      SPARK2BONE airCarrierSmoke
ParticleSysBone      SPARK2BONE airCarrierDeckFire

ParticleSysBone      BOWSPLASH0BONE1 airCarrierBowDeathSplash

ParticleSysBone      SMOKEBONE01 airCarrierSmoke
ParticleSysBone      SMOKEBONE02 airCarrierSmoke
ParticleSysBone      SMOKEBONE03 airCarrierSmoke

End
End

; ***DESIGN parameters ***
DisplayName      OBJECT:CINE_Carrier
EditorSorting    Vehicle
ArmorSet
Conditions     None
Armor          StructureArmor
DamageFX       StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
KindOf                 STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
Body                   ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

;Behavior  DestroyDie ModuleTag_03
;  ;nothing
;End
; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
; never truly destroyed, even when reduced to zero health. Also note that garrisonable
; buildings automatically stick around because GarrisonContain has it's own DieModule
Behavior  KeepObjectDie ModuleTag_IWantRubble
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_04
End

Behavior  TransitionDamageFX ModuleTag_09
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Geometry               BOX
GeometryMajorRadius    10.0
GeometryMinorRadius    5.0
GeometryHeight         1.0
GeometryIsSmall        No
Shadow  SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object AmericaBasicInfantryFakeRider

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

;Since missile defenders use this fake rider at the start they need to have this tag
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranInfantry
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericaSpecialistInfantryFakeRider

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM
TransportSlotCount   1

WeaponSet
Weapon             SECONDARY SuicideUnresistableWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

ExperienceValue         0 0 0 0
ExperienceRequired      0 50 100 200
IsTrainable             Yes             ;Can gain experience

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS NO_COLLIDE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      5000
MaxDelay      5000
OCL           OCL_KillSelf
End

Behavior  DestroyDie ModuleTag_Die01
End

;Since missile defenders use this fake rider at the start they need to have this tag
Behavior  VeterancyGainCreate ModuleTag_Veteran01
StartingLevel  VETERAN
ScienceRequired  SCIENCE_VeteranSpecialists
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  10000000.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object ComancheBlades

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVComanche_D2
Animation  AVComanche_D2.AVComanche_D2
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Comanche
Side  America

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE NO_COLLIDE

Behavior  PhysicsBehavior ModuleTag_02
AllowBouncing  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  1000   ; min lifetime in msec
MaxLifetime  1000   ; max lifetime in msec
End

Behavior             DestroyDie ModuleTag_04
End

End

;------------------------------------------------------------------------------
Object AmericaParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState  RUBBLE PARACHUTING
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1800
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaCrateParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE
ParachuteOpenSound   ParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryHeight  1.0
Scale  1.1
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaLargeCrateParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE NO_COLLIDE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE VEHICLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1000
SinkRate  1     ; in Dist/Sec
DestructionDelay  4000
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryHeight  1.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaVehicleParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    25.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE VEHICLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_AmericaPadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaPadadropedVehicleWoodenPlate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVParaPlate
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  No
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  4000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           1     ; in Dist/Sec
DestructionDelay   4000
End

End

;------------------------------------------------------------------------------
Object AmericaInfantryBiohazardTech

; This unit is by default NOT buildable. In GLA06 this is buildable from the
; barracks of the enemy AI. (The map.ini file is overridden there make it
; buildable  Yes (jkmcd)
Buildable  No

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AITECH_SKN
IdleAnimation  AITECH_SKL.AITECH_STA 0 21
;Regular spice animations
IdleAnimation  AITECH_SKL.AITECH_IDA
IdleAnimation  AITECH_SKL.AITECH_IDB
AnimationMode  ONCE
WeaponLaunchBone  PRIMARY BIOGUNFX
TransitionKey  TRANS_Stand
End

; NORMAL ATTACK
ConditionState  FIRING_A
Animation  AITECH_SKL.AITECH_STA
AnimationMode  LOOP
TransitionKey  TRANS_FiringA
End
AliasConditionState  BETWEEN_FIRING_SHOTS_A
AliasConditionState  RELOADING_A
AliasConditionState  FIRING_A REALLYDAMAGED
AliasConditionState  BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState  RELOADING_A REALLYDAMAGED


ConditionState  MOVING FIRING_A
Animation  AITECH_SKL.AITECH_WKB 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

ConditionState  MOVING
Animation  AITECH_SKL.AITECH_WKA 15
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone      None InfantryDustTrails
End

ConditionState  DYING
Animation  AITECH_SKL.AITECH_DTA
Animation  AITECH_SKL.AITECH_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AITECH_SKL.AITECH_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AITECH_SKL.AITECH_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AITECH_SKL.AITECH_ADTD3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AITECH_SKL.AITECH_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS
ConditionState  FREEFALL
Animation  AITECH_SKL.AITECH_PFL
AnimationMode  LOOP
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState  PARACHUTING
Animation  AITECH_SKL.AITECH_PHG
AnimationMode  LOOP
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation  AITECH_SKL.AITECH_POP
AnimationMode  ONCE
Flags  PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation  AITECH_SKL.AITECH_PDN
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:BioHazardTech
Side                 America
EditorSorting        INFANTRY
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
;*** Fully automated and driven by the CleanupHazardUpdate ***
Conditions         None
Weapon             PRIMARY BioHazardTechCleanHazardWeapon
AutoChooseSources  PRIMARY NONE
End
ArmorSet
Conditions       None
Armor            HazMatHumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  100
ShroudClearingRange  400
Prerequisites
Object  AmericaBarracks
End
BuildCost  200
BuildTime  5.0          ;in seconds

ExperienceValue  50 100 150 400    ;Experience point value at each level
ExperienceRequired  0 150 450 900  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrushableLevel       0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet           AmericaInfantryHazMatCommandSet

; *** AUDIO Parameters ***
VoiceSelect    NoSound
VoiceMove      NoSound
VoiceAttack    NoSound
UnitSpecificFX
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02

MaxHealth        100.0
InitialHealth    100.0
End

Behavior  CleanupHazardUpdate ModuleTag_03
WeaponSlot             PRIMARY
ScanRate               1000
ScanRange              100.0
End

;Can be ordered to clean up a larger area with the ability to move around at an extended range.
Behavior  CleanupAreaPower ModuleTag_04
SpecialPowerTemplate           SpecialAbilityAmbulanceCleanupArea
MaxMoveDistanceFromLocation    300.0 ;allows the unit to move around while cleaning up
End

Behavior  AIUpdateInterface ModuleTag_05
AutoAcquireEnemiesWhenIdle  No
End
Behavior  AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL HazMatHumanLocomotor

Behavior  ExperienceScalarUpgrade ModuleTag_07
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  5.0
End
Behavior  ProductionUpdate ModuleTag_09
; nothing
End

Behavior  SquishCollide ModuleTag_10
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RebelDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_RebelDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End

; --- end Death modules ---

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  13.0

GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT
End



;------------------------------------------------------------------------------
;
; ??? This unit is used in a mission for "color".
; This unit is never human-controllable!
;
Object AmericaInfantryOfficer
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;NORMAL STANDING
DefaultConditionState
Model  AIOFCR_SKN
IdleAnimation  AIOFCR_SKL.AIOFCR_STA 0 21
;Regular spice animations
IdleAnimation  AIOFCR_SKL.AIOFCR_IDA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDB
AnimationMode  ONCE
WeaponFireFXBone  PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
TransitionKey  TRANS_STAND
End

ConditionState     MOVING
Animation        AIOFCR_SKL.AIOFCR_RNA
AnimationMode    LOOP
ParticleSysBone      None InfantryDustTrails
End

; NORMAL ATTACK
;--------------------------------------------------------
; Drawing gun
ConditionState   PREATTACK_A
Animation      AIOFCR_SKL.AIOFCR_ATAST
AnimationMode  ONCE
End
AliasConditionState  PREATTACK_A MOVING
AliasConditionState  PREATTACK_A FIRING_A
AliasConditionState  PREATTACK_A BETWEEN_FIRING_SHOTS_A

; Firing gun
ConditionState   FIRING_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
ConditionState   BETWEEN_FIRING_SHOTS_A
Animation      AIOFCR_SKL.AIOFCR_ATALP
AnimationMode  LOOP
TransitionKey  TRANS_FIRING_A
End
AliasConditionState  RELOADING_A
AliasConditionState  MOVING FIRING_A
AliasConditionState  MOVING BETWEEN_FIRING_SHOTS_A
AliasConditionState  MOVING RELOADING_A

; This transition allows him to put his gun away when he's finished attacking.
TransitionState  TRANS_FIRING_A TRANS_STAND
Animation      AIOFCR_SKL.AIOFCR_ATAED
AnimationMode  ONCE
End
;--------------------------------------------------------

ConditionState   DYING
Animation      AIOFCR_SKL.AIOFCR_DTA
Animation      AIOFCR_SKL.AIOFCR_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIOFCR_SKL.AIOFCR_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIOFCR_SKL.AIOFCR_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIOFCR_SKL.AIOFCR_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState   SPECIAL_CHEERING
Animation      AIOFCR_SKL.AIOFCR_CHA
AnimationMode  LOOP
End

;PARACHUTING ANIMATIONS

;@TODO - MISSING ANIMATION FILE
;ConditionState    FREEFALL
;  Animation       AIOFCR_SKL.AIOFCR_PFL
;  AnimationMode   LOOP
;  TransitionKey   TRANS_Falling
;End
;AliasConditionState  FREEFALL REALLYDAMAGED
;AliasConditionState  FREEFALL DYING
ConditionState   PARACHUTING
Animation      AIOFCR_SKL.AIOFCR_PHG
AnimationMode  LOOP
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey  TRANS_Chute

End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState  TRANS_Falling TRANS_Chute
Animation      AIOFCR_SKL.AIOFCR_POP
AnimationMode  ONCE
Flags          PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState  TRANS_Chute TRANS_Stand
Animation      AIOFCR_SKL.AIOFCR_PTD
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Officer
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY AmericaOfficerMachineGun
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150

BuildCost      400
BuildTime      10.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  RangerVoiceSelect
VoiceGroupSelect  BattleCrySound
VoiceMove  RangerVoiceMove
VoiceAttack  RangerVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  SquishCollide ModuleTag_07
;nothing
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
FlingForce           8
FlingForceVariance   3
FlingPitch           60
FlingPitchVariance   10
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinGLA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End

; --- end Death modules ---

Behavior  PoisonedBehavior ModuleTag_10
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShip
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               AVBattleSh
Animation           AVBattleSh.AVBattleSh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipBogusGun
Weapon                SECONDARY BattleshipBogusGun
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             99999.0
InitialHealth         99999.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
; an invisible object that exists solely for the Battleship to target.
Object AmericaBattleshipBogusTarget

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  None
End
End

; ***DESIGN parameters ***
EditorSorting    STRUCTURE
Side             America
ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
RadarPriority        NOT_ON_RADAR
KindOf               IMMOBILE

Body                 ImmortalBody ModuleTag_02
MaxHealth          99999.0
InitialHealth      99999.0
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_03
StartsActive  Yes
ReactionWeaponPristine  BattleshipTargetDamagedWeapon
ReactionWeaponDamaged  BattleshipTargetDamagedWeapon
ReactionWeaponReallyDamaged  BattleshipTargetDamagedWeapon
DamageTypes  ALL
;
; want this object to "explode" (ie, fire BattleshipTargetDamagedWeapon)
; when targeted by the gun? change DamageAmount to zero. (normally the gun
; does a nonzero but tiny damage, due to the InvulnerableArmor we wear, so
; this weapon isn't fired... to trigger it, you must do damage under Script
; control, which ignores our armor.)
;
DamageAmount  1  ; if damage is == this value, fire the weapon
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      Yes

End




;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Object CINE_BShipWeaponDetonationObject ;The explodes-next-frame object when demo trap is triggered.

; ***DESIGN parameters ***
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0  ;Allow the stickybomb to show itself to user?

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PROJECTILE

Behavior  PhysicsBehavior ModuleTag_01
Mass  5
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_03
DestructionDelay  1
FX                   INITIAL WeaponFX_BattleshipTargetExplode
Weapon               FINAL   CINE_u02_BattleshipTargetDamagedWeapon
End
End


;------------------------------------------------------------------------------
Object LargeParachute

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  PMVChute_A
Animation  PMVChute_A.PMVChute_A
AnimationMode  LOOP
End
ConditionState  PARACHUTING
Model  PMVChute_B
Animation  PMVChute_B.PMVChute_B
AnimationMode  ONCE
End
ConditionState  RUBBLE
Model  PMVChute_C
Animation  PMVChute_C.PMVChute_C
AnimationMode  ONCE
End
ConditionState  RUBBLE PARACHUTING
Model  PMVChute_C
Animation  PMVChute_C.PMVChute_C
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   10
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL ParachuteLocomotor
Locomotor  SET_FREEFALL FreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax  60           ; deg/sec
RollRateMax  60            ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    15.0  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.3
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object PadadropedVehicleWoodenPlate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  EXParaPlate
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  No
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  4000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           1     ; in Dist/Sec
DestructionDelay   4000
End

End






;------------------------------------------------------------------------------
Object AmericaVehicleBattleShipReal
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               AVBattShip
Animation           AVBattShip.AVBattShip
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
;TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
;      ParticleSysBone    TreadFX01 WaveSpray01
;      ParticleSysBone    TreadFX02 WaveSpray01
;      ParticleSysBone    TreadFX03 WaveSpray01
;      ParticleSysBone    TreadFX04 WaveSpray01
;      ParticleSysBone    TreadFX05 WaveSpray01
;      ParticleSysBone    TreadFX06 WaveSpray01
;      ParticleSysBone    TreadFX07 WaveSpray01
;      ParticleSysBone    TreadFX08 WaveSpray01
;      ParticleSysBone    TreadFX09 WaveSpray01
;      ParticleSysBone    TreadFX10 WaveSpray01
;      ParticleSysBone    TreadFX11 WaveSpray01
;      ParticleSysBone    TreadFX12 WaveSpray01
End
ConditionState        DAMAGED
Model               AVBattShip_D
Animation           AVBattShip_D.AVBattShip_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               AVBattShip_D1
Animation           AVBattShip_D1.AVBattShip_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions            None
Weapon                PRIMARY BattleShipGunReal
;Weapon                PRIMARY BattleshipBogusGun
Weapon                SECONDARY BattleShipGunReal
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
SoundAmbient            BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        TurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             10000.0
InitialHealth         10000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
;    AutoAcquireEnemiesWhenIdle  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  1000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End



;------------------------------------------------------------------------------
Object AmericaVehicleBattleShipDemo
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               avbattlesh
Animation           avbattlesh.avbattlesh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
ConditionState        DAMAGED
Model               avbattlesh_D
Animation           avbattlesh_D.avbattlesh_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               avbattlesh_D1
Animation           avbattlesh_D1.avbattlesh_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipDemoGun
Weapon                SECONDARY BattleshipDemoGun
AutoChooseSources     PRIMARY    FROM_SCRIPT
AutoChooseSources     SECONDARY  FROM_SCRIPT
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             10000.0
InitialHealth         10000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShipUSSBender
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               avbattlesh
Animation           avbattlesh.avbattlesh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
ConditionState        DAMAGED
Model               avbattlesh_D
Animation           avbattlesh_D.avbattlesh_D
AnimationMode       LOOP
End
ConditionState        REALLYDAMAGED RUBBLE
Model               avbattlesh_D1
Animation           avbattlesh_D1.avbattlesh_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipUSSBenderGun
Weapon                SECONDARY BattleshipUSSBenderGun
AutoChooseSources     PRIMARY    FROM_SCRIPT FROM_PLAYER FROM_AI
AutoChooseSources     SECONDARY  FROM_SCRIPT FROM_PLAYER FROM_AI
End
ArmorSet
Conditions            None
Armor                 InvulnerableArmor
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             10000.0
InitialHealth         10000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           20            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           20          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL None

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object AmericaInfantrySecretService

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AISSRV_SKN
IdleAnimation  AISSRV_SKL.AISSRV_STA
AnimationMode  ONCE
TransitionKey  TRANS_Stand
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:BioHazardTech
Side  America
EditorSorting  INFANTRY
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
WeaponSet
Conditions  None
Weapon  PRIMARY None
End
ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End
VisionRange  150
ShroudClearingRange  150
Prerequisites
Object  AmericaBarracks
End
BuildCost  100
BuildTime  1.0          ;in seconds

; *** AUDIO Parameters ***
VoiceSelect  CIAAgentVoiceSelect
VoiceMove  CIAAgentVoiceMove
VoiceAttack  CIAAgentVoiceAttack

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  Yes
End
Behavior  AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
ScanRate  1000 ; once a second.
ScanRange  300 ;
NeverHeal  0.85 ;  don't heal if we are   85% healthy.
AlwaysHeal  0.25 ; if we get below 25%, find healing right away.
End

Locomotor  SET_NORMAL BasicHumanLocomotor
Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End
Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  3000
SinkRate  0.5     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  ExperienceScalarUpgrade ModuleTag_07
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SquishCollide ModuleTag_08
;nothing
End


Behavior  FXListDie ModuleTag_09
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_CIAAgentDie
End
Behavior  FXListDie ModuleTag_10
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_GIDieCrushed
End

Behavior  PoisonedBehavior ModuleTag_11
PoisonDamageInterval  100  ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration  3000       ; ... for this long after last hit by poison damage
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object SDILasers
Draw                      W3DModelDraw ModuleTag_01
OkToChangeModelColor    Yes
ConditionState          NONE
Model                 ABSDILink_L
Animation             ABSDILink_L.ABSDILink_L
AnimationMode         ONCE
End
End
Behavior  LifetimeUpdate ModuleTag_02
MinLifetime  3000   ; min lifetime in msec
MaxLifetime  3000   ; max lifetime in msec
End
Body  HighlanderBody ModuleTag_03
MaxHealth        1.0
InitialHealth    1.0
End
Behavior             DestroyDie ModuleTag_04
;<NO DATA
End
End

;------------------------------------------------------------------------------
Object AmericaWall

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState     NONE
Model            ABSecWallY
End
ConditionState     DAMAGED
Model            ABSecWallY_D
ParticleSysBone  SparkS01 SparksSmall
End
ConditionState     REALLYDAMAGED RUBBLE
Model            ABSecWallY_E
Animation        ABSecWallY_E.ABSecWallY_E
AnimationMode    LOOP
ParticleSysBone  SparkM01 SparksMedium
ParticleSysBone  SparkM02 SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SecurityFence
Side  America
EditorSorting     STRUCTURE

BuildCost            100
BuildTime            1.0             ; in seconds
VisionRange          150.0           ; Shroud clearing distance
ShroudClearingRange  150
ArmorSet
Conditions       None
Armor            WallArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      50 50 50 50  ; Experience point value at each level

FenceWidth       19  ; Spacing used by the fence tool in worldbuilder.
FenceXOffset     0   ; Offset used by the fence tool in worldbuilder so corners line up.
CrushableLevel   2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD CAPTURABLE DEFENSIVE_WALL
Body             StructureBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior                  DestroyDie ModuleTag_03
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_04
DeathTypes  ALL
CreationList       OCL_GenericWallSegmentDebris
End
Behavior                  FXListDie ModuleTag_05
DeathTypes  ALL
DeathFX            FX_GenericWallSegmentDeath
End

Geometry             BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  3.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;Added for the Hub piece
Object AmericaWallHub

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

; day
ConditionState       NONE
Model              ABSecWallX
End
ConditionState     DAMAGED
Model              ABSecWallX_D
ParticleSysBone    SparkS01 SparksSmall
End
ConditionState       REALLYDAMAGED RUBBLE
Model              ABSecWallX_E
ParticleSysBone    SmokeM01 SmokeFactionMedium
;ParticleSysBone   FireM01 FireFactionMedium
ParticleSysBone    SparkM01 SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Wall
Side  America
EditorSorting     STRUCTURE
Prerequisites
Object  AmericaBarracks
End
BuildCost         50
BuildTime         2.0           ; in seconds
VisionRange       150.0           ; Shroud clearing distance
ShroudClearingRange  150
ArmorSet
Conditions       None
Armor            StructureArmor
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      50 50 50 50  ; Experience point value at each level

FenceWidth       6  ; Spacing used by the fence tool in worldbuilder.
FenceXOffset     0   ; Offset used by the fence tool in worldbuilder so corners line up.
CrushableLevel   2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** AUDIO Parameters ***
VoiceSelect  NoSound

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD DEFENSIVE_WALL
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior                  DestroyDie ModuleTag_03
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_04
DeathTypes  ALL
CreationList       OCL_GenericWallSegmentDebris
End
Behavior                  FXListDie ModuleTag_05
DeathTypes  ALL
DeathFX            FX_GenericWallSegmentDeath
End

Geometry             BOX
GeometryMajorRadius  3.0
GeometryMinorRadius  4.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaCheckpoint

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  PMChkPnt02
End


ConditionState     DOOR_1_OPENING
Model            PMChkPnt02               ;REAL THING
Animation        PMChkPnt02.PMChkPnt02    ;REAL THING
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End

ConditionState     DOOR_1_CLOSING
Model            PMChkPnt02
Animation        PMChkPnt02.PMChkPnt02
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End


End

; ***DESIGN parameters ***
DisplayName       OBJECT:Checkpoint
Side              America
EditorSorting     STRUCTURE

Prerequisites
Object  AmericaCommandCenter
Object  AmericaBarracks
Object  AmericaPowerPlant
End

BuildCost         100
BuildTime         5.0           ; in seconds
VisionRange       100.0       ; Shroud clearing distance
ShroudClearingRange  100

ArmorSet
Conditions       None
Armor            WallArmor
DamageFX         StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
VoiceSelect  NoSound

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE LINEBUILD CAPTURABLE
Body             StructureBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  CheckpointUpdate ModuleTag_03
;nothing
End

Behavior  DestroyDie ModuleTag_04
;nothing
End

Behavior              CreateObjectDie ModuleTag_05
CreationList   OCL_SmallStructureDebris
End

Behavior              FXListDie ModuleTag_06
DeathFX        FX_SmallStructureDeath
End

Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry             BOX
GeometryMajorRadius  3.0
GeometryMinorRadius  26.0
GeometryHeight       20.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaGenericVehicleParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  USCrateChute_A
Animation  USCrateChute_A.USCrateChute_A
AnimationMode  LOOP
End

ConditionState  PARACHUTING
Model  USCrateChute_B
Animation  USCrateChute_B.USCrateChute_B
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

ConditionState  RUBBLE PARACHUTING
Model  USCrateChute_C
Animation  USCrateChute_C.USCrateChute_C
AnimationMode  ONCE
End

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor  SET_NORMAL CrateParachuteLocomotor
Locomotor  SET_FREEFALL CrateFreeFallLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  ParachuteContain ModuleTag_05
PitchRateMax         60    ; deg/sec
RollRateMax          60    ; deg/sec
LowAltitudeDamping   0.2   ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist    12.5  ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf    PARACHUTABLE VEHICLE
ParachuteOpenSound   VehicleParachuteOpen
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  2700
SinkRate  1     ; in Dist/Sec
DestructionDelay  6000
OCL  INITIAL OCL_PadadropedVehicleWoodenPlate
FX   INITIAL FX_PadardroppedVehicleHitGround
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
Scale  1.2
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShip_Static

SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6

ConditionState        NONE
Model               AVBattleSh
Animation           AVBattleSh.AVBattleSh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:Battleship
Side                 America
EditorSorting        VEHICLE

ArmorSet
Conditions         None
Armor              InvulnerableArmor
DamageFX           StructureDamageFXNoShake
End

; *** AUDIO Parameters ***
SoundAmbient  BattleshipAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE  SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             99999.0
InitialHealth         99999.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End
Locomotor  SET_NORMAL BattleShipLocomotor

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaTechAirstrikeObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model  ExSlthStrk
Animation  ExSlthStrk.ExSlthStrk
AnimationMode  ONCE
WeaponLaunchBone  SECONDARY WeaponA
ParticleSysBone  Wingtip01 JetContrail
ParticleSysBone  Wingtip02 JetContrail
ParticleSysBone  Engine01 JetLenzflare
ParticleSysBone  Engine02 JetLenzflare
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  300.0

WeaponSet
Conditions           None
Weapon               SECONDARY   TechAirstrikeBombAmericaWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      2240
MaxDelay      2240
OCL           OCL_CreateRealFortress
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  4800
MaxLifetime  4800
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect01
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon01
InitialDelay  1
End

Behavior  FireWeaponUpdate ModuleTag_SoundEffect02
Weapon  LaserGuidedAirStrikePlaneFlyBySoundWeapon02
InitialDelay  1800
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object AmericaVehicleBattleShip_Stationary
SelectPortrait          SABattleship_L
; *** ART Parameters ***
Draw                    W3DTankDraw ModuleTag_01
OkToChangeModelColor  Yes
InitialRecoilSpeed    120
MaxRecoilDistance     8
RecoilSettleSpeed     6
ConditionState        NONE
Model               AVBattleSh
Animation           AVBattleSh.AVBattleSh
AnimationMode       LOOP
Turret              Turret01
TurretPitch         TurretEL01
TurretArtAngle      180  ; this turret has art pointed 180 degrees backward
AltTurret           Turret02
AltTurretPitch      TurretEL02
WeaponFireFXBone    PRIMARY Tur1Muzzle
WeaponRecoilBone    PRIMARY Tur1Barrel
WeaponFireFXBone    SECONDARY Tur2Muzzle
WeaponRecoilBone    SECONDARY Tur2Barrel
ParticleSysBone    TreadFX02 BattleShipWaterRipples
ParticleSysBone    TreadFX03 BattleShipWaterRipples
ParticleSysBone    TreadFX04 BattleShipWaterRipples
End
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Battleship
Side                    America
EditorSorting           VEHICLE
TransportSlotCount      0                 ;how many "slots" we take in a transport (0 == not transportable)
CommandSet              GenericGroundAttackCommandSet
WeaponSet
Conditions            None
Weapon                PRIMARY BattleshipBogusGun
Weapon                SECONDARY BattleshipBogusGun
End
ArmorSet
Conditions            None
Armor                 StructureArmor
DamageFX              StructureDamageFXNoShake
End
VisionRange             300
ShroudClearingRange  300

; *** AUDIO Parameters ***
VoiceSelect  BattleshipVoiceSelect
VoiceMove  BattleshipVoiceMove
VoiceGuard  BattleshipVoiceMove
VoiceAttack  BattleshipVoiceAttack
SoundAmbient  BattleshipAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveLoop        OverlordTankTurretMoveLoop
End

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE IMMOBILE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth             8000.0
InitialHealth         8000.0
End
Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           12            ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000       ; how long to wait during idle before recentering
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle  180  ; this turret points backwards normally
End
AltTurret
TurretTurnRate      80
TurretPitchRate     80
FirePitch           15          ; Instead of aiming pitchwise at the target, it will aim here
AllowsPitch         Yes
RecenterTime        5000     ; how long to wait during idle before recentering
ControlledWeaponSlots  SECONDARY
End
TurretsLinked  Yes
End

Behavior                PhysicsBehavior ModuleTag_04
Mass                  5000.0
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     1
FX   MIDPOINT FX_StructureMediumDeath
OCL  MIDPOINT OCL_LargeStructureDebris
End

Geometry                BOX
GeometryMajorRadius     200.0
GeometryMinorRadius     20.0
GeometryHeight          40
GeometryIsSmall         No
Shadow                  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaPilotParachute

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
AttachToBoneInAnotherModule  Dum_Turret
OkToChangeModelColor  Yes

ConditionState  NONE
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_FAL
AnimationMode  LOOP
End

ConditionState  POWER_PLANT_UPGRADING
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_OPN
AnimationMode  ONCE
End
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  RUBBLE
Model  PMUSChute
Animation  PMparacht_SKL.PMparacht_DRP
AnimationMode  ONCE
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

End

Draw  W3DModelDraw ModuleTag_PilotBone01

ExtraPublicBone  Dum_Turret

ConditionState  NONE
Model  AIRPlt_B
End

End

Draw  W3DModelDraw ModuleTag_Pilot01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  AIRPlt_SKN
Animation  AIRPlt_SKL.AIRPLT_PFL
AnimationMode  ONCE
AnimationSpeedFactorRange  1.8 1.8
HideSubObject  HEAD02 HELMET
TransitionKey  TRANS_FALLING
End

ConditionState  POWER_PLANT_UPGRADING
Model  AIRPlt_SKN
Animation  AIRPlt_SKL.AIRPlt_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
HideSubObject  HEAD02 HELMET
WaitForStateToFinishIfPossible  TRANS_FALLING
End
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  RUBBLE
Model  NONE
End
AliasConditionState  RUBBLE POWER_PLANT_UPGRADED

End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0
VisionRange          300.0
ShroudClearingRange  300
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD PARACHUTE UNATTACKABLE


; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
End
Locomotor  SET_NORMAL PilotParachuteLocomotor

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  TransportContain  ModuleTag_05
PassengersAllowedToFire  No
Slots  1
DamagePercentToUnits  0%
AllowInsideKindOf   INFANTRY PARACHUTABLE
End

Behavior  SlowDeathBehavior ModuleTag_06
SinkDelay  1800
SinkRate  2     ; in Dist/Sec
DestructionDelay  8000
End

Behavior  FireWeaponUpdate ModuleTag_99
Weapon  AmericaPilotParachuteOpenFXDummyWeapon
InitialDelay  800
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  800
End

Behavior  HeightDieUpdate ModuleTag_0113136
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

;This will cause this dummy parachute to avoid structures
Behavior  StatusBitsUpgrade ModuleTag_Transform11
TriggeredBy    Upgrade_CostReduction
StatusToSet    PARACHUTING
End

RadarPriority  NOT_ON_RADAR
Geometry  CYLINDER
GeometryMajorRadius  15.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI_2;

End

;------------------------------------------------------------------------------
Object DeadAvengerHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVAVNGER_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;------------------------------------------------------------------------------
Object DeadMicrowaveHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVThdrblt_LG_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS IMMOBILE NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes

End

;---------------------------------------------------------------------------
Object LittleBirdRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVAH6_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End


;---------------------------------------------------------------------------
Object DeadCrusaderHulk

; *** ART Parameters ***
Draw   W3DModelDraw ModuleTag_01
ConditionState   NONE
Model   AVLeopard_D1
End
End

; ***DESIGN parameters ***
EditorSorting     DEBRIS

; *** ENGINEERING Parameters ***
KindOf    NO_COLLIDE HULK

Behavior   PhysicsBehavior ModuleTag_03
Mass   100.0
AllowBouncing   Yes
KillWhenRestingOnGround   Yes
End
Behavior   LifetimeUpdate ModuleTag_04
MinLifetime   1500   ; min lifetime in msec
MaxLifetime   1600   ; max lifetime in msec
End

Behavior   SlowDeathBehavior ModuleTag_05
SinkDelay           1500
SinkRate            2     ; in Dist/Sec
DestructionDelay    8000
End
End

;---------------------------------------------------------------------------
Object DeadCrusaderIIHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVCrusader_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadHoverCrusaderHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVCrusader_D1
Animation  AVCrusader_D1.AVCrusader_D1
AnimationMode  ONCE
Flags  START_FRAME_LAST
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadPatriotHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVPat_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  6000   ; min lifetime in msec
MaxLifetime  6000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;----------------------------------------------------------
Object AmericaVehicleSentryDroneHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVSENTRY_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End


;------------------------------------------------------------------------------
Object ComancheRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVCmnch_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object CobraRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVViper_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;----------------------------------------------------------
Object AmericaVehicleTomahawkHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVTmhwk_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End

;------------------------------------------------------------------------------
Object BlackHawkRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model         AVBlckhwk_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   Yes
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     3000   ; min lifetime in msec
MaxLifetime     3000   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         3000
SinkRate          4     ; in Dist/Sec
DestructionDelay  10000
End


End

;------------------------------------------------------------------------------
Object AmericaJetRaptorHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVRaptor_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;---------------------------------------------------------------------------
Object DeadBradleyHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVBrad_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;------------------------------------------------------------------------------
Object DeadWaspHiveHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVWasp_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadGuardianDroneHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVGuardDr_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;------------------------------------------------------------------------------
Object HunterKillerJetRaptorHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVHntrKlr_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;---------------------------------------------------------------------------
Object DeadMuleDroneHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVMule_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End


;------------------------------------------------------------------------------
;This is the A10 as it's crashing
;------------------------------------------------------------------------------
Object AmericaJetA10Hulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVWrthg_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End



Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate          2     ; in Dist/Sec
DestructionDelay  8000
End

End


;------------------------------------------------------------------------------
;This is the stealth as it's crashing
;------------------------------------------------------------------------------
Object AmericaJetStealthHulk

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVA19_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
;This is the stealth as it's crashing
;------------------------------------------------------------------------------
Object AmericaJetAuroraHulk

; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVAurora_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;------------------------------------------------------------------------------
Object DeadPaladinHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVPldn_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object DeadAcolyteHulk

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVAcolyte_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS

; *** ENGINEERING Parameters ***
KindOf   NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_03
Mass  100.0
AllowBouncing  Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay          1500
SinkRate           2     ; in Dist/Sec
DestructionDelay   8000
End
End

;---------------------------------------------------------------------------
Object AmericaVehicleRepairDroneDeadHull
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVRepairDr_D1
End
End

; ***DESIGN parameters ***
EditorSorting    DEBRIS
TransportSlotCount  3                 ;how many "slots" we take in a transport (0 == not transportable)

; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  CAN_CAST_REFLECTIONS NO_COLLIDE HULK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End


Behavior  PhysicsBehavior ModuleTag_03
Mass  50
AllowBouncing  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  0   ; min lifetime in msec
MaxLifetime  0   ; max lifetime in msec
End


Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay  14000
SinkRate  2     ; in Dist/Sec
DestructionDelay  20000
End

Behavior  TransitionDamageFX ModuleTag_06
RubbleParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
End

Geometry  BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  6.0
GeometryHeight  7.5
GeometryIsSmall  Yes
Scale  0.95

End

;---------------------------------------------------------------------------
Object StarLifterRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model               AVStrLftr_D1
Animation           AVStrLftr_D1.AVStrLftr_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            45.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             1.5     ; in Dist/Sec
DestructionDelay  18000
End

End

;----------------------------------------------------------
Object AmericaVehicleReconDroneHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVRcnDrn_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End


;------------------------------------------------------------------------------
Object OspreyRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model               AVOsprey_D1
Animation           AVOsprey_D1.AVOsprey_D1
AnimationMode       LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End


;------------------------------------------------------------------------------
Object ChinookRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVChinook_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End


;------------------------------------------------------------------------------
Object CombatChinookRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVCChnk_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End


;------------------------------------------------------------------------------
Object DroneLifterRubbleHull

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model               AVDrnLftr_D1
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ComancheHull
Side  America

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE NO_COLLIDE HULK

Behavior  PhysicsBehavior ModuleTag_02
Mass            25.0
AllowBouncing   No
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime     20000   ; min lifetime in msec
MaxLifetime     20000   ; max lifetime in msec
End
Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         5000
SinkRate             2     ; in Dist/Sec
DestructionDelay  19800
End

End

;------------------------------------------------------------------------------
Object AmericaJetWidowmakerHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
DefaultConditionState
Model            AVF35_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf                NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     2.0
AllowBouncing            No
KillWhenRestingOnGround  Yes
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End

End

;----------------------------------------------------------
Object AmericaVehiclSupplyDroneHulk
; *** ART Parameters ***
Draw                 W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState     NONE
Model            AVWrkHrs_D1
End
End

; ***DESIGN parameters ***
EditorSorting        DEBRIS

; *** ENGINEERING Parameters ***
KindOf               NO_COLLIDE HULK

Behavior                   PhysicsBehavior ModuleTag_03
Mass                     10.0
AllowBouncing            Yes
KillWhenRestingOnGround  Yes
End
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1500   ; min lifetime in msec
MaxLifetime  1600   ; max lifetime in msec
End

Behavior  SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate             2     ; in Dist/Sec
DestructionDelay  8000
End
End

;------------------------------------------------------------------------------
Object AmericaJetB52

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVB52
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB52_D
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
AliasConditionState  REALLYDAMAGED
ConditionState  RUBBLE
Model  AVB52_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_OPENING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_CLOSING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
ConditionState  DAMAGED
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED
ConditionState  DAMAGED DOOR_1_OPENING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
ConditionState  DAMAGED DOOR_1_CLOSING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  B52AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetB1B

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVLancer
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVLancer_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model  AVLancer_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
ConditionState  RUBBLE
Model  AVLancer_D1
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient           B1LancerAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B3Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetB2

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVB3bmbr
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  WingTip03 JetContrailThin
ParticleSysBone  WingTip04 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB3bmbr_D
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model  AVB3bmbr_D
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model  AVB3bmbr_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_Bone01
DefaultConditionState
Model  AVB3bmbr_C
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient        B3BomberAmbientLoop
SoundAmbientRubble  NoSound
SoundStealthOn      StealthOn
SoundStealthOff     StealthOff

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B3Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_12
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        5     ; Number of times the volleys will fire before reloading
ReloadTime             0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            50%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                           1000 ; msec
StealthForbiddenConditions             TAKING_DAMAGE
FriendlyOpacityMin                     50.0%
FriendlyOpacityMax                     100.0%
InnateStealth                          Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetA10Thunderbolt

; *** ART Parameters ***
SelectPortrait          SAWarthog_L
ButtonImage             SAWarthog

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ExtraPublicBone  WeaponA01
ExtraPublicBone  WeaponA02
ExtraPublicBone  WeaponA03
ExtraPublicBone  WeaponA04
ExtraPublicBone  WeaponA05
ExtraPublicBone  WeaponA06

DefaultConditionState
Model              AVWrthg
Animation          AVWrthg.AVWrthg
AnimationMode      LOOP
WeaponLaunchBone   PRIMARY Muzzle01
WeaponFireFXBone   PRIMARY Muzzle01
WeaponMuzzleFlash  PRIMARY MuzzleFX01
ParticleSysBone    Engine01 JetBlackTrailThin
ParticleSysBone    Engine02 JetBlackTrailThin
ParticleSysBone    Wingtip01 JetContrailThin
ParticleSysBone    Wingtip02 JetContrailThin
End

ConditionState       REALLYDAMAGED
Model              AVWrthg_D
Animation          AVWrthg_D.AVWrthg_D
AnimationMode      LOOP
End
AliasConditionState   RUBBLE

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:A10Thunderbolt
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
;VisionRange          300.0
ShroudClearingRange  300
Prerequisites
Object  AmericaAirfield
End
WeaponSet
Conditions  None
Weapon  PRIMARY A10ThunderboltVulcan
End
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

ExperienceValue  0 0 0 0     ;Experience point value at each level
ExperienceRequired  0 0 0 0  ;Experience points needed to gain each level
IsTrainable  No              ;Can gain experience

; *** AUDIO Parameters ***
SoundAmbient  A10ThunderboltAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
StartDive   A10ThunderboltDive
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_02
MaxHealth        600.0
InitialHealth    600.0
End

CommandSet         AmericaScriptedTransportDropsCommandSet

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior                           JetSlowDeathBehavior ModuleTag_03
DestructionDelay                 99999999  ; destruction will happen when we
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetDeathInitial
OCLInitialDeath                  None
DelaySecondaryFromInitialDeath   500       ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     None
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_A10DeathHitGround
DelayFinalBlowUpFromHitGround    200       ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_A10DeathFinalBlowUp
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

;SCRIPTED SUPPORT: These special power is triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.
Behavior     OCLSpecialPower ModuleTag_06
SpecialPowerTemplate  SuperweaponA10ThunderboltMissileStrike ;@@KRIS@@
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
OCL                   SUPERWEAPON_A10ThunderboltMissileStrike1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor  SET_NORMAL A10ThunderboltLocomotor

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object AmericaJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVCargoPln_D1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End


;------------------------------------------------------------------------------
Object AmericaJetSpectreGunship

; *** ART Parameters ***
SelectPortrait          SASpectre_L
ButtonImage             SASpectre

Draw  W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
RecoilSettleSpeed   10
MaxRecoilDistance   4

;----NORMAL-------------
DefaultConditionState
Model              AVAc17
WeaponFireFXBone   PRIMARY MUZZLE
WeaponMuzzleFlash  PRIMARY MUZZLEFX
WeaponRecoilBone   PRIMARY BARREL
ShowSubObject      VULCAN01 VULCAN02
End

ConditionState     DOOR_1_OPENING
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE
HideSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
TransitionKey    TRANS_Wings_Open
End

TransitionState    TRANS_Wings_Closed TRANS_Wings_Open
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
End

ConditionState     DOOR_1_CLOSING
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE_BACKWARDS
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
TransitionKey    TRANS_Wings_Closed
End


;----DAMAGED-------------
ConditionState     DOOR_1_OPENING DAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
TransitionKey    TRANS_Wings_Open_Damaged
End

TransitionState    TRANS_Wings_Closed_Damaged TRANS_Wings_Open_Damaged
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState     DOOR_1_CLOSING DAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
TransitionKey    TRANS_Wings_Closed_Damaged
End


;----REALLY DAMAGED-------------
ConditionState     DOOR_1_OPENING REALLYDAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
TransitionKey    TRANS_Wings_Open_Realy_Damaged
End

TransitionState    TRANS_Wings_Closed_Realy_Damaged TRANS_Wings_Open_Realy_Damaged
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
End

ConditionState     DOOR_1_CLOSING REALLYDAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
TransitionKey    TRANS_Wings_Closed_Realy_Damaged
End


;----RUBBLE CRASHING-------------
ConditionState  RUBBLE
Model            AVAc17_D1
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 SpectreSmokeLarge
ParticleSysBone  Smoke03 SpectreSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke05 SpectreSmokeLarge
End
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED RUBBLE DOOR_1_OPENING

End

; ***DESIGN parameters ***
DisplayName          OBJECT:SpectreGunship
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            SpectreGunshipAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SpectreGunshipCountermeasuresAirplaneArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY   SpectreHowitzerGun
End

; *** AUDIO Parameters ***
VoiceSelect          SpectreGunshipVoiceSelect
VoiceAttack          SpectreGunshipVoiceAttack
VoiceMove            SpectreGunshipVoiceMove
SoundAmbient         SpectreGunshipAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
Afterburner     SpectreGunshipAfterburnerLoop
HowitzerFire    SpectreHowitzerWeapon
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_03
MaxHealth        1800.0
InitialHealth    1800.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level


Behavior                           JetSlowDeathBehavior ModuleTag_04
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      45.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_SpectreGunshipExplosionLight
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
FXFinalBlowUp                    FX_spectreGunshipDeathExplosion
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_07
ForbidPlayerCommands  Yes ; this AIUpdate will only do command if from script or AI, not player
End
Locomotor  SET_PANIC  SpectreGunshipTransitLocomotor
Locomotor  SET_NORMAL SpectreGunshipOrbitLocomotor

Behavior  SpecialAbility ModuleTag_32
SpecialPowerTemplate  SuperweaponSpectreGunship
UpdateModuleStartsAttack  Yes
End


Behavior  SpectreGunshipUpdate ModuleTag_10
GattlingStrafeFXParticleSystem   SpectreGattlingArmsSmoke
SpecialPowerTemplate             SuperweaponSpectreGunship
HowitzerWeaponTemplate           SpectreHowitzerGun
GattlingTemplateName             SpectreGunshipGattlingCannon
RandomOffsetForHowitzer  20
TargetingReticleRadius   50
OrbitInsertionSlope      0.7   ; steepness of orbit entry
GunshipOrbitRadius       400
HowitzerFiringRate       1000  ; how long between each attempted shot of howitzer
HowitzerFollowLag        200   ; how long after gattling acquires target can howitzer shoot same
StrafingIncrement        20    ; how far apart is each shot of the gattling as it strafes
AttackAreaRadius         250
OrbitTime                20000 ; twenty seconds

AttackAreaDecal
Texture            SCCSpecTarg
Style              SHADOW_ALPHA_DECAL
OpacityMin         25%
OpacityMax         50%
OpacityThrobTime   1500
Color              R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer  Yes
End
TargetingReticleDecal
Texture            SCCSpecRet
Style              SHADOW_ALPHA_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   300
Color              R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer  Yes
End
End

Behavior  HelixContain ModuleTag_09
Slots                      1
DamagePercentToUnits       100%
AllowInsideKindOf          PORTABLE_STRUCTURE
PassengersAllowedToFire    Yes
ShouldDrawPips             No
End


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_11
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        5     ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   450.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  SpecialPowerCompletionDie ModuleTag_023237
SpecialPowerTemplate  SuperweaponSpectreGunship
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object SpectreGunshipGattlingCannon

; *** ART Parameters ***
Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  CHASSIS

DefaultConditionState
Model                NVDeva_U2
AnimationMode        MANUAL
End

ConditionState         ATTACKING
Model                AVSpectre_G
Animation            AVSpectre_G.AVSpectre_G
AnimationMode        LOOP
TurretPitch          TURRETEL01
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1
WeaponSet
Conditions           None
Weapon               PRIMARY   SpectreGattlingGun
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY
TurretTurnRate       160   // turn rate, in degrees per sec
TurretPitchRate      160
AllowsPitch          Yes
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior  PointDefenseLaserUpdate ModuleTag_HellfireMissilePod
WeaponTemplate         SpectreHellFireMissilePod
PrimaryTargetTypes     VEHICLE
SecondaryTargetTypes   AIRCRAFT
ScanRate               30
ScanRange              300.0
PredictTargetVelocityFactor  1.0
End

Behavior              DestroyDie ModuleTag_04
;nothing
End

Geometry             BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  3.0
GeometryHeight       3.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX          89

End


;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVGlbMstr_D1
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  RUBBLE
Model            NONE
End
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVCargoPln_D1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End


Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End



;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVGlbMstr_D1
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  RUBBLE
Model            NONE
End
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetLaserPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVTMD
Animation        AVTMD.AVTMD
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            AVTMD_D
Animation        AVTMD_D.AVTMD_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            AVTMD_D
Animation        AVTMD_D.AVTMD_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model            AVTMD_D1
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
ConditionState  REALLYDAMAGED
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED
ConditionState  REALLYDAMAGED DOOR_1_OPENING
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED DOOR_1_OPENING
ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  TacticalMissileDefencePlaneAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        850.0
InitialHealth    850.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  AmericaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL TacticalMissileDefencePlaneLocomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior                OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponGuardianAngel
OCL                   SUPERWEAPON_America_TacticalMissileDefence
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  PointDefenseLaserUpdate ModuleTag_Laser01
WeaponTemplate         TacticalMissileDefencePlanePointDefenceLaser
PrimaryTargetTypes     BALLISTIC_MISSILE SMALL_MISSILE
ScanRate               100
ScanRange              180.0
PredictTargetVelocityFactor  3.0
End

Behavior  SpecialPowerCompletionDie ModuleTag_0124123
SpecialPowerTemplate  SuperweaponGuardianAngel
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetLeafletCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVLfltPln
HideSubObject    DOOR
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            AVLfltPln_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            AVLfltPln_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model            AVLfltPln_D1
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    MANUAL
HideSubObject    CHASSIS
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  TacticalMissileDefencePlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        500.0
InitialHealth    500.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object FactionAmerica

; ***DESIGN parameters ***
Side                 America
DisplayName          FACTION:America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL ComancheLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

End

;------------------------------------------------------------------------------
Object CountermeasureFlare
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None RocketPodMissileFlame
ParticleSysBone  None RealMissileExhaust
End
End
KindOf  PROJECTILE
Behavior  PhysicsBehavior ModuleTag_03
Mass  5
End
Behavior  AIUpdateInterface ModuleTag_04
; nothing
End
Locomotor  SET_NORMAL CountermeasureFlareLocomotor

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  2800   ; min lifetime in msec
MaxLifetime  2800   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End

;------------------------------------------------------------------------------
Object PathFinderBinocularsRevealerObject

; ***DESIGN parameters ***
VisionRange     600.0
ShroudClearingRange  600.0
EditorSorting    SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  10.0
InitialHealth  10.0
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE AIRCRAFT

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  10
MaxLifetime  10
End

Behavior  DestroyDie ModuleTag_06
End

End

;------------------------------------------------------------------------------
Object StealthFighterRevealObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  100  ; min lifetime in msec
MaxLifetime  100  ; max lifetime in msec
End

Behavior  FireWeaponUpdate ModuleTag_06
Weapon  StealthJetStealthRevealWeapon
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End


;------------------------------------------------------------------------------
Object SupplyDropZoneCrate_Dummy ; this object has a small collision to autopickup the supply crates
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  PMUSASCrate
Animation  PMUSASCrate.PMUSASCrate
AnimationMode  LOOP
ParticleSysBone  FX1 glitter2
End
AliasConditionState  RUBBLE

ConditionState  USER_1
Model  PMUSAUSCrate
Animation  PMUSAUSCrate.PMUSAUSCrate
AnimationMode  LOOP
ParticleSysBone  FX1 glitter2
End
AliasConditionState  RUBBLE USER_1

End

Draw  W3DModelDraw ModuleTag_ChuteBone01

DefaultConditionState
Model  PMCrateBone
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:Crate
EditorSorting    SYSTEM
TransportSlotCount  1

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE NO_COLLIDE

Behavior  PhysicsBehavior ModuleTag_04
Mass  75.0
End

Behavior  MoneyCrateCollide      ModuleTag_ForbiddenChanges
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PROJECTILE
BuildingPickup  Yes
End

Behavior  BoneFXDamage ModuleTag_Transform21
End

Behavior  BoneFXUpdate ModuleTag_Transform03
PristineOCL1       bone:NULL OnlyOnce:Yes 0 0 OCL:OCL_SupplyDropMoneyCrate_GroundHit
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  60
MaxLifetime  60
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
SinkDelay          1500
SinkRate           15     ; in Dist/Sec
DestructionDelay   10000
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaSupplyLines
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object SupplyDropCrateFriendlyCollisionObject

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            BaseDefenseArmor
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE

Body             StructureBody ModuleTag_04
MaxHealth      100.0
InitialHealth  100.0
End


Behavior  AIUpdateInterface ModuleTag_06
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Geometry             CYLINDER
GeometryMajorRadius  12.0
GeometryMinorRadius  1.0
GeometryHeight       14.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End

Object B2BomberStealthRevealObject

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  AIUpdateInterface ModuleTag_03
End


Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_042
DeathWeapon    B2BomberStealthRevealerWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_09
End

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockDecalMarker

Draw                       W3DModelDraw ModuleTag_01
DefaultConditionState
Model                  NVDeva_U2
End
End

; ***DESIGN parameters ***
VisionRange     200.0
ShroudClearingRange  200.0
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE ALWAYS_VISIBLE

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  130
MaxLifetime  130
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  136;
ShadowSizeY  136;
ShadowTexture  SCCLaserLock;
Scale  1.2

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockTargetMarker

Draw                       W3DModelDraw ModuleTag_01
DefaultConditionState
Model                  EXLsrLock
End
End

; ***DESIGN parameters ***
VisionRange     50.0
ShroudClearingRange  50.0
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  70
MaxLifetime  70
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object AmericanAmmoDump

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model              ABAmmoDump_B
Animation          ABAmmoDump_B.ABAmmoDump_B
AnimationMode      LOOP
HideSubObject      Torus02
End

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone   PLANE01
DefaultConditionState
Model                  EXAmmoDump
Animation              EXAmmoDump.EXAmmoDump
AnimationMode          LOOP
Flags                  MAINTAIN_FRAME_ACROSS_STATES
End
End


; ***DESIGN parameters ***
VisionRange          150.0
ShroudClearingRange  150.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE ALWAYS_VISIBLE

;   ***AUDIO parameters ***
;SoundAmbient RepairFieldAmbientLoop

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_0122
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE ; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  180                           ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    AmericanAmmoDump_Decal
End

Behavior  DeletionUpdate ModuleTag_06
MinLifetime  20000
MaxLifetime  20000
End

End

;------------------------------------------------------------------------------
Object AmericanAmmoDump_PlaceCursor

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model              ABAmmoDump_B
Animation          ABAmmoDump_B.ABAmmoDump_B
AnimationMode      LOOP
End

AliasConditionState  NIGHT
End
PlacementViewAngle  -45

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT ALWAYS_VISIBLE

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  40
MaxLifetime  40
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      No
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericanAmmoDump_Decal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  PLANE01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI ALWAYS_VISIBLE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
Shadow  SHADOW_DECAL
ShadowSizeX  370;
ShadowSizeY  370;
ShadowTexture  SSCAmmoDump;

End


;------------------------------------------------------------------------------
Object AmericaInfantryGreenBeretParadrop

; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger


Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
IgnoreConditionStates  PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

; --- Idle
DefaultConditionState
Model              AIGrnBrt_SKN
IdleAnimation      AIRngr_SKL.AIRngr_STA 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDA
IdleAnimation      AIRngr_SKL.AIRngr_IDB
AnimationMode      ONCE
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
WeaponFireFXBone   SECONDARY Muzzle
WeaponLaunchBone   SECONDARY Muzzle
TransitionKey      TRANS_Stand

End

ConditionState       REALLYDAMAGED
IdleAnimation      AIRngr_SKL.AIRngr_STB 0 35
IdleAnimation      AIRngr_SKL.AIRngr_IDC
IdleAnimation      AIRngr_SKL.AIRngr_IDD
AnimationMode      ONCE
TransitionKey      TRANS_StandInjured
End

TransitionState      TRANS_Stand TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_SA2SB
AnimationMode      ONCE
End

; --- attacking (Machine Gun)
ConditionState       USING_WEAPON_A
Animation          AIRngr_SKL.AIRngr_ATA
AnimationMode      LOOP
TransitionKey      TRANS_FiringA
End

ConditionState       USING_WEAPON_A REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATA2
AnimationMode      LOOP
TransitionKey      TRANS_FiringAInjured
End

TransitionState      TRANS_FiringA TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_A2WAA
AnimationMode      ONCE
End

TransitionState      TRANS_Stand TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATAST
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringA TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATAED
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_StandInjured TRANS_FiringAInjured
Animation          AIRngr_SKL.AIRngr_S2WAA
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringAInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_WAA2S
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_Stand TRANS_Move
Animation          AIRngr_SKL.AIRngr_STA2RNA
AnimationMode      ONCE
End

; --- attacking (Grenade Launcher)
ConditionState       PREATTACK_B
Animation          AIRngr_SKL.AIRngr_ATBA
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End
AliasConditionState  PREATTACK_B MOVING
AliasConditionState  PREATTACK_B FIRING_B
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B

ConditionState       FIRING_B
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      ONCE
TransitionKey      TRANS_FiringB
End

ConditionState       BETWEEN_FIRING_SHOTS_B
Animation          AIRngr_SKL.AIRngr_ATBB
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringB
WaitForStateToFinishIfPossible  TRANS_FiringB
End
AliasConditionState  RELOADING_B

TransitionState      TRANS_Stand TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATBST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringB TRANS_Stand
Animation          AIRngr_SKL.AIRngr_ATBST2
AnimationMode      ONCE
End

ConditionState       PREATTACK_B REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2A
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End
AliasConditionState  PREATTACK_B MOVING REALLYDAMAGED
AliasConditionState  PREATTACK_B FIRING_B REALLYDAMAGED
AliasConditionState  PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

ConditionState       FIRING_B REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      ONCE
TransitionKey      TRANS_FiringBInjured
End

ConditionState       BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_ATB2B
AnimationMode      MANUAL
Flags              START_FRAME_LAST
TransitionKey      TRANS_FiringBInjured
WaitForStateToFinishIfPossible  TRANS_FiringBInjured
End
AliasConditionState  RELOADING_B REALLYDAMAGED

TransitionState      TRANS_StandInjured TRANS_FiringBInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST1
AnimationMode      ONCE
End

TransitionState      TRANS_FiringBInjured TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_ATB2ST2
AnimationMode      ONCE
End

; -- cross-attack transitions

TransitionState      TRANS_FiringA TRANS_FiringB
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE
AnimationSpeedFactorRange  4 4
End

TransitionState      TRANS_FiringB TRANS_FiringA
Animation          AIRngr_SKL.AIRngr_ATA2AB
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  4 4
End


; --- moving
ConditionState       MOVING
Animation          AIRngr_SKL.AIRngr_RNA 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING ATTACKING

ConditionState       MOVING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_RNB 30
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Move
End
AliasConditionState  MOVING REALLYDAMAGED ATTACKING

; --- dying anims
ConditionState       DYING
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
End

TransitionState      TRANS_Dying TRANS_Flailing
Animation          AIRngr_SKL.AIRngr_ADTF1
AnimationMode      ONCE
End

ConditionState       DYING EXPLODED_FLAILING
Animation          AIRngr_SKL.AIRngr_ADTF2
AnimationMode      LOOP
TransitionKey      TRANS_Flailing
End

ConditionState       DYING EXPLODED_BOUNCING
Animation          AIRngr_SKL.AIRngr_ADTF3
AnimationMode      ONCE
TransitionKey      None
End
AliasConditionState  DYING SPLATTED

; --- cheering
ConditionState       SPECIAL_CHEERING
Animation          AIRngr_SKL.AIRngr_CHA
AnimationMode      LOOP
End

ConditionState       SPECIAL_CHEERING REALLYDAMAGED
Animation          AIRngr_SKL.AIRngr_CHB
AnimationMode      LOOP
End

; ----- PARACHUTING ANIMATIONS
ConditionState       FREEFALL
Animation          AIRngr_SKL.AIRngr_PFL
AnimationMode      LOOP
TransitionKey      TRANS_Falling
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL DYING
ConditionState       PARACHUTING
Animation          AIRngr_SKL.AIRngr_PHG
AnimationMode      LOOP
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
TransitionKey      TRANS_Chute
End
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING DYING
TransitionState      TRANS_Falling TRANS_Chute
Animation          AIRngr_SKL.AIRngr_POP
AnimationMode      ONCE
Flags              PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
End
TransitionState      TRANS_Chute TRANS_Stand
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End
TransitionState      TRANS_Chute TRANS_StandInjured
Animation          AIRngr_SKL.AIRngr_PTD
AnimationMode      ONCE
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Ranger
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1

ArmorSet
Conditions       None
Armor            HumanArmor
DamageFX         InfantryDamageFX
End

VisionRange  220
ShroudClearingRange  220

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE PARACHUTABLE

Behavior  CommandButtonHuntUpdate ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    180.0
End

Behavior  AIUpdateInterface ModuleTag_06
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  5.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1
MaxLifetime  1
End

Behavior  CreateObjectDie ModuleTag_0523
CreationList  OCL_AmericanGreenBeret
End

Behavior  DestroyDie ModuleTag_0823
DeathTypes  ALL
End

Behavior  CreateObjectDie ModuleTag_06251
CreationList  SUPERWEAPON_ParadropVoiceOver
End

Geometry  CYLINDER
GeometryMajorRadius  7.0
GeometryMinorRadius  7.0
GeometryHeight  13.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  14;
ShadowSizeY  14;
ShadowTexture  ShadowI;
BuildCompletion  APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AmericaInfantryParadropVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               AmericaPadardropDropped

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End
;------------------------------------------------------------------------------
Object SpySatellitePing

; ***DESIGN parameters ***
VisionRange      300.0
EditorSorting    MISC_MAN_MADE
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  DynamicShroudClearingRangeUpdate ModuleTag_02
FinalVision  0.0
ShrinkDelay  10000
ShrinkTime  5000
GrowDelay  0
GrowTime  1000
GrowInterval  10 ; Faster than most
ChangeInterval  80 ; Faster than most
GridDecalTemplate
Texture            EXGrid
Style              SHADOW_ADDITIVE_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   500
Color              R:32 G:64 B:128 A:0 //dim blue, additive
End
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  13000   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  13000
End

End

;------------------------------------------------------------------------------
Object SpySatellite

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_014
ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
ConditionState  POWER_PLANT_UPGRADED
Model  EXSpySat
Animation  EXSpySat.EXSpySat
AnimationMode  LOOP
ParticleSysBone  None SpySatelliteAreaEffectPing
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  StealthUpdate ModuleTag_043
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  100%
FriendlyOpacityMax  100%
;    PulseFrequency  [integer, milliseconds]
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  6700   ; InitialDelay + TransitionTime for Vision Update
MaxLifetime  6700
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:Yes 6660 6660 OCL:OCL_SpySatelliteFadingOut
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

End

;------------------------------------------------------------------------------
Object SpySatelliteFadingOut

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_014
ConditionState  NONE
Model  NONE
End
AliasConditionState  POWER_PLANT_UPGRADING
ConditionState  POWER_PLANT_UPGRADED
Model  EXSpySat
Animation  EXSpySat.EXSpySat
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  StealthUpdate ModuleTag_043
StealthDelay  0
StealthForbiddenConditions  NONE
FriendlyOpacityMin  0%
FriendlyOpacityMax  100%
PulseFrequency  3000
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  600
MaxLifetime  600
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

End

;------------------------------------------------------------------------------
Object AmbulanceHealingObjectMarker

; ***DESIGN parameters ***
VisionRange          150.0
ShroudClearingRange  150.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  AutoHealBehavior ModuleTag_22
HealingAmount      8
HealingDelay       150 ; msec
Radius             150.0
StartsActive       Yes
KindOf             INFANTRY
;UnitHealPulseParticleSystemName  InfantryHealingEffectMinor
End

;  Behavior  FireWeaponUpdate ModuleTag_HealFx01
;    Weapon  AmbulanceHospitalHealFXWeapon
;  End

Behavior  DeletionUpdate ModuleTag_06 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  2000
MaxLifetime  2000
End

End

;------------------------------------------------------------------------------
Object GuardianDroneRemoveStandardModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform05
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GuardianDroneRemoveDiginModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GuardianDroneRemoveUpgradeModesInitialDelayObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_ChinaOverlordGattlingCannon ModuleTag_Transform10
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  3000
MaxLifetime  3000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericanMuleBonusDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowSizeX  258;
ShadowSizeY  258;
ShadowTexture  SSCAmmoDump;

End

;------------------------------------------------------------------------------
Object AmericanMuleWeaponBonusObject


Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  300
MaxLifetime  300
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  INFANTRY CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE DRONE; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  125                           ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

End

;------------------------------------------------------------------------------
Object MuleDroneCounterMeasureLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVMule_B
WeaponFireFXBone   PRIMARY Smoke
WeaponLaunchBone   PRIMARY Smoke
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY MuleDroneCounterMeasureFlareWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      1
MaxDelay      1
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object MuleCountermeasureFlare

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT CAN_ATTACK

Body  ActiveBody ModuleTag_0468
MaxHealth        5000.0
InitialHealth    5000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  2.0
End
Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL MuleCountermeasureFlareLocomotor

Behavior  OCLUpdate ModuleTag_05
OCL           OCL_SuicideSelfKill
MinDelay      4000
MaxDelay      4500
End

Behavior  FireWeaponUpdate ModuleTag_Jammer01
Weapon  MuleDroneCounterMeasureMissileJammer
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End

;------------------------------------------------------------------------------
Object PredatorDroneScannerSweepObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  HeightDieUpdate ModuleTag_082 ;Can't barrel roll on the ground
TargetHeight  10.0
TargetHeightIncludesStructures  Yes
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  5100
MaxLifetime  5100
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
Object HunterKillerStealthModeActivationObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS SELECTABLE CAN_ATTACK
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor
Locomotor  SET_PANIC BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  1000
MaxLifetime  1000
End

Behavior  FireWeaponUpdate ModuleTag_032233
Weapon  HunterKillerDroneStealthWeapon
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object SentryDroneSensorPulseObject

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         TankDamageFX
End

VisionRange      500.0
ShroudClearingRange  500.0

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             200   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             400   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  DeletionUpdate ModuleTag_remove03
MinLifetime        5000
MaxLifetime        5000
End

Behavior  FireWeaponUpdate ModuleTag_06232
Weapon  SentryDroneDetectionPulseWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  -1.0

End


;------------------------------------------------------------------------------
Object TerrorDroneCollisionRemovalObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
Body  ActiveBody ModuleTag_02
MaxHealth  1
InitialHealth  1
End

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  100   ; min lifetime in msec
MaxLifetime  100   ; max lifetime in msec
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_06
DeathWeapon    TerrorDroneCollisionRemovalWeapon
StartsActive   Yes
End

Behavior  DestroyDie ModuleTag_07
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object TerrorDroneUnBurrowUpgradeRemovalObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform02
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  200
MaxLifetime  200
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object AmericanNightHawkSilhouet

Draw                     W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes

DefaultConditionState
Model  AVNightHwk_A
End

End

; ***DESIGN parameters ***
EditorSorting     SYSTEM

ArmorSet
Conditions      None
Armor           InvulnerableArmorAll
End

; *** ENGINEERING Parameters ***
KindOf             IMMOBILE CLICK_THROUGH IGNORED_IN_GUI NO_COLLIDE

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object ProtectorRelayRangeIndicatorDecalObject


Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  3000
MaxLifetime  3000
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCCRelayRange
ShadowSizeX  430
ShadowSizeY  430

End

;------------------------------------------------------------------------------
Object RepairDroneDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  EXRprDrnAura
ShadowSizeX  170
ShadowSizeY  170

End

;------------------------------------------------------------------------------
Object LaserPlaneFlareBombVoiceOver

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  180.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TacticalMissileDefenceFlaresVoiceOver
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_063
DeathWeapon    TacticalMissileDefencePlaneInvulnerabilityWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object LaserPlaneVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               GuardianAngelExecuted

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End

;------------------------------------------------------------------------------
Object LaserPlaneFlareBomb

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  180.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
;SoundFallingFromPlane  ChinaSpyPlanePictureSound

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_045
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  CreateObjectDie ModuleTag_06
CreationList  OCL_TacticalMissileDefenceFlares
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_063
DeathWeapon    TacticalMissileDefencePlaneInvulnerabilityWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object TacticalMissileDefenceFlareLauncherObject
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXGoliath
WeaponFireFXBone   PRIMARY WeaponA
WeaponLaunchBone   PRIMARY WeaponA
End
End

; ***DESIGN parameters ***
Side                 Russia
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY TacticalMissileDefencePlaneCounterMeasureFlareWeapon
End

; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE CAN_ATTACK NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_023113
End

Behavior        OCLUpdate ModuleTag_0523121
MinDelay      50
MaxDelay      50
OCL           OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  1000
MaxLifetime  1000
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object TacticalMissileDefenceCounterMeasureFlare

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          100                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_TacticalMissileDefenceSystemFlare
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_MuleFlareActivationFX
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  300   ; min lifetime in msec
MaxLifetime  300   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object TacticalMissileDefenceSystemFlare

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXMuleFlr
ParticleSysBone  None CountermeasureFlareParticleSys
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
ParticleSysBone  None CounterMeasureSmoke
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 Russia

ArmorSet
Conditions       None
Armor            InvulnerableArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD VEHICLE AIRCRAFT CAN_ATTACK

Body  ActiveBody ModuleTag_0468
MaxHealth        5000.0
InitialHealth    5000.0
End

Behavior  PhysicsBehavior ModuleTag_03
Mass  2.0
End
Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL MuleCountermeasureFlareLocomotor

Behavior  OCLUpdate ModuleTag_05
OCL           OCL_SuicideSelfKill
MinDelay      4000
MaxDelay      4000
End

Behavior  SlowDeathBehavior ModuleTag_06
DeathTypes  ALL
DestructionDelay  1000
DestructionDelayVariance  950
FX  FINAL FX_CounterMeasureFlareDeath
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  4.0
End


;------------------------------------------------------------------------------
Object AmericanAcolyteDropVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               AcolyteTankDropDropped

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End

;------------------------------------------------------------------------------
Object TermiteDroneRemoveStandardModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_123
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerFakeCommandSet ModuleTag_Transform05
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TermiteDroneRemoveDiginModeObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_GLAWorkerRealCommandSet ModuleTag_Transform04
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object TermiteDroneRemoveUpgradeModesInitialDelayObject

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove      Upgrade_ChinaOverlordGattlingCannon ModuleTag_Transform10
End

Behavior  LifetimeUpdate ModuleTag_032
MinLifetime  6000
MaxLifetime  6000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object MicrowaveTankEmitterDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_MicrowvDcl
ShadowSizeX  370
ShadowSizeY  370

End

;------------------------------------------------------------------------------
Object TermiteDroneEmitterDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_MicrowvDcl
ShadowSizeX  138
ShadowSizeY  138

End

;------------------------------------------------------------------------------
Object CyclopsPointDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  66
MaxLifetime  66
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_PDLDecal
ShadowSizeX  490
ShadowSizeY  490

End

;------------------------------------------------------------------------------
Object AvengerPointDefenceLaserObject

Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model          AVAvnger_B
Animation      AVAvnger_B.AVAvnger_B
AnimationMode  LOOP
End
ConditionState   WEAPONSET_PLAYER_UPGRADE
ParticleSysBone  LazerSpot01 PaladinPointDefenseLaserFlare
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   0

VisionRange      250
ShroudClearingRange  150

WeaponSet
Conditions  None
Weapon  PRIMARY   NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon  PRIMARY   AvengerPointDefenseLaser
End

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  NO_HEAL_ICON UNATTACKABLE IMMOBILE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate       36000
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  1
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  200
MaxLifetime  200
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaPointDefenceLasers
End

Geometry  CYLINDER
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object AmericanATVHumveeBonusDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                2.0
ShadowSizeX  164;
ShadowSizeY  164;
ShadowTexture  SSCAmmoDump;

End

;------------------------------------------------------------------------------
Object AmericanATVHumveeWeaponBonusObject


Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  300
MaxLifetime  300
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  INFANTRY CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE DRONE; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  80                            ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the drone control center but will only activate once a workshop has been constructed
Object DroneControlCenterWorkshopUpgradeCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  DroneControlCenterWorkshopUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_DroneWorkshop
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DroneControlCenterWorkshopUpgradePurchasedObject

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  DroneControlCenterWorkShopUpgradeStatusWeapon
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object DroneWorkshopVissualEffectDummyObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   1
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DroneControlCenterWorkshop

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  AutoHealBehavior ModuleTag_DroneSelfRepair01
HealingAmount       3.5
HealingDelay        500
AffectsWholePlayer  Yes
StartsActive        Yes
KindOf              DRONE
End

End

;-----------------------------------------------------------------------------
;This crate is spawned by the detention camp but will only activate once a Intelligence Office has been purchased
Object DetentionCampIntelligenceOfficeUpgradeCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  DetentionCampIntelligenceOfficeUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_IntelligenceOffice
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object DetentionCampIntelligenceOfficeUpgradePurchasedObject

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD SELECTABLE IMMOBILE STRUCTURE
Body               StructureBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  FireWeaponUpdate ModuleTag_TriggerUpgradeWeapon01
Weapon  DetentionCampIntelligenceOfficeUpgradeStatusWeapon
End

End

;------------------------------------------------------------------------------
Object AmericaDetentionCampIntelligenceOfficeVissualEffectDummyObject

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVBomber
End
End

; ***DESIGN parameters ***
Side                 America
DisplayName          UPGRADE:IntelligenceOffice
EditorSorting        SYSTEM
TransportSlotCount   1
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DetentionCampIntelligenceOffice

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_ATTACK NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_Die01
End

End

;------------------------------------------------------------------------------
Object AmericanCIAPriorityReportSpecialPowerObject

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  DetentionCampCIAIntelligenceReport

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior                OCLSpecialPower ModuleTag_IntelPower03
SpecialPowerTemplate  SuperweaponCIAIntelligence
OCL                   SUPERWEAPON_CIAInteligence
End

Geometry  CYLINDER
GeometryMajorRadius  1
GeometryMinorRadius  1
GeometryHeight  10.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericanCIAInteligenceObject

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

ArmorSet
Conditions  None
Armor       InvulnerableAllArmor
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        200.0
InitialHealth    200.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior                OCLSpecialPower ModuleTag_IntelPower03
SpecialPowerTemplate  SuperweaponCIAIntelligence
OCL                   SUPERWEAPON_CIAInteligence
End

Geometry  CYLINDER
GeometryMajorRadius  1
GeometryMinorRadius  1
GeometryHeight  10.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericanCIAInteligenceEnemyRevealObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  LifetimeUpdate ModuleTag_Remove01
MinLifetime  50000
MaxLifetime  50000
End

Behavior          SpyVisionUpdate ModuleTag_SpyVision01
NeedsUpgrade   Yes
SelfPowered    Yes         ; No SpecialPower module, turns self on and off on timers
SelfPoweredDuration  60000
SelfPoweredInterval  150000
TriggeredBy    Upgrade_CostReduction
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
End

;------------------------------------------------------------------------------
Object StarlifterDismissProjectile

KindOf  PROJECTILE NO_COLLIDE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
Weapon  StarlifterDismissStatusWeapon
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  0 ; min lifetime in msec
MaxLifetime  0 ; max lifetime in msec
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  0
InitialVelocity  0
IgnitionDelay  1000
DistanceToTravelBeforeTurning  35
End
Locomotor  SET_NORMAL SpectreHellfireMissileLocomotor

End

;-----------------------------------------------------------------------------
;This crate is spawned by the command center constantly but will only activate once the appropriate power is unlocked
Object CommandCenterBackupPowerGeneratorCrate

; ***DESIGN parameters ***
Side             America
DisplayName      OBJECT:Crate
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  DroneControlCenterWorkshopUpgradePurchasedObject
RequiredKindOf  STRUCTURE
ForbiddenKindOf  VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED UNATTACKABLE
HumanOnly  Yes
BuildingPickup  Yes
ForbidOwnerPlayer  No
PickupScience  SCIENCE_BackupPowerGenerator
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

;This module makes the AI ignore this object and not attack it
Behavior  StatusBitsUpgrade ModuleTag_IgnoreMe01
TriggeredBy    Upgrade_CostReduction
StatusToSet    NO_ATTACK_FROM_AI
End

Behavior  DeletionUpdate ModuleTag_05
MinLifetime  100
MaxLifetime  100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
GeometryIsSmall  No

End

;------------------------------------------------------------------------------
Object BackupPowerEnergyProductionObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXBckPwr
End
End

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
EnergyProduction     60

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  30000  ; min lifetime in msec
MaxLifetime  30000  ; max lifetime in msec
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_BackupPowerDeactivate
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0

End

;------------------------------------------------------------------------------
;This object kills the cargo plane after completing its drop forcing it to spawn a new cargo plane
;that flies off screen and not all the way across the map
Object AmericaSupplyDropZoneCargoPlaneKiller

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1
MaxLifetime  1
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_042
DeathWeapon    SupplyDropZoneCargoPlaneKillerWeapon
StartsActive   Yes
End

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookDroppingSupplyDroneCable

Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVWrkHrs_CBL
End
End

; ***DESIGN parameters ***
EditorSorting        SYSTEM
Side                 America

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  HeightDieUpdate ModuleTag_Selfkill01
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  DestroyDie ModuleTag_0622
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookDroppingSupplyDroneAmbientSoundEffectObject

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundAmbient  ChinookAmbientLoop

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL BerkutMissileDodgeJetLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_032
MinLifetime  8000
MaxLifetime  8000
End

End



;------------------------------------------------------------------------------
Object AmericaDroneControlCenterWorkshopUpgrade

; *** ART Parameters ***
ButtonImage             SSDroneWorkshop

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DroneControlCenterWorkshop

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD SELECTABLE IMMOBILE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  100
MaxLifetime  100
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_DroneWorkshop
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object AmericaDetentionCampIntelligenceOfficeUpgrade

; *** ART Parameters ***
ButtonImage             SSIntelligenceOffice

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1000
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  DetentionCampIntelligenceOffice

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButHazardCleanup
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_IntelligenceOffice
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Geometry             BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight       5.0

End

;------------------------------------------------------------------------------
Object AmericanCIAPriorityReportObject

; *** ART Parameters ***
SelectPortrait          SSCIAIntelligenceReport
ButtonImage             SSCIAIntelligenceReport

; ***DESIGN parameters ***
Side               America
EditorSorting      SYSTEM

MaxSimultaneousOfType  2
MaxSimultaneousLinkKey  DetentionCampCIAIntelligenceReport

Prerequisites
Object  AmericaDetentionCampIntelligenceOfficeVissualEffectDummyObject
End

BuildCost  3000
BuildTime  60.0          ;in seconds

ArmorSet
Conditions  None
Armor       InvulnerableAllArmorButHazardCleanup
DamageFX    EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS IGNORED_IN_GUI EMP_HARDENED NO_COLLIDE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_05
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  CreateObjectDie ModuleTag_0523
CreationList  OCL_AmericanCIAPriorityReportSpecialPowerObject
End

Geometry  CYLINDER
GeometryMajorRadius  1
GeometryMinorRadius  1
GeometryHeight  10.0
GeometryIsSmall  Yes
End

;------------------------------------------------------------------------------
Object AmericaVeteranSpecialists

; *** ART Parameters ***
ButtonImage  SSVeteranVehicleCrews

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          1500
BuildTime          45.0           ; in seconds
MaxSimultaneousOfType   1

Prerequisites
Science  SCIENCE_VeteranInfantry
End

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_VeteranSpecialists
End

End

;------------------------------------------------------------------------------
Object AmericaChinookSupplyDropPoint

; *** ART Parameters ***
ButtonImage  SSChinookSupplyPoint

Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
ParticleSysBone  NONE DropZoneLandingSmoke
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting      SYSTEM
BuildCost          1800
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1
MaxSimultaneousLinkKey  ChinookSupplyDropPoint

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

Prerequisites
Science  SCIENCE_LogisticsEffeciency
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  FireWeaponUpdate ModuleTag_06
Weapon  SupplyCenterChinookSupplyPointUpgradeStatusWeapon
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy

PristineOCL2       bone:NULL OnlyOnce:No 60000 60000 OCL:OCL_AmericaVehicleChinookSupplyDrop
DamagedOCL2        bone:NULL OnlyOnce:No 60000 60000 OCL:OCL_AmericaVehicleChinookSupplyDrop
ReallyDamagedOCL2  bone:NULL OnlyOnce:No 60000 60000 OCL:OCL_AmericaVehicleChinookSupplyDrop
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0

End

;------------------------------------------------------------------------------
Object AmericaBackupPowerGeneratorUpgrade

; *** ART Parameters ***
ButtonImage  SSBackupPowerGenerator

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM

BuildCost          750
BuildTime          20.0           ; in seconds
MaxSimultaneousOfType   1

ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         DamageFX_Empty
End

; *** AUDIO Parameters ***
UnitSpecificSounds
VoiceCreate  AmericaBuildingAddonCompletedVoice
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE NO_COLLIDE

Body  ActiveBody ModuleTag_05
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_0689
End

Behavior  DestroyDie ModuleTag_06
End

Behavior  GrantScienceUpgrade ModuleTag_PropagandaSpotlight02
TriggeredBy   Upgrade_CostReduction
GrantScience  SCIENCE_BackupPowerGenerator
End

End

;------------------------------------------------------------------------------
Object StealthJetMissile

; *** ART Parameters ***
Draw   W3DModelDraw ModuleTag_01
OkToChangeModelColor   Yes
DefaultConditionState
Model   AVStealth_M
End
ConditionState   JAMMED
ParticleSysBone   None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName         OBJECT:Missile
EditorSorting       SYSTEM
VisionRange         0.0

ArmorSet
Conditions        None
Armor             ProjectileArmor
DamageFX          None
End

; *** ENGINEERING Parameters ***
KindOf   PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body   ActiveBody ModuleTag_02
MaxHealth         100.0
InitialHealth     100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap   200
SubdualDamageHealRate   100000
SubdualDamageHealAmount   50
End

; ---- begin Projectile death behaviors
Behavior   InstantDeathBehavior DeathModuleTag_01
DeathTypes   NONE +DETONATED
End
Behavior   InstantDeathBehavior DeathModuleTag_02
DeathTypes   NONE +LASERED
FX           FX_GenericMissileDisintegrate
OCL          OCL_GenericMissileDisintegrate
End
Behavior   InstantDeathBehavior DeathModuleTag_03
DeathTypes   ALL -LASERED -DETONATED
End

; ---- end Projectile death behaviors

Behavior          BunkerBusterBehavior ModuleTag_04
UpgradeRequired                 Upgrade_AmericaBunkerBusters
DetonationFX                    FX_GIDie;FX_BunkerBusterExplosion            ; the big detonation kaboom at the bottom
CrashThroughBunkerFX            WeaponFX_BunkerBusterIntialImpact   ; the crash bang crunch FX on the way through the bunker ceiling
CrashThroughBunkerFXFrequency   571                                 ; msec... how often to play the crash bang crunch FX on the way through the bunker ceiling

SeismicEffectRadius           200
SeismicEffectMagnitude        5

ShockwaveWeaponTemplate        ScudStormPrimaryDummyWeapon
ShockwaveWeaponTemplate        ScudStormPrimaryDummyWeapon
OccupantDamageWeaponTemplate   BunkerBusterAntiTunnelGarrisonWeaponWithABigName
End

Behavior   PhysicsBehavior ModuleTag_07
Mass   1
End
Behavior   MissileAIUpdate ModuleTag_08
TryToFollowTarget       Yes
FuelLifetime            10000
InitialVelocity         75                ; in dist/sec
IgnitionDelay           30
IgnitionFX              FX_JetMissileIgnition
DetonateCallsKill       Yes
KillSelfDelay           2000 ;two seconds of crash bang crunch before we actually detonate
End
Locomotor   SET_NORMAL StealthJetMissileLocomotor

Geometry   Sphere
GeometryIsSmall   Yes
GeometryMajorRadius   1.0

End

;------------------------------------------------------------------------------
Object BunkerBusterExplosionEffectObject

; *** ART Parameters ***
Draw   W3DModelDraw ModuleTag_01
DefaultConditionState
Model   NONE
End
End

; ***DESIGN parameters ***
EditorSorting   SYSTEM
KindOf   IMMOBILE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE UNATTACKABLE
ArmorSet
Conditions        None
Armor             StealthFighterBunkerBusterDummyArmor
End

; *** ENGINEERING Parameters ***
Body   ActiveBody ModuleTag_02
MaxHealth          100.0
InitialHealth      100.0
End

Behavior   LifetimeUpdate ModuleTag_03
MinLifetime   2000
MaxLifetime   2000
End

Behavior   FireWeaponWhenDeadBehavior ModuleTag_04
DeathWeapon     BunkerBusterShockwaveWeaponSmallMelle
DeathTypes      ALL -EXPLODED
StartsActive    No
TriggeredBy     Upgrade_AmericaBunkerBusters
End

Behavior   FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon     BunkerBusterShockwaveWeaponSmallAuroraBomb
DeathTypes      ALL -EXPLODED
StartsActive    No
TriggeredBy     Upgrade_AmericaBunkerBusters
End

Behavior   DestroyDie ModuleTag_06
DeathTypes   NONE +EXPLODED
End

Geometry   Sphere
GeometryIsSmall   Yes
GeometryMajorRadius   40.0

End
;------------------------------------------------------------------------------
Object PatriotMissileNEW

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  AVM270_m
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  AVM270_m
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName   OBJECT:PatriotMissile
EditorSorting   VEHICLE
VisionRange   300.0
ShroudClearingRange   0
ArmorSet
Conditions   None
Armor   ProjectileArmor
DamageFX   None
End
; *** ENGINEERING Parameters ***
KindOf   CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body   ActiveBody ModuleTag_061
MaxHealth   200.0
InitialHealth   200.0
SubdualDamageCap   400
SubdualDamageHealRate   100000
SubdualDamageHealAmount   50
End
; ---- begin Projectile death behaviors
Behavior   InstantDeathBehavior DeathModuleTag_062
DeathTypes   NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior   InstantDeathBehavior DeathModuleTag_063
DeathTypes   NONE +LASERED
; shot down by laser.
FX   FX_GenericMissileDisintegrate
OCL   OCL_GenericMissileDisintegrate
End
Behavior   InstantDeathBehavior DeathModuleTag_064
DeathTypes   ALL -LASERED -DETONATED
; shot down by nonlaser.
FX   FX_GenericMissileDeath
End
; ---- end Projectile death behaviors
Behavior   PhysicsBehavior ModuleTag_065
Mass   1
End
Behavior   MissileAIUpdate ModuleTag_066
TryToFollowTarget   Yes
FuelLifetime   0
InitialVelocity   50     ; in dist/sec
IgnitionDelay   0
DistanceToTravelBeforeTurning 50
DistanceToTargetBeforeDiving  75
DistanceToTargetForLock   100     ; If it gets within 100 of the target, it kills the target.

End
;  Behavior   WeaponBonusUpgrade ModuleTag_067
;    TriggeredBy   Upgrade_AmericaAdvancedMissiles
;  End
;  Behavior   LocomotorSetUpgrade ModuleTag_068
;    TriggeredBy   Upgrade_AmericaAdvancedMissiles
;  End
Locomotor   SET_NORMAL JarmenKellStingerMissileLocomotor
;  Locomotor   SET_NORMAL_UPGRADED PatriotMissileLocomotor_Fast

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Scale   0.85
Geometry   Sphere
GeometryIsSmall   Yes
GeometryMajorRadius   2.0
End


Object FireBaseCannonShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  IncomingShellWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

;Behavior  DumbProjectileBehavior ModuleTag_04
;  FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
;  SecondHeight  150
;  FirstPercentIndent  30% ; Percentage of shot distance control points are placed
;  SecondPercentIndent  70%
; FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
;End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  20  ; Height of Bezier control points above highest intervening terrain
SecondHeight  80
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond   0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End


Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
;This beam destroys enemy aircraft
;------------------------------------------------------------------------------
Object AvengerLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  exlaser_sw1.tga
NumBeams  2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  0.005                    ;The total width of beam
InnerColor  R:255 G:255 B:255 A:100      ;The inside color of the laser (hot)
OuterBeamWidth  2                        ;The total width of beam
OuterColor  R:255 G:255 B:255 A:10       ;The outside color of the laser (cool)
Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.
;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE INERT
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
ClientUpdate  LaserUpdate ModuleTag_07
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  AvengerStarburst
PunchThroughScalar  1.3 ; If our target dies, we get this much bigger so it looks like we punched through
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  205   ; min lifetime in msec
MaxLifetime  205   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
;This beam targets troops and passes the info to other weapon systems
;------------------------------------------------------------------------------
Object AvengerTargetingLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXLaser4.tga
NumBeams  4                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  5                       ;The total width of beam
InnerColor  R:50 G:50 B:255 A:50         ;The inside color of the laser (hot)

OuterBeamWidth  1                        ;The total width of beam
OuterColor  R:255 G:0 B:126  A:150       ;The outside color of the laser (cool)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                           ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                          ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.

;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  AvengerTargetingLaserMuzzleFlare
TargetParticleSystem  GenericBlueLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  DeletionUpdate ModuleTag_03
MinLifetime  66   ; min lifetime in msec
MaxLifetime  66   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End


;------------------------------------------------------------------------------
Object AvengerPointDefenseLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  DeletionUpdate ModuleTag_03
MinLifetime  95   ; min lifetime in msec
MaxLifetime  95   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object MicrowaveDisableStream
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXSineWave.tga

Tile  Yes
TilingScalar  .5
ScrollRate  -10                      ;Scrolls the texture offset this fast -- towards(-) away(+)
NumBeams  1                          ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data. Current max: 10
InnerBeamWidth  8                    ;The total width of beam
InnerColor  R:100 G:150 B:235 A:255  ;The inside color of the laser (hot)
OuterBeamWidth  5.0                  ;The total width of beam
OuterColor  R:50 G:75 B:117 A:127    ;The outside color of the laser (cool)
End


KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  GenericBlueLaserFlare
TargetParticleSystem  GenericRedLaserFlare_UP ;HackFlare
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  126   ; min lifetime in msec
MaxLifetime  126   ; max lifetime in msec
End

End

Object  MicrowaveTankDummyWeaponHeatField

Behavior  FireWeaponUpdate ModuleTag_01
Weapon  MicrowaveTankEmitterWeapon
End

Behavior  DeletionUpdate ModuleTag_04 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  230
MaxLifetime  230
End

End

;------------------------------------------------------------------------------
Object MissileDefenderMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  ExMsslTm
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes;;;;;;;;;No
FuelLifetime                     3000
InitialVelocity                  250                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    3
IgnitionFX                       FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL MissileDefenderMissileLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object SidewinderMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVChap_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
FX           WeaponFX_PatriotMissileDetonation
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_LASERED
DeathWeapon  S300GrumbleMissileWeapon
DeathTypes   NONE +LASERED
StartsActive  Yes
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  150                ; in dist/sec
End
Locomotor  SET_NORMAL PatriotMissileLocomotor


Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Scale  0.9

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object LaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXLaser4.tga
NumBeams  4                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  5                       ;The total width of beam
InnerColor  R:255 G:50 B:50 A:50         ;The inside color of the laser (hot)

OuterBeamWidth  1                        ;The total width of beam
OuterColor  R:255 G:50 B:50  A:150       ;The outside color of the laser (cool)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                           ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                          ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.

;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object PointDefenseLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  95   ; min lifetime in msec
MaxLifetime  95   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object RemoteC4Charge ;Created by ColonelBurton

;No drawable because it's invisible
; *** ART Parameters ***

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  75.0  ;Allow the stickybomb to show itself to user?
ShroudClearingRange  75
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
UnitBombPing  BombTickRemote
StickyBombCreated  ColonelBurtonSetDemoCharge
End

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf   PROJECTILE MINE NO_COLLIDE

;Body  ActiveBody ModuleTag_02
;  MaxHealth  1.0
;  InitialHealth  1.0
;End

Body  HighlanderBody ModuleTag_NewBody
MaxHealth  1.0
InitialHealth  1.0
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           50.0%
InnateStealth                Yes
End

Behavior  StickyBombUpdate ModuleTag_04
End


Behavior  SlowDeathBehavior ModuleTag_05
DestructionDelay     150
FX                   INITIAL FX_BurtonBombTriggered
FX                   FINAL   WeaponFX_TNTStickyBombDetonation
Weapon               FINAL   BurtonC4ChargeWeapon
End

Geometry             CYLINDER
GeometryMajorRadius  8.0
GeometryHeight       8.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object TimedC4Charge ;Created by Colonel Burton

;No drawable because it's invisible
; *** ART Parameters ***

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  75.0  ;Allow the stickybomb to show itself to user?
ShroudClearingRange  75
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

UnitSpecificSounds
UnitBombPing  BombTickTimed
StickyBombCreated  ColonelBurtonSetDemoCharge
End

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf   PROJECTILE MINE NO_COLLIDE

;Body  ActiveBody ModuleTag_02
;  MaxHealth  1.0
;  InitialHealth  1.0
;End
Body  HighlanderBody ModuleTag_NewBody
MaxHealth  1.0
InitialHealth  1.0
End

Behavior  StealthUpdate ModuleTag_03
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           50.0%
InnateStealth                Yes
End

;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  10000   ; min lifetime in msec
MaxLifetime  10000   ; max lifetime in msec
End

Behavior  StickyBombUpdate ModuleTag_05
;Keeps it attached properly to the intended target should it move.
End

Behavior  SlowDeathBehavior ModuleTag_06
DestructionDelay  150
FX                   INITIAL FX_BurtonBombTriggered
FX                   FINAL   WeaponFX_TNTStickyBombDetonation
Weapon               FINAL   BurtonC4ChargeWeapon
End

Geometry             CYLINDER
GeometryMajorRadius  8.0
GeometryHeight       8.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object RangerFlashBangGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  EXFlshBng
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_0332
TumbleRandomly                   Yes
DetonateCallsKill                Yes
FirstHeight                      30
SecondHeight                     30
FirstPercentIndent               50%
SecondPercentIndent              90%
FlightPathAdjustDistPerSecond    100
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object AuroraBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB03
ShowSubObject  BOMB02
End

End

; ***DESIGN parameters ***
Side  America
EditorSorting      SYSTEM
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
VisionRange        0.0

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior               PhysicsBehavior ModuleTag_03
Mass                 75.0
AerodynamicFriction  2     ; this is now friction-per-sec
ForwardFriction      2     ; this is now friction-per-sec
CenterOfMassOffset   2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

; it may seem odd to have a "bomb" with a Locomotor, especially a Thrust locomotor,
; but there's a good reason: the Aurora moves so freakin' fast that it's really
; hard to (1) find a reliable drop location, and (2) actually get it close enough to
; that location. So we cheat: just get fairly close, then let the "bomb" do a little (subtle)
; navigation on the way down. This works pretty well and actually looks much better
; than you might think. (srj)
Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    No
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      0                ; in dist/sec
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End
Locomotor  SET_NORMAL AuroraBombLocomotor   ; yes, that's right.

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object StealthJetBunkerBusterBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  EXStlthBmb
Animation  EXStlthBmb.EXStlthBmb
AnimationMode  LOOP
End

End
; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  0
SecondHeight  0
FirstPercentIndent  30%
SecondPercentIndent  50%
;FlightPathAdjustDistPerSecond  30

;FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.    GarrisonHitKillRequiredKindOf    INFANTRY
;GarrisonHitKillForbiddenKindOf   NONE
;GarrisonHitKillCount             10  ; ensure that a single grenade clears out all garrisoned buildings.
;GarrisonHitKillFX                FX_StealthFigherGarrisonBuildingHit
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_BunkerBusterExplosion
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ExtraBoom01
DeathWeapon    NighthawkBombDirectHitDamageWeapon
StartsActive   Yes
End

ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_reallyimportant
End

Behavior  FireWeaponUpdate ModuleTag_Bombdrop effect
Weapon  StealthJetBombDropEffectWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_DECAL

End


;------------------------------------------------------------------------------
Object NightHawkGarrisonClearingProjectile

; ***DESIGN parameters ***
EditorSorting  SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.

GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             10
GarrisonHitKillFX                FX_StealthFigherGarrisonBuildingHit
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;------------------------------------------------------------------------------
Object  NightHawkGarrisonClearingObject

; ***DESIGN parameters ***
EditorSorting  SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  CAN_ATTACK IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  PointDefenseLaserUpdate ModuleTag_KillInfantrtyInBuildings01
WeaponTemplate         NighthawkBombKillInfantryInGarrisonsWeapon
PrimaryTargetTypes     STRUCTURE
ScanRate               100
ScanRange              20.0
PredictTargetVelocityFactor  3.0
End

Behavior  LifetimeUpdate ModuleTag_0352
MinLifetime  200   ; min lifetime in msec
MaxLifetime  200   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object LittleBirdRocketProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None RocketPodMissileLenzflare
ParticleSysBone  None RocketPodMissileFlame
ParticleSysBone  None RealMissileExhaust
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_096
DetonateCallsKill  Yes
FirstHeight  -20
SecondHeight  -45
FirstPercentIndent  30%
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  LifetimeUpdate ModuleTag_Life01
MinLifetime  5000   ; min lifetime in msec
MaxLifetime  5000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
ObjectReskin HeroicLittleBirdRocketProjectile LittleBirdRocketProjectile
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None RocketPodMissileLenzflare
ParticleSysBone  None RocketPodMissileFlame
ParticleSysBone  None HeroicRealMissileExhaust
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End
End

;------------------------------------------------------------------------------
Object Burton30mmGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
FirstHeight                      50  ; Height of Bezier control points above highest intervening terrain
SecondHeight                     100
FirstPercentIndent               30% ; Percentage of shot distance control points are placed
SecondPercentIndent              70%
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockedMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  ExMsslTm
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes;;;;;;;;;No
FuelLifetime                     3000
InitialVelocity                  250                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    80
IgnitionFX                       FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL MissileDefenderLaserLockedMissileLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

Object AircraftLaserTargetingBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXLaser4.tga
NumBeams  4                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  5                       ;The total width of beam
InnerColor  R:255 G:50 B:50 A:50         ;The inside color of the laser (hot)

OuterBeamWidth  1                        ;The total width of beam
OuterColor  R:255 G:50 B:50  A:150       ;The outside color of the laser (cool)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                           ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                          ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

;MaxIntensityLifetime  2000              ;Laser stays at max intensity for specified time in ms.
;FadeLifetime  0                         ;Laser will fade and delete.

;@todo -- add shot ability functionality (instead of instant point A to B)
End

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  210   ; min lifetime in msec
MaxLifetime  210   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object HumveeTowMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVHummerTow_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget                Yes;;;;;;;;;No
FuelLifetime                     0
InitialVelocity                  250                ; in dist/sec
IgnitionDelay                    0
DistanceToTravelBeforeTurning    3
IgnitionFX                       FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL MissileDefenderMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.1

End

;------------------------------------------------------------------------------
Object SpectreHowitzerShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVSpectreShell1
ParticleSysBone      None ArtilleryBarrageTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End


Behavior  HeightDieUpdate ModuleTag_04
TargetHeight  1.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
InitialDelay                     1000 ; Can't explode in the first second so we don't explode on the pad
End


Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  PhysicsBehavior ModuleTag_092
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_10
End

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Scale  0.6                            ;Scaling
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object SpectreHellfireMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMHellMis
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
InitialVelocity  300                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  35
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL SpectreHellfireMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
;This bomb triggers the unique voiceover from the power when dropping the bombs
Object CarpetBombVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB02 BOMB03
ShowSubObject  BOMB01
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               AmericaCarpetBomberDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    CarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_CarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End


End

;------------------------------------------------------------------------------
Object CarpetBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB02 BOMB03
ShowSubObject  BOMB01
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    CarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_CarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

End


;------------------------------------------------------------------------------
;This bomb triggers the unique voiceover from the power when dropping the bombs
Object CarpetBombLancerVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB03
ShowSubObject  BOMB02
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane    DaisyCutterWeapon
SoundEnter               AmericaCarpetBomberDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    LancerCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_LancerCarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End


End

;------------------------------------------------------------------------------
Object CarpetBombLancer

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB03
ShowSubObject  BOMB02
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    LancerCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_LancerCarpetBomb
End

Behavior  DestroyDie ModuleTag_09
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

End

;------------------------------------------------------------------------------
;This bomb triggers the unique voiceover from the power when dropping the bombs
Object B2CarpetBombVoice

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB02
ShowSubObject  BOMB03
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon
SoundEnter             AmericaCarpetBomberDropping

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon  BombReleaseVoiceDummyWeapon
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    SpiritCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_SpiritCarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  FireWeaponUpdate ModuleTag_BomberRevealWeapon01
Weapon  B2BomberStealthRevealerObjectSpawner
End


End

;------------------------------------------------------------------------------
Object B2CarpetBomb

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBomber_b2
Animation  AVBomber_b2.AVBomber_b2
AnimationMode  LOOP
HideSubObject  BOMB01 BOMB02
ShowSubObject  BOMB03
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  300.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04

Mass                   75.0
AerodynamicFriction    1     ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
DeathWeapon    SpiritCarpetBombWeapon
StartsActive   Yes
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_07
SpecialPowerTemplate  SuperweaponCarpetBomb
End

Behavior  FXListDie ModuleTag_08
DeathFX  FX_SpiritCarpetBomb
End
Behavior  DestroyDie ModuleTag_09
;nothing
End

Behavior  FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon  BombReleaseSoundDummyWeapon
End

Behavior  FireWeaponUpdate ModuleTag_BomberRevealWeapon01
Weapon  B2BomberStealthRevealerObjectSpawner
End

End

;---------------------------------------------------------------------------------------
Object LeafletContainer

; ***DESIGN parameters ***
EditorSorting        SYSTEM
TransportSlotCount   10                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          300.0
ShroudClearingRange  0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  LeafletDrop

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_05
;nothing
End

Behavior  AIUpdateInterface ModuleTag_06
End
Locomotor  SET_NORMAL None
Behavior  PhysicsBehavior ModuleTag_07
Mass                 75.0
AerodynamicFriction  1  ; this is now friction-per-sec
ForwardFriction      22     ; this is now friction-per-sec
CenterOfMassOffset   2  ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End
Behavior  HeightDieUpdate ModuleTag_08
TargetHeight  5.0
TargetHeightIncludesStructures  No
End

Behavior  SpecialPowerCompletionDie ModuleTag_09
SpecialPowerTemplate  SuperweaponLeafletDrop
End

Behavior  LeafletDropBehavior ModuleTag_11
DisabledDuration     20000
Delay                2500
AffectRadius         75.0
LeafletFXParticleSystem  LeafletParticles1
End

Behavior  CreateObjectDie ModuleTag_0225
CreationList  OCL_OnGroundLeafletSpread
End

Geometry  Sphere
GeometryIsSmall  No
GeometryMajorRadius  30.0

End

;------------------------------------------------------------------------------
Object LeafletContainerVoiceOverObject

Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        1000.0
InitialHealth    1000.0
End
; *** AUDIO Parameters ***
SoundEnter               LeafletDropExecuted

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  PhysicsBehavior ModuleTag_04
Mass                   5.0
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  100
MaxLifetime  100
End

Behavior  DestroyDie ModuleTag_09
End

End


;------------------------------------------------------------------------------
Object OnGroundLeafletSpreadObject

; ***DESIGN parameters ***
DisplayName       OBJECT:CarpetBomb
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundFallingFromPlane  DaisyCutterWeapon

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        2000.0
InitialHealth    2000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL None

Behavior  PhysicsBehavior ModuleTag_04
Mass                   2.5
AerodynamicFriction    0.25   ; this is now friction-per-sec
ForwardFriction        33    ; this is now friction-per-sec
CenterOfMassOffset     2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End


Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  1.0
TargetHeightIncludesStructures  No
End

Behavior  CreateObjectDie ModuleTag_0225
CreationList  OCL_OnGroundLeaflet
End

Behavior  DestroyDie ModuleTag_09
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

Object LeafletOnGroundObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  ExLeafLet
End
End

; ***DESIGN parameters ***
EditorSorting  SYSTEM
KindOf  IMMOBILE UNATTACKABLE STICK_TO_TERRAIN_SLOPE INERT NO_COLLIDE

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_031
MaxHealth  1
InitialHealth  1
End

Behavior  DeletionUpdate ModuleTag_04
MinLifetime  30000  ; 30 seconds
MaxLifetime  30000
End

Behavior  DestroyDie ModuleTag_06
End

Geometry             CYLINDER
GeometryMajorRadius  10.0
GeometryHeight       1.0
GeometryIsSmall      No
Scale                0.6

End

;------------------------------------------------------------------------------
Object RaptorJetMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVChap_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:Missile
EditorSorting      SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_07
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_08
TryToFollowTarget      Yes
FuelLifetime           10000
InitialVelocity        75                ; in dist/sec
IgnitionDelay          30
IgnitionFX             FX_JetMissileIgnition
End
Locomotor  SET_NORMAL RaptorJetMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.8

End

;------------------------------------------------------------------------------
Object PatriotMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  ABPATRIOT_M
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  ABPATRIOT_M
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:PatriotMissile
EditorSorting    VEHICLE
VisionRange  300.0
ShroudClearingRange  0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          60                ; in dist/sec
IgnitionDelay            0
IgnitionFX               FX_BuggyMissileIgnition

DistanceToTravelBeforeTurning  200
DistanceToTargetBeforeDiving  400

DistanceToTargetForLock  120  ; If it gets within 50 of the target, it kills the target.
End

Locomotor  SET_NORMAL JarmenKellStingerMissileLocomotor ; PatriotMissileLocomotor_Ground

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.1
End

;------------------------------------------------------------------------------
Object PatriotMissileAir

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

;;;;Missile Poping out of the launch tube
ConditionState  None
Model  ABPATRIOT_M
HideSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissilePreIgnitionExhaust
End
AliasConditionState  POWER_PLANT_UPGRADING

;;;;Missile Travaling thoward target destination
ConditionState  POWER_PLANT_UPGRADED
Model  ABPATRIOT_M
ShowSubObject  Flame
ParticleSysBone  NONE JarmenKellStingerMissileExhaust
ParticleSysBone  NONE JarmenKellStingerMissileLenzflare
ParticleSysBone  NONE JarmenKellStingerMissileFlame
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:PatriotMissile
EditorSorting    VEHICLE
VisionRange  300.0
ShroudClearingRange  0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          60                ; in dist/sec
IgnitionDelay            0
IgnitionFX               FX_BuggyMissileIgnition

DistanceToTravelBeforeTurning  200
DistanceToTargetBeforeDiving  400

DistanceToTargetForLock  120  ; If it gets within 50 of the target, it kills the target.
End

Locomotor  SET_NORMAL JarmenKellStingerMissileLocomotor ; PatriotMissileLocomotor_Air

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  550
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Scale  1.1
End


;------------------------------------------------------------------------------
Object PaladinTankShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone      None PaladinCannonShellTrail
ParticleSysBone      None PaladinCannonShellSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
; To tweak a Bezier path, please see GS
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  50% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object TomahawkMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVTmhwk_M
HideSubObject  WeaponB01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
;*Be careful with this type, use in conjunction with KindOf  BALLISTIC_MISSILE to restrict targeting
;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
;*AntiBallisticMissile  Yes set in the Weapon.ini.
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        135.0
InitialHealth    135.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors

; we detonated normally.
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by laser.
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by nonlaser.
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
IgnitionFX  FX_TomahawkIgnition
InitialVelocity  50                ; in dist/sec
DistanceToTravelBeforeTurning  80
DistanceToTargetBeforeDiving  100 ; When I hit this close to target, I ignore PreferredHeight.
; Note, if this is too small, the missile will turn too late to hit.  And, since we have a 2D
; heart, being over the target counts as "there", so we'll give up and just go straight.

DistanceToTargetForLock  10 ; Short lock on, as it looks better flying.  jba.
End
Locomotor  SET_NORMAL TomahawkMissileLocomotor

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object TomahawkMissileLongCruiseMode

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVTmhwk_M
Animation  AVTmhwk_M.AVTmhwk_M
AnimationMode  ONCE
AnimationSpeedFactorRange  1.7 1.7
HideSubObject  WeaponA01
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:TomahawkMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
;*Be careful with this type, use in conjunction with KindOf  BALLISTIC_MISSILE to restrict targeting
;*to select weapons, because ballistic missile armor is weak! Weapons capable of targeting must have
;*AntiBallisticMissile  Yes set in the Weapon.ini.
Armor            BallisticMissileArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  TomahawkMissileMoveLoop

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE BALLISTIC_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        80.0
InitialHealth    80.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors

; we detonated normally.
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by laser.
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; shot down by nonlaser.
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
FX          WeaponFX_TomahawkMissileDetonation
Weapon      TomahawkMissileDetonationWeapon
End

; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
IgnitionFX  FX_TomahawkIgnition
InitialVelocity  50                ; in dist/sec
DistanceToTravelBeforeTurning  80
DistanceToTargetBeforeDiving  100 ; When I hit this close to target, I ignore PreferredHeight.
End
Locomotor  SET_NORMAL TomahawkMissileLongCruiseLocomotor

Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object ComancheAntiTankMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  PMHellMis
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  2000
InitialVelocity  200                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  10
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL ComancheAntiTankMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object ComancheRocketPodRocket

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
; @todo -- need real art here
Model  UVRockBug_m
ParticleSysBone  None RocketPodMissileLenzflare
ParticleSysBone  None RocketPodMissileFlame
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Prop
EditorSorting      SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  No
FuelLifetime  1000
InitialVelocity  150                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  10
IgnitionFX  FX_BuggyMissileIgnition
End
Locomotor  SET_NORMAL ComancheRocketPodLocomotor
Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;------------------------------------------------------------------------------
Object SealC4DummyProjectile

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  SlowDeathBehavior ModuleTag_02425
DestructionDelay     6000
Weapon               MIDPOINT SealC4Explosion
FX                   MIDPOINT WeaponFX_NavySealC4BombExplosion
Weapon               FINAL    SealC4Explosion
End

Behavior  DumbProjectileBehavior ModuleTag_09
DetonateCallsKill  Yes
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  90%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  10
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End


;------------------------------------------------------------------------------
Object CleanupHazardProjectileStream

; *** ART Parameters ***
Draw  W3DProjectileStreamDraw ModuleTag_01
Texture  EXCleanupStream.tga
Width  1.5
TileFactor  2.0 ; put the texture on the line segment this many times
ScrollRate  6.0; scroll the texture offset this fast
MaxSegments  14 ; only play the first X if there are a ton of them. 0 means play all
End

; *** ENGINEERING Parameters ***
KindOf  INERT
Behavior  ProjectileStreamUpdate ModuleTag_02
;nothing
End

End

;------------------------------------------------------------------------------
Object CleanupStreamProjectile

; Explanation - Particles can't do damage, so this is a fast shooting low
; damage invisible missile launcher with a flame trail for exhaust

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  NONE
End
End
; Must have a draw module to be allowed to draw detonation FX

; ***DESIGN parameters ***
EditorSorting      SYSTEM
VisionRange        0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PROJECTILE
Body               ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
AllowCollideForce  No  ; flames collide, but never apply forces when they do so
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill  Yes
FirstHeight  10  ; Height of Bezier control points above highest intervening terrain
SecondHeight  10
FirstPercentIndent  20% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    100
End

Behavior  BoneFXUpdate ModuleTag_06
PristineParticleSystem1   bone:NULL OnlyOnce:Yes  0  0 PSys:CleanupTrail01 ; Covers gap at beginning of line
End

Behavior  BoneFXDamage ModuleTag_07
;nothing
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;-------------------------------------------------------------------------------
Object AmbulanceHealingAuraParticleEffect

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
TargetParticleSystem  HealingRadiusEffect
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  1   ; min lifetime in msec
MaxLifetime  1   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_04
End
End

;------------------------------------------------------------------------------
Object A10ThunderboltMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVWrthg_M
ParticleSysBone  NONE PatriotMissileTrail
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  America
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

; The weapon is in OCL.ini.  This makes it do double damage secretly.
;  Behavior  FireWeaponWhenDeadBehavior ModuleTag_05
;    DeathWeapon    A10ThunderboltMissileWeapon
;    StartsActive   Yes
;  End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_09
TryToFollowTarget  Yes
FuelLifetime  10000
InitialVelocity  30                ; in dist/sec
IgnitionDelay  0
IgnitionFX  FX_A10ThunderboltMissileIgnition
End
; It's a missile, it needs to hit so it can +DETONATED
;  Behavior  HeightDieUpdate ModuleTag_10
;    TargetHeight  1.0
;    TargetHeightIncludesStructures  No
;  End
Locomotor  SET_NORMAL A10ThunderboltMissileLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

Behavior  SpecialPowerCompletionDie ModuleTag_11
SpecialPowerTemplate  SuperweaponA10ThunderboltMissileStrike
End

;  Geometry  Sphere
; GeometryIsSmall  Yes
;GeometryMajorRadius  12.0

End

;------------------------------------------------------------------------------
Object VanguardBombDroneProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  EXBmbDrn
Animation  EXBmbDrn.EXBmbDrn
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL
FX          FX_BombDroneDetonation
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill  Yes
TryToFollowTarget  Yes
FuelLifetime  0
InitialVelocity  50                ; in dist/sec
IgnitionDelay  0
DistanceToTravelBeforeTurning  20
GarrisonHitKillRequiredKindOf   INFANTRY
GarrisonHitKillForbiddenKindOf  NONE
GarrisonHitKillCount            5
GarrisonHitKillFX               FX_BombDroneGarrisonBuildingHit
End

Locomotor  SET_NORMAL VanguardBombDroneLocomotor

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object HunterKillerJetMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVHntrKlr_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:Missile
EditorSorting      SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End
; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  200
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

Behavior  WeaponBonusUpgrade ModuleTag_99
TriggeredBy  Upgrade_AmericaLaserMissiles
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_07
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_08
DetonateCallsKill      Yes
TryToFollowTarget      Yes
FuelLifetime           10000
InitialVelocity        75                ; in dist/sec
IgnitionDelay          30
IgnitionFX             FX_JetMissileIgnition
End
Locomotor  SET_NORMAL RaptorJetMissileLocomotor

Behavior  FireWeaponWhenDeadBehavior ModuleTag_Detonation01
StartsActive   Yes
DeathTypes     ALL -LASERED
ConflictsWith  Upgrade_AmericaLaserMissiles
DeathWeapon    HunterKillerDroneMissileDamagedWeapon
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DetonationUpgraded01
StartsActive   No
DeathTypes     ALL -LASERED
TriggeredBy    Upgrade_AmericaLaserMissiles
DeathWeapon    HunterKillerDroneMissileDamagedUpgradedWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object MuleCounterMeasureFlareGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  None
Model  AVClusterB
Animation  AVClusterB.AVClusterB
AnimationMode  LOOP
ParticleSysBone  None InfantryGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE PRELOAD CANNOT_RETALIATE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  MissileAIUpdate ModuleTag_05
TryToFollowTarget        Yes
FuelLifetime             0
InitialVelocity          180                ; in dist/sec
IgnitionDelay            99999999
DistanceToTravelBeforeTurning  25
DistanceToTargetForLock  99999999  ; If it gets within 100 of the target, it kills the target.
End
Locomotor  SET_NORMAL FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_07
Mass  2.5  ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_MuleDroneCounterFlare
End

Behavior  FXListDie ModuleTag_028
DeathFX  FX_MuleFlareActivationFX
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1000   ; min lifetime in msec
MaxLifetime  1000   ; max lifetime in msec
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  2.0

End

;------------------------------------------------------------------------------
Object DeltaGunnerMortarShell

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMortar
Animation  NVMortar.NVMortar
AnimationMode  LOOP
ParticleSysBone      None InfantryMortarShellTrail
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0


; *** AUDIO Parameters ***
SoundAmbient  NukeCannonIncomingWhistle

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  200  ; Height of Bezier control points above highest intervening terrain
SecondHeight  300
FirstPercentIndent  40% ; Percentage of shot distance control points are placed
SecondPercentIndent  60%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object TerrorDronePlasmaCutterBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser2.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:0 G:0 B:255  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  TerrorDroneCuttingLaserFlare
TargetParticleSystem  TerrorDroneCuttingLaserSparks
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  95   ; min lifetime in msec
MaxLifetime  95   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object TermiteDroneMicrowavePulseProjectile

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  DumbProjectileBehavior ModuleTag_04
FirstHeight  50  ; Height of Bezier control points above highest intervening terrain
SecondHeight  150
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  LifetimeUpdate ModuleTag_05
MinLifetime  1
MaxLifetime  1
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_DeathWeapon01
DeathWeapon   TermiteDroneMicrowavePulseInfantryKiller
StartsActive  Yes
End

Behavior  CreateObjectDie ModuleTag_063
CreationList  OCL_TermiteDroneDissableEffect
End

End

;------------------------------------------------------------------------------
Object TermiteDroneMicrowavePulseEMPEffect

KindOf  NO_COLLIDE
EditorSorting  SYSTEM

Behavior  EMPUpdate ModuleTag_02
DisabledDuration     6000
Lifetime             500
StartFadeTime        100
StartScale           0.01
TargetScaleMin       0.50
TargetScaleMax       1.20
StartColor           R:0 G:255 B:255
EndColor             R:0 G:128 B:128
EffectRadius         60.0
DoesNotAffect        ALLIES
VictimForbiddenKindOf  STRUCTURE
VictimRequiredKindOf   VEHICLE
DisableFXParticleSystem  EMPSparks
DoesNotAffectMyOwnBuildings  Yes
End

Geometry             SPHERE
GeometryMajorRadius  10.0
GeometryIsSmall      No

End

;------------------------------------------------------------------------------
Object MissileDefenderLaserLockProjectile

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE ALWAYS_VISIBLE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
End
; ---- end Projectile death behaviors

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FlightPathAdjustDistPerSecond  99999999
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End



;------------------------------------------------------------------------------
Object JavelinMissileProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinMissileVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageVeteranWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinMissileEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageEliteWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinMissileHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinHeroicSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE ;NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes      ALL
RequiredStatus  KILLING_SELF
Weapon          JavelinDetonationDamageHeroicWeapon
End

Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes    ALL
ExemptStatus  KILLING_SELF
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

; ---- end Projectile death behaviours

Behavior  FireWeaponUpdate ModuleTag_ArmWarheadDelay01
Weapon  JavelinActivateWarheadWeapon
InitialDelay  2000
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeVeteranDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeEliteDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End


;------------------------------------------------------------------------------
Object JavelinAirburstMissileHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  EXJavelin
HideSubObject  Exhaust01
ParticleSysBone  None JavelinHeroicSmokeTrail
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
AliasConditionState  JAMMED POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
ShowSubObject  Exhaust01
End

ConditionState  POWER_PLANT_UPGRADED JAMMED
ShowSubObject  Exhaust01
ParticleSysBone  None SparksMedium
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:RangerTeamMissile
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            ProjectileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  210
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviours
Behavior  SlowDeathBehavior DeathModuleTag_01
DeathTypes        ALL -LASERED
DestructionDelay  300
Weapon  INITIAL JavelinAirburstMissileShapedChargeHeroicDamage
FX      INITIAL WeaponFX_JavelinMissileAirburstDetonation
End

Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  NONE +LASERED
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge01
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge02
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge03
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge04
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge05
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge06
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge07
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge08
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_ShapeCharge09
StartsActive  Yes
DeathTypes    ALL -LASERED
DeathWeapon   JavelinAirburstMissileShapedCharge
End
; ---- end Projectile death behaviours

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_07
DetonateCallsKill                Yes
TryToFollowTarget                Yes
FuelLifetime                     0
InitialVelocity                  80                ; in dist/sec
IgnitionDelay                    500
DistanceToTargetBeforeDiving     120
IgnitionFX                       FX_JavelinMissileIgnition
End
Locomotor  SET_NORMAL JavelinMissileLocomotor

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  500
End

Behavior  HeightDieUpdate ModuleTag_05232
TargetHeight  35.0
TargetHeightIncludesStructures  No
OnlyWhenMovingDown  Yes
SnapToGroundOnDeath  No
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0

End

;-------------------------------------------------------------------------------
Object JavelinAirBurstDummyProjectile

Draw  W3DModelDraw ModuleTag_Art01
DefaultConditionState
Model  NONE
ParticleSysBone  None JavelinShapedChargeTracerCore
End
End

; ***DESIGN parameters ***
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        999.0
InitialHealth    999.0
End

Behavior  DestroyDie ModuleTag_08
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  300  ; Height of Bezier control points above highest intervening terrain
SecondHeight  300
FirstPercentIndent  0% ; Percentage of shot distance control points are placed
SecondPercentIndent  100%
FlightPathAdjustDistPerSecond    9999 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

End

;------------------------------------------------------------------------------
Object CyclopsTargetingLaser
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  0.6            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  1.2            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  50   ; min lifetime in msec
MaxLifetime  50   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object CyclopsDeathRayLaser
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  EXLaser.tga
NumBeams  3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  3.0            ;The total width of beam
InnerColor  R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

OuterBeamWidth  9.0            ;The total width of beam
OuterColor  R:255 G:0 B:0  A:150 ;The outside color of the laser (cool)
End

KindOf  IMMOBILE
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  CyclopsLaserImpactSparks
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  200   ; min lifetime in msec
MaxLifetime  200   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object TacticalMissileDefensePointDefenceLaser

; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  exlaser_sw1.tga
NumBeams  2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  0.005                    ;The total width of beam
InnerColor  R:255 G:255 B:255 A:100      ;The inside color of the laser (hot)
OuterBeamWidth  3                        ;The total width of beam
OuterColor  R:255 G:255 B:255 A:10       ;The outside color of the laser (cool)
Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)
End


KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_07
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  TacticalMissileDefenceRedLaserFlare
PunchThroughScalar  1.3 ; If our target dies, we get this much bigger so it looks like we punched through
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  150   ; min lifetime in msec
MaxLifetime  200   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
End

;------------------------------------------------------------------------------
Object GreenBeret40mmGrenade

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone      None RifleGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
FirstHeight                      50  ; Height of Bezier control points above highest intervening terrain
SecondHeight                     100
FirstPercentIndent               30% ; Percentage of shot distance control points are placed
SecondPercentIndent              70%
GarrisonHitKillRequiredKindOf    INFANTRY
GarrisonHitKillForbiddenKindOf   NONE
GarrisonHitKillCount             2  ; ensure that a single grenade clears out all garrisoned buildings.
GarrisonHitKillFX                FX_GreenBeret40mmGrenadeGarrisonBuildingHit
FlightPathAdjustDistPerSecond    0 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeDefaultProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherDefaultDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeVeteranProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherVeteranDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeEliteProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherEliteDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeHeroicProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  3000
OCL     INITIAL  OCL_EnforcerTimeFuseGrenadeDummy
Weapon  FINAL    EnforcerGrenadeLauncherHeroicDamageWeapon
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerTimedGrenadeDummyObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE IMMOBILE NO_COLLIDE

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  2950
MaxLifetime  2950
End

Behavior  BoneFXDamage ModuleTag_PingEffect01
End

Behavior  BoneFXUpdate ModuleTag_PingEffect02
PristineFXList1       bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerTimedFuseGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerTimedFuseGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerTimedFuseGrenadePing
End

Behavior  BoneFXUpdate ModuleTag_PingEffect03
PristineFXList1       bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerTimedFuseGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerTimedFuseGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerTimedFuseGrenadePing
End

Behavior  DestroyDie ModuleTag_034512315
End

Scale  1.1
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerProximityGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
ParticleSysBone      None FlashBangGrenadeTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:FlashBangGrenade
EditorSorting    SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  1
End

Behavior  DumbProjectileBehavior ModuleTag_05
DetonateCallsKill    Yes
FirstHeight          50  ; Height of Bezier control points above highest intervening terrain
SecondHeight         100
FirstPercentIndent   30% ; Percentage of shot distance control points are placed
SecondPercentIndent  70%
End

Behavior  SlowDeathBehavior ModuleTag_0552323
DeathTypes  ALL
DestructionDelay  5000
OCL     INITIAL OCL_EnforcerProximityGrenadeDummy
OCL     FINAL   OCL_EnforcerProximityGrenadeeMine
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerProximityGrenadeDummyObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  EXClstrMine
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE IMMOBILE NO_COLLIDE

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  4950
MaxLifetime  4950
End

Behavior  BoneFXDamage ModuleTag_PingEffect01
End

Behavior  BoneFXUpdate ModuleTag_PingEffect02
PristineFXList1       bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerProximityGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerProximityGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:Yes 0 0 FXList:FX_EnforcerProximityGrenadePing
End

Behavior  BoneFXUpdate ModuleTag_PingEffect03
PristineFXList1       bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerProximityGrenadePing
DamagedFXList1        bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerProximityGrenadePing
ReallyDamagedFXList1  bone:NULL OnlyOnce:No 1000 1000 FXList:FX_EnforcerProximityGrenadePing
End

Behavior  DestroyDie ModuleTag_034512315
End

Scale  1.1
Shadow  SHADOW_DECAL

End

;------------------------------------------------------------------------------
Object EnforcerProximityGrenadeMine

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  EXClstrMine
ParticleSysBone  NONE MineFX
End

ConditionState  RUBBLE
Model  None
End

End

; ***DESIGN parameters ***
DisplayName        OBJECT:ClusterMine
EditorSorting    MISC_MAN_MADE
VisionRange  100.0
ShroudClearingRange  100.0

WeaponSet
Conditions           None
Weapon               PRIMARY   ClusterMineSuicideWeapon
PreferredAgainst     PRIMARY   INFANTRY
Weapon               SECONDARY ClusterMineSuicideWeapon
PreferredAgainst     SECONDARY VEHICLE
Weapon               TERTIARY  ClusterMineRemoveSelfWeapon
PreferredAgainst     TERTIARY  STRUCTURE
End

ArmorSet
Conditions       None
Armor            MineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  STICK_TO_TERRAIN_SLOPE DEMOTRAP IMMOBILE NO_HEAL_ICON CAN_ATTACK

Body  ActiveBody ModuleTag_02
MaxHealth        1.0
InitialHealth    1.0
End

Behavior  AIUpdateInterface ModuleTag_03232
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate       99999
TurretPitchRate      99999
End
AutoAcquireEnemiesWhenIdle  Yes STEALTHED ATTACK_BUILDINGS
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_0332
StealthDelay                 0                  ; msec
StealthForbiddenConditions   NONE
FriendlyOpacityMin           100.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   No
End

;This module doesn't actually do anything other than make sure the game recognizes me as a mine and not an enemy unit
Behavior  MinefieldBehavior ModuleTag_04
DetonationWeapon             DummyWeapon
DetonatedBy                  ENEMIES NEUTRAL
ScootFromStartingPointTime   1000
RepeatDetonateMoveThresh     1.0
NumVirtualMines              1000
Regenerates                  No            ; Cluster mines do not regenerate.
End

;This ensures that stealthed units are detected so that the mines can properly detonate
Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              3   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             33   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       AIRCRAFT
End

;This ensures that stealthed units are detected so that the mines can properly detonate
Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              3   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             33   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

;This is triggered upon mine detonation
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes        ALL -SUICIDED
DestructionDelay  100
Weapon            INITIAL EnforcerGrenadeLauncherVeteranDamageWeapon
End

Behavior  LifetimeUpdate ModuleTag_034512315
MinLifetime  17500
MaxLifetime  18500
End

;This is triggered upon colliding with an emeny structure to prevent mines from becoming unreachable within a structure collision box
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes        NONE +SUICIDED
End

Geometry             CYLINDER
GeometryMajorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      No
Scale  1.1

End

;------------------------------------------------------------------------------
Object MobilePatriotMissile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  AVPat_M
End
ConditionState  JAMMED
ParticleSysBone  None SparksMedium
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0

ArmorSet
Conditions       None
Armor            BallisticMissileArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE SMALL_MISSILE
Body  ActiveBody ModuleTag_02
MaxHealth        200.0
InitialHealth    200.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap  400
SubdualDamageHealRate  100000
SubdualDamageHealAmount  50
End

; ---- begin Projectile death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  NONE +DETONATED
; we detonated normally.
FX           WeaponFX_PatriotMissileDetonation
End
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  NONE +LASERED
; shot down by laser.
FX          FX_GenericMissileDisintegrate
OCL         OCL_GenericMissileDisintegrate
End
Behavior  FireWeaponWhenDeadBehavior ModuleTag_LASERED
DeathWeapon  S300GrumbleMissileWeapon
DeathTypes   NONE +LASERED
StartsActive  Yes
End
Behavior  InstantDeathBehavior DeathModuleTag_03
DeathTypes  ALL -LASERED -DETONATED
; shot down by nonlaser.
FX          FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior  PhysicsBehavior ModuleTag_06
Mass  1
End
Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget  Yes
FuelLifetime  0
IgnitionDelay  0
InitialVelocity  150                ; in dist/sec
End
Locomotor  SET_NORMAL PatriotMissileLocomotor


Geometry  Cylinder ; Since collision extents can't tilt, this is a little fake
GeometryMajorRadius  8.0
GeometryHeight  4.0
GeometryIsSmall  Yes
Scale  0.9

Shadow  SHADOW_DECAL
End

;------------------------------------------------------------------------------
Object ChinookGrenadeProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  BONE01 MachineGunGrenadeTrail
ParticleSysBone  BONE01 GattlingCannonLenzflare
ParticleSysBone  BONE01 FallingGrenadeShells
ParticleSysBone  BONE01 SentryDroneMuzzleFlash
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  0  ; Height of Bezier control points above highest intervening terrain
SecondHeight  0
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  40%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object ChinookGrenadeProjectileHeroic

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ConditionState  NONE
Model  AVTankShel
ParticleSysBone  BONE01 MachineGunGrenadeTrail
ParticleSysBone  BONE01 HeroicGattlingCannonLenzflare
ParticleSysBone  BONE01 FallingGrenadeShells
ParticleSysBone  BONE01 SentryDroneMuzzleFlash
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
ParticleSysBone  BONE01 InfantryStruckSmallArmsSmoke
End
End

; ***DESIGN parameters ***
DisplayName        OBJECT:TankShell
EditorSorting      SYSTEM
ArmorSet
Armor  ProjectileArmor
End
VisionRange  0.0

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  DestroyDie ModuleTag_03
;nothing
End

Behavior  DumbProjectileBehavior ModuleTag_04
DetonateCallsKill  Yes
FirstHeight  0  ; Height of Bezier control points above highest intervening terrain
SecondHeight  0
FirstPercentIndent  30% ; Percentage of shot distance control points are placed
SecondPercentIndent  40%
FlightPathAdjustDistPerSecond    100 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag.
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  0.01   ; we can't have a zero mass, but we want it pretty tiny...
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  1.0
Scale  0.9

End

;------------------------------------------------------------------------------
Object DroneHiveTargetingLaserBeam
; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01

Texture  EXHiveLaser.tga
NumBeams  1                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

InnerBeamWidth  9                       ;The total width of beam
InnerColor  R:100 G:100 B:100 A:120         ;The inside color of the laser (hot)

Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -20                          ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)

End

KindOf  IMMOBILE INERT
ClientUpdate  LaserUpdate ModuleTag_02
MuzzleParticleSystem  DroneHiveTargetingLaserFlare
TargetParticleSystem  DroneHiveTargetingLaserImpactFlare
End

;Used as a weapon, this is essentially a fast pulse laser. Adjusting
;the lifetime values will determine how long it renders. The damage
;is applied immediately, so lifetime doesn't matter.
Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  250   ; min lifetime in msec
MaxLifetime  250   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End

End

;------------------------------------------------------------------------------
Object CyclopsAntiMissilePointDefenceLaser

; *** ART Parameters ***
Draw  W3DLaserDraw ModuleTag_01
Texture  exlaser_sw1.tga
NumBeams  2                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
InnerBeamWidth  0.005                    ;The total width of beam
InnerColor  R:255 G:255 B:255 A:100      ;The inside color of the laser (hot)
OuterBeamWidth  3                        ;The total width of beam
OuterColor  R:255 G:255 B:255 A:10       ;The outside color of the laser (cool)
Tile  Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
ScrollRate  -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
Segments  1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
SegmentOverlapRatio  0                   ;This value overlaps(+) or separates(-) the segments by ratio
TilingScalar  -3                         ;Stretches tiling if value   1.0, otherwise shrinks it (1.0 is natural)
End


KindOf  IMMOBILE

ClientUpdate  LaserUpdate ModuleTag_07
MuzzleParticleSystem  PaladinPointDefenseLaserFlare
TargetParticleSystem  TacticalMissileDefenceRedLaserFlare
PunchThroughScalar  1.3 ; If our target dies, we get this much bigger so it looks like we punched through
End

Behavior  DestroyDie ModuleTag_03
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  66   ; min lifetime in msec
MaxLifetime  66   ; max lifetime in msec
End

Behavior  DestroyDie ModuleTag_RemoveMe01
End


Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  2.0
End

Object AmericaTankAvengerLaserTurret

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
ExtraPublicBone  TurretFX01
ExtraPublicBone  TurretFX02
ExtraPublicBone  TURRET01
ExtraPublicBone  TURRETEL
ExtraPublicBone  TURRETEL01

AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                AVAvnger_G
Animation            AVAvnger_G.AVAvnger_G
AnimationMode        LOOP
Turret               TURRET02
TurretPitch          TURRETEL01
End

ConditionState  REALLYDAMAGED
Model                AVAvnger_GD
Turret               TURRET02
TurretPitch          TURRETEL01
End
End

PlacementViewAngle  -45

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY AvengerAirLaserOne
Weapon  SECONDARY AvengerAirLaserTwo
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       180   // turn rate, in degrees per sec
TurretPitchRate      180
AllowsPitch          Yes
NaturalTurretPitch   35
MinIdleScanAngle       10
MaxIdleScanAngle       70
MinIdleScanInterval    5000
MaxIdleScanInterval    10000
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  1 ; default is 2000
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AvengerPointDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_PDLDecal
ShadowSizeX  196
ShadowSizeY  196

End


Object AmericaVehicleBradleyLaserTurret ; Seperate turret object so it can attack independantly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor     Yes
AttachToBoneInContainer  FIREPOINT01
ExtraPublicBone  LASER

DefaultConditionState
Model                AVBrad_L
Turret               TURRET
TurretPitch          TURRETEL
WeaponFireFXBone     SECONDARY TurretFX
WeaponFireFXBone     TERTIARY TurretFX
End

ConditionState  REALLYDAMAGED
Model                AVBrad_LD
Turret               TURRET
TurretPitch          TURRETEL
WeaponFireFXBone     SECONDARY TurretFX
WeaponFireFXBone     TERTIARY TurretFX
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  SECONDARY PaladinPointDefenseLaserTurretWeapon_Projectile
Weapon  TERTIARY  PaladinPointDefenseLaserTurretWeapon_Infantry
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate       1080   // turn rate, in degrees per sec
TurretPitchRate      1080
AllowsPitch          Yes
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  CommandButtonHuntUpdate  ModuleTag_Huntin01 ; allows use of command button hunt script with this unit.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehicleTomahawkUnmanned

; *** ART Parameters ***
SelectPortrait          SACTomahawk_L
ButtonImage             SACTomahawk


Draw  W3DTankDraw ModuleTag_01

OkToChangeModelColor  Yes
ProjectileBoneFeedbackEnabledSlots  PRIMARY SECONDARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset

DefaultConditionState
Model  AVTmhwk
Turret  TURRET
TurretPitch  TURRETEL
HideSubObject  LASER01
WeaponLaunchBone  PRIMARY WeaponA
WeaponLaunchBone  SECONDARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  AVTmhwk_D
End
AliasConditionState  RUBBLE

TrackMarks               EXTnkTrack.tga
TreadAnimationRate       2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction  0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction  0.6  ; fraction of locomotor speed below which we allow pivoting.
End


; ***DESIGN parameters ***
DisplayName             OBJECT:Tomahawk
Side                    America
EditorSorting           SYSTEM
TransportSlotCount      3


WeaponSet
Conditions            NONE
Weapon                PRIMARY   SuicideUnresistableWeapon
End

ArmorSet
Conditions            None
Armor                 TruckArmor
DamageFX              UnmannedTankDamageFX
End

VisionRange             200
ShroudClearingRange  200


IsTrainable             No
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE

Body                    ActiveBody ModuleTag_02
MaxHealth        180.0
InitialHealth    180.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  360
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor             SET_NORMAL   FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_101112
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
DestructionDelay   500
DestructionDelayVariance   100
FX   INITIAL  FX_GenericTankDeathEffect
OCL  MIDPOINT OCL_AmericaVehicleTomahawkDie
FX   FINAL FX_AmericaVehicleTomahawkDeathExplosion
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +SUICIDED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateObjectDie ModuleTag_15
DeathTypes  NONE +CRUSHED +SPLATTED
CreationList  OCL_CrusaderTank_CrushEffect
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior        OCLUpdate ModuleTag_Respawn01
MinDelay      100
MaxDelay      100
CreateAtEdge  Yes ; as opposed to just creating on self

FactionTriggered  Yes ; This requires a controlling player before it works

FactionOCL    Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  CreateObjectDie ModuleTag_Respawn02
DeathTypes  NONE +SUICIDED
CreationList  OCL_TomahawkNerveGasKillRespawn
TransferPreviousHealth  Yes
End

Geometry  BOX
GeometryMajorRadius  15.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaTankPaladinLaserTurret ; Seperate turret object so it can attack independantly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor     Yes
ExtraPublicBone          Laser
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model                AVPldn_L
Turret               FIREPOINT01
TurretPitch          LASEREL
WeaponFireFXBone     SECONDARY LASER
WeaponFireFXBone     TERTIARY  LASER
End

ConditionState  REALLYDAMAGED
Model                AVPldn_LD
Turret               FIREPOINT01
TurretPitch          LASEREL
WeaponFireFXBone     SECONDARY LASER
WeaponFireFXBone     TERTIARY  LASER
End
End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  SECONDARY PaladinPointDefenseLaserTurretWeapon_Projectile
;Weapon  TERTIARY  PaladinPointDefenseLaserTurretWeapon_Infantry
;ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  SECONDARY TERTIARY
TurretTurnRate       1080   // turn rate, in degrees per sec
TurretPitchRate      1080
AllowsPitch          Yes
NaturalTurretPitch   18
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate  33
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Geometry             BOX
GeometryMajorRadius  6.0
GeometryMinorRadius  6.0
GeometryHeight       10.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object PaladinPointDefenceDecal

Draw                     W3DModelDraw ModuleTag_01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  33
MaxLifetime  33
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
ShadowTexture  SCC_PDLDecal
ShadowSizeX  196
ShadowSizeY  196

End

;------------------------------------------------------------------------------
Object AmericanDrillInstructorCrate

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButStatus
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  UnitCrateCollide ModuleTag_03
PickupScience  SCIENCE_VeteranInfantry
RequiredKindOf  IMMOBILE
UnitCount  1
BuildingPickup  No
UnitName  AmericaInfantryDrillSargeant
ForbidOwnerPlayer  No
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object AmericanDrillInstructorCratePickupObject

; ***DESIGN parameters ***
Side  America
EditorSorting    SYSTEM
TransportSlotCount  0

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButStatus
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IMMOBILE UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_09
End

Behavior  PhysicsBehavior ModuleTag_10
Mass  50.0
End

Behavior  DestroyDie ModuleTag_14
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry             SPHERE
GeometryMajorRadius  5.0

End

;------------------------------------------------------------------------------
Object AmericaInfantryDrillSargeant
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor   Yes

DefaultConditionState
Model          AISrgnt_SKN
IdleAnimation  AIOFCR_SKL.AIOFCR_STA 0 2
IdleAnimation  AIOFCR_SKL.AIOFCR_CHA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDA
IdleAnimation  AIOFCR_SKL.AIOFCR_IDB
AnimationMode  ONCE
Turret         AIOFCR_MAINRT
End

End

; ***DESIGN parameters ***
Side  America
DisplayName  OBJECT:DrillInstructor
EditorSorting  SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllArmorButStatus
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH IMMOBILE UNATTACKABLE SELECTABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         80
ControlledWeaponSlots  PRIMARY
NaturalTurretAngle     115.0
End
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

; --- begin Death modules ---
Behavior  DestroyDie ModuleTag_Death01
End
; --- end Death modules ---

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End

Object AmericaInfantryGreenBeretSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SADeltaGunner_L
ButtonImage             SADeltaGunner

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIGrnBrt_SKN
Animation          AIRngr_SKL.AIRngr_SUR
AnimationMode      ONCE
HideSubObject      SAW
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Model              AIGrnBrt_SKN
Animation          AIRngr_SKL.AIRngr_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedGreenBeretRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GreenBeretDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_GreenBeretTeslaDie
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_GreenBeretFireDie
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_GreenBeretToxinDie
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_GreenBeretDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  INITIAL OCL_AmericaExplodedDeathGreenBeret
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_GreenBeretToxinDie
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryyMissileDefenderSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIMslDfr_SKN
Animation          NITHNT_SKL.NITHNT_SUR
HideSubObject      LASER01
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          NITHNT_SKL.NITHNT_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NITHNT_SKL.NITHNT_DTA
Animation          NITHNT_SKL.NITHNT_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedMissileDefenderRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_MissileDefenderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_MissileDefenderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathMissileDefender
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryyPathfinderSurrenderCrate
Scale 0.90
; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIPFDR_SKN
Animation          AIPFDR_SKL.AIPFDR_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          AIPFDR_SKL.AIPFDR_SST
AnimationMode      LOOP_PINGPONG
Flags              START_FRAME_LAST
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIPFDR_SKL.AIPFDR_DTA
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        120.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedPathfinderRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PathfinderDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PathfinderDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPathfinder
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
; same pilot same stats just looks like one that would actualy drive a vehicle instead of flying a plane
ObjectReskin AmericaInfantryTankDriver AmericaInfantryPilot

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AITnkPlt_SKN
IdleAnimation  AIRPlt_SKL.AIRPlt_STA 0 20
IdleAnimation  AIRPlt_SKL.AIRPlt_IDA
IdleAnimation  AIRPlt_SKL.AIRPlt_IDB
AnimationMode  ONCE
HideSubObject  HEAD01
TransitionKey  TRANS_Stand
End

ConditionState  FREEFALL
Animation  AIRPlt_SKL.AIRPLT_PFL
AnimationMode  ONCE
TransitionKey  TRANS_Falling
End
AliasConditionState  FREEFALL DYING

ConditionState  PARACHUTING
Animation  AIRPlt_SKL.AIRPlt_PHG
AnimationMode  LOOP
TransitionKey  TRANS_Chute
WaitForStateToFinishIfPossible  TRANS_Falling
End
AliasConditionState  PARACHUTING DYING

ConditionState  MOVING
Animation  AIRPlt_SKL.AIRPlt_RNA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
ParticleSysBone      None InfantryDustTrails
End


; climbing
ConditionState       CLIMBING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMID
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End
AliasConditionState  RAPPELLING

ConditionState       CLIMBING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP
TransitionKey      TRANS_Climbing
End

ConditionState       RAPPELLING MOVING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_CLMUP
AnimationMode      LOOP_BACKWARDS
TransitionKey      TRANS_Climbing
End

; Brand new swimming animations
ConditionState       OVER_WATER
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWI
AnimationMode      LOOP
Flags              RANDOMSTART
TransitionKey      TRANS_Swimming_Idle
End

ConditionState         OVER_WATER MOVING
Model                AIRPlt_SKN_B
Animation            AIHERO_SKL.AIHERO_SWM
AnimationMode        LOOP
Flags                RANDOMSTART
TransitionKey        TRANS_Swimming
End

ConditionState       OVER_WATER DYING
Model              AIRPlt_SKN_B
Animation          AIHERO_SKL.AIHERO_SWD
AnimationMode      ONCE
Flags              START_FRAME_FIRST
TransitionKey      TRANS_Swimming_Dying
End

ConditionState  DYING
Animation  AIRPlt_SKL.AIRPlt_DTA
Animation  AIRPlt_SKL.AIRPlt_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  AIRPlt_SKL.AIRPlt_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  AIRPlt_SKL.AIRPlt_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  AIRPlt_SKL.AIRPlt_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

ConditionState  SPECIAL_CHEERING
Animation  AIRPLT_SKL.AIRPLT_CHA
AnimationMode  LOOP
End

TransitionState  TRANS_Chute TRANS_Stand
Animation  AIRPlt_SKL.AIRPlt_PTD
AnimationMode  ONCE
End

End

End



;------------------------------------------------------------------------------
Object AmericaInfantryPilotSurrenderCrate

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIRPlt_SKN
IdleAnimation      AIRPlt_SKL.AIRPlt_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          AIRPlt_SKL.AIRPlt_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRPlt_SKL.AIRPlt_DTA
Animation          AIRPlt_SKL.AIRPlt_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedPilotRevive
TransferPreviousHealth  Yes
End
Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_PilotDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_PilotDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathPilot
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryPrisoner
Scale 0.90
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  CIPOW_SKN
IdleAnimation  CIPOW_SKL.CIPOW_STA 0 5
IdleAnimation  CIPOW_SKL.CIPOW_IDA
IdleAnimation  CIPOW_SKL.CIPOW_IDB
AnimationMode  ONCE
End
End

Side  America
EditorSorting  INFANTRY
BuildVariations  AmericaInfantryPrisoner_Var01 AmericaInfantryPrisoner_Var02 AmericaInfantryPrisoner_Var03 AmericaInfantryPrisoner_Var04 AmericaInfantryPrisoner_Var05

End

;------------------------------------------------------------------------------
Object AmericaInfantryPrisoner_Var01
Scale 0.90
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW_SKN
IdleAnimation  CIPOW_SKL.CIPOW_STA 0 5
IdleAnimation  CIPOW_SKL.CIPOW_IDA
IdleAnimation  CIPOW_SKL.CIPOW_IDB
AnimationMode  ONCE
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  CIPOW_SKL.CIPOW_WKA
AnimationMode  LOOP
TransitionKey  TRANS_Stand
ParticleSysBone      None InfantryDustTrails
End
AliasConditionState  MOVING REALLYDAMAGED

ConditionState  DYING
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_DTA
Animation  UIHJCK_SKL.UIHJCK_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Model  CIPOW2_SKN
Animation  UIHJCK_SKL.UIHJCK_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:POW
Side  America
EditorSorting  SYSTEM

ArmorSet
Conditions  None
Armor  InvulnerableAllButStatusArmor
DamageFX  None
End

; *** AUDIO Parameters ***
SoundStealthOn  NoSound
SoundStealthOff  NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_HEAL_ICON UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL BasicHumanLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
End

Behavior  SlavedUpdate ModuleTag_06
End

Behavior  AutoHealBehavior ModuleTag_SelfHeal01
HealingAmount      50.0  ;in health points
HealingDelay       100  ; msec
StartsActive       Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  NONE +SUICIDED
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry  CYLINDER
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  12.0
GeometryIsSmall  Yes

End


;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var02 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW2_SKN
IdleAnimation  UIHJCK_SKL.UIHJCK_STA 0 5
IdleAnimation  UIHJCK_SKL.UIHJCK_IDA
IdleAnimation  UIHJCK_SKL.UIHJCK_IDB
AnimationMode  ONCE
End
AliasConditionState  REALLYDAMAGED

ConditionState  MOVING
Animation  UIHJCK_SKL.UIHJCK_RUN
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  None
ParticleSysBone    None InfantryDustTrails
End
AliasConditionState  MOVING REALLYDAMAGED

ConditionState  DYING
Animation  UIHJCK_SKL.UIHJCK_DTA
Animation  UIHJCK_SKL.UIHJCK_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  UIHJCK_SKL.UIHJCK_ADTE1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  UIHJCK_SKL.UIHJCK_ADTE2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  UIHJCK_SKL.UIHJCK_ADTE3
AnimationMode  ONCE
TransitionKey  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var03 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW3_SKN
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_STA 0 2
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_IDA
AnimationMode  ONCE
TransitionKey  TRANS_Sleep
End

TransitionState  TRANS_Sleep TRANS_Move
Animation  CIHMLSS01_SKL.CIHMLSS01_STUP
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  CIHMLSS01_SKL.CIHMLSS01_WKA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Move
End


ConditionState  DYING
Animation  CIHMLSS01_SKL.CIHMLSS01_DTA
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTG1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTG2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTG3
AnimationMode  ONCE
TransitionKey  None
End

End

End

;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var04 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW3_SKN
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_STB 0 4
IdleAnimation  CIHMLSS01_SKL.CIHMLSS01_IDB
AnimationMode  ONCE
TransitionKey  TRANS_Sleep
End

TransitionState  TRANS_Sleep TRANS_Move
Animation  CIHMLSS01_SKL.CIHMLSS01_STUP
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  CIHMLSS01_SKL.CIHMLSS01_WKA
AnimationMode  LOOP
Flags  RANDOMSTART
TransitionKey  TRANS_Move
End


ConditionState  DYING
Animation  CIHMLSS01_SKL.CIHMLSS01_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTF1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTF2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  CIHMLSS01_SKL.CIHMLSS01_ADTF3
AnimationMode  ONCE
TransitionKey  None
End

End

End
;------------------------------------------------------------------------------
ObjectReskin AmericaInfantryPrisoner_Var05 AmericaInfantryPrisoner_Var01

Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  CIPOW4_SKN
IdleAnimation  CIAMan01_SKL.CIAMan01_STA 0 30
IdleAnimation  CIAMan01_SKL.CIAMan01_IDA
IdleAnimation  CIAMan01_SKL.CIAMan01_IDB
AnimationMode  ONCE
End

ConditionState  MOVING
Animation  CIAMan01_SKL.CIAMan01_WKA 30
AnimationMode  LOOP
Flags  RANDOMSTART
End

ConditionState  DYING
Animation  CIAMan01_SKL.CIAMan01_DTA
Animation  CIAMan01_SKL.CIAMan01_DTB
AnimationMode  ONCE
TransitionKey  TRANS_Dying
End

TransitionState  TRANS_Dying TRANS_Flailing
Animation  CIAMan01_SKL.CIAMan01_ADTD1
AnimationMode  ONCE
End

ConditionState  DYING EXPLODED_FLAILING
Animation  CIAMan01_SKL.CIAMan01_ADTD2
AnimationMode  LOOP
TransitionKey  TRANS_Flailing
End

ConditionState  DYING EXPLODED_BOUNCING
Animation  CIAMan01_SKL.CIAMan01_ADTD3
AnimationMode  ONCE
TransitionKey  None
End

End

End


;------------------------------------------------------------------------------
Object AmericaInfantryRangerSurrenderCrate

; *** ART Parameters ***
SelectPortrait          SARanger_L
ButtonImage             SARanger

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIRngr_SKN
Animation          AIRngr_SKL.AIRngr_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Model              AIRngr_SKN
Animation          AIRngr_SKL.AIRngr_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          AIRngr_SKL.AIRngr_DTA
Animation          AIRngr_SKL.AIRngr_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr
Animation          EXSurndr.EXSurndr
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedRangerRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_RangerDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_RangerDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathRanger
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_DieByToxinUSA
End
Behavior  SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
DeathTypes           NONE +LASERED
DestructionDelay     0
FX                   INITIAL FX_GIDieCryoFreeze
OCL                  INITIAL OCL_CrygenicDeathInfantry
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

;------------------------------------------------------------------------------
Object AmericaInfantryyVanguardSurrenderCrate
Scale 0.90
; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

; --- Idle
DefaultConditionState
Model              AIVngrd_SKN
IdleAnimation      NICNSC_SKL.NICNSC_SUR
AnimationMode      ONCE
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
Animation          NICNSC_SKL.NICNSC_SST
AnimationMode      LOOP
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End

; --- dying anims
ConditionState       RUBBLE
Animation          NICNSC_SKL.NICNSC_DTA
Animation          NICNSC_SKL.NICNSC_DTB
AnimationMode      ONCE
TransitionKey      None
AnimationSpeedFactorRange  1.5 2.0
End

End

Draw  W3DModelDraw ModuleTag_SurrenderFlag01
DefaultConditionState
Model              EXSurndr_B
Animation          EXSurndr_B.EXSurndr_B
AnimationMode      ONCE
HideSubObject      FLAG
TransitionKey      TRANS_SURRENDERING
End
ConditionState     LOADED
ShowSubObject      FLAG
WaitForStateToFinishIfPossible  TRANS_SURRENDERING
End
ConditionState       RUBBLE
Animation          NONE
End
End

; ***DESIGN parameters ***
Side             America
EditorSorting    SYSTEM

WeaponSet
Conditions           None
Weapon               SECONDARY SuicideUnresistableWeapon
End

ArmorSet
Conditions       None
Armor            POWArmor
DamageFX         InfantryDamageFX
End

ExperienceValue      0 0 0 0
ExperienceRequired   0 0 0 0
IsTrainable      Yes
CrushableLevel   0  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
KindOf  INFANTRY UNATTACKABLE CAN_ATTACK

Body  ActiveBody ModuleTag_03
MaxHealth        180.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  OCLUpdate ModuleTag_ReviveTrigger01
MinDelay      30000
MaxDelay      33000
OCL           OCL_CreateRealFortress
End

Behavior  UnitCrateCollide ModuleTag_02
UnitCount  1
UnitName  AmericanCIAInteligenceObject
RequiredKindOf  CAN_RAPPEL  ;Rangers only
HumanOnly  No
BuildingPickup  No
PickupScience  SCIENCE_CapturePrisoners ;Requires the rangers to have this upgrade
ForbidOwnerPlayer  Yes
ExecuteFX  FX_PrisonerCratePickup
ExecuteAnimation  PrisonerCaptured
ExecuteAnimationTime    4.0    ; In seconds
ExecuteAnimationZRise   15.0   ; Z world units per second to rise
ExecuteAnimationFades   Yes    ; Animation does/doesn't fade out
End

Behavior  TransportContain ModuleTag_Loaded01
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
AllowInsideKindOf      NO_COLLIDE
End

Behavior  SquishCollide ModuleTag_Crush01
End

; --- begin Death modules ---
Behavior  SlowDeathBehavior ModuleTag_Revive01
DeathTypes           NONE +SUICIDED
DestructionDelay     0
End
Behavior  CreateObjectDie ModuleTag_Revive02
DeathTypes  NONE +SUICIDED
CreationList  OCL_SurrenderedVanguardRevive
TransferPreviousHealth  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -SUICIDED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_VanguardDie
End
Behavior  SlowDeathBehavior ModuleTag_Death02
DeathTypes           NONE +CRUSHED +SPLATTED
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
FX                   INITIAL FX_GIDieCrushed
End
Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           NONE +EXPLODED
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_Death04
DeathTypes           NONE +BURNED
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_FlamingInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death05
DeathTypes           NONE +POISONED
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
DeathTypes           NONE +POISONED_BETA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieToxin
OCL                  INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior  SlowDeathBehavior ModuleTag_Death07
DeathTypes           NONE +POISONED_GAMMA
DestructionDelay     0
FX                   INITIAL FX_VanguardDieTesla
OCL                  INITIAL OCL_TeslaDeathInfantry
FX                   FINAL   FX_IfantryTeslaDie
End
Behavior  SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
DeathTypes           NONE +EXTRA_2
DestructionDelay     0
FX                   INITIAL FX_DieByFireUSA
OCL                  INITIAL OCL_MicrowavedInfantry
End
Behavior  SlowDeathBehavior ModuleTag_Death09
DeathTypes           NONE +EXTRA_3
DestructionDelay     0
FX                   INITIAL FX_DieByToxinUSA
OCL                  INITIAL OCL_ViralInfantryDeath
End
Behavior  SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
DeathTypes           NONE +EXTRA_4
SinkDelay            3000
SinkRate             0.5     ; in Dist/Sec
DestructionDelay     8000
OCL                  INITIAL OCL_BrutalBloodyDeathBits
FX                   INITIAL FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_036 ;Gore death explosion
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  30
DestructionDelay     0
OCL                  INITIAL OCL_BloodyGoreExplosion
FX                   FINAL   FX_InfantryGoreExplosion
End
Behavior  SlowDeathBehavior ModuleTag_Death0323
DeathTypes           NONE +EXTRA_5
ProbabilityModifier  70
DestructionDelay     0
FX                   INITIAL FX_VanguardDie
OCL                  INITIAL OCL_BrutalBloodyDeathBits
OCL                  FINAL OCL_AmericaExplodedDeathVanguard
End
Behavior  SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_6
DestructionDelay     0
OCL                  INITIAL OCL_RadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
Behavior  SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
DeathTypes           NONE +EXTRA_7
DestructionDelay     0
OCL                  INITIAL OCL_NeutronRadiationDeathInfantry
FX                   INITIAL FX_GIDieRadiation
FX                   FINAL   FX_VanguardDieToxin
End
; --- end Death modules ---

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  7.0
GeometryIsSmall  Yes
Shadow  SHADOW_DECAL
ShadowSizeX  18;
ShadowSizeY  18;
ShadowTexture  EXPowDcl;

End

Object AmericanVanguardAttackDrone

; *** ART Parameters ***
SelectPortrait          SAVangrdAttackDrone_L
ButtonImage             SAVangrdAttackDrone

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVVngrdDrn1_B
Animation  AVVngrdDrn1_B.AVVngrdDrn1_B
End
AliasConditionState  REALLYDAMAGED

ConditionState  RUBBLE
Model  AVVngrdDrn1_D
Animation  AVVngrdDrn1_D.AVVngrdDrn1_D
AnimationMode  LOOP
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100

ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         VanguardAttackDroneAmbientLoop

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  190        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  40   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      AmericanVanguardAttackDroneTurret
End

Behavior  LifetimeUpdate ModuleTag_SelfDestruct05
MinLifetime  18000
MaxLifetime  18000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericanVanguardAttackDroneTurret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw  W3DDependencyModelDraw ModuleTag_01

OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01
ProjectileBoneFeedbackEnabledSlots  PRIMARY

ConditionState  NONE
Model  AVVngrdDrn1
Animation  AVVngrdDrn1.AVVngrdDrn1
AnimationMode  LOOP
Turret  Turret
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  PRIMARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  AVVngrdDrn1_D
Animation  AVVngrdDrn1_D.AVVngrdDrn1_D
AnimationMode  LOOP
WeaponLaunchBone  PRIMARY WeaponA
WeaponFireFXBone  PRIMARY WeaponA
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon             PRIMARY   VanguardAttackDroneRocketWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         180    ; turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         10
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      1000
MaxDelay      1000
OCL           OCL_KillSelf
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

Object AmericaVehicleBattleDrone

; *** ART Parameters ***
SelectPortrait          SABattleDrone_L
ButtonImage             SABattleDrone

;MAIN CHASSIS
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBATTLEDR
Animation  AVBATTLEDR.AVBATTLEDR
AnimationMode  LOOP
HideSubObject  TURRETEL01
End

ConditionState  REALLYDAMAGED
Model  AVBATTLEDR_D
Animation  AVBATTLEDR_D.AVBATTLEDR_D
AnimationMode  LOOP
HideSubObject  TURRETEL01
End

End

Draw  W3DOverlordAircraftDraw ModuleTag_Turret01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVBATTLEDR_B
HideSubObject  TurretEL01
End

End

;EXTENDING ARM (FOR REPAIRING)
Draw  W3DModelDraw ModuleTag_02
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVBATTLEDR_A
End

;Unloading the arm (before starting to repair)
ConditionState  UNPACKING
Animation  AVBATTLEDR_A1.AVBATTLEDR_A1
AnimationMode  ONCE
End

;Loading the arm (after reparing complete)
ConditionState  PACKING
Animation  AVBATTLEDR_A1.AVBATTLEDR_A1
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End

;Repair extending animation 1 (using bogus condition states -- doesn't justify making a whole new set)
ConditionState  FIRING_B
Animation  AVBATTLEDR_A2.AVBATTLEDR_A2
AnimationMode  ONCE
End


;Repair retracting animation 1 (using bogus condition states -- doesn't justify making a whole new set)
ConditionState  FIRING_C
Animation  AVBATTLEDR_A2.AVBATTLEDR_A2
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_LAST
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:BattleDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          150
ShroudClearingRange  150
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      10 10 10 10 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED
Body  HighlanderBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
End

Locomotor  SET_NORMAL BattleDroneLocomotor
Locomotor  SET_PANIC BattleDronePanicLocomotor   ;used for repairing master (zippy)

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  MaxHealthUpgrade ModuleTag_06
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
RepairRange  8         ;How far I can zip around while repair (only moves when he stops welding)
RepairMinAltitude  18.0   ;My minimum repair hover altitude.
RepairMaxAltitude  24.0   ;My maximum repair hover altitude.
RepairRatePerSecond  10.0 ;How many health points can I repair per second.
RepairWhenBelowHealth%  90 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
RepairWeldingSys  BlueSparks
RepairWeldingFXBone  Muzzle02
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End
Behavior                  CreateObjectDie  ModuleTag_09
DeathTypes  ALL
CreationList       OCL_AmericaBattleDroneExplode
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior                  FXListDie ModuleTag_11
DeathTypes  ALL
DeathFX            FX_AmericaBattleDroneExplode
End

Behavior  UpgradeDie  ModuleTag_12
;This frees the object based upgrade for the producer object.
DeathTypes  ALL
UpgradeToRemove      Upgrade_AmericaBattleDrone ModuleTag_13
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      AmericaVehicleBattleDrone_Turret
ExperienceSinkForRider   No
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehicleBattleDrone_Turret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  AVBATTLEDR_B
Turret  Turret01
TurretPitch  TurretEL01
WeaponMuzzleFlash  PRIMARY TurretFX01
WeaponFireFXBone  PRIMARY Muzzle01
End

ConditionState  REALLYDAMAGED
Model  AVBATTLEDR_BD
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY BattleDroneMachineGun
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         360   // turn rate, in degrees per sec
TurretPitchRate        360
MinPhysicalPitch       -90 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
AllowsPitch            Yes
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         50
End

Behavior              DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object DroneLifterCallinFlare

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  NVMBuggy_m
ParticleSysBone  NONE BurtonFlareGrenadeSmoke
End
End

Draw  W3DModelDraw ModuleTag_CountDown01
ConditionState  NONE
Model  BmbCntr3
Animation  BmbCntr3.BmbCntr3
AnimationMode  ONCE
End
End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
BuildCost            1000
BuildTime            0.0 ;Zero it gets called in instantly!

Prerequisites
Object             AmericaSupplyCenter
Science            SCIENCE_StrategicAirlift
End

MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  DroneLifter

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         EmptyDamageFX
End

VisionRange  50.0
ShroudClearingRange  50.0

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        20.0
InitialHealth    20.0
End

Behavior  LifetimeUpdate ModuleTag_remove03
MinLifetime        1
MaxLifetime        1
End

Behavior  SlowDeathBehavior ModuleTag_Death03
DeathTypes           ALL
DestructionDelay     3000
OCL                  INITIAL OCL_DroneLifterCallinVoice
OCL                  FINAL   OCL_DroneLifterSpawnIn
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes

End

;------------------------------------------------------------------------------
Object DroneLifterCallinVoiceTrigger

; ***DESIGN parameters ***

EditorSorting    SYSTEM
VisionRange  10.0
ShroudClearingRange  10.0

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

; *** AUDIO Parameters ***
SoundEnter  DroneAirlifterVoiceCreate

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
End

Behavior  OCLUpdate ModuleTag_SoundTrigger02
MinDelay      3000
MaxDelay      3000
OCL           OCL_EuropeTearGasStrikeSoundTrigger
End

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior  AIUpdateInterface ModuleTag_03232
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  7000
MaxLifetime  7000
End

End

;------------------------------------------------------------------------------
Object DroneLifterBuildLimiter

; ***DESIGN parameters ***

EditorSorting    SYSTEM

MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  DroneLifter

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  NO_COLLIDE UNATTACKABLE IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        999999.0
InitialHealth    999999.0
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  10000
MaxLifetime  10000
End

Behavior  DestroyDie ModuleTag_Dismiss05
End

End

Object AmericaVehicleDroneLifterDismissed

; *** ART Parameters ***

Draw  W3DModelDraw                         ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVDrnLftr
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_HOVERING
End

TransitionState  TRANS_HOVERING TRANS_MOVING
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_MOVING
End

TransitionState  TRANS_MOVING TRANS_HOVERING
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

TransitionState  TRANS_DAMAGED_HOVERING TRANS_DAMAGED_MOVING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HTF
AnimationMode  ONCE
End

ConditionState  MOVING REALLYDAMAGED
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
TransitionKey  TRANS_DAMAGED_MOVING
End

TransitionState  TRANS_DAMAGED_MOVING TRANS_DAMAGED_HOVERING
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_FTH
AnimationMode  ONCE
End

ConditionState  RUBBLE
Model  AVDrnLftr_D
Animation  AVDrnLftr_SKL.AVDrnLftr_HVR
AnimationMode  LOOP
TransitionKey  TRANS_DAMAGED_HOVERING
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVDrnLftr_D
HideSubObject  Props01
HideSubObject  Props02
TransitionKey  TRANS_DAMAGED_HOVERING
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:DroneLifter
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ArmorSet
Conditions       PLAYER_UPGRADE
Armor            CountermeasuresChinookArmor
DamageFX         None
End

ExperienceValue      50 50 50 50 ;Experience point value at each level

; *** ENGINEERING Parameters ***
KindOf           PRELOAD CAN_CAST_REFLECTIONS SELECTABLE NO_SELECT VEHICLE AIRCRAFT CAN_ATTACK SCORE

Body  ActiveBody ModuleTag_03
MaxHealth        300.0
InitialHealth    300.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

; *** AUDIO Parameters ***
SoundAmbient  DroneLifterAmbientLoop
SoundEnter  DroneAirlifterVoiceDismiss

Behavior  HelixContain ModuleTag_SoundTrigger01
Slots                 1
DamagePercentToUnits  100%
AllowInsideKindOf     CAN_ATTACK
ExitDelay             50
ShouldDrawPips        No
End

Behavior  ObjectCreationUpgrade ModuleTag_SoundTrigger02
UpgradeObject  OCL_EuropeTearGasStrikeSoundTrigger
TriggeredBy    Upgrade_CostReduction
End

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL DismissedHelicopterTakingOffLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior  FXListDie ModuleTag_056
DeathTypes  ALL
DeathFX  FX_DroneLifterStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          30.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   1.0             ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      30.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                DroneLifterRubbleHull
End

;Delete me before a new OCL can be triggered
Behavior  DeletionUpdate ModuleTag_0451
MinLifetime  8900   ; min lifetime in msec
MaxLifetime  8900   ; max lifetime in msec
End

;This OCL Makes the helicopter unattackable
Behavior  FireWeaponUpdate ModuleTag_06524251
Weapon  NeverTargetableAgainWeapon
InitialDelay  2500
End

;This OCL refunds half the cash of this unit
Behavior  OCLUpdate ModuleTag_RefundMoney01
MinDelay      4500
MaxDelay      4500
OCL           OCL_DroneLifterDismissMoneyRefund
End

Behavior  StatusBitsUpgrade ModuleTag_NoSelect01
TriggeredBy     Upgrade_CostReduction
StatusToSet     UNSELECTABLE
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object DroneLifterDissmisRefundObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE

Behavior  AutoDepositUpdate ModuleTag_04
DepositTiming  150
DepositAmount  1000
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  150
MaxLifetime  150
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AmericaVehicleFirebaseDrone

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVFrbsDrn
Animation  AVFrbsDrn.AVFrbsDrn
AnimationMode  LOOP
Turret  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVFrbsDrn_d
Animation  AVFrbsDrn_d.AVFrbsDrn_d
AnimationMode  LOOP
Turret  TURRET
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ScoutDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         SmallTankDamageFX
End
BuildCost        100
BuildTime        5.0          ;in seconds
VisionRange      0
ShroudClearingRange  0
IsTrainable      No  ;Can gain experience

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound
SoundMoveStart  NoSound

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED

Body  HighlanderBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         180    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -90    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -25
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
End
Locomotor  SET_NORMAL DroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_06
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  350        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  MaxHealthUpgrade ModuleTag_07
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   25.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_09
DeathTypes  ALL
CreationList       OCL_AmericaScoutDroneExplode
End
Behavior                  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX            FX_AmericaScoutDroneExplode
End

Behavior                  TransitionDamageFX ModuleTag_11
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehiclePointDefenceDrone

; *** ART Parameters ***
SelectPortrait          SAPointDefenceDrone_L
ButtonImage             SAPointDefenceDrone

UpgradeCameo1  Upgrade_AmericaDroneArmor

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVPDLDrn
Animation  AVPDLDrn.AVPDLDrn
AnimationMode  LOOP
Turret  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVPDLDrn_D
Animation  AVPDLDrn_D.AVPDLDrn_D
AnimationMode  LOOP
Turret  TURRET
End

ConditionState  RUBBLE
Model  AVPDLDrn_D
Animation  AVPDLDrn_D.AVPDLDrn_D
AnimationMode  ONCE_BACKWARDS
Flags  START_FRAME_FIRST
Turret  TURRET
End

End


; ***DESIGN parameters ***
DisplayName          OBJECT:PointDefenceDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              TankArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          150
ShroudClearingRange  150
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      10 10 10 10 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
SoundEnter  BattleDroneVoiceCreate

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED

Body  ActiveBody ModuleTag_03
MaxHealth        9999.0
InitialHealth    9999.0
End

Behavior  AIUpdateInterface ModuleTag_04
Turret
TurretTurnRate         180
RecenterTime           1000
ControlledWeaponSlots  PRIMARY
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0       ; in degrees off the natural turret angle
MaxIdleScanAngle       360     ; in degrees off the natural turret angle
End
End
Locomotor  SET_NORMAL BattleDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  MaxHealthUpgrade ModuleTag_06
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   50.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
RepairRange  15         ;How far I can zip around while repair (only moves when he stops welding)
RepairMinAltitude  24.0   ;My minimum repair hover altitude.
RepairMaxAltitude  35.0   ;My maximum repair hover altitude.
RepairRatePerSecond  0.01 ;How many health points can I repair per second.
RepairWhenBelowHealth%  95 ;How low should my master's health be (in %) before I should prioritize repairing.
RepairMinReadyTime  300
RepairMaxReadyTime  750
RepairMinWeldTime  250
RepairMaxWeldTime  500
StayOnSameLayerAsMaster  Yes
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  LifetimeUpdate ModuleTag_SelfDestruct05
MinLifetime  20000
MaxLifetime  20000
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  OverlordContain ModuleTag_OverlordContain
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
PayloadTemplateName      AmericaPointDefenceDroneLaserObject
ExperienceSinkForRider   No
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaPointDefenceDroneLaserObject ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  AVPDLDrn
HideSubObject  Chassis
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY DronePointDefenseLaserOne
Weapon  SECONDARY DronePointDefenseLaserTwo
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         1440
ControlledWeaponSlots  PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior  DestroyDie ModuleTag_05
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object AmericanVanguardScoutDrone

; *** ART Parameters ***
SelectPortrait          SAVangrdScoutDrone_L
ButtonImage             SAVangrdScoutDrone

UpgradeCameo1  Upgrade_AmericaDroneArmor

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVVngrdDrn2
Animation  AVVngrdDrn2.AVVngrdDrn2
AnimationMode  LOOP
HideSubObject  WeaponA01 WeaponA02
ParticleSysBone  NONE VanguardScoutDronePingEffect
End

ConditionState  REALLYDAMAGED
Model  AVVngrdDrn2_D
Animation  AVVngrdDrn2_D.AVVngrdDrn2_D
AnimationMode  LOOP
HideSubObject  WeaponA01 WeaponA02
ParticleSysBone  NONE VanguardScoutDronePingEffect
End

ConditionState  RUBBLE
Model  AVVngrdDrn2_D
Animation  AVVngrdDrn2_D.AVVngrdDrn2_D
AnimationMode  ONCE
HideSubObject  WeaponA01 WeaponA02
End

End

Draw  W3DModelDraw ModuleTag_DecalAttachment01

ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model              EXDtectDcl_B
WaitForStateToFinishIfPossible  TRANS_SHOW_DETECTION_RANGE
End

ConditionState       ACTIVELY_CONSTRUCTING
Model              EXDtectDcl
Animation          EXDtectDcl.EXDtectDcl
AnimationMode      ONCE
TransitionKey      TRANS_SHOW_DETECTION_RANGE
End

End

; ***DESIGN parameters ***
DisplayName       OBJECT:SpyDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions       None
Weapon           PRIMARY   PredatorDroneFollowWeapon
End

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         SmallTankDamageFX
End

VisionRange          150
ShroudClearingRange  150

IsTrainable      No
ExperienceValue     0 0 0 0     ;Experience point value at each level

; *** AUDIO Parameters ***
VoiceSelect            SentryDroneVoiceSelect
VoiceMove              SentryDroneVoiceMove
VoiceGuard             SentryDroneVoiceMove
VoiceAttack            SentryDroneVoiceMove
SoundAmbient           VanguardAttackDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
VoiceCreate          SentryDroneVoiceCreate
TurretMoveStart      NoSound
TurretMoveLoop       NoSound
VoiceEnter           NoSound
Deploy               NoSound
Undeploy             NoSound
End


; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT VEHICLE UNATTACKABLE SELECTABLE

CommandSet       AmericaInfantryVanguardScoutDroneCommandSet

Body  ActiveBody ModuleTag_02
MaxHealth        50.0
InitialHealth    50.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY
TurretTurnRate       3600
End
AutoAcquireEnemiesWhenIdle  Yes Stealthed
MoodAttackCheckRate  1
End
Locomotor  SET_NORMAL VanguardScoutDrone


Behavior  PhysicsBehavior ModuleTag_06
Mass  50.0
End


Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_AmericaScoutDroneExplode
End

Behavior  MaxHealthUpgrade ModuleTag_10
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   12.5
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect01
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        MINE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect02
DetectionRate              100   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             130   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        DEMOTRAP
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect03
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        VEHICLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect04
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        OBSTACLE
ExtraForbiddenKindOf       UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect05
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        STRUCTURE
ExtraForbiddenKindOf       DEMOTRAP;UNATTACKABLE
End

Behavior  StealthDetectorUpdate ModuleTag_StealthDetect06
DetectionRate              500   ; how often to rescan for stealthed things in my sight (msec)
DetectionRange             250   ; Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned   No    ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained    No    ; Contained means being in a transport or tunnel network.
IRGridParticleSysName      IRDetectGrid
ExtraRequiredKindOf        FS_BASE_DEFENSE
ExtraForbiddenKindOf       UNATTACKABLE
End


Behavior  ProductionUpdate ModuleTag_DetectionRange01
MaxQueueEntries  1
End

Behavior  ObjectCreationUpgrade ModuleTag_DetectionRange02
UpgradeObject  OCL_GenericStealthDetectionRangeIndicatorTimer
TriggeredBy    Upgrade_GLAWorkerFakeCommandSet
End

Behavior  OverlordContain ModuleTag_ShowDetectionRange03
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PayloadTemplateName      AmericanVanguardScoutDroneDetectionRangeIndicatorDecalObject
End

;  Behavior  LifetimeUpdate ModuleTag_SelfDestruct05
;    MinLifetime  18000
;    MaxLifetime  18000
;  End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct03
Weapon  SuicideWeapon
InitialDelay  18000
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericanVanguardScoutDroneDetectionRangeIndicatorDecalObject

Draw  W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                ExJammerRadius
End
End

EditorSorting  SYSTEM
TransportSlotCount  1

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS CLICK_THROUGH NO_COLLIDE FS_FAKE PORTABLE_STRUCTURE

Body  ActiveBody ModuleTag_02
MaxHealth        10.0
InitialHealth    10.0
End

Behavior              DestroyDie ModuleTag_05
End

Geometry             BOX
GeometryMajorRadius  500.0
GeometryMinorRadius  500.0
GeometryHeight       20.0
GeometryIsSmall      Yes
Scale                10.0
ShadowTexture  SCCDetection
ShadowSizeX  520
ShadowSizeY  520

End

Object GuardianDroneDeployedStructureDummyCollision

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableArmorAll
DamageFX           DamageFX_Empty
End
; *** ENGINEERING Parameters ***
RadarPriority         STRUCTURE
KindOf                PRELOAD IMMOBILE CAN_SEE_THROUGH_STRUCTURE STICK_TO_TERRAIN_SLOPE UNATTACKABLE NO_COLLIDE

Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0
End

Behavior  DeletionUpdate ModuleTag_032512
MinLifetime  150
MaxLifetime  150
End

Behavior  DestroyDie ModuleTag_11
End

Geometry             BOX
GeometryMajorRadius  9.0
GeometryMinorRadius  7.0
GeometryHeight       11.5

End

Object AmericanHiveDrone

; *** ART Parameters ***
SelectPortrait          SAHiveCombatDrone_L
ButtonImage             SAHiveCombatDrone

Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVHiveDrn
Animation  AVHiveDrn.AVHiveDrn
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVHiveDrn_D
Animation  AVHiveDrn_D.AVHiveDrn_D
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  RUBBLE
Model  AVHiveDrn_D
AnimationMode  MANUAL
ShowSubObject  TURRET
HideSubObject  MUZZLEFX01
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           SmallTankDamageFX
End

BuildCost            200
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100

ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         VanguardAttackDroneAmbientLoop

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS DRONE AIRCRAFT UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  190        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  40   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      AmericanHiveDroneTurret
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideUnresistableWeapon
InitialDelay  25000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericanHiveDroneTurret ; Seperate turret so that i can shoot properly

; *** ART Parameters ***

Draw  W3DDependencyModelDraw ModuleTag_01

OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01
ProjectileBoneFeedbackEnabledSlots  PRIMARY

ConditionState  NONE
Model  AVHiveDrn
Animation  AVHiveDrn.AVHiveDrn
AnimationMode  ONCE
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  ATTACKING
Model  AVHiveDrn
Animation  AVHiveDrn.AVHiveDrn
AnimationMode  LOOP
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  REALLYDAMAGED
Model  AVHiveDrn_D
Animation  AVHiveDrn_D.AVHiveDrn_D
AnimationMode  ONCE
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

ConditionState  REALLYDAMAGED ATTACKING
Model  AVHiveDrn_D
Animation  AVHiveDrn_D.AVHiveDrn_D
AnimationMode  LOOP
HideSubObject  CHASSIS
Turret  Turret
TurretPitch  TurretEL
WeaponLaunchBone   PRIMARY Muzzle
WeaponFireFXBone   PRIMARY Muzzle
WeaponMuzzleFlash  PRIMARY MuzzleFX
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  None
Weapon  PRIMARY HiveDroneMinigunWeapon
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon PRIMARY HiveDroneMinigunUpgradedWeapon
Weapon SECONDARY HiveDronMissilePodWeapon
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaDroneWeapons
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -70    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -5
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate  10
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      1000
MaxDelay      1000
OCL           OCL_KillSelf
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  5.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object MineDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState       NONE
Model              AVDrnMn
Animation          AVDrnMn.AVDrnMn
AnimationMode      LOOP
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  300.0
ShroudClearingRange  50.0

WeaponSet
Conditions  None
Weapon  SECONDARY DroneMineLaunchWeapon
Weapon  TERTIARY  DroneMineLaunchSuicideWeapon
End

ArmorSet
Conditions       None
Armor            EuroMineArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD IGNORED_IN_GUI CAN_CAST_REFLECTIONS NO_COLLIDE CAN_ATTACK STICK_TO_TERRAIN_SLOPE IMMOBILE DEMOTRAP

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Behavior  AIUpdateInterface ModuleTag_03232
Turret
TurretTurnRate  900
ControlledWeaponSlots  SECONDARY
End
AltTurret
TurretTurnRate  900
ControlledWeaponSlots  TERTIARY
End
TurretsLinked               Yes
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  DestroyDie ModuleTag_0365
End

Behavior  StealthUpdate ModuleTag_03468
StealthDelay                 0
StealthForbiddenConditions   NONE
FriendlyOpacityMin           100.0%
FriendlyOpacityMax           100.0%
InnateStealth                Yes
OrderIdleEnemiesToAttackMeUponReveal   No
End

Behavior  FireWeaponUpdate ModuleTag_0632
Weapon  GenericHeavyMineStackPreventionWeapon
End

Behavior  MinefieldBehavior  ModuleTag_04223251
DetonationWeapon             GenericZeroDamageWeapon        ; what happens when we detonate
DetonatedBy                  NEUTRAL
ScootFromStartingPointTime   500
RepeatDetonateMoveThresh     5.0
NumVirtualMines              20
Regenerates                  No            ; Cluster mines do not regenerate.
End

; --- begin Death modules ---

Behavior  SlowDeathBehavior ModuleTag_Death01
DeathTypes           ALL -SUICIDED
DestructionDelay     1
Weapon               INITIAL DroneMineDetonationWeapon
End

Behavior  SlowDeathBehavior ModuleTag_Death03232
DeathTypes           NONE +SUICIDED
DestructionDelay     1
End

; --- end Death modules ---

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  396
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               45

End

ObjectReskin MineDroneRedeployed MineDrone

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState  NONE
Model              AVDrnMn_A1
Animation          AVDrnMn_A1.AVDrnMn_A1
AnimationMode      ONCE_BACKWARDS
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model              AVDrnMn
Animation          AVDrnMn.AVDrnMn
AnimationMode      LOOP
End

End

End

Object MineDroneProjectile

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor     Yes

ConditionState  NONE
Model              AVDrnMn_A1
Animation          AVDrnMn_A1.AVDrnMn_A1
AnimationMode      ONCE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model              AVDrnMn_A2
Animation          AVDrnMn_A2.AVDrnMn_A2
AnimationMode      LOOP
ParticleSysBone    None RocketBuggyDust
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  0.0
ArmorSet
Conditions       None
Armor            InvulnerableAllArmor
DamageFX         None
End

; *** AUDIO Parameters ***
SoundAmbient  DroneMineTrackingBeep

; *** ENGINEERING Parameters ***
KindOf  PROJECTILE NO_COLLIDE
Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  PhysicsBehavior ModuleTag_06
Mass  0.1
AerodynamicFriction    0.1
End

Behavior  MissileAIUpdate ModuleTag_07
TryToFollowTarget        Yes
DetonateOnNoFuel         No
FuelLifetime             5000 ;Limited Fuel so that we don't chase our target forever but reactive as mine
DistanceToTargetForLock  10
DetonateCallsKill        Yes
KillSelfDelay            1
End
Locomotor  SET_NORMAL DroneMineProjectileLocomotor

Behavior  InstantDeathBehavior DeathModuleTag_01
DeathTypes  ALL
ExemptStatus  KILLING_SELF
OCL  OCL_DroneMineReactivateAsMine
End

Behavior  InstantDeathBehavior DeathModuleTag_01424
DeathTypes  ALL
RequiredStatus  KILLING_SELF
Weapon  DroneMineDetonationWeapon
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  396
End

Geometry  Sphere
GeometryIsSmall  Yes
GeometryMajorRadius  0.1
Shadow  SHADOW_VOLUME
ShadowSizeX  45

End

;------------------------------------------------------------------------------
Object AmericaVehicleSupplyDroneDeliveredByChinookObject

; *** ART Parameters ***
SelectPortrait  SASupplyDrone_L
ButtonImage     SASupplyDrone

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

DefaultConditionState
Model  AVWrkHrs
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End
AliasConditionState  POWER_PLANT_UPGRADED

ConditionState  POWER_PLANT_UPGRADING
Model          AVWrkHrs_DRP
Animation      AVWrkHrs_DRP.AVWrkHrs_DRP
AnimationMode  ONCE
Flags          MAINTAIN_FRAME_ACROSS_STATES
End
End

; For testing purposes
;  Draw  W3DModelDraw ModuleTag_012
;    OkToChangeModelColor  Yes
;    ConditionState  NONE
;      Model          AVWrkHrs
;      HideSubObject  CARGO01
;    End
;    ConditionState  POWER_PLANT_UPGRADED
;      Model          NONE
;    End
;  End

; ***DESIGN parameters ***
DisplayName          OBJECT:SupplyDrone
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE HARVESTER UNATTACKABLE DRONE

Body  ActiveBody ModuleTag_02
MaxHealth      100.0
InitialHealth  100.0
End


Behavior  SupplyTruckAIUpdate ModuleTag_03
MaxBoxes  99
SupplyCenterActionDelay  99999999999999999999    ; Really high value so that we don't actualy collect any supplies just move over to the nearest supply source
SupplyWarehouseActionDelay  99999999999999999999 ; Really high value so that we don't actualy collect any supplies just move over to the nearest supply source
SupplyWarehouseScanDistance  700
SuppliesDepletedVoice  ChinookVoiceSuppliesDepleted
End
Locomotor  SET_NORMAL SupplyDroneAirdroppingLocomotor

Behavior  DestroyDie ModuleTag_11
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  99999.0
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Special Airdropped Creation Code Start ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;These modules control the effects and sounds for when the drone is first created giving
;the illusion of it being airdropped by a Chinook while its all just a bunch of clever tricks

Behavior  PowerPlantUpgrade ModuleTag_AirdropCreation01
TriggeredBy  Upgrade_AmericaBattleDrone
End

Behavior  PowerPlantUpdate ModuleTag_AirdropCreation02
RodsExtendTime  8000
End

Behavior  FireWeaponUpdate ModuleTag_AirdropCreation03
Weapon  SuicideUnresistableWeapon
InitialDelay  8000
End

Behavior  ObjectCreationUpgrade ModuleTag_AirdropCreation04
UpgradeObject  OCL_AmericaVehicleChinookDroppingSupplyDroneAmbientSoundEffect
TriggeredBy    Upgrade_AmericaBattleDrone
End

Behavior  GrantUpgradeCreate ModuleTag_AirdropCreation05
UpgradeToGrant  Upgrade_AmericaBattleDrone
End

Behavior  CreateObjectDie ModuleTag_AirdropCreation06
CreationList  OCL_AmericaVehicleChinookDroppingSupplyDroneDropCompleted
End

Behavior  CreateObjectDie ModuleTag_AirdropCreation07
CreationList  OCL_AmericaSupplyDroneChinookTakingOff
End

Behavior  FXListDie ModuleTag_AirdropCreation08
DeathFX  FX_HaloHelicopterVehicleCableRelease
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;; Special Airdropped Creation Code End ;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Geometry  BOX
GeometryMajorRadius  15.6
GeometryMinorRadius  8.0
GeometryHeight  12.6
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleSupplyDroneSpawnObject

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model          AVWrkHrs
HideSubObject  CARGO01
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:SupplyCenter
Side              America
EditorSorting     SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD STRUCTURE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER

Body  StructureBody ModuleTag_05
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  SupplyCenterCreate ModuleTag_06
End

Behavior  ProductionUpdate ModuleTag_09
End

Behavior  SupplyCenterProductionExitUpdate ModuleTag_10
UnitCreatePoint    X:0.0 Y:0.0 Z:0.0
NaturalRallyPoint  X:0.0 Y:0.0 Z:0.0
End

Behavior             SpawnBehavior ModuleTag_12
SpawnNumber        1
SpawnReplaceDelay  9999
SpawnTemplateName  AmericaVehicleSupplyDrone
OneShot            Yes
CanReclaimOrphans  No
SlavesHaveFreeWill  Yes
End

Behavior  DestroyDie ModuleTag_0823
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_045
MinLifetime  1
MaxLifetime  1
End

Geometry  BOX
GeometryMajorRadius  15.6
GeometryMinorRadius  8.0
GeometryHeight  12.6
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleChinookDroppingSupplyDroneTakingOff

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01 ; Helicopter

OkToChangeModelColor  Yes

DefaultConditionState
Model  AVChinook
Animation  AVChinook.AVChinook
AnimationMode  LOOP
ParticleSysBone  EXHAUST01 HelixExhaust
ParticleSysBone  EXHAUST02 HelixExhaust
End

ConditionState  REALLYDAMAGED
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
End

ConditionState  RUBBLE
Model  AVChinook_d
Animation  AVChinook_d.AVChinook_d
AnimationMode  LOOP
End

ConditionState  RUBBLE SPECIAL_DAMAGED
Model  AVChinook_d
HideSubObject  Props01
HideSubObject  Props02
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:ChinookArmor
Side                 America
EditorSorting        SYSTEM
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions       None
Armor            ChinookArmor
DamageFX         None
End

ExperienceValue      50 50 50 50 ;Experience point value at each level

; *** ENGINEERING Parameters ***
KindOf           PRELOAD CAN_CAST_REFLECTIONS UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        250.0
InitialHealth    250.0

SubdualDamageCap        900
SubdualDamageHealRate   500
SubdualDamageHealAmount  50
End

; *** AUDIO Parameters ***
SoundAmbient  ChinookAmbientLoop

Behavior  AIUpdateInterface ModuleTag_04
End
Locomotor  SET_NORMAL DismissedHelicopterTakingOffLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  5.0
End

Behavior  FXListDie ModuleTag_056
DeathTypes  ALL
DeathFX  FX_ChinookStartDeath
End

Behavior  HelicopterSlowDeathBehavior ModuleTag_10
DeathTypes  ALL -SUICIDED
DestructionDelay                 99999999        ; the destruction delay
SpiralOrbitTurnRate              140.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          30.0            ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   1.0             ; smaller #'s  slow down faster
MaxBraking                       190   ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   ComancheDamagedLoop
MinSelfSpin                      100                     ; in degrees per second
MaxSelfSpin                      300                     ; in degrees per second
SelfSpinUpdateDelay              100                     ; in milliseconds
SelfSpinUpdateAmount             10                      ; in degrees
FallHowFast                      30.0%                   ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500                    ; in milliseconds
MaxBladeFlyOffDelay              1500                    ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
OCLEjectPilot                    OCL_EjectPilotViaParachute
FXBlade                          FX_HelicopterBladeExplosion
OCLBlade                         OCL_HelicopterBladeExplosion
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HelicopterHitGround
FXFinalBlowUp                    FX_GroundedHelicopterBlowUp
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      30
FinalRubbleObject                ChinookRubbleHull
End

;Delete me before a new OCL can be triggered
Behavior  DeletionUpdate ModuleTag_0451
MinLifetime  8900   ; min lifetime in msec
MaxLifetime  8900   ; max lifetime in msec
End

Geometry               BOX
GeometryMajorRadius    20.0
GeometryMinorRadius    6.0
GeometryHeight         12.0
GeometryIsSmall        No
Shadow                 SHADOW_VOLUME
ShadowSizeX            89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaVehicleScoutDrone

; *** ART Parameters ***
SelectPortrait          SAScout_L
ButtonImage             SAScout

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState  NONE
Model  AVTargtDrn
Animation  AVTargtDrn.AVTargtDrn
AnimationMode  LOOP
End

ConditionState  REALLYDAMAGED
Model  AVTargtDrn_d
Animation  AVTargtDrn_d.AVTargtDrn_d
AnimationMode  LOOP
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:ScoutDrone
Side  America
EditorSorting    VEHICLE
TransportSlotCount  0                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions       None
Armor            TankArmor
DamageFX         SmallTankDamageFX
End
BuildCost        100
BuildTime        5.0          ;in seconds
VisionRange      150
ShroudClearingRange  500
IsTrainable      No  ;Can gain experience

; *** AUDIO Parameters ***
VoiceSelect  NoSound
VoiceMove  NoSound
VoiceAttack  NoSound
SoundMoveStart  NoSound

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  TurretMoveLoop
End


; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE DRONE AIRCRAFT UNATTACKABLE NO_HEAL_ICON EMP_HARDENED

Body  HighlanderBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate  60   // turn rate, in degrees per sec
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
End
Locomotor  SET_NORMAL DroneLocomotor

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_06
GuardMaxRange  35      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  35   ;How far away I'm allowed to wander from master while guarding.
AttackRange  75        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  10  ;How far I'm allowed to wander from target.
ScoutRange  75         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  10   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  MaxHealthUpgrade ModuleTag_07
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   25.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End
Behavior                  CreateObjectDie ModuleTag_09
DeathTypes  ALL
CreationList       OCL_AmericaScoutDroneExplode
End
Behavior                  FXListDie ModuleTag_10
DeathTypes  ALL
DeathFX            FX_AmericaScoutDroneExplode
End

Behavior                  TransitionDamageFX ModuleTag_11
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  UpgradeDie  ModuleTag_12
DeathTypes  ALL
UpgradeToRemove       Upgrade_AmericaScoutDrone ModuleTag_13
End


Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Geometry  CYLINDER
GeometryMajorRadius  5.0
GeometryMinorRadius  6.0
GeometryHeight  3.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object TermiteDroneDeployedStructureDummyCollision

; ***DESIGN parameters ***
Side                 America
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableArmorAll
DamageFX           DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf                PRELOAD IMMOBILE CAN_SEE_THROUGH_STRUCTURE STICK_TO_TERRAIN_SLOPE UNATTACKABLE NO_COLLIDE

Body                  StructureBody ModuleTag_05
MaxHealth           600.0
InitialHealth       600.0
End

Behavior  DeletionUpdate ModuleTag_032512
MinLifetime  150
MaxLifetime  150
End

Behavior  DestroyDie ModuleTag_11
End

Geometry              BOX
GeometryMajorRadius   7.0
GeometryMinorRadius   7.0
GeometryHeight        5.0
GeometryIsSmall       No
Shadow                SHADOW_VOLUME
BuildCompletion       PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AmericaVehicleWaspDrone

;MAIN CHASSIS
Draw  W3DOverlordAircraftDraw ModuleTag_01

OkToChangeModelColor  Yes
ExtraPublicBone       FIREPOINT01

DefaultConditionState
Model  AVWaspDrn
Animation  AVWaspDrn.AVWaspDrn
AnimationMode  LOOP
HideSubObject  TURRET
End

ConditionState  REALLYDAMAGED
Model  AVWaspDrn_D
Animation  AVWaspDrn_D.AVWaspDrn_D
End

ConditionState  RUBBLE
Model  AVWaspDrn_D
Animation  AVWaspDrn_D.AVWaspDrn_D
AnimationMode  MANUAL
HideSubObject  MUZZLEFX01
ShowSubObject  TURRET
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:WaspDrone
Side                 America
EditorSorting        VEHICLE
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ArmorSet
Conditions         None
Armor              WaspDroneArmor
DamageFX           SmallTankDamageFX
End

BuildCost            0
BuildTime            5.0          ;in seconds
VisionRange          100
ShroudClearingRange  100
Prerequisites
Object  AmericaWarFactory
End
ExperienceValue      0 0 0 0 ;Experience point value at each level
IsTrainable          No

; *** AUDIO Parameters ***
VoiceSelect          NoSound
VoiceMove            NoSound
VoiceAttack          NoSound
SoundMoveStart       NoSound
SoundAmbient         WaspDroneAmbientLoop

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart    NoSound
TurretMoveLoop     TurretMoveLoop
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS INFANTRY DRONE AIRCRAFT NO_HEAL_ICON

Body  ActiveBody ModuleTag_03
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_04
AutoAcquireEnemiesWhenIdle  Yes
End

Locomotor  SET_NORMAL WaspDroneLocomotor

Behavior  PhysicsBehavior ModuleTag_0535
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  MaxHealthUpgrade ModuleTag_06
TriggeredBy    Upgrade_AmericaDroneArmor
AddMaxHealth   30.0
ChangeType     ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

Behavior  SlavedUpdate ModuleTag_0246
GuardMaxRange  15       ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  15    ;How far away I'm allowed to wander from master while guarding.
AttackRange  300        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  30   ;How far I'm allowed to wander from target.
ScoutRange  25          ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  25    ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  SlowDeathBehavior ModuleTag_Death01
DestructionDelay     800
DestructionDelayVariance  400
FX                   FINAL FX_AmericaVanguardDroneExplode
OCL                  FINAL OCL_VanguardDroneDebris
End

Behavior                  TransitionDamageFX ModuleTag_10
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  OverlordContain ModuleTag_OverlordContain01
Slots                    1
DamagePercentToUnits     100%
AllowInsideKindOf        PORTABLE_STRUCTURE
PassengersAllowedToFire  Yes
ExperienceSinkForRider   No
PayloadTemplateName      AmericaVehicleWasp_Turret
End

Behavior  FireWeaponUpdate ModuleTag_SelfDestruct01
Weapon  SuicideWeapon
InitialDelay  25000
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
; Seperate turret so that i can shoot properly
Object AmericaVehicleWasp_Turret

; *** ART Parameters ***

Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor  Yes
AttachToBoneInContainer  FIREPOINT01

DefaultConditionState
Model  AVWaspDrn
Turret  Turret
TurretPitch  TurretEL
HideSubObject  CHASSIS LAUNCHERS
WeaponFireFXBone   PRIMARY  Muzzle
WeaponLaunchBone   PRIMARY  Muzzle
WeaponMuzzleFlash  PRIMARY  MuzzleFX
WeaponLaunchBone   TERTIARY WeaponA
WeaponFireFXBone   TERTIARY WeaponA
End

ConditionState  REALLYDAMAGED
Model  AVWaspDrn_D
End

ConditionState  WEAPONSET_PLAYER_UPGRADE
ShowSubObject  LAUNCHERS
HideSubObject  CHASSIS
End

ConditionState  WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
Model  AVWaspDrn_D
ShowSubObject  LAUNCHERS
HideSubObject  CHASSIS
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1

WeaponSet
Conditions  NONE
Weapon             PRIMARY   WaspDroneMachineGunWeapon
Weapon             SECONDARY WaspDroneSuicideWeapon
AutoChooseSources  SECONDARY NONE
End

WeaponSet
Conditions  PLAYER_UPGRADE
Weapon             PRIMARY   WaspDroneMachineGunWeapon
Weapon             TERTIARY  WaspDroneRocketWeapon
Weapon             SECONDARY WaspDroneSuicideWeapon
AutoChooseSources  SECONDARY NONE
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
End
VisionRange      350

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate         500    ; turn rate, in degrees per sec
TurretPitchRate        720
MinPhysicalPitch       -90    ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
NaturalTurretPitch     -10
AllowsPitch            Yes
MinIdleScanInterval    250    ; in milliseconds
MaxIdleScanInterval    250    ; in milliseconds
MinIdleScanAngle       0      ; in degrees off the natural turret angle
MaxIdleScanAngle       360    ; in degrees off the natural turret angle
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle  Yes ATTACK_BUILDINGS
MoodAttackCheckRate         1
End

Behavior              DestroyDie ModuleTag_05
End

Behavior  WeaponSetUpgrade ModuleTag_023
TriggeredBy  Upgrade_AmericaDroneWeapons
End

Behavior  OCLUpdate ModuleTag_Remove01
MinDelay      1000
MaxDelay      1000
OCL           OCL_KillSelf
End

Geometry  CYLINDER
GeometryMajorRadius  5
GeometryMinorRadius  5
GeometryHeight  10.0
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length


End



;------------------------------------------------------------------------------
Object AmericaJetCargoPlane_SupplyDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            SupplyDropAirplaneArmor
DamageFX         EmptyDamageFX
End

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DeathTypes                       ALL -FLOODED
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;these are triggered after the drop is completed removing this object and spawning a new plane that takes off
Behavior  DestroyDie ModuleTag_TakeOff01
DeathTypes  NONE +FLOODED
End

Behavior  CreateObjectDie ModuleTag_102342
DeathTypes  NONE +FLOODED
CreationList  OCL_AmericaSupplDropCargoPlaneTakeOff
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End



;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane_SupplyDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0

ArmorSet
Conditions       None
Armor            SupplyDropAirplaneArmor
DamageFX         EmptyDamageFX
End

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DeathTypes                       ALL -FLOODED
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;these are triggered after the drop is completed removing this object and spawning a new plane that takes off
Behavior  DestroyDie ModuleTag_TakeOff01
DeathTypes  NONE +FLOODED
End

Behavior  CreateObjectDie ModuleTag_10fuys
DeathTypes  NONE +FLOODED
CreationList  OCL_AmericaSupplDropGlobeMasterTakeOff
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetCargoPlane_SupplyDrop_TakeOff

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            SupplyDropAirplaneArmor
DamageFX         TankDamageFX
End

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL AmericaSupplyDropCargoPlaneLocomotor
Locomotor  SET_SUPERSONIC AmericaSupplyDropCargoPlaneTakingOffLocomotor

Behavior  RiderChangeContain ModuleTag_Transform01
;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 EuropeInfantryVenomCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 EuropeInfantryVenomCommandSet SET_SUPERSONIC
;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  FireWeaponUpdate  ModuleTag_Transform02
Weapon    VenomSwitchToAirMovementMode
InitialDelay  800
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  10000
MaxLifetime  10000
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane_SupplyDrop_TakeOff

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 America

ArmorSet
Conditions       None
Armor            SupplyDropAirplaneArmor
DamageFX         TankDamageFX
End

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_05
End
Locomotor  SET_NORMAL AmericaSupplyDropGlobeMasterLocomotor
Locomotor  SET_SUPERSONIC AmericaSupplyDropCargoPlaneTakingOffLocomotor

Behavior  RiderChangeContain ModuleTag_Transform01
;;;;Normal Rank
Rider1  GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 EuropeInfantryVenomCommandSet SET_NORMAL
Rider2  GenericFakeRider2_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER2 EuropeInfantryVenomCommandSet SET_SUPERSONIC
;Standard TransportContain stuff
Slots                  1
InitialPayload         GenericFakeRider1_Default_Rank 1
DamagePercentToUnits   100%
BurnedDeathToUnits     No
AllowInsideKindOf      CAN_ATTACK
ScuttleDelay           100
ScuttleStatus          TOPPLED
End

Behavior  FireWeaponUpdate  ModuleTag_Transform02
Weapon    VenomSwitchToAirMovementMode
InitialDelay  800
End

Behavior  DeletionUpdate ModuleTag_Remove01
MinLifetime  10000
MaxLifetime  10000
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

Object AmericaJetF18Hornet_Missiles

; *** ART Parameters ***
SelectPortrait         = SAHornet
ButtonImage            = SAHornet

Draw = W3DModelDraw ModuleTag_01

OkToChangeModelColor = Yes
ProjectileBoneFeedbackEnabledSlots = PRIMARY

DefaultConditionState
Model            = AVF18
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End

ConditionState     = REALLYDAMAGED
Model            = AVF18_D
WeaponFireFXBone = PRIMARY Muzzle
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End

ConditionState  = RUBBLE
Model            = AVF18_D1
WeaponFireFXBone = PRIMARY Muzzle
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End
ParticlesAttachedToAnimatedBones = Yes

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:A10Thunderbolt
EditorSorting       = VEHICLE
Side                = America
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 300.0
ShroudClearingRange = 300
Prerequisites
Object = AmericaAirfield
End
WeaponSet
Conditions = None
Weapon = PRIMARY F18HornetJetMissileWeapon
End
ArmorSet
Conditions      = None
Armor           = GenPowerAirplaneArmor
DamageFX        = None
End
ArmorSet
Conditions            = PLAYER_UPGRADE
Armor                 = GenPowerCountermeasuresAirplaneArmor
DamageFX              = None
End

IsTrainable = Yes             ;Can gain experience

; *** AUDIO Parameters ***
SoundAmbient = F18HornetAmbientLoop
SoundAmbientRubble    = NoSound
UnitSpecificSounds
SoundEject = PilotSoundEject
VoiceEject = PilotVoiceEject
StartDive  = F18HornetDive
End

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body = ActiveBody ModuleTag_02
MaxHealth       = 200.0 ;400.0
InitialHealth   = 200.0 ;400.0
End

ExperienceValue     = 40 40 40 40  ; Experience point value at each level

Behavior                          = JetSlowDeathBehavior ModuleTag_Die03
DestructionDelay                = 99999999  ; destruction will happen when we
RollRate                        = 0.0
RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
PitchRate                       = 0.0
FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                  = FX_RaptorDeathInitial
OCLInitialDeath                 = None
DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
FXSecondary                     = FX_JetDeathSecondary
FXHitGround                     = FX_JetDeathHitGround
OCLHitGround                    = OCL_HornetDeathHitGround
DelayFinalBlowUpFromHitGround   = 1       ; in milliseconds
FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End

Behavior    = OCLSpecialPower ModuleTag_06
SpecialPowerTemplate = SuperweaponCarrierAirstrike
OCL                  = SUPERWEAPON_F18HornetAirStrike
CreateLocation       = USE_OWNER_OBJECT
ScriptedSpecialPowerOnly = Yes
End

Behavior = TransportContain ModuleTag_092
Slots = 100
ScatterNearbyOnExit = No
OrientLikeContainerOnExit = Yes
KeepContainerVelocityOnExit = Yes
ExitPitchRate = 30
ExitBone = WeaponA
AllowInsideKindOf = PROJECTILE
DoorOpenTime = 0
NumberOfExitPaths = 0
DestroyRidersWhoAreNotFreeToExit = Yes
End

Behavior = DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor = SET_NORMAL F18HornetJetLocomotor

Behavior                = ArmorUpgrade ModuleTag_Armor01
TriggeredBy           = Upgrade_AmericaCountermeasures
End

Behavior                = CountermeasuresBehavior ModuleTag_10
TriggeredBy           = Upgrade_AmericaCountermeasures
FlareTemplateName     = CountermeasureFlare
FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize            = 3     ; Number of flares launched per volley (requires bones)
VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys   = 1000  ; Time between flare volleys
NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_22
End

Geometry = Cylinder
GeometryIsSmall = Yes
GeometryMajorRadius = 10.0
GeometryMinorRadius = 10.0
GeometryHeight = 10.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaJetF18Hornet_Bombs

; *** ART Parameters ***
SelectPortrait         = SAHornet
ButtonImage            = SAHornet

Draw = W3DModelDraw ModuleTag_01

OkToChangeModelColor = Yes
ProjectileBoneFeedbackEnabledSlots = PRIMARY

DefaultConditionState
Model            = AVF18_B
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End

ConditionState     = REALLYDAMAGED
Model            = AVF18_BD
WeaponFireFXBone = PRIMARY Muzzle
WeaponFireFXBone = PRIMARY WeaponA
WeaponLaunchBone = PRIMARY WeaponA
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End

ConditionState  = RUBBLE
Model            = AVF18_D1
WeaponFireFXBone = PRIMARY Muzzle
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End
ParticlesAttachedToAnimatedBones = Yes

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:A10Thunderbolt
EditorSorting       = VEHICLE
Side                = America
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 300.0
ShroudClearingRange = 300
Prerequisites
Object = AmericaAirfield
End
WeaponSet
Conditions = None
Weapon = PRIMARY F18HornetJetBombWeapon
End
ArmorSet
Conditions      = None
Armor           = GenPowerAirplaneArmor
DamageFX        = None
End
ArmorSet
Conditions            = PLAYER_UPGRADE
Armor                 = GenPowerCountermeasuresAirplaneArmor
DamageFX              = None
End

; *** AUDIO Parameters ***
SoundAmbient = F18HornetAmbientLoop
SoundAmbientRubble    = NoSound
UnitSpecificSounds
SoundEject = PilotSoundEject
VoiceEject = PilotVoiceEject
StartDive  = F18HornetDive
End

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body = ActiveBody ModuleTag_02
MaxHealth       = 200.0 ;400.0
InitialHealth   = 200.0 ;400.0
End

ExperienceValue     = 40 40 40 40  ; Experience point value at each level

Behavior                          = JetSlowDeathBehavior ModuleTag_Die03
DestructionDelay                = 99999999  ; destruction will happen when we
RollRate                        = 0.0
RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
PitchRate                       = 0.0
FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                  = FX_RaptorDeathInitial
OCLInitialDeath                 = None
DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
FXSecondary                     = FX_JetDeathSecondary
FXHitGround                     = FX_JetDeathHitGround
OCLHitGround                    = OCL_HornetDeathHitGround
DelayFinalBlowUpFromHitGround   = 1       ; in milliseconds
FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End

Behavior    = OCLSpecialPower ModuleTag_06
SpecialPowerTemplate = SuperweaponCarrierAirstrike
OCL                  = SUPERWEAPON_F18HornetAirStrike
CreateLocation       = USE_OWNER_OBJECT
ScriptedSpecialPowerOnly = Yes
End

Behavior = TransportContain ModuleTag_092
Slots = 100
ScatterNearbyOnExit = No
OrientLikeContainerOnExit = Yes
KeepContainerVelocityOnExit = Yes
ExitPitchRate = 30
ExitBone = WeaponA
AllowInsideKindOf = PROJECTILE
DoorOpenTime = 0
NumberOfExitPaths = 0
DestroyRidersWhoAreNotFreeToExit = Yes
End

Behavior = DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor = SET_NORMAL F18HornetJetLocomotor

Behavior                = ArmorUpgrade ModuleTag_Armor01
TriggeredBy           = Upgrade_AmericaCountermeasures
End

Behavior                = CountermeasuresBehavior ModuleTag_10
TriggeredBy           = Upgrade_AmericaCountermeasures
FlareTemplateName     = CountermeasureFlare
FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize            = 3     ; Number of flares launched per volley (requires bones)
VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys   = 1000  ; Time between flare volleys
NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_22
End

Geometry = Cylinder
GeometryIsSmall = Yes
GeometryMajorRadius = 10.0
GeometryMinorRadius = 10.0
GeometryHeight = 10.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object F18HornetBomb

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = AVF18_M
End
End

; ***DESIGN parameters ***
Side = America
EditorSorting     = SYSTEM
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End
VisionRange       = 0.0

; *** AUDIO Parameters ***

; *** ENGINEERING Parameters ***
KindOf            = PROJECTILE
Body              = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0
End

Behavior              = PhysicsBehavior ModuleTag_03
Mass                = 75.0
AerodynamicFriction = 2     ; this is now friction-per-sec
ForwardFriction     = 2     ; this is now friction-per-sec
CenterOfMassOffset  = 2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End

; it may seem odd to have a "bomb" with a Locomotor, especially a Thrust locomotor,
; but there's a good reason: the Aurora moves so freakin' fast that it's really
; hard to (1) find a reliable drop location, and (2) actually get it close enough to
; that location. So we cheat: just get fairly close, then let the "bomb" do a little (subtle)
; navigation on the way down. This works pretty well and actually looks much better
; than you might think. (srj)
Behavior = MissileAIUpdate ModuleTag_04
TryToFollowTarget   = No
FuelLifetime        = 0
IgnitionDelay       = 0
InitialVelocity     = 0                ; in dist/sec
DistanceToTravelBeforeTurning = 0
DistanceToTargetBeforeDiving  = 0
End
Locomotor = SET_NORMAL AuroraBombLocomotor   ; yes, that's right.

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 2.0

End

Object AmericaJetF18Hornet_Machineguns

; *** ART Parameters ***
SelectPortrait         = SAHornet
ButtonImage            = SAHornet

Draw = W3DModelDraw ModuleTag_01

OkToChangeModelColor = Yes
;ProjectileBoneFeedbackEnabledSlots = SECONDARY

DefaultConditionState
Model            = AVF18
WeaponFireFXBone = PRIMARY Muzzle
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
HideSubObject    = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06
End

ConditionState     = REALLYDAMAGED
Model            = AVF18_D
WeaponFireFXBone = PRIMARY Muzzle
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
HideSubObject    = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06
End

ConditionState  = RUBBLE
Model            = AVF18_D1
WeaponFireFXBone = PRIMARY Muzzle
ParticleSysBone  = Engine01 JetBlackTrailThin
ParticleSysBone  = Engine02 JetBlackTrailThin
ParticleSysBone  = Wingtip01 JetContrailThin
ParticleSysBone  = Wingtip02 JetContrailThin
End
ParticlesAttachedToAnimatedBones = Yes

End

; ***DESIGN parameters ***
DisplayName         = OBJECT:A10Thunderbolt
EditorSorting       = VEHICLE
Side                = America
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 300.0
ShroudClearingRange = 300
Prerequisites
Object = AmericaAirfield
End
WeaponSet
Conditions = None
Weapon = PRIMARY F18HornetVulcan
End
ArmorSet
Conditions      = None
Armor           = GenPowerAirplaneArmor
DamageFX        = None
End
ArmorSet
Conditions            = PLAYER_UPGRADE
Armor                 = GenPowerCountermeasuresAirplaneArmor
DamageFX              = None
End

; *** AUDIO Parameters ***
SoundAmbient = F18HornetAmbientLoop
SoundAmbientRubble    = NoSound
UnitSpecificSounds
SoundEject = PilotSoundEject
VoiceEject = PilotVoiceEject
StartDive  = F18HornetDive
End

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body = ActiveBody ModuleTag_02
MaxHealth       = 200.0 ;400.0
InitialHealth   = 200.0 ;400.0
End

ExperienceValue     = 40 40 40 40  ; Experience point value at each level

Behavior                          = JetSlowDeathBehavior ModuleTag_Die03
DestructionDelay                = 5000  ; destruction will happen when we
RollRate                        = 0.0
RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
PitchRate                       = 0.0
FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                  = FX_RaptorDeathInitial
OCLInitialDeath                 = None
DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
FXSecondary                     = FX_JetDeathSecondary
FXHitGround                     = FX_JetDeathHitGround
OCLHitGround                    = OCL_HornetDeathHitGround
DelayFinalBlowUpFromHitGround   = 1       ; in milliseconds
FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
End

Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End

Behavior    = OCLSpecialPower ModuleTag_06
SpecialPowerTemplate = SuperweaponCarrierAirstrike
OCL                  = SUPERWEAPON_F18HornetAirStrike
CreateLocation       = USE_OWNER_OBJECT
ScriptedSpecialPowerOnly = Yes
End

Behavior = DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor = SET_NORMAL F18HornetJetLocomotor

Behavior                = ArmorUpgrade ModuleTag_Armor01
TriggeredBy           = Upgrade_AmericaCountermeasures
End

Behavior                = CountermeasuresBehavior ModuleTag_10
TriggeredBy           = Upgrade_AmericaCountermeasures
FlareTemplateName     = CountermeasureFlare
FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize            = 3     ; Number of flares launched per volley (requires bones)
VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys   = 1000  ; Time between flare volleys
NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_22
End

Geometry = Cylinder
GeometryIsSmall = Yes
GeometryMajorRadius = 10.0
GeometryMinorRadius = 10.0
GeometryHeight = 10.0
Shadow = SHADOW_VOLUME
ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object F18HornetCarrierDummy
; ***DESIGN parameters ***
DisplayName      = OBJECT:Missile
Side = America
EditorSorting   = SYSTEM
TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange = 0.0

ArmorSet
Conditions      = None
Armor           = SubBallisticMissileArmor
DamageFX        = None
End

; *** ENGINEERING Parameters ***
KindOf = PROJECTILE BALLISTIC_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth       = 1100.0
InitialHealth   = 1100.0
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End

Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
FX         = FX_GenericMissileDeath
End


Behavior = PhysicsBehavior ModuleTag_08
Mass = 1
End

Behavior = MissileAIUpdate ModuleTag_09
TryToFollowTarget = Yes
FuelLifetime = 0
InitialVelocity = 10
IgnitionDelay = 1000
IgnitionFX = FX_B52CruiseMissileIgnition
End

Locomotor = SET_NORMAL B52CruiseMissileLocomotor

Geometry = Cylinder
GeometryMajorRadius = 8.0
GeometryHeight = 4.0
GeometryIsSmall = Yes
Shadow = SHADOW_DECAL

End

; ------------------------------------------------------------------------------
Object AirDeployMarker
; *** ART Parameters ***
SelectPortrait = SSAirDeployMarker
ButtonImage = SSAirDeployMarker
;PlacementViewAngle = -45
Draw = W3DModelDraw ModuleTag_Draw
DefaultConditionState
Model = EXAirDeploy
Animation = EXAirDeploy.EXAirDeploy
AnimationMode = LOOP
ParticleSysBone = None LandingZoneSmokeLargeGreen ;LandingZoneSmoke
End
End
Draw = W3DModelDraw ModuleTag_CD
DefaultConditionState
Model = EXAirDeployCD
Animation = EXAirDeployCD.EXAirDeployCD
AnimationMode = ONCE
AnimationSpeedFactorRange = 0.1 0.1 ;auf eine Minute skaliert
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:AirDeployMarker
Side = America
EditorSorting = STRUCTURE
BuildCost = 0
BuildTime = 1.0     ; in seconds
EnergyProduction = 0
CommandSet = AirDeployMarkerCommandSet
VisionRange = 150.0     ; Shroud clearing distance
ShroudClearingRange = 150
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor
DamageFX = StructureDamageFXNoShake
End
; *** ENGINEERING Parameters ***
RadarPriority = STRUCTURE
KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE AUTO_RALLYPOINT ;MP_COUNT_FOR_VICTORY FS_BARRACKS ;CAPTURABLE HEAL_PAD SCORE FS_FACTORY
Body = HighlanderBody ModuleTag_221
MaxHealth = 100000.0
InitialHealth = 100000.0
End

Behavior = DestroyDie ModuleTag_490
; nothing
End

Behavior = ProductionUpdate ModuleTag_494
; nothing
End
Behavior = DefaultProductionExitUpdate ModuleTag_495
UnitCreatePoint = X: 0.0 Y: 0.0 Z:0.0
NaturalRallyPoint = X: 5.0 Y: 0.0 Z:0.0
End
Behavior = LifetimeUpdate ModuleTag_218
MinLifetime = 60000     ; min lifetime in msec
MaxLifetime = 60000     ; max lifetime in msec
End

Geometry = BOX
GeometryMajorRadius = 15.0
GeometryMinorRadius = 15.0
GeometryHeight = 5.0
GeometryIsSmall = Yes
;FactoryExitWidth = 25     ; How much space to leave for units exiting.
Shadow = SHADOW_VOLUME
;BuildCompletion = PLACED_BY_PLAYER
End

Object AirDeployMarkerSpawnObject_ATVHumvee
; ***DESIGN parameters ***
VisionRange = 150.0
EditorSorting = VEHICLE
Side = America
Behavior = OCLUpdate ModuleTag_797     ; Context window is a reaction to this, no CommandSet
OCL = OCL_AirDeployMarker_ATVHumvee
MinDelay = 1000
MaxDelay = 1000
CreateAtEdge = No ;Yes     ; as opposed to just creating on self
End
KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE INERT
; *** ENGINEERING Parameters ***
Body = ImmortalBody ModuleTag_798
MaxHealth = 1
InitialHealth = 1
End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = VETERAN
;    ScienceRequired = SCIENCE_SOCOM_ReconTraining
;  End

Behavior = DeletionUpdate ModuleTag_799     ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime = 1100     ; InitialDelay + TransitionTime for Vision Update
MaxLifetime = 1100
End
BuildTime = 10.0
BuildCost = 1000
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee
End

Object AirDeployMarkerSpawnObject_Acolyte
; ***DESIGN parameters ***
VisionRange = 150.0
EditorSorting = VEHICLE
Side = America
Behavior = OCLUpdate ModuleTag_797     ; Context window is a reaction to this, no CommandSet
OCL = OCL_AirDeployMarker_Acolyte
MinDelay = 1000
MaxDelay = 1000
CreateAtEdge = No ;Yes     ; as opposed to just creating on self
End
KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE INERT
; *** ENGINEERING Parameters ***
Body = ImmortalBody ModuleTag_798
MaxHealth = 1
InitialHealth = 1
End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = VETERAN
;    ScienceRequired = SCIENCE_SOCOM_ReconTraining
;  End

Behavior = DeletionUpdate ModuleTag_799     ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime = 1100     ; InitialDelay + TransitionTime for Vision Update
MaxLifetime = 1100
End
BuildTime = 10.0
BuildCost = 750
SelectPortrait          SATankAcolyte_L
ButtonImage             SATankAcolyte
End

Object InvisibleCarrier_AirDeployMarker

; ***DESIGN parameters ***
EditorSorting       = VEHICLE
Side                = America
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 99999.0
ShroudClearingRange = 0
ArmorSet
Conditions      = None
Armor           = AirplaneArmor
DamageFX        = None
End


; *** AUDIO Parameters ***
; In the Activation of the superweapon, where it plays only once instead of once per missile.
;  SoundMoveStart = FireArtilleryCannonSound


; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT UNATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body = ActiveBody ModuleTag_01
MaxHealth       = 200.0
InitialHealth   = 200.0
End

Behavior = DestroyDie ModuleTag_02
;nothing
End

Behavior = PhysicsBehavior ModuleTag_03
Mass = 0.001 ; about the weight of grain of salt
End

Behavior = DeliverPayloadAIUpdate ModuleTag_05
End

Locomotor = SET_NORMAL AirDeployCarrier_Locomotor

Geometry = Cylinder
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
GeometryMinorRadius = 1.0
GeometryHeight = 1.0
Shadow = SHADOW_DECAL
ShadowSizeX = 1;
ShadowSizeY = 1;
ShadowTexture = ShadowI;

End

Object LargeParachute_Airdeploy
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
DefaultConditionState
Model = PMparacht_SKNc
Animation = PMparacht_SKL.PMparacht_FAL
AnimationMode = LOOP
End
ConditionState = PARACHUTING
Model = PMparacht_SKNc
Animation = PMparacht_SKL.PMparacht_OPN
AnimationMode = ONCE
End
ConditionState = RUBBLE
Model = PMparacht_SKNc
Animation = PMparacht_SKL.PMparacht_DRP
AnimationMode = ONCE
End
; this is a weird state to resolve an ambiguity: sometimes
; we can have a "rubble" parachute momentarily, that doesn't
; know that it has finished parachuting yet...
ConditionState = RUBBLE PARACHUTING
Model = PMparacht_SKNc
Animation = PMparacht_SKL.PMparacht_DRP
AnimationMode = ONCE
End
End
; ***DESIGN parameters ***
EditorSorting = SYSTEM
TransportSlotCount = 10
VisionRange = 300.0
ShroudClearingRange = 300
IsTrainable = No     ; Can gain experience
KindOf = PRELOAD PARACHUTE UNATTACKABLE
; *** AUDIO Parameters ***
; *** ENGINEERING Parameters ***
Behavior = AIUpdateInterface ModuleTag_02
; nothing
End
Locomotor = SET_NORMAL ParachuteLocomotor_Faster
Locomotor = SET_FREEFALL FreeFallLocomotor
Body = ActiveBody ModuleTag_03
MaxHealth = 100000.0
InitialHealth = 100000.0
End
Behavior = PhysicsBehavior ModuleTag_04
Mass = 5.0
End
Behavior = ParachuteContain ModuleTag_05
PitchRateMax = 60     ; deg/sec
RollRateMax = 60     ; deg/sec
LowAltitudeDamping = 0.2     ; how much to damp swaying when we get "close" to the ground
ParachuteOpenDist = 40.0     ; how far we have to fall 'till we open our 'chute
AllowInsideKindOf = INFANTRY VEHICLE PARACHUTABLE
ParachuteOpenSound = ParachuteOpen
End
Behavior = SlowDeathBehavior ModuleTag_06
SinkDelay = 1000
SinkRate = 1     ; in Dist/Sec
DestructionDelay = 4000
End
RadarPriority = NOT_ON_RADAR
Geometry = CYLINDER
GeometryMajorRadius = 15.0
GeometryHeight = 10.0
GeometryIsSmall = Yes
Shadow = SHADOW_VOLUME
Scale = 1.20
End

Object AmericaVehicleAirborneHumvee_SingalMarker

; *** ART Parameters ***
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor   Yes

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVATHmr
Animation          AVATHmr.AVATHmr
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      MuzzleFX01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
End

ConditionState  USING_WEAPON_A
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USING_WEAPON_B

ConditionState  REALLYDAMAGED
Model              AVATHmr_D
End

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
End
AliasConditionState  REALLYDAMAGED USING_WEAPON_B

ConditionState  RUBBLE
Model              AVATHmr_D1
End


ConditionState  SNOW
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW USING_WEAPON_A
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW USING_WEAPON_B

ConditionState  SNOW REALLYDAMAGED
Model              AVATHmr_D
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW REALLYDAMAGED USING_WEAPON_B

ConditionState  SNOW RUBBLE
Model              AVATHmr_D1
HideSubObject      Tire01 Tire02 Tire03 Tire04
End


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide


LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End
AliasConditionState  SNOW MOVING RUBBLE

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              AVAirbrnHmmr_N
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              AVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model              NONE
End

ConditionState  FIRING_A
Model              AVATHmr_Mzl
Animation          AVATHmr_Mzl.AVATHmr_Mzl
AnimationMode      ONCE
Turret             TURRET
Flags              RANDOMSTART
End
AliasConditionState  FIRING_B

End

; ***DESIGN parameters ***
DisplayName            OBJECT:AirborneHumvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY HumveeMinigun
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        500
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAirborneHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ATVHummerVoiceSelect
VoiceMove  ATVHummerVoiceMove
VoiceGuard  ATVHummerVoiceMove
VoiceAttack  ATVHummerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          ATVHummerVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           ATVHummerVoiceMove

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  ATVHummerVoiceUnload
VoiceEnter   ATVHummerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL AirborneHumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  TransportContain  ModuleTag_05
Slots                          5
DamagePercentToUnits           10%
AllowInsideKindOf              INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay                      100
NumberOfExitPaths              3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit             Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime                   2000
End


Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior            OCLSpecialPower ModuleTag_PointDefenceDrone01
SpecialPowerTemplate  SpecialAbilityAmericaPointDefenceDrone
OCL                   OCL_AmericanPointDefenceDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_AirborneHumveeAirDeathStart
FX   INITIAL FX_AirborneHumveeAirDeathGroundPart
OCL  FINAL   OCL_RocketBuggyAirDeath
FX   FINAL   FX_RocketBuggyAirDeathAirPart
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  ATVHumveeWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  ATVHumveeWeaponBonusDecalWeapon
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Behavior   ObjectCreationUpgrade ModuleTag_AlwaysGrantedUpgrade03
UpgradeObject   OCL_ATVHumveeInfantry
TriggeredBy   Upgrade_CostReduction
End
Behavior   GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade04
UpgradeToGrant   Upgrade_CostReduction
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AirF_ApacheFlyIn

Draw = W3DOverlordAircraftDraw ModuleTag_01
;ProjectileBoneFeedbackEnabledSlots = PRIMARY ;SECONDARY ;TERTIARY
DefaultConditionState
Model = AvApacheNew
HideSubObject = MissileUpgrade
Animation = AvApacheNew.AvApacheNew
AnimationMode = LOOP
WeaponFireFXBone = PRIMARY WEAPONA ;SECONDARY WEAPONA
WeaponLaunchBone = PRIMARY WEAPONA
End
ConditionState = REALLYDAMAGED RUBBLE
Model = AvApacheNew_D
Animation = AvApacheNew_D.AvApacheNew_D
AnimationMode = LOOP
End
ConditionState = WEAPONSET_PLAYER_UPGRADE
ShowSubObject = MissileUpgrade
WeaponFireFXBone = TERTIARY WeaponB
WeaponLaunchBone = TERTIARY WeaponB ;TERTIARY WeaponB
End
ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
Model = AvApacheNew_D
Animation = AvApacheNew_D.AvApacheNew_D
AnimationMode = LOOP
ShowSubObject = MissileUpgrade
WeaponFireFXBone = TERTIARY WeaponB
WeaponLaunchBone = TERTIARY WeaponB
End
OkToChangeModelColor = Yes
End
Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsandsmall
End
AliasConditionState REALLYDAMAGED

ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnowsmall
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwatersmall
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End
; ***DESIGN parameters ***
;DisplayName        = OBJECT:A10Thunderbolt
EditorSorting       = VEHICLE
Side                America
TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange         = 99999.0
ShroudClearingRange = 0
ArmorSet
Conditions      = None
Armor           = AirplaneArmor
DamageFX        = None
End
ArmorSet
Conditions = PLAYER_UPGRADE
Armor = CountermeasuresAirplaneArmor ;CountermeasuresComancheArmor
DamageFX = None
End

; *** AUDIO Parameters ***
; In the Activation of the superweapon, where it plays only once instead of once per missile.
;  SoundMoveStart = FireArtilleryCannonSound
; *** AUDIO Parameters ***
SoundAmbient = ApacheAmbientLoop ;ComancheAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority = UNIT
KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT EMP_HARDENED ;UNATTACKABLE IGNORED_IN_GUI
Body = ActiveBody ModuleTag_0111
MaxHealth       = 250.0
InitialHealth   = 250.0
End

;Behavior = DestroyDie ModuleTag_02
;nothing
;End

Behavior = WeaponSetUpgrade ModuleTag_02
TriggeredBy = Upgrade_ComancheRocketPods
End

Behavior = AutoHealBehavior ModuleTag_HeliArmor
HealingAmount = 5
HealingDelay = 1000     ; msec
TriggeredBy = Upgrade_AmericaStealthCoating
End

;Behavior = PhysicsBehavior ModuleTag_03
;  Mass = 0.001 ; about the weight of grain of salt
;End
Behavior = PhysicsBehavior ModuleTag_05
Mass = 500.0
End

Behavior = DeliverPayloadAIUpdate ModuleTag_05132
End

Behavior = HelicopterSlowDeathBehavior ModuleTag_08
DestructionDelay = 99999999     ; the destruction delay
SpiralOrbitTurnRate = 140.0     ; in degrees per second, bigger # = tighter spiral
SpiralOrbitForwardSpeed = 350.0     ; bigger # = larger spiral
SpiralOrbitForwardSpeedDamping = .9999     ; smaller #'s = slow down faster
MaxBraking = 190     ; max braking we can use during death spiral (lower num = wilder spiral)
SoundDeathLoop = ComancheDamagedLoop
MinSelfSpin = 100     ; in degrees per second
MaxSelfSpin = 300     ; in degrees per second
SelfSpinUpdateDelay = 100     ; in milliseconds
SelfSpinUpdateAmount = 10     ; in degrees
FallHowFast = 12.0%     ; fraction of gravity, lower = take longer to fall
MinBladeFlyOffDelay = 1500     ; in milliseconds
MaxBladeFlyOffDelay = 1500     ; in milliseconds
AttachParticle = SootySmokeTrail
AttachParticleBone = Propeller02
BladeObjectName = AVCOMANCHE_PROP ;ComancheBlades
BladeBoneName = ROTO01 ;Propeller01
; Most things that eject pilots do so immediately upon death,
; via use of EjectPilotDie, but Helicopters are a special case...
; they need to do so after their blades are ejected.
OCLEjectPilot = OCL_EjectPilotViaParachute
FXBlade = FX_HelicopterBladeExplosion
OCLBlade = OCL_HelicopterBladeExplosion
FXHitGround = FX_HelicopterHitGround
OCLHitGround = OCL_HelicopterHitGround
FXFinalBlowUp = FX_GroundedHelicopterBlowUp
OCLFinalBlowUp = OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath = 1500
FinalRubbleObject = ApacheRubbleHull ;ComancheRubbleHull
End
Behavior = TransitionDamageFX ModuleTag_09
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
End
Behavior = FXListDie ModuleTag_0511
DeathFX = FX_ApacheStartDeath ;FX_ComancheStartDeath
End
Behavior = ArmorUpgrade ModuleTag_Armor01
TriggeredBy = Upgrade_AmericaCountermeasures
End
Behavior = CountermeasuresBehavior ModuleTag_CM
TriggeredBy = Upgrade_AmericaCountermeasures
FlareTemplateName = CountermeasureFlare
FlareBoneBaseName = Flare     ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize = 2     ; Number of flares launched per volley (requires bones)
VolleyArcAngle = 60.0     ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor = 2.0     ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys = 1000     ; Time between flare volleys
NumberOfVolleys = 3     ; Number of times the volleys will fire before reloading
ReloadTime = 4000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate = 30%     ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay = 200     ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Locomotor = SET_NORMAL  A10ThunderboltLocomotor ;ChinaArtilleryBarrageCannonLocomotor

Geometry = Cylinder
GeometryIsSmall = Yes
GeometryMajorRadius = 1.0
GeometryMinorRadius = 1.0
GeometryHeight = 1.0
Shadow = SHADOW_DECAL
ShadowSizeX = 1;
ShadowSizeY = 1;
ShadowTexture = ShadowI;

End

Object ApacheRubbleHull
; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
DefaultConditionState
Model = AVAPACHENEW_D1
End
End
; ***DESIGN parameters ***
DisplayName = OBJECT:ComancheHull
Side = America
; *** ENGINEERING Parameters ***
KindOf = IMMOBILE NO_COLLIDE HULK
Behavior = PhysicsBehavior ModuleTag_02
Mass = 25.0
AllowBouncing = Yes
End
Behavior = LifetimeUpdate ModuleTag_03
MinLifetime = 3000     ; min lifetime in msec
MaxLifetime = 3000     ; max lifetime in msec
End
Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay = 3000
SinkRate = 4     ; in Dist/Sec
DestructionDelay = 10000
End
End