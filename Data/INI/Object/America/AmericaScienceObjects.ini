;------------------------------------------------------------------------------
Object AmericaJetB52

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVB52
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB52_D
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
AliasConditionState  REALLYDAMAGED
ConditionState  RUBBLE
Model  AVB52_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_OPENING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_CLOSING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
ConditionState  DAMAGED
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED
ConditionState  DAMAGED DOOR_1_OPENING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
ConditionState  DAMAGED DOOR_1_CLOSING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  B52AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetB1B

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVLancer
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVLancer_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model  AVLancer_D
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
ConditionState  RUBBLE
Model  AVLancer_D1
ParticleSysBone  Engine01 JetFireLarge
ParticleSysBone  Engine02 JetFireLarge
ParticleSysBone  Engine01 JetSmokeLarge
ParticleSysBone  Engine02 JetSmokeLarge
End
OkToChangeModelColor  Yes
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient           B1LancerAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B3Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetB2

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model  AVB3bmbr
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  WingTip03 JetContrailThin
ParticleSysBone  WingTip04 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB3bmbr_D
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model  AVB3bmbr_D
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model  AVB3bmbr_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_Bone01
DefaultConditionState
Model  AVB3bmbr_C
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient        B3BomberAmbientLoop
SoundAmbientRubble  NoSound
SoundStealthOn      StealthOn
SoundStealthOff     StealthOff

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B3Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_12
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        5     ; Number of times the volleys will fire before reloading
ReloadTime             0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            50%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  StealthUpdate ModuleTag_Stealth01
StealthDelay                           1000 ; msec
StealthForbiddenConditions             TAKING_DAMAGE
FriendlyOpacityMin                     50.0%
FriendlyOpacityMax                     100.0%
InnateStealth                          Yes
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetA10Thunderbolt

; *** ART Parameters ***
SelectPortrait          SAWarthog_L
ButtonImage             SAWarthog

Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes

ExtraPublicBone  WeaponA01
ExtraPublicBone  WeaponA02
ExtraPublicBone  WeaponA03
ExtraPublicBone  WeaponA04
ExtraPublicBone  WeaponA05
ExtraPublicBone  WeaponA06

DefaultConditionState
Model              AVWrthg
Animation          AVWrthg.AVWrthg
AnimationMode      LOOP
WeaponLaunchBone   PRIMARY Muzzle01
WeaponFireFXBone   PRIMARY Muzzle01
WeaponMuzzleFlash  PRIMARY MuzzleFX01
ParticleSysBone    Engine01 JetBlackTrailThin
ParticleSysBone    Engine02 JetBlackTrailThin
ParticleSysBone    Wingtip01 JetContrailThin
ParticleSysBone    Wingtip02 JetContrailThin
End

ConditionState       REALLYDAMAGED
Model              AVWrthg_D
Animation          AVWrthg_D.AVWrthg_D
AnimationMode      LOOP
End
AliasConditionState   RUBBLE

ParticlesAttachedToAnimatedBones  Yes

End

; ***DESIGN parameters ***
DisplayName          OBJECT:A10Thunderbolt
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
;VisionRange          300.0
ShroudClearingRange  300
Prerequisites
Object  AmericaAirfield
End
WeaponSet
Conditions  None
Weapon  PRIMARY A10ThunderboltVulcan
End
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

ExperienceValue  0 0 0 0     ;Experience point value at each level
ExperienceRequired  0 0 0 0  ;Experience points needed to gain each level
IsTrainable  No              ;Can gain experience

; *** AUDIO Parameters ***
SoundAmbient  A10ThunderboltAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
SoundEject  PilotSoundEject
VoiceEject  PilotVoiceEject
StartDive   A10ThunderboltDive
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_02
MaxHealth        600.0
InitialHealth    600.0
End

CommandSet         AmericaScriptedTransportDropsCommandSet

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior                           JetSlowDeathBehavior ModuleTag_03
DestructionDelay                 99999999  ; destruction will happen when we
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0.0
FallHowFast                      110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetDeathInitial
OCLInitialDeath                  None
DelaySecondaryFromInitialDeath   500       ; in milliseconds
FXSecondary                      FX_JetDeathSecondary
OCLSecondary                     None
FXHitGround                      FX_JetDeathHitGround
OCLHitGround                     OCL_A10DeathHitGround
DelayFinalBlowUpFromHitGround    200       ; in milliseconds
FXFinalBlowUp                    FX_JetDeathFinalBlowUp
OCLFinalBlowUp                   OCL_A10DeathFinalBlowUp
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

;SCRIPTED SUPPORT: These special power is triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.
Behavior     OCLSpecialPower ModuleTag_06
SpecialPowerTemplate  SuperweaponA10ThunderboltMissileStrike ;@@KRIS@@
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
UpgradeOCL            SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
OCL                   SUPERWEAPON_A10ThunderboltMissileStrike1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_07
End
Locomotor  SET_NORMAL A10ThunderboltLocomotor

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Cylinder
GeometryIsSmall  Yes
GeometryMajorRadius  10.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object AmericaJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVCargoPln_D1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End


;------------------------------------------------------------------------------
Object AmericaJetSpectreGunship

; *** ART Parameters ***
SelectPortrait          SASpectre_L
ButtonImage             SASpectre

UpgradeCameo1  Upgrade_AmericaCountermeasures
UpgradeCameo2  Upgrade_AmericaGenPowerPlaneArmor

Draw  W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
RecoilSettleSpeed   10
MaxRecoilDistance   4

;----NORMAL-------------
DefaultConditionState
Model              AVAc17
WeaponFireFXBone   PRIMARY MUZZLE
WeaponMuzzleFlash  PRIMARY MUZZLEFX
WeaponRecoilBone   PRIMARY BARREL
ShowSubObject      VULCAN01 VULCAN02
End

ConditionState     DOOR_1_OPENING
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE
HideSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
TransitionKey    TRANS_Wings_Open
End

TransitionState    TRANS_Wings_Closed TRANS_Wings_Open
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
End

ConditionState     DOOR_1_CLOSING
Model            AVAc17
Animation        AVAc17.AVAc17
AnimationMode    ONCE_BACKWARDS
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
TransitionKey    TRANS_Wings_Closed
End


;----DAMAGED-------------
ConditionState     DOOR_1_OPENING DAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
TransitionKey    TRANS_Wings_Open_Damaged
End

TransitionState    TRANS_Wings_Closed_Damaged TRANS_Wings_Open_Damaged
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState     DOOR_1_CLOSING DAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
TransitionKey    TRANS_Wings_Closed_Damaged
End


;----REALLY DAMAGED-------------
ConditionState     DOOR_1_OPENING REALLYDAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
TransitionKey    TRANS_Wings_Open_Realy_Damaged
End

TransitionState    TRANS_Wings_Closed_Realy_Damaged TRANS_Wings_Open_Realy_Damaged
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE
ShowSubObject    VULCAN01 VULCAN02
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 SpectreContrail
ParticleSysBone  WingTip02 SpectreContrail
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
End

ConditionState     DOOR_1_CLOSING REALLYDAMAGED
Model            AVAc17_D
Animation        AVAc17_D.AVAc17_D
AnimationMode    ONCE_BACKWARDS
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Engine01 SpectreAfterburnerTrail
ParticleSysBone  Engine02 SpectreAfterburnerTrail
ParticleSysBone  Engine03 SpectreAfterburnerTrail
ParticleSysBone  Engine04 SpectreAfterburnerTrail
ParticleSysBone  Engine01 SpectreEngineFlare
ParticleSysBone  Engine02 SpectreEngineFlare
ParticleSysBone  Engine03 SpectreEngineFlare
ParticleSysBone  Engine04 SpectreEngineFlare
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke02 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 SpectreSmokeLarge
TransitionKey    TRANS_Wings_Closed_Realy_Damaged
End


;----RUBBLE CRASHING-------------
ConditionState  RUBBLE
Model            AVAc17_D1
ParticleSysBone  Smoke01 SpectreGunshipFireLarge
ParticleSysBone  Smoke05 SpectreGunshipFireLarge
ParticleSysBone  Smoke03 SpectreGunshipFireLarge
ParticleSysBone  Smoke04 SpectreGunshipFireLarge
ParticleSysBone  Smoke01 SpectreSmokeLarge
ParticleSysBone  Smoke03 SpectreSmokeLarge
ParticleSysBone  Smoke02 SpectreSmokeLarge
ParticleSysBone  Smoke05 SpectreSmokeLarge
End
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE DOOR_1_CLOSING
AliasConditionState  REALLYDAMAGED RUBBLE DOOR_1_OPENING

End

; ***DESIGN parameters ***
DisplayName          OBJECT:SpectreGunship
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)

ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            SpectreGunshipAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            SpectreGunshipCountermeasuresAirplaneArmor
DamageFX         None
End

WeaponSet
Conditions           None
Weapon               PRIMARY   SpectreHowitzerGun
End

; *** AUDIO Parameters ***
VoiceSelect          SpectreGunshipVoiceSelect
VoiceAttack          SpectreGunshipVoiceAttack
VoiceMove            SpectreGunshipVoiceMove
SoundAmbient         SpectreGunshipAmbientLoop
SoundAmbientRubble     NoSound
UnitSpecificSounds
Afterburner     SpectreGunshipAfterburnerLoop
HowitzerFire    SpectreHowitzerWeapon
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED IGNORES_SELECT_ALL

Body  ActiveBody ModuleTag_03
MaxHealth        1800.0
InitialHealth    1800.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level


Behavior                           JetSlowDeathBehavior ModuleTag_04
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      45.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_SpectreGunshipExplosionLight
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
FXFinalBlowUp                    FX_spectreGunshipDeathExplosion
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  500.0
End

Behavior  AIUpdateInterface ModuleTag_07
ForbidPlayerCommands  Yes ; this AIUpdate will only do command if from script or AI, not player
End
Locomotor  SET_PANIC  SpectreGunshipTransitLocomotor
Locomotor  SET_NORMAL SpectreGunshipOrbitLocomotor

Behavior  SpecialAbility ModuleTag_32
SpecialPowerTemplate  SuperweaponSpectreGunship
UpdateModuleStartsAttack  Yes
End


Behavior  SpectreGunshipUpdate ModuleTag_10
GattlingStrafeFXParticleSystem   SpectreGattlingArmsSmoke
SpecialPowerTemplate             SuperweaponSpectreGunship
HowitzerWeaponTemplate           SpectreHowitzerGun
GattlingTemplateName             SpectreGunshipGattlingCannon
RandomOffsetForHowitzer  20
TargetingReticleRadius   50
OrbitInsertionSlope      0.7   ; steepness of orbit entry
GunshipOrbitRadius       400
HowitzerFiringRate       1000  ; how long between each attempted shot of howitzer
HowitzerFollowLag        200   ; how long after gattling acquires target can howitzer shoot same
StrafingIncrement        20    ; how far apart is each shot of the gattling as it strafes
AttackAreaRadius         250
OrbitTime                20000 ; twenty seconds

AttackAreaDecal
Texture            SCCSpecTarg
Style              SHADOW_ALPHA_DECAL
OpacityMin         25%
OpacityMax         50%
OpacityThrobTime   1500
Color              R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer  Yes
End
TargetingReticleDecal
Texture            SCCSpecRet
Style              SHADOW_ALPHA_DECAL
OpacityMin         50%
OpacityMax         100%
OpacityThrobTime   300
Color              R:127 G:177 B:222 A:255
OnlyVisibleToOwningPlayer  Yes
End
End

Behavior  HelixContain ModuleTag_09
Slots                      1
DamagePercentToUnits       100%
AllowInsideKindOf          PORTABLE_STRUCTURE
PassengersAllowedToFire    Yes
ShouldDrawPips             No
End


Behavior  FlammableUpdate ModuleTag_08
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_11
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             4     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   2.0   ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        5     ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   450.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  SpecialPowerCompletionDie ModuleTag_023237
SpecialPowerTemplate  SuperweaponSpectreGunship
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object SpectreGunshipGattlingCannon

; *** ART Parameters ***
Draw                     W3DDependencyModelDraw ModuleTag_01
OkToChangeModelColor   Yes
AttachToBoneInContainer  CHASSIS

DefaultConditionState
Model                NVDeva_U2
AnimationMode        MANUAL
End

ConditionState         ATTACKING
Model                AVSpectre_G
Animation            AVSpectre_G.AVSpectre_G
AnimationMode        LOOP
TurretPitch          TURRETEL01
WeaponFireFXBone     PRIMARY Muzzle
WeaponLaunchBone     PRIMARY Muzzle
WeaponMuzzleFlash    PRIMARY MuzzleFX
End

End

; ***DESIGN parameters ***
Side              America
EditorSorting     SYSTEM
TransportSlotCount  1
WeaponSet
Conditions           None
Weapon               PRIMARY   SpectreGattlingGun
End

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End
VisionRange      200

; *** AUDIO Parameters ***
UnitSpecificSounds
TurretMoveStart  NoSound
TurretMoveLoop   NoSound ;TurretMoveLoop
VoiceRapidFire   NoSound
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY
TurretTurnRate       160   // turn rate, in degrees per sec
TurretPitchRate      160
AllowsPitch          Yes
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior  PointDefenseLaserUpdate ModuleTag_HellfireMissilePod
WeaponTemplate         SpectreHellFireMissilePod
PrimaryTargetTypes     VEHICLE
SecondaryTargetTypes   AIRCRAFT
ScanRate               30
ScanRange              300.0
PredictTargetVelocityFactor  1.0
End

Behavior              DestroyDie ModuleTag_04
;nothing
End

Geometry             BOX
GeometryMajorRadius  20.0
GeometryMinorRadius  3.0
GeometryHeight       3.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
ShadowSizeX          89

End


;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVGlbMstr_D1
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  RUBBLE
Model            NONE
End
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVCargoPln
Animation        AVCargoPln.AVCargoPln
AnimationMode    LOOP
ParticleSysBone  Propeller01 JetBlackTrailThin
ParticleSysBone  Propeller02 JetBlackTrailThin
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVCargoPln_D
Animation        AVCargoPln_D.AVCargoPln_D
AnimationMode    LOOP
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVCargoPln_D1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVCargoPln_A2
Animation        AVCargoPln_A2.AVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End


Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End



;------------------------------------------------------------------------------
Object AmericaJetGlobeMasterCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVGlbMstr
HideSubObject    Ramp
ParticleSysBone  Engine01 JetBlackTrailThin
ParticleSysBone  Engine02 JetBlackTrailThin
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End

ConditionState  DAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            AVGlbMstr_D
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Engine03 JetBlackTrailThin
ParticleSysBone  Engine04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

ConditionState  RUBBLE
Model            AVGlbMstr_D1
HideSubObject    Ramp
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke06 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke05 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke06 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke05 JetSmokeLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_OPENING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  DOOR_1_CLOSING
Model            AVGlbMstr
Animation        AVGlbMstr.AVGlbMstr
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS HOUSECOLOR01
End
ConditionState  RUBBLE
Model            NONE
End
AliasConditionState  RUBBLE DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End

ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  GlobeMasterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SCORE TRANSPORT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL GlobeMasterCargoPlaneLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AmericaJetLaserPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVTMD
Animation        AVTMD.AVTMD
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            AVTMD_D
Animation        AVTMD_D.AVTMD_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            AVTMD_D
Animation        AVTMD_D.AVTMD_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model            AVTMD_D1
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVTMD_A1
Animation        AVTMD_A1.AVTMD_A1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
ConditionState  REALLYDAMAGED
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED
ConditionState  REALLYDAMAGED DOOR_1_OPENING
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
AliasConditionState  DAMAGED DOOR_1_OPENING
ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model            AVTMD_DA1
Animation        AVTMD_DA1.AVTMD_DA1
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
AliasConditionState  DAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  TacticalMissileDefencePlaneAmbientLoop

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS VEHICLE TRANSPORT AIRCRAFT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        850.0
InitialHealth    850.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  AmericaParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL TacticalMissileDefencePlaneLocomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior                OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponGuardianAngel
OCL                   SUPERWEAPON_America_TacticalMissileDefence
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_12
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_14
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  PointDefenseLaserUpdate ModuleTag_Laser01
WeaponTemplate         TacticalMissileDefencePlanePointDefenceLaser
PrimaryTargetTypes     BALLISTIC_MISSILE SMALL_MISSILE
ScanRate               100
ScanRange              180.0
PredictTargetVelocityFactor  3.0
End

Behavior  SpecialPowerCompletionDie ModuleTag_0124123
SpecialPowerTemplate  SuperweaponGuardianAngel
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AmericaJetLeafletCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

DefaultConditionState
Model            AVLfltPln
HideSubObject    DOOR
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model            AVLfltPln_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            AVLfltPln_D
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
ConditionState  RUBBLE
Model            AVLfltPln_D1
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
End

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    MANUAL
HideSubObject    CHASSIS
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            AVLfltPln
Animation        AVLfltPln.AVLfltPln
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End
CommandSet         AmericaScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  TacticalMissileDefencePlaneAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        500.0
InitialHealth    500.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower03
SpecialPowerTemplate  SuperweaponParadropAmerica
UpgradeOCL            SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
UpgradeOCL            SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
OCL                   SUPERWEAPON_Paradrop1
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior            OCLSpecialPower ModuleTag_GenPower10
SpecialPowerTemplate  SuperweaponLeafletDrop
OCL                   SUPERWEAPON_LeafletDrop
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_11
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  TransitionDamageFX ModuleTag_17
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   150.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length
End