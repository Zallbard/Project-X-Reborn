;------------------------------------------------------------------------------
Object AmericaTankCrusader

; *** ART Parameters ***
SelectPortrait         = SXCrusader
ButtonImage            = SXCrusader

;  UpgradeCameo1 = Upgrade_AmericaTOWMissile
;  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
;  UpgradeCameo2 = Upgrade_AmericaCompositeArmor
;UpgradeCameo5 = NONE

Draw = W3DTankDraw ModuleTag_01
DefaultConditionState
Model               = AVLeoAdv
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER
End
ConditionState       = REALLYDAMAGED RUBBLE
Model              = AVLeoAdv_D
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER
End
ConditionState       = WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
ShowSubObject       = LAUNCHER
End
ConditionState       = REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv_D
Turret              = Turret
WeaponFireFXBone    = PRIMARY Muzzle
WeaponRecoilBone    = PRIMARY Barrel
WeaponMuzzleFlash   = PRIMARY MuzzleFX
WeaponLaunchBone    = PRIMARY Muzzle
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
ShowSubObject       = LAUNCHER
End

ConditionState       = WEAPONSET_HERO
Model              = AVLeoAdv_L
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER RODS01 STEALTHGENERATO
End
ConditionState       = WEAPONSET_HERO REALLYDAMAGED RUBBLE
Model              = AVLeoAdv_LD
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = LAUNCHER RODS01 STEALTHGENERATO
End
ConditionState       = WEAPONSET_HERO WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv_L
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = RODS01 STEALTHGENERATO
ShowSubObject       = LAUNCHER
End
ConditionState       = WEAPONSET_HERO REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
Model              = AVLeoAdv_LD
Turret              = Turret
WeaponFireFXBone    = PRIMARY WEAPONA
WeaponRecoilBone    = PRIMARY Barrel
WeaponLaunchBone    = PRIMARY WEAPONA
WeaponMuzzleFlash   = PRIMARY WEAPONA
WeaponFireFXBone    = TERTIARY WeaponA01
WeaponLaunchBone    = TERTIARY WeaponA01
HideSubObject       = RODS01 STEALTHGENERATO
ShowSubObject       = LAUNCHER
End

TrackMarks           = EXTnkTrack.tga
TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
OkToChangeModelColor = Yes
End

; ***DESIGN parameters ***
DisplayName      = OBJECT:Crusader
Side                   = America
EditorSorting          = VEHICLE
TransportSlotCount     = 5

WeaponSet
Conditions           = None
Weapon               = PRIMARY CrusaderTankGun
;Weapon               = SECONDARY CrusaderMachineGun
;Weapon               = TERTIARY CrusaderAntiGun
;PreferredAgainst     = PRIMARY STRUCTURE
;AutoChooseSources    = PRIMARY FROM_SCRIPT FROM_AI
;AutoChooseSources    = SECONDARY FROM_SCRIPT FROM_AI
End
WeaponSet
Conditions           = PLAYER_UPGRADE
Weapon               = PRIMARY CrusaderTankGun
Weapon               = TERTIARY CrusaderMissileWeapon
End
;WeaponSet
;Conditions           = HERO
;Weapon               = PRIMARY LaserTankWeapon
;End
;WeaponSet
;Conditions           = HERO PLAYER_UPGRADE
;Weapon               = PRIMARY LaserTankWeapon
;Weapon               = TERTIARY CrusaderMissileWeapon
;End

ArmorSet
Conditions           = None
Armor                = TankArmor
DamageFX             = TankDamageFX
End
;ArmorSet
;  Conditions           = PLAYER_UPGRADE
;  Armor                = UpgradedTankArmor
;  DamageFX             = TankDamageFX
;End
BuildCost              = 900
BuildTime              = 10.0          ;in seconds
VisionRange            = 250
ShroudClearingRange = 275
Prerequisites
Object = AmericaWarFactory
End
ExperienceValue        = 100 100 200 400 ;Experience point value at each level
ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
IsTrainable            = Yes  ;Can gain experience
CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet             = AmericaTankCrusaderCommandSet

; *** AUDIO Parameters ***
VoiceSelect           = CrusaderTankVoiceSelect
VoiceMove             = CrusaderTankVoiceMove
VoiceGuard            = CrusaderTankVoiceMove
VoiceAttack           = CrusaderTankVoiceAttack
SoundMoveStart        = CrusaderTankMoveStart
SoundMoveStartDamaged = CrusaderTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate         = CrusaderTankVoiceCreate
VoiceEnter             = CrusaderTankVoiceMove
TurretMoveStart     = NoSound
TurretMoveLoop      = TurretMoveLoop
SoundEject          = PilotSoundEject
VoiceEject          = PilotVoiceEject
VoiceCrush          = CrusaderTankVoiceCrush
End

; *** ENGINEERING Parameters ***
RadarPriority          = UNIT
KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT VEHICLE SCORE

Body                   = ActiveBody ModuleTag_02
MaxHealth       = 500
InitialHealth   = 500
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate       = 60
ControlledWeaponSlots= PRIMARY SECONDARY TERTIARY
End
AutoAcquireEnemiesWhenIdle = Yes
End
Locomotor            = SET_NORMAL CrusaderLocomotor
Behavior = PhysicsBehavior ModuleTag_04
Mass                 = 50.0
End

;Drones
Behavior  ObjectCreationUpgrade ModuleTag_05
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End
Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End
Behavior = ProductionUpdate ModuleTag_405
MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
End

Behavior = ExperienceScalarUpgrade ModuleTag_08
TriggeredBy   = Upgrade_AmericaAdvancedTraining
AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
End

Behavior = MaxHealthUpgrade ModuleTag_09
TriggeredBy   = Upgrade_AmericaCompositeArmor
AddMaxHealth  = 100.0
ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
End

; Turret fly off death
Behavior = SlowDeathBehavior ModuleTag_10
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier  = 50
DestructionDelay  = 500
DestructionDelayVariance  = 100
FX  = INITIAL  FX_GenericTankDeathEffect
OCL = MIDPOINT OCL_GenericTankDeathEffect
FX  = FINAL    FX_GenericTankDeathExplosion
OCL = FINAL    OCL_CrusaderTurret
End

; Catch fire, and explode death
Behavior = SlowDeathBehavior ModuleTag_11
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier  = 50
DestructionDelay  = 2000
DestructionDelayVariance  = 300
FX  = INITIAL  FX_CrusaderCatchFire
OCL = FINAL    OCL_GenericTankDeathEffect
FX  = FINAL    FX_GenericTankDeathExplosion
End

Behavior                 = TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior = InstantDeathBehavior ModuleTag_13
DeathTypes = NONE +CRUSHED +SPLATTED
OCL    = OCL_CrusaderTank_CrushEffect
FX     = FX_CarCrush
End

Behavior                    = CreateCrateDie ModuleTag_CratesChange
CrateData             = SalvageCrateData
;CrateData             = EliteTankCrateData
;CrateData             = HeroicTankCrateData
End

Behavior = EjectPilotDie ModuleTag_17
GroundCreationList = OCL_EjectPilotOnGround
AirCreationList = OCL_EjectPilotViaParachute
ExemptStatus = HIJACKED
VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
End
Behavior = FXListDie ModuleTag_HijackerFix02
DeathTypes = ALL -CRUSHED -SPLATTED
RequiredStatus = HIJACKED
DeathFX = FX_HijackerEject
End

;Behavior = ObjectCreationUpgrade ModuleTag_HeroSFX
;UpgradeObject = OCL_HeroicUnitRankUp
;TriggeredBy   = Upgrade_Veterancy_HEROIC
;FXListUpgrade = FX_HeroicUnitRankUp
;End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

;Behavior = WeaponSetUpgrade ModuleTag_22
;TriggeredBy = Upgrade_AmericaTOWMissile
;End

;Behavior = VeterancyGainCreate ModuleTag_AIVeterancy1
;StartingLevel = VETERAN
;ScienceRequired = SCIENCE_AIForcePromotionVeteran
;End

;Behavior = VeterancyGainCreate ModuleTag_AIVeterancy2
;StartingLevel = ELITE
;ScienceRequired = SCIENCE_AIForcePromotionElite
;End

;Behavior = VeterancyGainCreate ModuleTag_AIVeterancy3
;StartingLevel = HEROIC
;ScienceRequired = SCIENCE_AIForcePromotionHeroic
;End

Geometry               = BOX
GeometryMajorRadius    = 15.0
GeometryMinorRadius    = 10.0
GeometryHeight         = 10.0
GeometryIsSmall        = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

