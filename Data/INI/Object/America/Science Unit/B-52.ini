Object AmericaJetB52

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
ConditionState  NONE
Model  AVB52
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
End
ConditionState  DAMAGED
Model  AVB52_D
HideSubObject  BOMBDOOR01 BOMBDOOR02
ParticleSysBone  EHXAUST01 JetBlackTrailThin
ParticleSysBone  EHXAUST02 JetBlackTrailThin
ParticleSysBone  EHXAUST03 JetBlackTrailThin
ParticleSysBone  EHXAUST04 JetBlackTrailThin
ParticleSysBone  WingTip01 JetContrailThin
ParticleSysBone  WingTip02 JetContrailThin
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
AliasConditionState  REALLYDAMAGED
ConditionState  RUBBLE
Model  AVB52_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
End
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_OPENING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
ConditionState  DOOR_1_CLOSING
Model            AVB52
Animation        AVB52.AVB52
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
ConditionState  DAMAGED
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED
ConditionState  DAMAGED DOOR_1_OPENING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
ConditionState  DAMAGED DOOR_1_CLOSING
Model            AVB52_D
Animation        AVB52_D.AVB52_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
HideSubObject    CHASSIS
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
End

; ***DESIGN parameters ***
DisplayName          OBJECT:B52
EditorSorting        VEHICLE
Side                 America
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         TankDamageFX
End
ArmorSet
Conditions             PLAYER_UPGRADE
Armor                  GenPowerCountermeasuresAirplaneArmor
DamageFX               None
End

; *** AUDIO Parameters ***
SoundAmbient  B52AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      50 50 50 50  ; Experience point value at each level

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower09
SpecialPowerTemplate  SuperweaponCarpetBomb
UpgradeOCL            SCIENCE_CarpetBomb3 SUPERWEAPON_CarpetBomb_B2
UpgradeOCL            SCIENCE_CarpetBomb2 SUPERWEAPON_CarpetBomb_B1B
OCL                   SUPERWEAPON_CarpetBomb_B52
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior  PhysicsBehavior ModuleTag_07
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_08
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          300     ; time in between each item dropped (if more than one)
PutInContainer     AmericaParachute
DeliveryDistance   150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_09
Slots                        100                     ; hey, it's a BIG transport
ScatterNearbyOnExit          No
OrientLikeContainerOnExit    Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate                30
ExitBone                     WeaponA01
AllowInsideKindOf            INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths            0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

Behavior  TransitionDamageFX ModuleTag_11
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Behavior                 ArmorUpgrade ModuleTag_Armor01
TriggeredBy            Upgrade_AmericaCountermeasures
End

Behavior                 CountermeasuresBehavior ModuleTag_Armor02
TriggeredBy            Upgrade_AmericaCountermeasures
FlareTemplateName      CountermeasureFlare
FlareBoneBaseName      Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
VolleySize             1     ; Number of flares launched per volley (requires bones)
VolleyArcAngle         60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
VolleyVelocityFactor   0.45  ; Shoots out flares at a stronger velocity with a higher value.
DelayBetweenVolleys    1000  ; Time between flare volleys
NumberOfVolleys        16    ; Number of times the volleys will fire before reloading
ReloadTime             0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
EvasionRate            30%   ; With active flares, the specified percentage will be diverted.
ReactionLaunchLatency  0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
MissileDecoyDelay      200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
End

Behavior  MaxHealthUpgrade ModuleTag_ExtraArmor01
TriggeredBy    Upgrade_AmericaGenPowerPlaneArmor
AddMaxHealth   250.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  60.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaJetB52_None

; ***DESIGN parameters ***
DisplayName           OBJECT:B52
EditorSorting         VEHICLE
TransportSlotCount    0                 ;how many "slots" we take in a transport (0 == not transportable)
ArmorSet
Conditions        None
Armor             InvulnerableArmorAll
DamageFX          TankDamageFX
End
; *** AUDIO Parameters ***
SoundAmbient   B52AmbientLoop
SoundAmbientRubble      NoSound

; *** ENGINEERING Parameters ***
RadarPriority   NOT_ON_RADAR
KindOf   PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
Body   ActiveBody ModuleTag_03
MaxHealth         2000.0
InitialHealth     2000.0
End
Behavior   PhysicsBehavior ModuleTag_07
Mass   500.0
End

Behavior   DeliverPayloadAIUpdate ModuleTag_08
DoorDelay           500
MaxAttempts         4
DropOffset          X:0 Y:0 Z:-10
DropDelay           300     ; time in between each item dropped (if more than one)
PutInContainer      AmericaParachute
DeliveryDistance    150
End
Locomotor   SET_NORMAL B52Locomotor

Behavior   TransportContain ModuleTag_09
Slots                         100                     ; hey, it's a BIG transport
ScatterNearbyOnExit           No
OrientLikeContainerOnExit     Yes
KeepContainerVelocityOnExit   Yes
ExitPitchRate                 30
ExitBone                      WeaponA01
AllowInsideKindOf             INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime                  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths             0
DestroyRidersWhoAreNotFreeToExit   Yes  ; 'destroy' as opposed to 'kill'
End

Behavior                            JetSlowDeathBehavior ModuleTag_10
DestructionDelay                  2000
RollRate                          0.0
RollRateDelta                     100%      ;each frame, rollrate   rollrate * rollrateDelta
PitchRate                         0
FallHowFast                       25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                    FX_JetBigDeathInitial
OCLInitialDeath                   OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath    2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                      OCL_AmericaJetCargoHulkDeath
FXSecondary                       FX_BigPlaneDeath
End
End

Object B52GrangerCarpetBombVoice

; ***DESIGN parameters ***
DisplayName        OBJECT:CarpetBomb
Side   America
EditorSorting     SYSTEM
TransportSlotCount   1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange   300.0
ArmorSet
Conditions        None
Armor             ProjectileArmor
DamageFX          None
End

; *** ENGINEERING Parameters ***
KindOf              PROJECTILE
Body   ActiveBody ModuleTag_02
MaxHealth         1000.0
InitialHealth     1000.0
End

; *** AUDIO Parameters ***
SoundFallingFromPlane     DaisyCutterWeapon
SoundEnter                AmericaGrangerCarpetBomberDropping

Behavior   HelixContain ModuleTag_SoundTrigger01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      CAN_ATTACK
ExitDelay              50
End

Behavior   FireWeaponUpdate ModuleTag_SoundTrigger02
Weapon   BombReleaseVoiceDummyWeapon
End
Behavior   AIUpdateInterface ModuleTag_03
End
Locomotor   SET_NORMAL None
Behavior   PhysicsBehavior ModuleTag_04

Mass                    75.0
AerodynamicFriction     1     ; this is now friction-per-sec
ForwardFriction         33    ; this is now friction-per-sec
CenterOfMassOffset      2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
End
Behavior   HeightDieUpdate ModuleTag_06
TargetHeight   1.0
TargetHeightIncludesStructures   No
End
Behavior   DestroyDie ModuleTag_09
;nothing
End

Behavior   FireWeaponUpdate ModuleTag_BombReleaseSound01
Weapon   BombReleaseSoundDummyWeapon
End

End