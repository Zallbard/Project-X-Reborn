Object AmericaTankSheridan

; *** ART Parameters ***
SelectPortrait         = AVSheridan
ButtonImage            = AVSheridan

Draw = W3DTankDraw ModuleTag_01

OkToChangeModelColor = Yes
MaxRecoilDistance    = 2

DefaultConditionState
Model               = AVSheridan
Turret              = Turret
WeaponFireFXBone    = PRIMARY MUZZLE
WeaponRecoilBone    = PRIMARY BARREL
WeaponMuzzleFlash   = PRIMARY MUZZLEFX
WeaponLaunchBone    = PRIMARY MUZZLE
WeaponFireFXBone    = SECONDARY MUZZLE
WeaponLaunchBone    = SECONDARY MUZZLE
End
ConditionState       = REALLYDAMAGED
Model              = AVSheridan_D
End
ConditionState       = RUBBLE
Model              = AVSheridan_D
End

TrackMarks           = EXTnkTrack.tga
TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
End

Draw = W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model             = NONE
End
AliasConditionState = REALLYDAMAGED
AliasConditionState = RUBBLE

ConditionState = FREEFALL
Model             = EXParaPlate
End
AliasConditionState = FREEFALL REALLYDAMAGED
AliasConditionState = FREEFALL RUBBLE
AliasConditionState = PARACHUTING
AliasConditionState = PARACHUTING REALLYDAMAGED
AliasConditionState = PARACHUTING RUBBLE

End

; ***DESIGN parameters ***
DisplayName            = Object:AirfTankCrusader
Side                   = America
EditorSorting          = VEHICLE
TransportSlotCount     = 2
WeaponSet
Conditions           = None
Weapon               = PRIMARY SheridanTankGun
Weapon               = SECONDARY SheridanTankGunRocket
AutoChooseSources    = SECONDARY NONE
End
ArmorSet
Conditions           = None
Armor                = TankArmor
DamageFX             = TankDamageFX
End

Prerequisites
Object AmericaWarFactory
End

BuildCost 850
BuildTime 10.0
VisionRange 200
ShroudClearingRange 300

ExperienceValue        = 100 100 200 400 ;Experience point value at each level
ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
IsTrainable            = Yes  ;Can gain experience
CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
CommandSet             = AmericaTankSheridanCommandSet

; *** AUDIO Parameters ***
VoiceSelect           = PlasmaTankVoiceSelect
VoiceMove             = PlasmaTankVoiceMove
VoiceGuard            = PlasmaTankVoiceMove
VoiceAttack           = PlasmaTankVoiceAttack
SoundMoveStart        = SheridanTankMoveStart
SoundMoveStartDamaged = SheridanTankMoveStart
UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
VoiceCreate         = PlasmaTankVoiceCreate
VoiceEnter          = PlasmaTankVoiceMove
TurretMoveStart     = NoSound
TurretMoveLoop      = TurretMoveLoop
SoundEject          = PilotSoundEject
VoiceEject          = PilotVoiceEject
VoiceCrush          = PlasmaTankVoiceMove
End

; *** ENGINEERING Parameters ***
RadarPriority          = UNIT
KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

Body                   = ActiveBody ModuleTag_02
MaxHealth       = 400
InitialHealth   = 400

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap = 960
SubdualDamageHealRate = 500
SubdualDamageHealAmount = 50
End

Behavior = AIUpdateInterface ModuleTag_03
Turret
TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
MinIdleScanAngle      = 10
MaxIdleScanAngle      = 40
MinIdleScanInterval   = 5000
MaxIdleScanInterval   = 10000
ControlledWeaponSlots = PRIMARY SECONDARY
End
AutoAcquireEnemiesWhenIdle = Yes NotWhileAttacking
End
Locomotor            = SET_NORMAL AirfCrusaderLocomotor
Behavior = PhysicsBehavior ModuleTag_04
Mass                 = 50.0
End

Behavior = ObjectCreationUpgrade ModuleTag_05
UpgradeObject = OCL_AmericanBattleDrone
TriggeredBy   = Upgrade_AmericaBattleDrone
ConflictsWith = Upgrade_AmericaScoutDrone
End

Behavior = ObjectCreationUpgrade ModuleTag_06
UpgradeObject = OCL_AmericanScoutDrone
TriggeredBy   = Upgrade_AmericaScoutDrone
ConflictsWith = Upgrade_AmericaBattleDrone
End

Behavior = WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy   = Upgrade_AmericaScoutDrone
ConflictsWith = Upgrade_AmericaBattleDrone
End
Behavior = ProductionUpdate ModuleTag_07
MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
End

Behavior = ExperienceScalarUpgrade ModuleTag_08
TriggeredBy   = Upgrade_AmericaAdvancedTraining
AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
End

; Turret fly off death
Behavior = SlowDeathBehavior ModuleTag_10
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier  = 50
DestructionDelay  = 500
DestructionDelayVariance  = 100
FX  = INITIAL  FX_GenericTankDeathEffect
OCL = MIDPOINT OCL_AirfCrusaderDeathEffect
FX  = FINAL    FX_GenericTankDeathExplosion
OCL = FINAL    OCL_AirfCrusaderTurret
End

; Catch fire, and explode death
Behavior = SlowDeathBehavior ModuleTag_11
DeathTypes = ALL -CRUSHED -SPLATTED
ProbabilityModifier  = 50
DestructionDelay  = 2000
DestructionDelayVariance  = 300
FX  = INITIAL  FX_CrusaderCatchFire
OCL = FINAL    OCL_AirfCrusaderDeathEffect
FX  = FINAL    FX_GenericTankDeathExplosion
End

Behavior                 = TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior = DestroyDie ModuleTag_13
DeathTypes = NONE +CRUSHED +SPLATTED
End

; A crushing defeat
Behavior = FXListDie ModuleTag_14
DeathTypes = NONE +CRUSHED +SPLATTED
DeathFX = FX_CarCrush
End

Behavior = CreateObjectDie ModuleTag_15
DeathTypes = NONE +CRUSHED +SPLATTED
CreationList = OCL_CrusaderTank_CrushEffect
End

Behavior                    = CreateCrateDie ModuleTag_CratesChange
CrateData             = SalvageCrateData
;CrateData             = EliteTankCrateData
;CrateData             = HeroicTankCrateData
End

Behavior = EjectPilotDie ModuleTag_17
GroundCreationList = OCL_EjectPilotOnGround
AirCreationList = OCL_EjectPilotViaParachute
ExemptStatus = HIJACKED
VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
End

Behavior = FlammableUpdate ModuleTag_21
AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount = 3       ; taking this much damage...
AflameDamageDelay = 500       ; this often.
End

Behavior = EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes = ALL -CRUSHED -SPLATTED
RequiredStatus = HIJACKED
VeterancyLevels =  ALL
GroundCreationList = OCL_HijackerEmerge
AirCreationList = OCL_HijackerEmergeViaParachute
End

Behavior = FXListDie ModuleTag_HijackerEmerge02
RequiredStatus = HIJACKED
DeathTypes = ALL -CRUSHED -SPLATTED
DeathFX = FX_HijackerEmerge
End

Geometry               = BOX
GeometryMajorRadius    = 15.0
GeometryMinorRadius    = 10.0
GeometryHeight         = 10.0
GeometryIsSmall        = Yes
Shadow = SHADOW_VOLUME
ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object DeadAirfCrusaderHulk

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
ConditionState = NONE
Model = AVSheridan_D1
End
End

; ***DESIGN parameters ***
EditorSorting   = DEBRIS

; *** ENGINEERING Parameters ***
KindOf =  NO_COLLIDE HULK

Behavior = PhysicsBehavior ModuleTag_03
Mass = 100.0
AllowBouncing = Yes
KillWhenRestingOnGround = Yes
End
Behavior = LifetimeUpdate ModuleTag_04
MinLifetime = 1500   ; min lifetime in msec
MaxLifetime = 1600   ; max lifetime in msec
End

Behavior = SlowDeathBehavior ModuleTag_05
SinkDelay         1500
SinkRate          2     ; in Dist/Sec
DestructionDelay  4000
End
End

Object SheridanGunRocket

; *** ART Parameters ***
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
ConditionState = None
Model = EXJavelin
End
ConditionState = JAMMED
Model = EXJavelin
ParticleSysBone = None SparksMedium
End
End

; ***DESIGN parameters ***
DisplayName      = OBJECT:StingerMissile
EditorSorting   = SYSTEM
VisionRange = 0.0
ArmorSet
Conditions      = None
Armor           = ProjectileArmor
DamageFX        = None
End
TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)

; *** ENGINEERING Parameters ***
KindOf = PROJECTILE SMALL_MISSILE
Body = ActiveBody ModuleTag_02
MaxHealth       = 100.0
InitialHealth   = 100.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
; A projectile is not disabled, but instead loses target and scatters
SubdualDamageCap = 200
SubdualDamageHealRate = 100000
SubdualDamageHealAmount = 50
End

; ---- begin Projectile death behaviors
Behavior = InstantDeathBehavior DeathModuleTag_01
DeathTypes = NONE +DETONATED
; we detonated normally.
; no FX, just quiet destroy ourselves
End
Behavior = InstantDeathBehavior DeathModuleTag_02
DeathTypes = NONE +LASERED
; shot down by laser.
FX         = FX_GenericMissileDisintegrate
OCL        = OCL_GenericMissileDisintegrate
End
Behavior = InstantDeathBehavior DeathModuleTag_03
DeathTypes = ALL -LASERED -DETONATED
; shot down by nonlaser.
FX         = FX_GenericMissileDeath
End
; ---- end Projectile death behaviors

Behavior = PhysicsBehavior ModuleTag_06
Mass = 1
End
Behavior = MissileAIUpdate ModuleTag_07
TryToFollowTarget       = Yes
FuelLifetime            = 5000
InitialVelocity         = 200                ; in dist/sec
IgnitionDelay           = 0
DistanceToTravelBeforeTurning = 5
IgnitionFX              = None
DistanceToTargetForLock = 100  ; If it gets within 100 of the target, it kills the target.
End

Locomotor = SET_NORMAL StingerMissileLocomotor

Geometry = Sphere
GeometryIsSmall = Yes
GeometryMajorRadius = 2.0

End