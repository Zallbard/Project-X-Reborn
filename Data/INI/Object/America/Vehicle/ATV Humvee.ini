
Object AmericaVehicleAirborneHumvee

; *** ART Parameters ***
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor   Yes

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVATHmr
Animation          AVATHmr.AVATHmr
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      MuzzleFX01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
End

ConditionState  USING_WEAPON_A
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USING_WEAPON_B

ConditionState  REALLYDAMAGED
Model              AVATHmr_D
End

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
End
AliasConditionState  REALLYDAMAGED USING_WEAPON_B

ConditionState  RUBBLE
Model              AVATHmr_D1
End


ConditionState  SNOW
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW USING_WEAPON_A
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW USING_WEAPON_B

ConditionState  SNOW REALLYDAMAGED
Model              AVATHmr_D
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW REALLYDAMAGED USING_WEAPON_B

ConditionState  SNOW RUBBLE
Model              AVATHmr_D1
HideSubObject      Tire01 Tire02 Tire03 Tire04
End


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide


LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End
AliasConditionState  SNOW MOVING RUBBLE

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              AVAirbrnHmmr_N
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              AVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model              NONE
End

ConditionState  FIRING_A
Model              AVATHmr_Mzl
Animation          AVATHmr_Mzl.AVATHmr_Mzl
AnimationMode      ONCE
Turret             TURRET
Flags              RANDOMSTART
End
AliasConditionState  FIRING_B

End

; ***DESIGN parameters ***
DisplayName            OBJECT:AirborneHumvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY HumveeMinigun
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        500
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAirborneHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ATVHummerVoiceSelect
VoiceMove  ATVHummerVoiceMove
VoiceGuard  ATVHummerVoiceMove
VoiceAttack  ATVHummerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          ATVHummerVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           ATVHummerVoiceMove

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  ATVHummerVoiceUnload
VoiceEnter   ATVHummerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL AirborneHumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  TransportContain  ModuleTag_05
Slots                          5
DamagePercentToUnits           10%
AllowInsideKindOf              INFANTRY
ExitDelay                      100
NumberOfExitPaths              3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit             Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime                   2000
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior            OCLSpecialPower ModuleTag_PointDefenceDrone01
SpecialPowerTemplate  SpecialAbilityAmericaPointDefenceDrone
OCL                   OCL_AmericanPointDefenceDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_AirborneHumveeAirDeathStart
FX   INITIAL FX_AirborneHumveeAirDeathGroundPart
OCL  FINAL   OCL_RocketBuggyAirDeath
FX   FINAL   FX_RocketBuggyAirDeathAirPart
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  ATVHumveeWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  ATVHumveeWeaponBonusDecalWeapon
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AmericaVehicleAirborneHumvee_SingalMarker

; *** ART Parameters ***
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor   Yes

OkToChangeModelColor  Yes

DefaultConditionState
Model              AVATHmr
Animation          AVATHmr.AVATHmr
AnimationMode      ONCE
Flags              START_FRAME_LAST
Turret             TURRET
HideSubObject      MuzzleFX01
WeaponFireFXBone   PRIMARY Muzzle
WeaponLaunchBone   PRIMARY Muzzle
End

ConditionState  USING_WEAPON_A
AnimationMode      LOOP
Flags              MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USING_WEAPON_B

ConditionState  REALLYDAMAGED
Model              AVATHmr_D
End

ConditionState  REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
End
AliasConditionState  REALLYDAMAGED USING_WEAPON_B

ConditionState  RUBBLE
Model              AVATHmr_D1
End


ConditionState  SNOW
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW USING_WEAPON_A
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW USING_WEAPON_B

ConditionState  SNOW REALLYDAMAGED
Model              AVATHmr_D
HideSubObject      Tire01 Tire02 Tire03 Tire04
End

ConditionState  SNOW REALLYDAMAGED USING_WEAPON_A
Model              AVATHmr_D
Animation          AVATHmr_D.AVATHmr_D
AnimationMode      LOOP
HideSubObject      Tire01 Tire02 Tire03 Tire04
End
AliasConditionState  SNOW REALLYDAMAGED USING_WEAPON_B

ConditionState  SNOW RUBBLE
Model              AVATHmr_D1
HideSubObject      Tire01 Tire02 Tire03 Tire04
End


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
PowerslideSpray  RocketBuggyDirtPowerSlide


LeftFrontTireBone   Tire01
RightFrontTireBone  Tire02
LeftRearTireBone    Tire03
RightRearTireBone   Tire04
TireRotationMultiplier  0.2   ; this * speed  rotation.
PowerslideRotationAddition  1.25   ; This speed is added to the rotation speed when powersliding.

End

Draw  W3DTruckDraw ModuleTag_SnowTreads
OkToChangeModelColor  Yes

DefaultConditionState
Model  None
End
AliasConditionState  MOVING
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED MOVING
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE MOVING

ConditionState  SNOW
Model  AVHUMMER_S
End

ConditionState  SNOW MOVING
Model  AVHUMMER_SM
End

ConditionState  SNOW REALLYDAMAGED
Model  AVHUMMER_SD
End
AliasConditionState  SNOW RUBBLE

ConditionState  SNOW REALLYDAMAGED MOVING
Model  AVHUMMER_SDM
End
AliasConditionState  SNOW MOVING RUBBLE

LeftFrontTireBone   OBJECT01
RightFrontTireBone  OBJECT02
LeftRearTireBone    OBJECT03
RightRearTireBone   OBJECT04
TireRotationMultiplier  0.0   ; this * speed  rotation.
PowerslideRotationAddition  0.0   ; This speed is added to the rotation speed when powersliding.
End

Draw  W3DModelDraw ModuleTag_ParachutePlate01

DefaultConditionState
Model              AVAirbrnHmmr_N
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  FREEFALL
Model              AVParaPlate
End
AliasConditionState  FREEFALL REALLYDAMAGED
AliasConditionState  FREEFALL RUBBLE
AliasConditionState  PARACHUTING
AliasConditionState  PARACHUTING REALLYDAMAGED
AliasConditionState  PARACHUTING RUBBLE

End

Draw  W3DModelDraw ModuleTag_MuzzleFlash01

DefaultConditionState
Model              NONE
End

ConditionState  FIRING_A
Model              AVATHmr_Mzl
Animation          AVATHmr_Mzl.AVATHmr_Mzl
AnimationMode      ONCE
Turret             TURRET
Flags              RANDOMSTART
End
AliasConditionState  FIRING_B

End

; ***DESIGN parameters ***
DisplayName            OBJECT:AirborneHumvee
Side                   America
EditorSorting          VEHICLE
TransportSlotCount     3                 ;how many "slots" we take in a transport (0 == not transportable)

WeaponSet
Conditions         None
Weapon             PRIMARY HumveeMinigun
WeaponLockSharedAcrossSets  Yes
End

ArmorSet
Conditions       None
Armor            HumveeArmor
DamageFX         TruckDamageFX
End

BuildCost        500
BuildTime        10.0          ;in seconds
VisionRange      225
ShroudClearingRange  250

Prerequisites
Object  AmericaWarFactory
End

ExperienceValue     40 40  60  120   ;Experience point value at each level
ExperienceRequired  0  100 200 300  ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel            2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet       AmericaVehicleAirborneHumveeCommandSet

; *** AUDIO Parameters ***
VoiceSelect  ATVHummerVoiceSelect
VoiceMove  ATVHummerVoiceMove
VoiceGuard  ATVHummerVoiceMove
VoiceAttack  ATVHummerVoiceAttack
SoundMoveStart  HumveeMoveStart
SoundMoveStartDamaged  HumveeMoveStart
SoundEnter  HumveeEnter
SoundExit  HumveeExit

UnitSpecificSounds
VoiceCreate          ATVHummerVoiceCreate
SoundEject           PilotSoundEject
VoiceEject           PilotVoiceEject
VoiceCrush           ATVHummerVoiceMove

TruckLandingSound     RocketBuggyLand
TruckPowerslideSound  RocketBuggyPowerslide
VoiceUnload  ATVHummerVoiceUnload
VoiceEnter   ATVHummerVoiceMove
End


; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

Body  ActiveBody ModuleTag_02
MaxHealth        220.0
InitialHealth    220.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  480
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
TurretTurnRate  180
ControlledWeaponSlots  PRIMARY
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         250
End
Locomotor  SET_NORMAL AirborneHumveeLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  40.0
End

Behavior  TransportContain  ModuleTag_05
Slots                          5
DamagePercentToUnits           10%
AllowInsideKindOf              INFANTRY
ForbidInsideKindOf     VEHICLE
ExitDelay                      100
NumberOfExitPaths              3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit             Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime                   2000
End


Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_AmericanBattleDrone
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior  ObjectCreationUpgrade ModuleTag_07
UpgradeObject  OCL_AmericanScoutDrone
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  WeaponBonusUpgrade ModuleTag_TargeteerDroneBonus01
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio01
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaScoutDrone
ConflictsWith  Upgrade_AmericaBattleDrone
End

Behavior  ModelConditionUpgrade ModuleTag_DroneRadio02
ConditionFlag  USER_1
TriggeredBy    Upgrade_AmericaBattleDrone
ConflictsWith  Upgrade_AmericaScoutDrone
End

Behavior            OCLSpecialPower ModuleTag_PointDefenceDrone01
SpecialPowerTemplate  SpecialAbilityAmericaPointDefenceDrone
OCL                   OCL_AmericanPointDefenceDrone
CreateLocation        USE_OWNER_OBJECT
End

Behavior  ProductionUpdate ModuleTag_08
MaxQueueEntries  1; So you can't build multiple upgrades in the same frame
End

Behavior  DefaultProductionExitUpdate ModuleTag_AirBorneCallin02
UnitCreatePoint     X:  0.0  Y:  0.0   Z:0.0
NaturalRallyPoint   X:  0.0  Y:  0.0   Z:0.0
End

Behavior  ExperienceScalarUpgrade ModuleTag_10
TriggeredBy  Upgrade_AmericaAdvancedTraining
AddXPScalar  1.0 ;Increases experience gained by an additional 100%
End

Behavior  SlowDeathBehavior ModuleTag_11
DeathTypes  ALL -CRUSHED -SPLATTED
DestructionDelay  500
DestructionDelayVariance  1500
OCL  INITIAL OCL_AirborneHumveeAirDeathStart
FX   INITIAL FX_AirborneHumveeAirDeathGroundPart
OCL  FINAL   OCL_RocketBuggyAirDeath
FX   FINAL   FX_RocketBuggyAirDeathAirPart
End

Behavior  DestroyDie ModuleTag_12
DeathTypes  NONE +CRUSHED +SPLATTED
End

Behavior  FXListDie ModuleTag_13
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  CreateCrateDie ModuleTag_CratesChange
CrateData  SalvageCrateData
End

Behavior  EjectPilotDie ModuleTag_16
DeathTypes  ALL -CRUSHED -SPLATTED
ExemptStatus  HIJACKED
VeterancyLevels   ALL -REGULAR ;only vet+ gives pilot
GroundCreationList  OCL_EjectVehiclePilotOnGround
AirCreationList  OCL_EjectVehiclePilotViaParachute
End

Behavior  TransitionDamageFX ModuleTag_17
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED
DeathFX  FX_HijackerEmerge
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonus01
Weapon  ATVHumveeWeaponBonusWeapon
End

Behavior  FireWeaponUpdate ModuleTag_WeaponBonusDecal01
Weapon  ATVHumveeWeaponBonusDecalWeapon
End

;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
Behavior  FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
DeathWeapon    InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
StartsActive   Yes
End

Behavior   ObjectCreationUpgrade ModuleTag_AlwaysGrantedUpgrade03
UpgradeObject   OCL_ATVHumveeInfantry
TriggeredBy   Upgrade_CostReduction
End
Behavior   GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade04
UpgradeToGrant   Upgrade_CostReduction
End

Geometry  BOX
GeometryMajorRadius  14.0
GeometryMinorRadius  7.0
GeometryHeight  11.5
GeometryIsSmall  Yes
Shadow  SHADOW_VOLUME
ShadowSizeX  45  ; minimum elevation angle above horizon. Used to limit shadow length

End

Object AirDeployMarkerSpawnObject_ATVHumvee
; ***DESIGN parameters ***
VisionRange = 150.0
EditorSorting = VEHICLE
Side = America
Behavior = OCLUpdate ModuleTag_797     ; Context window is a reaction to this, no CommandSet
OCL = OCL_AirDeployMarker_ATVHumvee
MinDelay = 1000
MaxDelay = 1000
CreateAtEdge = No ;Yes     ; as opposed to just creating on self
End
KindOf = NO_COLLIDE IMMOBILE UNATTACKABLE INERT
; *** ENGINEERING Parameters ***
Body = ImmortalBody ModuleTag_798
MaxHealth = 1
InitialHealth = 1
End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = VETERAN
;    ScienceRequired = SCIENCE_SOCOM_ReconTraining
;  End

Behavior = DeletionUpdate ModuleTag_799     ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime = 1100     ; InitialDelay + TransitionTime for Vision Update
MaxLifetime = 1100
End
BuildTime = 10.0
BuildCost = 1000
SelectPortrait          SAAirborneHumvee_L
ButtonImage             SAAirborneHumvee
End

Object AmericanATVHumveeBonusDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  FIREPOINT01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI FS_FAKE
Body             StructureBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  30
MaxLifetime  30
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                2.0
ShadowSizeX  164;
ShadowSizeY  164;
ShadowTexture  SSCAmmoDump;

End

Object AmericanATVHumveeWeaponBonusObject


Behavior  DeletionUpdate ModuleTag_0345
MinLifetime  300
MaxLifetime  300
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf  INFANTRY CAN_ATTACK          ; Must be set
ForbiddenAffectKindOf  STRUCTURE AIRCRAFT DEMOTRAP UNATTACKABLE DRONE; Must be clear
BonusDuration  500                        ; How long effect lasts
BonusDelay  300                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  80                            ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

End