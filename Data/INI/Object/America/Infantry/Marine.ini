Object AmericaInfantryMarine
Scale = 0.9
SelectPortrait = SACommando
ButtonImage = SACommando

; ART Parameters ******************************
Draw = W3DModelDraw ModuleTag_01
OkToChangeModelColor = Yes
; -----------------------------------
; STANDING --------------------------
; -----------------------------------

; idle --------------------------
DefaultConditionState
Model = AISeal2b_SKN ;AICOMM_SKN     ; AIHERO_SKN
IdleAnimation = AIPFDR_SKL.AIPFDR_STA
IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
AnimationMode = ONCE
WeaponFireFXBone = PRIMARY Muzzle01
WeaponMuzzleFlash = PRIMARY MuzzleFX01
WeaponFireFXBone = SECONDARY Muzzle01
WeaponMuzzleFlash = SECONDARY MuzzleFX01
WeaponLaunchBone = SECONDARY Muzzle
TransitionKey = TRANS_Standing
HideSubObject = LASER
End
AliasConditionState = REALLYDAMAGED

; moving --------------------------
ConditionState = MOVING
Model = AISeal2b_SKN
Animation = AIPFDR_SKL.AIPFDR_RNA 25 ;AISeal2_SKL.AIPFDR_RNA 25
AnimationMode = LOOP
Flags = RANDOMSTART
TransitionKey = TRANS_Standing
ParticleSysBone = None InfantryDustTrails
End
AliasConditionState = MOVING REALLYDAMAGED

; firing --------------------------
ConditionState = FIRING_A
Model = AISeal2_SKN
Animation = AISeal2_SKL.AISeal2_ATB ;AIPFDR_ATB     ; recoil in standing position
AnimationMode = ONCE
TransitionKey = TRANS_FiringA
ShowSubObject = LASER
End
AliasConditionState = FIRING_A MOVING
AliasConditionState = FIRING_A MOVING REALLYDAMAGED
AliasConditionState = FIRING_A REALLYDAMAGED

; aiming --------------------------
ConditionState = BETWEEN_FIRING_SHOTS_A
Model = AISeal2_SKN
Animation = AISeal2_SKL.AISeal2_ATB ;AIPFDR_ATB     ; recoil in standing position
AnimationMode = MANUAL
TransitionKey = TRANS_FiringA
Flags = START_FRAME_LAST
WaitForStateToFinishIfPossible = TRANS_FiringA
ShowSubObject = LASER
End
AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
AliasConditionState = RELOADING_A
AliasConditionState = RELOADING_A REALLYDAMAGED

TransitionState = Trans_Standing Trans_FiringA
Animation = AIPFDR_SKL.AIPFDR_ATBTR
AnimationMode = ONCE
End

TransitionState = Trans_FiringA Trans_Standing
Animation = AIPFDR_SKL.AIPFDR_ATBTR
AnimationMode = ONCE_BACKWARDS
Flags = START_FRAME_LAST
End

;BOMB PLANTING
; --------------------------------------
ConditionState = UNPACKING
Model = AISeal2b_SKN
Animation = AIPFDR_SKL.AIPFDR_BMB
AnimationMode = ONCE
End
AliasConditionState = MOVING UNPACKING
AliasConditionState = UNPACKING REALLYDAMAGED
AliasConditionState = MOVING UNPACKING REALLYDAMAGED

; -----------------------------------
; SWIMMING --------------------------
; -----------------------------------

ConditionState = OVER_WATER
Model = AISealBoat
Animation = AISealBoat.AISealBoat
AnimationMode = MANUAL ;LOOP
WeaponFireFXBone = PRIMARY Muzzle01
WeaponFireFXBone = SECONDARY Muzzle01
TransitionKey = TRANS_Standing_W
HideSubObject = LASER
ParticleSysBone = None SwimmingInfantryWaterRipples
End
AliasConditionState = OVER_WATER REALLYDAMAGED
AliasConditionState = MOVING OVER_WATER REALLYDAMAGED
AliasConditionState = DYING OVER_WATER

ConditionState = FIRING_A OVER_WATER
Model = AISealBoat
Animation = AISealBoat.AISealBoat
AnimationMode = ONCE ;LOOP
WeaponFireFXBone = PRIMARY Muzzle01
WeaponFireFXBone = SECONDARY Muzzle01
TransitionKey = TRANS_FiringA_W
ShowSubObject = LASER
ParticleSysBone = None SwimmingInfantryWaterRipples
End
AliasConditionState = FIRING_A MOVING OVER_WATER
AliasConditionState = FIRING_A MOVING OVER_WATER REALLYDAMAGED
AliasConditionState = FIRING_A OVER_WATER REALLYDAMAGED
ConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER
Model = AISealBoat
Animation = AISealBoat.AISealBoat
AnimationMode = MANUAL ;LOOP
WeaponFireFXBone = PRIMARY Muzzle01
WeaponFireFXBone = SECONDARY Muzzle01
Flags = START_FRAME_LAST
WaitForStateToFinishIfPossible = TRANS_FiringA_W
ShowSubObject = LASER
ParticleSysBone = None SwimmingInfantryWaterRipples
End
AliasConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER REALLYDAMAGED
AliasConditionState = RELOADING_A OVER_WATER
AliasConditionState = RELOADING_A OVER_WATER REALLYDAMAGED




; moving --------------------------
;ConditionState = MOVING OVER_WATER
;  Animation = AISeal2_SKL.AIPFDR_CLA 25
;  AnimationMode = LOOP
;  Flags = RANDOMSTART
;  TransitionKey = TRANS_Swimming
;  ParticleSysBone = None SwimmingInfantryWaterRipples
;End
;AliasConditionState = MOVING OVER_WATER REALLYDAMAGED

; firing --------------------------
;ConditionState = FIRING_A OVER_WATER
;  Animation = AISeal2_SKL.AISeal2_ATB ;AIPFDR_ATB     ; recoil in standing position
;  AnimationMode = ONCE
;  TransitionKey = TRANS_FiringA
;  ShowSubObject = LASER
;End
;AliasConditionState = FIRING_A MOVING OVER_WATER
;AliasConditionState = FIRING_A MOVING OVER_WATER REALLYDAMAGED
;AliasConditionState = FIRING_A OVER_WATER REALLYDAMAGED

; aiming --------------------------
;ConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER
;  Animation = AISeal2_SKL.AIPFDR_RNA
;  AnimationMode = LOOP
;  AnimationSpeedFactorRange = 0.25 0.25
;  WaitForStateToFinishIfPossible = TRANS_FiringA
;  ShowSubObject = LASER
;End
;AliasConditionState = BETWEEN_FIRING_SHOTS_A OVER_WATER REALLYDAMAGED
;AliasConditionState = RELOADING_A OVER_WATER
;AliasConditionState = RELOADING_A  OVER_WATER REALLYDAMAGED

; ---
;ConditionState = DYING OVER_WATER
;  Animation = AISeal2_SKL.AIPFDR_ADTA3
;  AnimationMode = ONCE
;  TransitionKey = TRANS_Dying
;End
; -------------------------------------------------

; dying -----------------------------
ConditionState = DYING
Animation = AIPFDR_SKL.AIPFDR_DTA
AnimationMode = ONCE
TransitionKey = TRANS_Dying
End
TransitionState = TRANS_Dying TRANS_Flailing
Animation = AIPFDR_SKL.AIPFDR_ADTA1
AnimationMode = ONCE
End
ConditionState = DYING EXPLODED_FLAILING
Animation = AIPFDR_SKL.AIPFDR_ADTA2
AnimationMode = LOOP
TransitionKey = TRANS_Flailing
End
;AliasConditionState = DYING EXPLODED_FLAILING OVER_WATER

ConditionState = DYING EXPLODED_BOUNCING
Animation = AIPFDR_SKL.AIPFDR_ADTA3
AnimationMode = ONCE
TransitionKey = None
End
;AliasConditionState = DYING EXPLODED_BOUNCING OVER_WATER

ConditionState = FREEFALL
Animation = AIPFDR_SKL.AIPFDR_PFL
AnimationMode = LOOP
TransitionKey = TRANS_Falling
End
AliasConditionState = FREEFALL DYING
;AliasConditionState = FREEFALL OVER_WATER
;AliasConditionState = FREEFALL DYING OVER_WATER

ConditionState = PARACHUTING
Animation = AIPFDR_SKL.AIPFDR_PHG
AnimationMode = LOOP
Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
; our bone positions should come from the last frame, rather than the first
TransitionKey = TRANS_Chute
End
AliasConditionState = PARACHUTING DYING
;AliasConditionState = PARACHUTING OVER_WATER
;AliasConditionState = PARACHUTING DYING OVER_WATER

TransitionState = TRANS_Falling TRANS_Chute
Animation = AIPFDR_SKL.AIPFDR_POP
AnimationMode = ONCE
Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
; our bone positions should come from the last frame, rather than the first
End
TransitionState = TRANS_Chute TRANS_Standing
Animation = AIPFDR_SKL.AIPFDR_PTD
AnimationMode = ONCE
End
End

; ***DESIGN parameters ***
DisplayName = OBJECT:Commando
Side = America
EditorSorting = INFANTRY
TransportSlotCount = 1     ; how many "slots" we take in a transport (0 == not transportable)
CrushableLevel = 3
WeaponSet
Conditions = None
Weapon = PRIMARY SealSubMachineGunWeapon
Weapon = SECONDARY CommandoMineClearingGrenadeWeapon
PreferredAgainst = PRIMARY INFANTRY

AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
AutoChooseSources = SECONDARY NONE
End
ArmorSet
Conditions       None
Armor            RifleHumanArmor
DamageFX         InfantryDamageFX
End
ArmorSet
Conditions       PLAYER_UPGRADE
Armor            ChemSuitRifleHumanArmor
DamageFX         InfantryDamageFX
End
VisionRange = 225
ShroudClearingRange = 400
BuildCost = 700
BuildTime = 12.0     ; in seconds
IsTrainable = Yes
ExperienceRequired = 0 60 80 150
ExperienceValue = 30 40 60 120
CommandSet = AmericaMarineCommandSet
; *** AUDIO Parameters ***
VoiceSelect = USACommandoVoiceSelect
VoiceMove = USACommandoVoiceMove
VoiceAttack = USACommandoVoiceAttack
VoiceGarrison = USACommandoVoiceMove
VoiceEnter = USACommandoVoiceMove
VoiceGuard = USACommandoVoiceAttack
; *** ENGINEERING Parameters ***
RadarPriority = UNIT
UnitSpecificSounds
VoiceEnter = USACommandoVoiceMove
VoiceEnterHostile = USACommandoVoiceMove
VoiceGarrison = USACommandoVoiceMove
VoiceCreate = USACommandoVoiceCreate
VoiceGetHealed = USACommandoVoiceMove
End

KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE
Body = ActiveBody ModuleTag_02
MaxHealth = 175.0
InitialHealth = 175.0
End

Behavior = ArmorUpgrade ModuleTag_Armor01
TriggeredBy = Upgrade_AmericaChemicalSuits
End

;  Behavior = MaxHealthUpgrade ModuleTag_HPUP01
;    TriggeredBy = Z_Infa_Upgrade_InfantryArmor
;    AddMaxHealth = 43.75
;    ChangeType = ADD_CURRENT_HEALTH_TOO     ; Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
;  End

Behavior = AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle = Yes
End
Behavior = CommandButtonHuntUpdate ModuleTag_Hunt     ; allows use of command button hunt script with this unit.
End

Behavior = StealthDetectorUpdate ModuleTag_93
DetectionRate = 500     ; how often to rescan for stealthed things in my sight (msec)
DetectionRange = 175 ;Dustin, enable this for independant balancing!
CanDetectWhileGarrisoned = No     ; Garrisoned means being in a structure that you units can shoot out of.
CanDetectWhileContained = No     ; Contained means being in a transport or tunnel network.
End
Behavior = AutoFindHealingUpdate ModuleTag_04     ; This update will have the unit go to a healing station if injured. jba
ScanRate = 1000     ; once a second.
ScanRange = 300     ;
NeverHeal = 0.85     ; don't heal if we are > 85% healthy.
AlwaysHeal = 0.25     ; if we get below 25%, find healing right away.
End
Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor CommandoSwimmingLocomotor
Behavior = PhysicsBehavior ModuleTag_05
Mass = 5.0
End
;Behavior = SquishCollide ModuleTag_07
; nothing
;End
Behavior = SpecialAbility ModuleTag_Plant03
SpecialPowerTemplate = SpecialAbilityCommandoTimedCharges
UpdateModuleStartsAttack = Yes
InitiateSound = USACommandoVoiceC4
End
Behavior = SpecialAbilityUpdate ModuleTag_Plant04
SpecialPowerTemplate = SpecialAbilityCommandoTimedCharges
StartAbilityRange = 0.0
PreparationTime = 0
SpecialObject = MarineC4Charge
MaxSpecialObjects = 10
SpecialObjectsPersistWhenOwnerDies = Yes
SpecialObjectsPersistent = Yes     ; Charges are persistent till lifetime expires or owner detonates them.
UniqueSpecialObjectTargets = Yes     ; This prevents multiple charges placed on the same object.
UnpackTime = 2000     ; NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
FlipOwnerAfterUnpacking = Yes
FleeRangeAfterCompletion = 80.0     ; Runs away after finishing ability
UnpackSound = ColonelBurtonPlantCharge
LoseStealthOnTrigger = Yes
PreTriggerUnstealthTime = 2000     ; in milliseconds
End
; --- begin Death modules ---
Behavior = SlowDeathBehavior ModuleTag_Death01
DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6
SinkDelay = 3000
SinkRate = 0.5     ; in Dist/Sec
DestructionDelay = 8000
FX = INITIAL FX_CommandoDie
End
Behavior = SlowDeathBehavior ModuleTag_Death02
DeathTypes = NONE +CRUSHED +SPLATTED
SinkDelay = 3000
SinkRate = 0.5     ; in Dist/Sec
DestructionDelay = 8000
FX = INITIAL FX_GIDieCrushed
End
Behavior = SlowDeathBehavior ModuleTag_Death03
DeathTypes = NONE +EXPLODED
SinkDelay = 3000
SinkRate = 0.5     ; in Dist/Sec
DestructionDelay = 8000
FX = INITIAL FX_CommandoDie
FlingForce = 8
FlingForceVariance = 3
FlingPitch = 60
FlingPitchVariance = 10
End
Behavior = SlowDeathBehavior ModuleTag_Death04
DeathTypes = NONE +BURNED
DestructionDelay = 0
FX = INITIAL FX_DieByFireUSA
OCL = INITIAL OCL_FlamingInfantry
End
Behavior = SlowDeathBehavior ModuleTag_Death05
DeathTypes = NONE +POISONED
DestructionDelay = 0
FX = INITIAL FX_DieByToxinGLA
OCL = INITIAL OCL_ToxicInfantry
End
Behavior = SlowDeathBehavior ModuleTag_Death06     ; don't forget to give it a new, unique module tag
DeathTypes = NONE +POISONED_BETA
DestructionDelay = 0
FX = INITIAL FX_DieByToxinGLA
OCL = INITIAL OCL_ToxicInfantryBeta     ; you'll have to create this OCL and make it use the blue guys instead of green ones
End
Behavior = SlowDeathBehavior ModuleTag_Death07
DeathTypes = NONE +POISONED_GAMMA
DestructionDelay = 0
FX = INITIAL FX_DieByToxinGLA
OCL = INITIAL OCL_ToxicInfantryGamma
End

; ---------------------------------
; <Extra Death Types> -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6
; ---------------------------------
;Radiation Melt
Behavior = SlowDeathBehavior ModuleTag_D_Rad
DeathTypes          = NONE +EXTRA_2
DestructionDelay    = 0
OCL                 = INITIAL OCL_RadiationDeathInfantry
FX                  = INITIAL FX_GIDieRadiation
FX                  = FINAL   FX_DieByToxinUSA
End
;Electrocuted
Behavior = SlowDeathBehavior ModuleTag_D_Tesla
DeathTypes          = NONE +EXTRA_3
DestructionDelay    = 0
FX                  = INITIAL FX_DieByFireUSA
OCL                 = INITIAL OCL_TeslaDeathInfantry
FX                  = FINAL   FX_InfantryTeslaDie
End
;Bloody Explosion
Behavior = SlowDeathBehavior ModuleTag_D_Gore
DeathTypes          = NONE +EXTRA_4
DestructionDelay    = 0
FX                  = INITIAL FX_GoreDeathEffect
OCL                 = INITIAL OCL_GoreDeathInfantry
End
;Zombie Virus
Behavior = SlowDeathBehavior ModuleTag_D_Virus
DeathTypes          = NONE +EXTRA_5
DestructionDelay    = 0
FX                  = INITIAL FX_VirusDeathEffect
OCL                 = INITIAL OCL_VirusDeathInfantry
End
;NYI
Behavior = SlowDeathBehavior ModuleTag_D_Placeholder
DeathTypes          = NONE +EXTRA_6
DestructionDelay    = 0
FX                  = INITIAL FX_PlaceholderDeathEffect
OCL                 = INITIAL OCL_PlaceholderDeathInfantry
End
;Sniper (Uses regular slowdeath + this FX)
Behavior = FXListDie ModuleTag_D_Sniper
DeathTypes          = NONE +EXTRA_7
DeathFX             = FX_DamageInfantryBloodSnipered
End
; ---------------------------------
; </Extra Death Types>
; ---------------------------------
; --- end Death modules ---
Behavior = PoisonedBehavior ModuleTag_10
PoisonDamageInterval = 100     ; Every this many msec I will retake the poison damage dealt me...
PoisonDuration = 3000     ; ... for this long after last hit by poison damage
End

Behavior = VeterancyGainCreate ModuleVet_01
StartingLevel = VETERAN
ScienceRequired = SCIENCE_VeteranSpecialists
End

; Immer Getarnt
Behavior = StealthUpdate ModuleTag_Stealth
StealthDelay = 2000     ; msec
StealthForbiddenConditions = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY
;HintDetectableConditions = IS_FIRING_WEAPON
FriendlyOpacityMin = 70.0%
FriendlyOpacityMax = 100.0%
InnateStealth = Yes
OrderIdleEnemiesToAttackMeUponReveal = Yes
End

;  Geometry = CYLINDER
;  GeometryMajorRadius = 10.0
;  GeometryMinorRadius = 10.0
;  GeometryHeight = 12.0
;  GeometryIsSmall = Yes
Shadow = SHADOW_DECAL
ShadowSizeX = 14     ;
ShadowSizeY = 14     ;
ShadowTexture = ShadowI     ;
BuildCompletion = APPEARS_AT_RALLY_POINT
End

Object MarineC4Charge     ; Created by Commando = Marine
; No drawable because it's invisible
; *** ART Parameters ***
; ***DESIGN parameters ***
Side = America
EditorSorting = SYSTEM
TransportSlotCount = 0     ; how many "slots" we take in a transport (0 == not transportable)
VisionRange = 75.0     ; Allow the stickybomb to show itself to user?
ShroudClearingRange = 75
ArmorSet
Conditions = None
Armor = InvulnerableAllArmor
End
; *** AUDIO Parameters ***
UnitSpecificSounds
UnitBombPing = BombTickTimed
StickyBombCreated = ColonelBurtonSetDemoCharge
End
; *** ENGINEERING Parameters ***
RadarPriority = NOT_ON_RADAR
KindOf = PROJECTILE MINE NO_COLLIDE
; Body = ActiveBody ModuleTag_896
; MaxHealth = 1.0
; InitialHealth = 1.0
; End
Body = HighlanderBody ModuleTag_897
MaxHealth = 1.0
InitialHealth = 1.0
End
Behavior = StealthUpdate ModuleTag_898
StealthDelay = 0     ; msec
StealthForbiddenConditions = NONE
FriendlyOpacityMin = 50.0%
InnateStealth = Yes
End
; This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
Behavior = LifetimeUpdate ModuleTag_899
MinLifetime = 8000     ; min lifetime in msec
MaxLifetime = 8000     ; max lifetime in msec
End
Behavior = StickyBombUpdate ModuleTag_900
; Keeps it attached properly to the intended target should it move.
End
Behavior = SlowDeathBehavior ModuleTag_901
DestructionDelay = 1
FX = INITIAL WeaponFX_TNTStickyBombDetonation
Weapon = FINAL MarineC4ChargeWeapon
End
Geometry = CYLINDER
GeometryMajorRadius = 8.0
GeometryHeight = 8.0
GeometryIsSmall = Yes
End