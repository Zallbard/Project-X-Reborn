;------------------------------------------------------------------------------
Object EuropeMunitionsBunker

; *** ART Parameters ***
SelectPortrait          SEAmmoStockpile_L
ButtonImage             SEAmmoStockpile

Draw                    W3DModelDraw ModuleTag_01

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState        NONE
Model               EBMnBnkr
Animation           EBMnBnkr.EBMnBnkr
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
ParticleSysBone     Fan01 EuropeanSteamVentSmall01
End
AliasConditionState   NIGHT

ConditionState        DAMAGED
Model               EBMnBnkr_D
Animation           EBMnBnkr_D.EBMnBnkr_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
ParticleSysBone     Fan01 SmolderingFlameCore
ParticleSysBone     Fan01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     SMOKE04 SmolderingFire
End
AliasConditionState   DAMAGED NIGHT
AliasConditionState   REALLYDAMAGED RUBBLE
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT
AliasConditionState   DAMAGED SNOW
AliasConditionState   DAMAGED NIGHT SNOW
AliasConditionState   REALLYDAMAGED RUBBLE SNOW
AliasConditionState   REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState   RUBBLE
Model               EBMnBnkr_D
Animation           EBMnBnkr_D.EBMnBnkr_D
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
ParticleSysBone     Fan01 FireFactionLarge
ParticleSysBone     Fan01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke01 FireFactionLarge
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke02 FireFactionLarge
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke03 FireFactionLarge
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     SMOKE04 FireFactionLarge
End
AliasConditionState   RUBBLE NIGHT
AliasConditionState   RUBBLE SNOW
AliasConditionState   RUBBLE NIGHT SNOW

ConditionState        SNOW
Model               EBMnBnkr_S
Animation           EBMnBnkr_S.EBMnBnkr_S
AnimationMode       LOOP
Flags               MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
ParticleSysBone     Fan01 EuropeanSteamVentSmall01
End
AliasConditionState   NIGHT SNOW


;**************************************************************************************************************************
;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
;for this draw module
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               EBMnBnkr
Animation           EBMnBnkr.EBMnBnkr
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model               EBMnBnkr_D
Animation           EBMnBnkr_D.EBMnBnkr_D
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
ParticleSysBone     Fan01 SmolderingFlameCore
ParticleSysBone     Fan01 SmolderingSmoke
ParticleSysBone     Smoke01 SmolderingSmoke
ParticleSysBone     Smoke02 SmolderingSmoke
ParticleSysBone     Smoke03 SmolderingSmoke
ParticleSysBone     Smoke04 SmolderingSmoke
ParticleSysBone     SMOKE04 SmolderingFire
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model               EBMnBnkr_S
Animation           EBMnBnkr_S.EBMnBnkr_S
AnimationMode       LOOP
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
HideSubObject       DOOR HOUSECOLOR02 HOUSECOLOR03 SOLDIER
End
AliasConditionState   AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW


ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************

End

Draw                    W3DModelDraw ModuleTag_Door01

OkToChangeModelColor  Yes

; DAY ************************************
DefaultConditionState
Model               EBMnBnkr
HideSubObject       DIRT HOUSECOLOR02 HOUSECOLOR03 SOLDIER
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               EBMnBnkr_D
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               EBMnBnkr_S
End
AliasConditionState  NIGHT SNOW

;;;; Door Animations
ConditionState     DOOR_1_OPENING
Model            EBMnBnkr
Animation        EBMnBnkr.EBMnBnkr
AnimationMode    ONCE
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            EBMnBnkr_D
Animation        EBMnBnkr_D.EBMnBnkr_D
AnimationMode    ONCE
End
AliasConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            EBMnBnkr
Animation        EBMnBnkr.EBMnBnkr
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            EBMnBnkr_D
Animation        EBMnBnkr_D.EBMnBnkr_D
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            EBMnBnkr
Animation        EBMnBnkr.EBMnBnkr
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            EBMnBnkr_D
Animation        EBMnBnkr_D.EBMnBnkr_D
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE


;;;;;;;;;;;;;;Snow
ConditionState     DOOR_1_OPENING SNOW
Model            EBMnBnkr_S
Animation        EBMnBnkr_S.EBMnBnkr_S
AnimationMode    ONCE
End
AliasConditionState  NIGHT DOOR_1_OPENING SNOW

ConditionState     DOOR_1_CLOSING SNOW
Model            EBMnBnkr_S
Animation        EBMnBnkr_S.EBMnBnkr_S
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING SNOW

ConditionState     DOOR_1_WAITING_OPEN SNOW
Model            EBMnBnkr_S
Animation        EBMnBnkr_S.EBMnBnkr_S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              EBMnBnkr
HideSubObject      DIRT HOUSECOLOR02 HOUSECOLOR03 SOLDIER
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              EBMnBnkr_D
HideSubObject      DIRT HOUSECOLOR02 HOUSECOLOR03 SOLDIER
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              EBMnBnkr_S
HideSubObject      DIRT HOUSECOLOR02 HOUSECOLOR03 SOLDIER
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End
Draw                    W3DModelDraw ModuleTag_BunkerCommander01

OkToChangeModelColor  Yes

DefaultConditionState
Model               EBMnBnkr
Animation           EBMnBnkr.EBMnBnkr
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
HideSubObject       DIRT DOOR
Turret              Spotter
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               EBMnBnkr_D
Animation           EBMnBnkr_D.EBMnBnkr_D
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED RUBBLE
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               EBMnBnkr_S
Animation           EBMnBnkr_S.EBMnBnkr_S
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              EBMnBnkr
Animation          EBMnBnkr.EBMnBnkr
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  100.0 100.0
HideSubObject      DIRT DOOR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              EBMnBnkr_D
Animation          EBMnBnkr_D.EBMnBnkr_D
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  100.0 100.0
HideSubObject      DIRT DOOR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              EBMnBnkr_S
Animation          EBMnBnkr_S.EBMnBnkr_S
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  100.0 100.0
HideSubObject      DIRT DOOR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;Real stuff starts here everything above this is only used when placing the structure
ConditionState        USER_1
Model               EBMnBnkr
Animation           EBMnBnkr.EBMnBnkr
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES
TransitionKey       TRANS_IDLE
WaitForStateToFinishIfPossible  TRANS_FIRING
End
AliasConditionState  USER_1 NIGHT

ConditionState        USER_1 DAMAGED
Model               EBMnBnkr_D
Animation           EBMnBnkr_D.EBMnBnkr_D
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES
TransitionKey       TRANS_IDLE
WaitForStateToFinishIfPossible  TRANS_FIRING
End
AliasConditionState  USER_1 DAMAGED NIGHT
AliasConditionState  USER_1 DAMAGED SNOW
AliasConditionState  USER_1 DAMAGED NIGHT SNOW
AliasConditionState  USER_1 REALLYDAMAGED RUBBLE
AliasConditionState  USER_1 REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  USER_1 REALLYDAMAGED RUBBLE SNOW
AliasConditionState  USER_1 REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState        USER_1 SNOW
Model               EBMnBnkr_S
Animation           EBMnBnkr_S.EBMnBnkr_S
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES
TransitionKey       TRANS_IDLE
WaitForStateToFinishIfPossible  TRANS_FIRING
End
AliasConditionState  USER_1 NIGHT SNOW

;Bunker Commander Popping the hatch and calling in a strike
ConditionState        USER_1 FIRING_C
Model               EBMnBnkr
Animation           EBMnBnkr.EBMnBnkr
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
TransitionKey       TRANS_FIRING
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  USER_1 FIRING_C NIGHT

ConditionState        USER_1 DAMAGED FIRING_C
Model               EBMnBnkr
Animation           EBMnBnkr.EBMnBnkr
AnimationMode       ONCE
Flags               MAINTAIN_FRAME_ACROSS_STATES
TransitionKey       TRANS_FIRING
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  USER_1 FIRING_C DAMAGED NIGHT
AliasConditionState  USER_1 FIRING_C DAMAGED SNOW
AliasConditionState  USER_1 FIRING_C DAMAGED NIGHT SNOW
AliasConditionState  USER_1 FIRING_C REALLYDAMAGED RUBBLE
AliasConditionState  USER_1 FIRING_C REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  USER_1 FIRING_C REALLYDAMAGED RUBBLE SNOW
AliasConditionState  USER_1 FIRING_C REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState        USER_1 SNOW FIRING_C
Model               EBMnBnkr_S
Animation           EBMnBnkr_S.EBMnBnkr_S
AnimationMode       ONCE_BACKWARDS
Flags               MAINTAIN_FRAME_ACROSS_STATES
TransitionKey       TRANS_FIRING
WaitForStateToFinishIfPossible  NONE
End
AliasConditionState  USER_1 SNOW NIGHT FIRING_C

;**************************************************************************************************************************

ConditionState       USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              EBMnBnkr
Animation          EBMnBnkr.EBMnBnkr
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  100.0 100.0
HideSubObject      DIRT DOOR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              EBMnBnkr_D
Animation          EBMnBnkr_D.EBMnBnkr_D
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  100.0 100.0
HideSubObject      DIRT DOOR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              EBMnBnkr_S
Animation          EBMnBnkr_S.EBMnBnkr_S
AnimationMode      ONCE_BACKWARDS
AnimationSpeedFactorRange  100.0 100.0
HideSubObject      DIRT DOOR
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  USER_1 AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        USER_1 AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   USER_1 AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   USER_1 AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD
AliasConditionState   USER_1 SOLD DAMAGED
AliasConditionState   USER_1 SOLD REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT
AliasConditionState   USER_1 SOLD NIGHT DAMAGED
AliasConditionState   USER_1 SOLD NIGHT REALLYDAMAGED
AliasConditionState   USER_1 SOLD SNOW
AliasConditionState   USER_1 SOLD SNOW DAMAGED
AliasConditionState   USER_1 SOLD SNOW REALLYDAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW
AliasConditionState   USER_1 SOLD NIGHT SNOW DAMAGED
AliasConditionState   USER_1 SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw  W3DModelDraw ModuleTag_GarissonPositions01
DefaultConditionState
Model               EBMnBnkr_B
End
End

Draw                    W3DModelDraw ModuleTag_AlarmLights01

DefaultConditionState
Model          EBMnBnkr_A1
HideSubObject  ALARMLIGHT
End

ConditionState   RUBBLE
Model          EBMnBnkr_A1
ShowSubObject  ALARMLIGHT
End

;**************************************************************************************************************************
ConditionState        AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model               EBMnBnkr_A1
Flags               ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
HideSubObject       ALARMLIGHT
End

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   SOLD

End

; ------------ construction-zone fence -----------------
Draw  W3DModelDraw ModuleTag_02
AnimationsRequirePower  No

DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            EBHowitzer_BF
Animation        EBHowitzer_BF.EBHowitzer_BF
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
AliasConditionState  NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model            EBHowitzer_BF
Animation        EBHowitzer_BF.EBHowitzer_BF
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            EBHowitzer_BF
Animation        EBHowitzer_BF.EBHowitzer_BF
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

; ------------ under-construction scaffolding -----------------
Draw  W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            EBHowitzer_SC
Animation        EBHowitzer_SC.EBHowitzer_SC
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Smoke01 BuildUpSmokeChina
ParticleSysBone  Smoke02 BuildUpSmokeChina
ParticleSysBone  Smoke03 BuildUpSmokeChina
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW PARTIALLY_CONSTRUCTED
AliasConditionState  SNOW NIGHT PARTIALLY_CONSTRUCTED

TransitionState    DOWN_DEFAULT UP_DAY
Model             EBHowitzer_SC
Animation        EBHowitzer_SC.EBHowitzer_SC
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End

TransitionState    UP_DAY DOWN_DEFAULT
Model            EBHowitzer_SC
Animation        EBHowitzer_SC.EBHowitzer_SC
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_LAST
End

End

PlacementViewAngle      -45

; ***DESIGN parameters ***
DisplayName       OBJECT:MunitionsBunker
Side  Europe
EditorSorting      STRUCTURE

BuildCost          1000
BuildTime          25.0           ; in seconds
EnergyProduction   -3
VisionRange        250.0          ; Shroud clearing distance AND targeting range

WeaponSet
Conditions           None
Weapon               TERTIARY  MunitionsBunkerMoleBombBombardmentWeapon
AutoChooseSources    TERTIARY  NONE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End
CommandSet        EuropeanMunitionsBunkerCommandSet

Prerequisites
Object  EuropeResearchAndDevelopmentCompound
Science  SCIENCE_AmmunitionLogistics
End

; *** AUDIO Parameters ***
VoiceSelect            MunitionsBunkerSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundAmbientRubble     MunitionsBunkerDetonationAlarm

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
VoiceUnload            MunitionsBunkerVoiceUnload
End

; *** ENGINEERING Parameters ***
RadarPriority      STRUCTURE
KindOf             PRELOAD STRUCTURE CAN_ATTACK SELECTABLE IMMOBILE SCORE MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT GARRISONABLE_UNTIL_DESTROYED POWERED

Body               StructureBody ModuleTag_05
MaxHealth        2000.0
InitialHealth    2000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  4300
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End

ExperienceValue      60 60 60 60  ; Experience point value at each level

Behavior  AIUpdateInterface ModuleTag_AI01
Turret
TurretTurnRate         180
ControlledWeaponSlots  TERTIARY
RecenterTime           9999999
End
AutoAcquireEnemiesWhenIdle  No
End

Behavior  FlammableUpdate ModuleTag_12
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  SlowDeathBehavior ModuleTag_ExplosionDeath01
ExemptStatus  UNDER_CONSTRUCTION
DeathTypes    ALL
DestructionDelay  3000
DestructionDelayVariance  500
FX      INITIAL FX_MunitionsBunkerDetonateVoice
OCL     FINAL OCL_LargeStructureDebris
FX      FINAL FX_StructureSmallDeath
Weapon  FINAL MunitionsBunkerDeathExplosionWeapon
End

Behavior  SlowDeathBehavior ModuleTag_Death01
RequiredStatus  UNDER_CONSTRUCTION
DeathTypes    ALL
DestructionDelay  0
OCL     FINAL OCL_LargeStructureDebris
FX      FINAL FX_StructureSmallDeath
End

Behavior  FireWeaponWhenDamagedBehavior ModuleTag_Suicide01
StartsActive   No
TriggeredBy    Upgrade_GLAWorkerRealCommandSet
DamageTypes    ALL
DamageAmount   0
ContinuousWeaponPristine       SuicideUnresistableWeapon
ContinuousWeaponDamaged        SuicideUnresistableWeapon
ContinuousWeaponReallyDamaged  SuicideUnresistableWeapon
End

Behavior  DestroyDie ModuleTag_06
RequiredStatus  UNDER_CONSTRUCTION
End

Behavior  ProductionUpdate ModuleTag_10
NumDoorAnimations             1
DoorOpeningTime               3250  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 4000  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_11
UnitCreatePoint    X: 8.0   Y:0.0  Z:0.0
NaturalRallyPoint  X: 65.0  Y:0.0  Z:0.0
End

Behavior            OCLSpecialPower ModuleTag_ShowWeaponRange01
SpecialPowerTemplate  SpecialAbilityMunitionsBunkerShowRange
OCL                   OCL_MunitionsBunkerMoleBombBombardmentIndicator
CreateLocation        USE_OWNER_OBJECT
End

Behavior  GrantUpgradeCreate ModuleTag_InitialDelay01
UpgradeToGrant  Upgrade_ChinaOverlordGattlingCannon
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  ObjectCreationUpgrade ModuleTag_InitialDelay02
UpgradeObject  OCL_HowitzerPositionInitialDelayCollisionDummyObject
TriggeredBy    Upgrade_ChinaOverlordGattlingCannon
End

Behavior  FireWeaponCollide  ModuleTag_InitialDelay03
CollideWeapon    MoleBombBombardmenInitialDelayWeapon
RequiredStatus   IGNORING_STEALTH
End

Behavior  GarrisonContain ModuleTag_Garrison01
ContainMax                     3
EnterSound                     GarrisonEnter
ExitSound                      GarrisonExit
ImmuneToClearBuildingAttacks   Yes
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericBuildingCollisionObjectDummy

;These Objects trigger the visual effects when the bunker chooses to fortify
PristineOCL2       bone:NULL OnlyOnce:No 330 330 OCL:OCL_MunitionsBunkerFortifyObjectNormal
DamagedOCL2        bone:NULL OnlyOnce:No 330 330 OCL:OCL_MunitionsBunkerFortifyObjectDamaged
ReallyDamagedOCL2  bone:NULL OnlyOnce:No 330 330 OCL:OCL_MunitionsBunkerFortifyObjectDamaged
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Fortify Modules Start ;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;Pre-Activation Delay Triggers
Behavior  ObjectCreationUpgrade ModuleTag_Fortify08
TriggeredBy     Upgrade_CostReduction
UpgradeObject   OCL_MunitionsBunkerFortificationsPreDelay
End

Behavior  GrantUpgradeCreate ModuleTag_Fortify07
UpgradeToGrant  Upgrade_500_10
ExemptStatus    UNDER_CONSTRUCTION
End

Behavior  GrantUpgradeCreate ModuleTag_Fortify09
UpgradeToGrant  Upgrade_300_10
ExemptStatus    UNDER_CONSTRUCTION
End

;Activation Triggers
Behavior  MaxHealthUpgrade ModuleTag_Fortify01
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
ConflictsWith   Upgrade_500_10
AddMaxHealth    2000.0
ChangeType      PRESERVE_RATIO
FXListUpgrade   FX_FortificationUpgradeToReinforcedFortification
End

Behavior  CommandSetUpgrade ModuleTag_Fortify03
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
ConflictsWith   Upgrade_500_10
CommandSet      EuropeanMunitionsBunkerUpgradedCommandSet
End

Behavior  ObjectCreationUpgrade ModuleTag_Fortify05
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
ConflictsWith   Upgrade_500_10
UpgradeObject   OCL_MunitionsBunkerFortificationsActivate
End

Behavior  ObjectCreationUpgrade ModuleTag_Fortify11
UpgradeObject   OCL_MunitionsBunkerRemoveBonusObject
TriggeredBy     Upgrade_GLAWorkerFakeCommandSet
ConflictsWith   Upgrade_500_10
End

;Deactivation Triggers

Behavior  MaxHealthUpgrade ModuleTag_Fortify02
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith   Upgrade_300_10
AddMaxHealth    -2000.0
ChangeType      PRESERVE_RATIO
FXListUpgrade   FX_FortificationUpgradeToReinforcedFortification
End

Behavior  CommandSetUpgrade ModuleTag_Fortify04
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith   Upgrade_300_10
CommandSet      EuropeanMunitionsBunkerCommandSet
End

Behavior  ObjectCreationUpgrade ModuleTag_Fortify06
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith   Upgrade_300_10
UpgradeObject   OCL_MunitionsBunkerFortificationsDeactivate
End

Behavior  ObjectCreationUpgrade ModuleTag_Fortify10
UpgradeObject   OCL_MunitionsBunkerBonusObject
TriggeredBy     Upgrade_GLAWorkerWorthlessCommandSet
ConflictsWith   Upgrade_300_10
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;; Fortify Modules End ;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Behavior  ObjectCreationUpgrade ModuleTag_BonusRadiusEffectSpawn01
UpgradeObject  OCL_MunitionsBunkerBonusObject
TriggeredBy    Upgrade_CostReduction
End

Behavior  FireWeaponCollide ModuleTag_KillBonusRadiusEffect01
CollideWeapon   MunitionsBunkerBonusRadiusRemovalWeapon
RequiredStatus  SOLD
End

Behavior    FireWeaponWhenDeadBehavior ModuleTag_KillBonusRadiusEffect02
DeathWeapon    MunitionsBunkerBonusRadiusRemovalWeapon
ExemptStatus   UNDER_CONSTRUCTION
StartsActive   Yes
End

Behavior  ModelConditionUpgrade ModuleTag_18241312
ConditionFlag  USER_1
TriggeredBy  Upgrade_CostReduction
End

Behavior  TransitionDamageFX ModuleTag_15
;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Geometry             BOX
GeometryMajorRadius  37.0
GeometryMinorRadius  40.0
GeometryHeight       25.0
FactoryExitWidth     25     ; How much space to leave for units exiting.
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object EuropeMunitionsBunkerBonusObject

; *** ART Parameters ***
Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  PLANE01
DefaultConditionState
Model                EXBlackout
End
End

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllButStatusArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  IMMOBILE UNATTACKABLE FS_FAKE

Body  ActiveBody ModuleTag_03
MaxHealth        300.0
InitialHealth    300.0
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  WeaponBonusUpdate ModuleTag_BonusUpdate01
RequiredAffectKindOf   UNATTACKABLE
BonusDuration  400                        ; How long effect lasts
BonusDelay  250                           ; How often to pulse (short lifetime will trump, of course)
BonusRange  220                           ; Keep in line with radius cursor size in special power template
BonusConditionType  FRENZY_TWO            ; And which bonus to give
End

Behavior  FireWeaponCollide ModuleTag_KillSelf01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  HIJACKED
End

Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericNoAICollisionObjectDummy
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                20.0
ShadowSizeX  470;
ShadowSizeY  470;
ShadowTexture  SSCAmmoDump;

End