;------------------------------------------------------------------------------
Object EuropeVehiclePandur

SelectPortrait  SEPandur_L
ButtonImage     SEPandur

UpgradeCameo1  Upgrade_EuropeArmorSkirts
UpgradeCameo2  Upgrade_EuropeRevolverCannons
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE

Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal State
ConditionState       NONE
Model              EVPandur
ShowSubObject      SKIRT01
HideSubObject      TURRET SKIRT02 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  RIDER1
AliasConditionState  RIDER2
AliasConditionState  RIDER3
AliasConditionState  RIDER4
AliasConditionState  RIDER5
AliasConditionState  RIDER6
AliasConditionState  RIDER7
AliasConditionState  RIDER8

;On Water State
ConditionState       OVER_WATER
Model              EVPandur
ShowSubObject      SKIRT02
HideSubObject      TURRET SKIRT01 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  OVER_WATER RIDER1
AliasConditionState  OVER_WATER RIDER2
AliasConditionState  OVER_WATER RIDER3
AliasConditionState  OVER_WATER RIDER4
AliasConditionState  OVER_WATER RIDER5
AliasConditionState  OVER_WATER RIDER6
AliasConditionState  OVER_WATER RIDER7
AliasConditionState  OVER_WATER RIDER8

;Armor Skirt Upgrade
ConditionState       USER_1
Model              EVPandur
ShowSubObject      SKIRT01 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06
HideSubObject      TURRET SKIRT02 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  USER_1 RIDER1
AliasConditionState  USER_1 RIDER2
AliasConditionState  USER_1 RIDER3
AliasConditionState  USER_1 RIDER4
AliasConditionState  USER_1 RIDER5
AliasConditionState  USER_1 RIDER6
AliasConditionState  USER_1 RIDER7
AliasConditionState  USER_1 RIDER8

;On Water State
ConditionState       USER_1 OVER_WATER
Model              EVPandur
ShowSubObject      SKIRT02 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06
HideSubObject      TURRET SKIRT01 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  USER_1 OVER_WATER RIDER1
AliasConditionState  USER_1 OVER_WATER RIDER2
AliasConditionState  USER_1 OVER_WATER RIDER3
AliasConditionState  USER_1 OVER_WATER RIDER4
AliasConditionState  USER_1 OVER_WATER RIDER5
AliasConditionState  USER_1 OVER_WATER RIDER6
AliasConditionState  USER_1 OVER_WATER RIDER7
AliasConditionState  USER_1 OVER_WATER RIDER8

;Damaged States
ConditionState       REALLYDAMAGED
Model              EVPandur_D
ShowSubObject      SKIRT01
HideSubObject      TURRET SKIRT02 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  REALLYDAMAGED RIDER1
AliasConditionState  REALLYDAMAGED RIDER2
AliasConditionState  REALLYDAMAGED RIDER3
AliasConditionState  REALLYDAMAGED RIDER4
AliasConditionState  REALLYDAMAGED RIDER5
AliasConditionState  REALLYDAMAGED RIDER6
AliasConditionState  REALLYDAMAGED RIDER7
AliasConditionState  REALLYDAMAGED RIDER8
AliasConditionState  RUBBLE
AliasConditionState  RUBBLE RIDER1
AliasConditionState  RUBBLE RIDER2
AliasConditionState  RUBBLE RIDER3
AliasConditionState  RUBBLE RIDER4
AliasConditionState  RUBBLE RIDER5
AliasConditionState  RUBBLE RIDER6
AliasConditionState  RUBBLE RIDER7
AliasConditionState  RUBBLE RIDER8

;On Water State
ConditionState       REALLYDAMAGED OVER_WATER
Model              EVPandur_D
ShowSubObject      SKIRT02
HideSubObject      TURRET SKIRT01 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER1
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER2
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER3
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER4
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER5
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER6
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER7
AliasConditionState  REALLYDAMAGED OVER_WATER RIDER8

;Armor Skirt Upgrade
ConditionState       REALLYDAMAGED USER_1
Model              EVPandur_D
ShowSubObject      SKIRT01 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06
HideSubObject      TURRET SKIRT02 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  REALLYDAMAGED USER_1 RIDER1
AliasConditionState  REALLYDAMAGED USER_1 RIDER2
AliasConditionState  REALLYDAMAGED USER_1 RIDER3
AliasConditionState  REALLYDAMAGED USER_1 RIDER4
AliasConditionState  REALLYDAMAGED USER_1 RIDER5
AliasConditionState  REALLYDAMAGED USER_1 RIDER6
AliasConditionState  REALLYDAMAGED USER_1 RIDER7
AliasConditionState  REALLYDAMAGED USER_1 RIDER8
AliasConditionState  RUBBLE USER_1
AliasConditionState  RUBBLE USER_1 RIDER1
AliasConditionState  RUBBLE USER_1 RIDER2
AliasConditionState  RUBBLE USER_1 RIDER3
AliasConditionState  RUBBLE USER_1 RIDER4
AliasConditionState  RUBBLE USER_1 RIDER5
AliasConditionState  RUBBLE USER_1 RIDER6
AliasConditionState  RUBBLE USER_1 RIDER7
AliasConditionState  RUBBLE USER_1 RIDER8

;On Water State
ConditionState       REALLYDAMAGED USER_1 OVER_WATER
Model              EVPandur_D
ShowSubObject      SKIRT02 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06
HideSubObject      TURRET SKIRT01 PIOGEAR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HOUSECOLOR05
End
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER1
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER2
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER3
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER4
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER5
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER6
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER7
AliasConditionState  REALLYDAMAGED USER_1 OVER_WATER RIDER8

TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
LeftFrontTireBone      Tire01
RightFrontTireBone     Tire02
MidLeftMidTireBone     Tire03
MidRightMidTireBone    Tire04
LeftRearTireBone       Tire05
RightRearTireBone      Tire06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.
End

;All Rider turret codes are here
Draw  W3DModelDraw ModuleTag_RiderTurrets01
OkToChangeModelColor  Yes
RecoilSettleSpeed  20
MaxRecoilDistance  3.0

ConditionState
Model              EVPandur
End

;Felin
ConditionState  RIDER1
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN HOUSECOLOR05 TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
End
AliasConditionState  RIDER1 FIRING_A
AliasConditionState  DISGUISED

ConditionState  USER_2 RIDER1
Model              EVPandur
Animation          EVPandur.EVPandur
AnimationMode      MANUAL
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN REVOLVER01 HOUSECOLOR05 TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
AnimationSpeedFactorRange  2.5 2.5
WaitForStateToFinishIfPossible  TRANS_FIRING_FELIN_CANNON
End

ConditionState  USER_2 RIDER1 FIRING_A
Model              EVPandur
Animation          EVPandur.EVPandur
AnimationMode      ONCE
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN REVOLVER01 HOUSECOLOR05 TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
TransitionKey      TRANS_FIRING_FELIN_CANNON
AnimationSpeedFactorRange  2.5 2.5
End

;Panzerfaust
ConditionState  RIDER2
Model              EVPandur
Animation          EVPandur.EVPandur
AnimationMode      MANUAL
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN MEDIC JAEGER ENGINR REVOLVER01 HOUSECOLOR05 MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01 TURRETBIT01 HOUSECOLOR02
ShowSubObject      PFAUST PZFTGEAR
WeaponFireFXBone   PRIMARY PfstMzl
WeaponLaunchBone   PRIMARY PfstMzl
WeaponFireFXBone   SECONDARY PfstMzl
WeaponLaunchBone   SECONDARY PfstMzl
End
AliasConditionState  RIDER2 FIRING_A
AliasConditionState  RIDER2 FIRING_B

;Medic
ConditionState  RIDER3
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN PFAUST JAEGER ENGINR REVOLVER01 HOUSECOLOR05 PZFTGEAR GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      MEDIC MEDICRT TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY MdcMzl
WeaponLaunchBone   PRIMARY MdcMzl
End

ConditionState  RIDER3 FIRING_A
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR HOUSECOLOR05
ShowSubObject      MEDIC MEDICRT TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY MdcMzl
WeaponLaunchBone   PRIMARY MdcMzl
WeaponMuzzleFlash  PRIMARY MdcMzlFX
End

;Engineer
ConditionState  RIDER4
Model              EVPandur
Animation          EVPandur.EVPandur
AnimationMode      LOOP
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN MEDIC PFAUST JAEGER REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01 HOUSECOLOR05
ShowSubObject      ENGINR ENGCRT TURRETBIT01 HOUSECOLOR02
End
AliasConditionState  RIDER4 FIRING_A

;Grenadier
ConditionState  RIDER5
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR FELIN MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT HOUSECOLOR05 ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      GRENDR GRNDRGEAR TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY GrndrMzl
WeaponLaunchBone   PRIMARY GrndrMzl
WeaponFireFXBone   SECONDARY GrndrMzl
WeaponLaunchBone   SECONDARY GrndrMzl
End
AliasConditionState  RIDER5 FIRING_A

;Frank Jaeger
ConditionState  RIDER6
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN MEDIC PFAUST ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT HOUSECOLOR05 HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      JAEGER JGRGEAR TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY JgrBrl
WeaponFireFXBone   PRIMARY JgrMzl
WeaponLaunchBone   PRIMARY JgrMzl
WeaponMuzzleFlash  PRIMARY JgrMzlFX
End
AliasConditionState  RIDER6 FIRING_A

;Pioneer
ConditionState  RIDER7
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS GRENDR FELIN MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR HOUSECOLOR05 ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      PIONEER PIOGEAR TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY PioMzl
WeaponLaunchBone   PRIMARY PioMzl
WeaponFireFXBone   SECONDARY PioMzl
WeaponLaunchBone   SECONDARY PioMzl
WeaponFireFXBone   TERTIARY PioMzl
WeaponLaunchBone   TERTIARY PioMzl
End
AliasConditionState  RIDER7 FIRING_A

;Heavy Sniper
ConditionState  RIDER8
Model              EVPandur
Turret             Turret
HideSubObject      CHASSIS FELIN HOUSECOLOR05 PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR MDCMZLFX01
ShowSubObject      HVSNPRGR HVYSNPR TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY HvSnpBrl
WeaponFireFXBone   PRIMARY HvSnpMzl
WeaponLaunchBone   PRIMARY HvSnpMzl
WeaponMuzzleFlash  PRIMARY HvSnpMzlFX
WeaponRecoilBone   SECONDARY HvSnpBrl2
WeaponFireFXBone   SECONDARY HvSnpMzl
WeaponLaunchBone   SECONDARY HvSnpMzl
WeaponMuzzleFlash  SECONDARY HvSnpMzl2FX
End
AliasConditionState  RIDER8 FIRING_A
AliasConditionState  RIDER8 FIRING_B

;;;;Damaged Conditions

;Felin
ConditionState  REALLYDAMAGED RIDER1
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN HOUSECOLOR05 TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
End
AliasConditionState  REALLYDAMAGED RIDER1 FIRING_A
AliasConditionState  REALLYDAMAGED DISGUISED
AliasConditionState  RUBBLE RIDER1

ConditionState  REALLYDAMAGED USER_2 RIDER1
Model              EVPandur_D
Animation          EVPandur_D.EVPandur_D
AnimationMode      MANUAL
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN REVOLVER01 HOUSECOLOR05 TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
AnimationSpeedFactorRange  2.5 2.5
WaitForStateToFinishIfPossible  TRANS_FIRING_FELIN_CANNON
End
AliasConditionState  RUBBLE USER_2 RIDER1

ConditionState  REALLYDAMAGED USER_2 RIDER1 FIRING_A
Model              EVPandur_D
Animation          EVPandur_D.EVPandur_D
AnimationMode      ONCE
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN REVOLVER01 HOUSECOLOR05 TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
TransitionKey      TRANS_FIRING_FELIN_CANNON
AnimationSpeedFactorRange  2.5 2.5
End

;Panzerfaust
ConditionState  REALLYDAMAGED RIDER2
Model              EVPandur_D
Animation          EVPandur_D.EVPandur_D
AnimationMode      MANUAL
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN MEDIC JAEGER ENGINR REVOLVER01 HOUSECOLOR05 MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01 TURRETBIT01 HOUSECOLOR02
ShowSubObject      PFAUST PZFTGEAR
WeaponFireFXBone   PRIMARY PfstMzl
WeaponLaunchBone   PRIMARY PfstMzl
WeaponFireFXBone   SECONDARY PfstMzl
WeaponLaunchBone   SECONDARY PfstMzl
End
AliasConditionState  REALLYDAMAGED RIDER2 FIRING_A
AliasConditionState  REALLYDAMAGED RIDER2 FIRING_B
AliasConditionState  RUBBLE RIDER2

;Medic
ConditionState  REALLYDAMAGED RIDER3
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN PFAUST JAEGER ENGINR REVOLVER01 HOUSECOLOR05 PZFTGEAR GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      MEDIC MEDICRT TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY MdcMzl
WeaponLaunchBone   PRIMARY MdcMzl
End
AliasConditionState  RUBBLE RIDER3

ConditionState  REALLYDAMAGED RIDER3 FIRING_A
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR HOUSECOLOR05
ShowSubObject      MEDIC MEDICRT TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY MdcMzl
WeaponLaunchBone   PRIMARY MdcMzl
WeaponMuzzleFlash  PRIMARY MdcMzlFX
End

;Engineer
ConditionState  REALLYDAMAGED RIDER4
Model              EVPandur_D
Animation          EVPandur_D.EVPandur_D
AnimationMode      LOOP
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN MEDIC PFAUST JAEGER REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01 HOUSECOLOR05
ShowSubObject      ENGINR ENGCRT TURRETBIT01 HOUSECOLOR02
End
AliasConditionState  REALLYDAMAGED RIDER4 FIRING_A
AliasConditionState  RUBBLE RIDER4

;Grenadier
ConditionState  REALLYDAMAGED RIDER5
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR FELIN MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT HOUSECOLOR05 ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      GRENDR GRNDRGEAR TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY GrndrMzl
WeaponLaunchBone   PRIMARY GrndrMzl
WeaponFireFXBone   SECONDARY GrndrMzl
WeaponLaunchBone   SECONDARY GrndrMzl
End
AliasConditionState  REALLYDAMAGED RIDER5 FIRING_A
AliasConditionState  RUBBLE RIDER5

;Frank Jaeger
ConditionState  REALLYDAMAGED RIDER6
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS PIONEER PIOGEAR GRENDR FELIN MEDIC PFAUST ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT HOUSECOLOR05 HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      JAEGER JGRGEAR TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY JgrBrl
WeaponFireFXBone   PRIMARY JgrMzl
WeaponLaunchBone   PRIMARY JgrMzl
WeaponMuzzleFlash  PRIMARY JgrMzlFX
End
AliasConditionState  REALLYDAMAGED RIDER6 FIRING_A
AliasConditionState  RUBBLE RIDER6

;Pioneer
ConditionState  REALLYDAMAGED RIDER7
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS GRENDR FELIN MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR HOUSECOLOR05 ENGCRT JGRGEAR HVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      PIONEER PIOGEAR TURRETBIT01 HOUSECOLOR02
WeaponFireFXBone   PRIMARY PioMzl
WeaponLaunchBone   PRIMARY PioMzl
WeaponFireFXBone   SECONDARY PioMzl
WeaponLaunchBone   SECONDARY PioMzl
WeaponFireFXBone   TERTIARY PioMzl
WeaponLaunchBone   TERTIARY PioMzl
End
AliasConditionState  REALLYDAMAGED RIDER7 FIRING_A
AliasConditionState  RUBBLE RIDER7

;Heavy Sniper
ConditionState  REALLYDAMAGED RIDER8
Model              EVPandur_D
Turret             Turret
HideSubObject      CHASSIS FELIN HOUSECOLOR05 PIONEER PIOGEAR GRENDR MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR MDCMZLFX01
ShowSubObject      HVSNPRGR HVYSNPR TURRETBIT01 HOUSECOLOR02
WeaponRecoilBone   PRIMARY HvSnpBrl
WeaponFireFXBone   PRIMARY HvSnpMzl
WeaponLaunchBone   PRIMARY HvSnpMzl
WeaponMuzzleFlash  PRIMARY HvSnpMzlFX
WeaponRecoilBone   SECONDARY HvSnpBrl2
WeaponFireFXBone   SECONDARY HvSnpMzl
WeaponLaunchBone   SECONDARY HvSnpMzl
WeaponMuzzleFlash  SECONDARY HvSnpMzl2FX
End
AliasConditionState  REALLYDAMAGED RIDER8 FIRING_A
AliasConditionState  REALLYDAMAGED RIDER8 FIRING_B
AliasConditionState  RUBBLE RIDER8

End

Draw  W3DModelDraw ModuleTag_HeadLights01

DefaultConditionState
Model                EVPandur_N
End

End

Draw  W3DModelDraw ModuleTag_DecalsAndIcons01

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  RIDER1
AliasConditionState  RIDER2
AliasConditionState  RIDER4
AliasConditionState  RIDER5
AliasConditionState  RIDER6
AliasConditionState  PREATTACK_C RIDER1
AliasConditionState  PREATTACK_C RIDER2
AliasConditionState  PREATTACK_C RIDER5
AliasConditionState  PREATTACK_C RIDER6

;Engineer going into repair mode
ConditionState       RIDER4 PREATTACK_C
Model              EXTrnsfrm
Animation          EXTrnsfrm.EXTrnsfrm
AnimationMode      LOOP
Flags              RANDOMSTART
AnimationSpeedFactorRange  1.0 1.0
End

;Medic Recovering wounded
ConditionState       RIDER3
Model              NVDeva_U2
;ParticleSysBone    NONE PandurMedicHealingRadiusEffect
End

ConditionState       RIDER3 PREATTACK_C
Model              EVPandur_HEAL
Animation          EVPandur_HEAL.EVPandur_HEAL
AnimationMode      LOOP
Flags              RANDOMSTART
HideSubObject      CYLINDER01
;ParticleSysBone    NONE PandurMedicHealingRadiusEffect
End

End

Draw  W3DModelDraw ModuleTag_RepairIcon01

DefaultConditionState
Model                NVDeva_U2
End
AliasConditionState  USING_WEAPON_A
AliasConditionState  USING_WEAPON_B
AliasConditionState  USING_WEAPON_C
AliasConditionState  RIDER4
AliasConditionState  RIDER4 PREATTACK_C

ConditionState       RIDER4 USING_WEAPON_C
Model              EVPandur_RPR
Animation          EVPandur_RPR.EVPandur_RPR
AnimationMode      LOOP
Flags              RANDOMSTART
AnimationSpeedFactorRange  1.0 1.0
End

End

Draw  W3DModelDraw Module_OverWater

DefaultConditionState
Model  EVPandur
HideSubObject  CHASSIS TURRET PZFTGEAR PIOGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR HVSNPRGR HVYSNPR HOUSECOLOR05
End
AliasConditionState   MOVING

ConditionState        OVER_WATER
ParticleSysBone     Skirt02 AmphibWaveRest
End

ConditionState        OVER_WATER MOVING
ParticleSysBone     Skirt02 AmphibWave
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:Pandur
Side                 Europe
EditorSorting        VEHICLE
TransportSlotCount   3                 ;how many "slots" we take in a transport (0 == not transportable)
BuildCost            1000
BuildTime            15.0      ;in seconds
VisionRange          300
ShroudClearingRange  325

;Felin
WeaponSet
Conditions  WEAPON_RIDER1
Weapon             PRIMARY  PandurAutoCannonWeapon
Weapon             TERTIARY PandurTertiaryDummyWeapon
AutoChooseSources  TERTIARY none
End

WeaponSet
Conditions  WEAPON_RIDER1 PLAYER_UPGRADE
Weapon             PRIMARY  PandurAutoCannonUpgradedWeapon
Weapon             TERTIARY PandurTertiaryDummyWeapon
AutoChooseSources  TERTIARY none
End


;PanzerFaust
WeaponSet
Conditions  WEAPON_RIDER2
Weapon             PRIMARY   PandurPanzerFaustWeapon
Weapon             SECONDARY PandurPanzerFaustVacuumWeapon
AutoChooseSources  SECONDARY none
Weapon             TERTIARY  PandurTertiaryDummyWeapon
AutoChooseSources  TERTIARY  none
ShareWeaponReloadTime  Yes
End

;Medic
WeaponSet
Conditions  WEAPON_RIDER3
Weapon             PRIMARY   EuropeVehicleMountedMachinegunWeapon
Weapon             TERTIARY  PandurMedicRecoverWoundedWeapon
AutoChooseSources  TERTIARY  none
End

;Engineer
WeaponSet
Conditions  WEAPON_RIDER4
Weapon             PRIMARY  SupportVehicleDummyWeapon
Weapon             TERTIARY PandurRepairWeapon
AutoChooseSources  TERTIARY none
End

;Grenadier
WeaponSet
Conditions  WEAPON_RIDER5
Weapon             PRIMARY   PandurGrenadeMachineGunWeapon
Weapon             SECONDARY PandurAirburstGrenadeMachineGunWeapon
AutoChooseSources  SECONDARY none
Weapon             TERTIARY  PandurTertiaryDummyWeapon
AutoChooseSources  TERTIARY  none
End

;Jaeger
WeaponSet
Conditions  WEAPON_RIDER6
Weapon             PRIMARY  PandurCannisterGunWeapon
Weapon             TERTIARY PandurTertiaryDummyWeapon
AutoChooseSources  TERTIARY none
End

;Pioneer
WeaponSet
Conditions  WEAPON_RIDER7
Weapon             PRIMARY   PandurMortarBarrageWeapon
Weapon             SECONDARY PandurCanisterMortarBarrageWeapon
AutoChooseSources  SECONDARY none
Weapon             TERTIARY  PandurTeargasMortarBarrageWeapon
AutoChooseSources  TERTIARY  none
ShareWeaponReloadTime  Yes
End


;Heavy Sniper
WeaponSet
Conditions  WEAPON_RIDER8
Weapon             PRIMARY   PandurHeavySniperAntiMaterialRifleInfantryWeapon
PreferredAgainst   PRIMARY   INFANTRY
Weapon             SECONDARY PandurHeavySniperAntiMaterialRifleVehicleWeapon
PreferredAgainst   SECONDARY VEHICLE
ShareWeaponReloadTime  Yes
End

ArmorSet
Conditions       None
Armor            BikeLogicTankArmor
DamageFX         TankDamageFX
End

Prerequisites
Object  EuropeSolarReactor
End

ExperienceValue     80 80 150 300   ;Experience point value at each level
ExperienceRequired  0 200 300 600   ;Experience points needed to gain each level
IsTrainable  Yes             ;Can gain experience
CrusherLevel             2  ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel           2  ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles
CommandSet               GenericCommandSet

; *** AUDIO Parameters ***
VoiceSelect              PandurVoiceSelect
VoiceMove                PandurVoiceMove
VoiceAttack              PandurVoiceAttack
SoundMoveStart           PandurMoveStart
SoundMoveStartDamaged    PandurMoveStart

UnitSpecificSounds
VoiceCreate            PandurVoiceCreate
VoiceCrush             PandurVoiceMove
VoiceEnter             PandurVoiceMove
TruckLandingSound      RocketBuggyLand
TruckPowerslideSound   RocketBuggyPowerslide
End

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
;@todo lorenzen removed the CAN_ATTACK from the chinasupplytruck... ok?
KindOf  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT GARRISONABLE_UNTIL_DESTROYED SALVAGER

Body  ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  TransportAIUpdate ModuleTag_03
Turret
ControlledWeaponSlots  PRIMARY SECONDARY TERTIARY
TurretTurnRate         180
AllowsPitch            Yes
FiresWhileTurning      Yes
MinIdleScanInterval    2000
MaxIdleScanInterval    8000
MinIdleScanAngle       0
MaxIdleScanAngle       90
End
AutoAcquireEnemiesWhenIdle  Yes
MoodAttackCheckRate         50
End
Locomotor  SET_NORMAL PandurLandLocomotor PandurWaterLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

;Start Death Modules

Behavior  SlowDeathBehavior ModuleTag_05
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_VehiclePandurDeathEffect
End

;Deaths for pilot kill weapons
Behavior  CreateObjectDie ModuleTag_105235
DeathTypes  NONE +EXTRA_7
CreationList  OCL_PandurNerveGasKill
TransferPreviousHealth  Yes
End

Behavior  FXListDie ModuleTag_06
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED
DeathFX  FX_CarCrush
End

; A crushing defeat
Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +TOPPLED +EXTRA_7
End

Behavior  CreateObjectDie ModuleTag_FelinDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER1
CreationList    OCL_PandurFelinRespawn
End

Behavior  CreateObjectDie ModuleTag_PanzerFaustDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER2
CreationList    OCL_PandurPanzerFaustRespawn
End

Behavior  CreateObjectDie ModuleTag_MedicDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER3
CreationList    OCL_PandurMedicRespawn
End

Behavior  CreateObjectDie ModuleTag_EngineerDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER4
CreationList    OCL_PandurEngineerRespawn
End

Behavior  CreateObjectDie ModuleTag_GrenadierDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER5
CreationList    OCL_PandurGrenadierRespawn
End

Behavior  CreateObjectDie ModuleTag_FrankJaegerDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER6
CreationList    OCL_PandurFrankJaegerRespawn
End

Behavior  CreateObjectDie ModuleTag_PioneerDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER7
CreationList    OCL_PandurPioneerRespawn
End

Behavior  CreateObjectDie ModuleTag_HeavySniperDeath01
DeathTypes      ALL
RequiredStatus  STATUS_RIDER8
CreationList    OCL_PandurHeavySniperRespawn
End

;End Death modules

Behavior  ModelConditionUpgrade ModuleTag_RevolverCannon01
ConditionFlag  USER_2
TriggeredBy    Upgrade_EuropeRevolverCannons
End

Behavior  WeaponSetUpgrade ModuleTag_RevolverUpgrade02
TriggeredBy  Upgrade_EuropeRevolverCannons
End

Behavior  ModelConditionUpgrade ModuleTag_ArmorSkirt01
ConditionFlag  USER_1
TriggeredBy    Upgrade_EuropeArmorSkirts
End

Behavior  MaxHealthUpgrade ModuleTag_ArmorSkirt02
TriggeredBy    Upgrade_EuropeArmorSkirts
AddMaxHealth   75.0
ChangeType     ADD_CURRENT_HEALTH_TOO
End

Behavior  FireWeaponCollide ModuleTag_HealInfantryWithMedic01
CollideWeapon   PandurMedicHealingWeapon
RequiredStatus  STATUS_RIDER3
End

Behavior  FireWeaponCollide ModuleTag_HealInfantryWithMedic02
CollideWeapon   PandurMedicHealingDecalWeapon
RequiredStatus  STATUS_RIDER3
End

Behavior  FireWeaponCollide ModuleTag_RepairingWithEngineer01
CollideWeapon   PandurRepairVehicleWeapon
RequiredStatus  STATUS_RIDER4
End

Behavior  FireWeaponCollide ModuleTag_RepairingWithEngineer02
CollideWeapon   PandurRepairDecalWeapon
RequiredStatus  STATUS_RIDER4
End

;This modules ensures that the unit is always colliding with something so that the above triggers work properly
Behavior  BoneFXDamage ModuleTag_Collision01
End

Behavior  BoneFXUpdate ModuleTag_Collision02
PristineOCL1       bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericCollisionObjectDummy
DamagedOCL1        bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericCollisionObjectDummy
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 0 0 OCL:OCL_GenericCollisionObjectDummy
End

Behavior  ObjectCreationUpgrade ModuleTag_Collision03
UpgradeObject  OCL_RadarVanGPSScrambler
TriggeredBy    Upgrade_CostReduction
End

Behavior  RiderChangeContain ModuleTag_16

Rider1  EuropeInfantryFelin        RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GenericCommandSet                        SET_NORMAL
Rider2  EuropeInfantryPanzerFaust  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 EuropeVehiclePandurPanzerFaustCommandSet SET_NORMAL
Rider3  EuropeInfantryMedic        RIDER3 WEAPON_RIDER3 STATUS_RIDER3 EuropeVehiclePandurMedicCommandSet       SET_NORMAL
Rider4  EuropeInfantryEngineer     RIDER4 WEAPON_RIDER4 STATUS_RIDER4 EuropeVehiclePandurEngineerCommandSet    SET_NORMAL
Rider5  EuropeInfantryGrenadier    RIDER5 WEAPON_RIDER5 STATUS_RIDER5 EuropeVehiclePandurGrenadierCommandSet   SET_NORMAL
Rider6  EuropeInfantryFrankJaeger  RIDER6 WEAPON_RIDER6 STATUS_RIDER6 GenericCommandSet                        SET_NORMAL
Rider7  EuropeInfantryPioneer      RIDER7 WEAPON_RIDER7 STATUS_RIDER7 EuropeVehiclePandurPioneerCommandSet     SET_NORMAL
Rider8  EuropeInfantryHeavySniper  RIDER8 WEAPON_RIDER8 STATUS_RIDER8 GenericCommandSet                        SET_NORMAL

ScuttleDelay           1500
ScuttleStatus          TOPPLED

;Standard TransportContain stuff
Slots                  2
InitialPayload         EuropeInfantryFelin 1
ScatterNearbyOnExit    No
HealthRegen%PerSec     0
DamagePercentToUnits   0%    ; This module will Delete the rider on death, but we need to kill him as well so he doesn't pick up the bike's salvage crate.
BurnedDeathToUnits     No    ; And no Burned death.
AllowInsideKindOf      INFANTRY
ExitDelay              250
NumberOfExitPaths      1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
GoAggressiveOnExit     Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime           0
EnterSound             HumveeEnter
End

Behavior                        TransitionDamageFX ModuleTag_08
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1          Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
End

Behavior  FlammableUpdate ModuleTag_10
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  CreateCrateDie ModuleTag_salvage01
CrateData  SalvageCrateDataEuropeTier1
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  EjectPilotDie ModuleTag_HijackerEmerge01
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
RequiredStatus  HIJACKED
VeterancyLevels   ALL
GroundCreationList  OCL_HijackerEmerge
AirCreationList  OCL_HijackerEmergeViaParachute
End

Behavior  FXListDie ModuleTag_HijackerEmerge02
RequiredStatus  HIJACKED
DeathTypes  ALL -CRUSHED -SPLATTED -TOPPLED -EXTRA_7
DeathFX  FX_HijackerEmerge
End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.0
GeometryHeight  10.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End

;------------------------------------------------------------------------------
Object EuropeVehiclePandurUnmanned

SelectPortrait  SEPandur_L
ButtonImage     SEPandur

UpgradeCameo1  Upgrade_EuropeArmorSkirts
UpgradeCameo2  Upgrade_EuropeRevolverCannons
;UpgradeCameo3  NONE
;UpgradeCameo4  NONE
;UpgradeCameo5  NONE


Draw  W3DTruckDraw ModuleTag_01
OkToChangeModelColor  Yes

;Normal State
ConditionState       NONE
Model              EVPandur
ShowSubObject      SKIRT01
HideSubObject      SKIRT02 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06 GRENDR MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR PIONEER PIOGEAR HVYSNPRHVSNPRGR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN HOUSECOLOR05
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
End

ConditionState       REALLYDAMAGED
Model              EVPandur_D
ShowSubObject      SKIRT01
HideSubObject      SKIRT02 ARMOR TIREARMR01 TIREARMR02 TIREARMR03 TIREARMR04 TIREARMR05 TIREARMR06 GRENDR MEDIC PFAUST JAEGER ENGINR REVOLVER01 PZFTGEAR MEDICRT GRNDRGEAR ENGCRT JGRGEAR PIONEER PIOGEAR HVYSNPRHVSNPRGR HVYSNPR HVYSNPR MDCMZLFX01
ShowSubObject      FELIN HOUSECOLOR05
WeaponRecoilBone   PRIMARY Felinbrl
WeaponFireFXBone   PRIMARY FlnMzl
WeaponLaunchBone   PRIMARY FlnMzl
WeaponMuzzleFlash  PRIMARY FlnMzlFX
End
AliasConditionState  RUBBLE


TrackMarks  EXTireTrack.tga

Dust  RocketBuggyDust
DirtSpray  RocketBuggyDirtSpray
LeftFrontTireBone      Tire01
RightFrontTireBone     Tire02
MidLeftMidTireBone     Tire03
MidRightMidTireBone    Tire04
LeftRearTireBone       Tire05
RightRearTireBone      Tire06
TireRotationMultiplier       0.2   ; this * speed  rotation.
PowerslideRotationAddition   0   ; This vehicle doesn't powerslide.
End

; ***DESIGN parameters ***
DisplayName             OBJECT:Pandur
Side                    Europe
EditorSorting           SYSTEM
TransportSlotCount      3


WeaponSet
Conditions            NONE
Weapon                PRIMARY   SuicideUnresistableWeapon
End

ArmorSet
Conditions            None
Armor                 TankArmor
DamageFX              UnmannedTankDamageFX
End

VisionRange             200
ShroudClearingRange  200


IsTrainable             No
CrusherLevel            2               ;What can I crush?: 1  infantry, 2  trees, 3  vehicles
CrushableLevel          2               ;What am I?:        0  for infantry, 1  for trees, 2  general vehicles

; *** ENGINEERING Parameters ***
RadarPriority           UNIT
KindOf                  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE

Body                    ActiveBody ModuleTag_02
MaxHealth        350.0
InitialHealth    350.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  600
SubdualDamageHealRate  500
SubdualDamageHealAmount  50
End

Behavior  AIUpdateInterface ModuleTag_03
AutoAcquireEnemiesWhenIdle  No
End
Locomotor             SET_NORMAL   FreeFallLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass                  50.0
End

; Turret fly off death
Behavior  SlowDeathBehavior ModuleTag_10
DeathTypes  ALL -CRUSHED -SPLATTED -SUICIDED
DestructionDelay  200
DestructionDelayVariance  100
FX   FINAL    FX_SupplyTruckExplosionOneFinal
OCL  FINAL    OCL_VehiclePandurDeathEffect
End

Behavior  CreateCrateDie ModuleTag_salvage01
CrateData  SalvageCrateDataEuropeTier1
End

Behavior                  TransitionDamageFX ModuleTag_12
ReallyDamagedParticleSystem1  Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
End

Behavior  DestroyDie ModuleTag_11
DeathTypes  NONE +CRUSHED +SPLATTED +SUICIDED
End

; A crushing defeat
Behavior  FXListDie ModuleTag_14
DeathTypes  NONE +CRUSHED +SPLATTED
DeathFX  FX_CarCrush
End

Behavior  FlammableUpdate ModuleTag_21
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  3       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior        OCLUpdate ModuleTag_Respawn01 ; Context window is a reaction to this, no CommandSet
MinDelay      100
MaxDelay      100
CreateAtEdge  Yes ; as opposed to just creating on self

FactionTriggered  Yes ; This requires a controlling player before it works

FactionOCL    Faction:America                   OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:China                     OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:GLA                       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaLaserGeneral       OCL:OCL_SkyShieldShellExplosionDetonationEffect
FactionOCL    Faction:AmericaSuperWeaponGeneral OCL:OCL_SkyShieldShellExplosionDetonationEffect
End

Behavior  CreateObjectDie ModuleTag_Respawn02
DeathTypes  NONE +SUICIDED
CreationList  OCL_PandurNerveGasKillRespawn
TransferPreviousHealth  Yes
End

Geometry  BOX
GeometryMajorRadius  16.0
GeometryMinorRadius  8.0
GeometryHeight  10.0
GeometryIsSmall  No
Shadow  SHADOW_VOLUME
ShadowSizeX  45
End

;------------------------------------------------------------------------------
;this objects will contain the rider from the destroyed Pandur and then ensure that they will only survive if they are on land
Object EuropePandurInfantryEmergingContainer

; ***DESIGN parameters ***
Side                 Europe
EditorSorting        SYSTEM
TransportSlotCount   0
IsTrainable          No  ;Can gain experience
KindOf               PRELOAD UNATTACKABLE IMMOBILE
RadarPriority        NOT_ON_RADAR


; *** ENGINEERING Parameters ***
Behavior  AIUpdateInterface ModuleTag_02
End

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  PhysicsBehavior ModuleTag_04
Mass  5.0
KillWhenRestingOnGround  Yes
End

Behavior  TransportContain  ModuleTag_05
PassengersAllowedToFire  No
Slots  10
DamagePercentToUnits  50%
AllowInsideKindOf   INFANTRY
End

Behavior  SlowDeathBehavior ModuleTag_06
DestructionDelay  100
End

Geometry  BOX
GeometryMajorRadius  5.0
GeometryMinorRadius  5.0
GeometryHeight  5.0
GeometryIsSmall  No

End