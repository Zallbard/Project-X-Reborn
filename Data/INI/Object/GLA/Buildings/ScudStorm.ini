;------------------------------------------------------------------------------
Object GLAScudStorm

; *** ART Parameters ***
SelectPortrait          SUScudStorm_L
ButtonImage             SUScudStorm

UpgradeCameo1  Upgrade_GLAAnthraxBeta

Draw  W3DModelDraw ModuleTag_01 ;Main structure
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBScdStrm
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBScdStrm_D
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBScdStrm_D
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBScdStrm_S
End
AliasConditionState  SNOW NIGHT

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBScdStrm
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBScdStrm_D
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBScdStrm_D
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBScdStrm_S
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

Draw  W3DModelDraw ModuleTag_Scuds01 ;Here be missiles
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ProjectileBoneFeedbackEnabledSlots  SECONDARY

;;;;Normal Conditions
ConditionState      NONE
Model             UBScdStrm_A1
Animation         UBScdStrm_A1.UBScdStrm_A1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
TransitionKey     Trans_Normal
End
AliasConditionState  NIGHT

TransitionState      Trans_Normal Trans_Attacking
Model              UBScdStrm_A1
Animation          UBScdStrm_A1.UBScdStrm_A1
AnimationMode      ONCE
WeaponLaunchBone   SECONDARY SCUD
Flags              START_FRAME_FIRST
ParticleSysBone    STEAM01 SteamLarge
ParticleSysBone    STEAM02 SteamLarge
ParticleSysBone    STEAM03 SteamLarge
End

ConditionState      ATTACKING
Model             UBScdStrm_A1
Animation         UBScdStrm_A1.UBScdStrm_A1
AnimationMode     ONCE
Flags             START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
TransitionKey     Trans_Attacking
End
AliasConditionState  ATTACKING FIRING_A
AliasConditionState  ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  NIGHT ATTACKING
AliasConditionState  NIGHT ATTACKING FIRING_A
AliasConditionState  NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A

TransitionState     Trans_Attacking Trans_Normal
Model             UBScdStrm_A2
Animation         UBScdStrm_A2.UBScdStrm_A2
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
End

;;;;Damaged Conditions
ConditionState      DAMAGED
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
TransitionKey     Trans_Damaged
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

TransitionState     Trans_Damaged Trans_Damaged_Attacking
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
End

ConditionState      DAMAGED ATTACKING
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE
Flags             START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
TransitionKey     Trans_Damaged_Attacking
End
AliasConditionState  DAMAGED ATTACKING FIRING_A
AliasConditionState  DAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  DAMAGED NIGHT ATTACKING
AliasConditionState  DAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  DAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW DAMAGED ATTACKING
AliasConditionState  SNOW DAMAGED ATTACKING FIRING_A
AliasConditionState  SNOW DAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW DAMAGED NIGHT ATTACKING
AliasConditionState  SNOW DAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  SNOW DAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED ATTACKING
AliasConditionState  REALLYDAMAGED ATTACKING FIRING_A
AliasConditionState  REALLYDAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  REALLYDAMAGED NIGHT ATTACKING
AliasConditionState  REALLYDAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  REALLYDAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED ATTACKING
AliasConditionState  SNOW REALLYDAMAGED ATTACKING FIRING_A
AliasConditionState  SNOW REALLYDAMAGED ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW REALLYDAMAGED NIGHT ATTACKING
AliasConditionState  SNOW REALLYDAMAGED NIGHT ATTACKING FIRING_A
AliasConditionState  SNOW REALLYDAMAGED NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A

TransitionState     Trans_Damaged_Attacking Trans_Damaged
Model             UBScdStrm_DA2
Animation         UBScdStrm_DA2.UBScdStrm_DA2
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
End

;;;;Snow Conditions
ConditionState      SNOW
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
TransitionKey     Trans_Snow
End
AliasConditionState  SNOW NIGHT

TransitionState     Trans_Snow Trans_Snow_Attacking
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST PRISTINE_BONE_POS_IN_FINAL_FRAME
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
End

ConditionState      SNOW ATTACKING
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE
Flags             START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamLarge
ParticleSysBone   STEAM02 SteamLarge
ParticleSysBone   STEAM03 SteamLarge
TransitionKey     Trans_Snow_Attacking
End
AliasConditionState  SNOW ATTACKING FIRING_A
AliasConditionState  SNOW ATTACKING BETWEEN_FIRING_SHOTS_A
AliasConditionState  SNOW NIGHT ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING FIRING_A
AliasConditionState  SNOW NIGHT ATTACKING BETWEEN_FIRING_SHOTS_A

TransitionState     Trans_Snow_Attacking Trans_Snow
Model             UBScdStrm_SA2
Animation         UBScdStrm_SA2.UBScdStrm_SA2
AnimationMode     ONCE
WeaponLaunchBone  SECONDARY SCUD
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
End

;**************************************************************************************************************************
ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model             UBScdStrm_A1
Animation         UBScdStrm_A1.UBScdStrm_A1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
Flags             ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
Flags             ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState      AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model             UBScdStrm_SA1
Animation         UBScdStrm_SA1.UBScdStrm_SA1
AnimationMode     ONCE_BACKWARDS
WeaponLaunchBone  SECONDARY SCUD
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
Flags             START_FRAME_FIRST
Flags             ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction dirt patch -----------------
Draw                 W3DModelDraw ModuleTag_034312
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBScdStrm_A6
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBScdStrm_SA6
End
AliasConditionState SNOW NIGHT PARTIALLY_CONSTRUCTED

End

; ------------ leaking anthrax effects -----------------
Draw                 W3DModelDraw ModuleTag_034323212

ConditionState     NONE
Model            UBScdStrm_B
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     ATTACKING
Model            UBScdStrm_B
ParticleSysBone  FXBone01 ScudStormBuildingGoo
ParticleSysBone  FXBone02 ScudStormBuildingGoo
ParticleSysBone  FXBone03 ScudStormBuildingGoo
End
AliasConditionState  NIGHT ATTACKING
AliasConditionState  DAMAGED ATTACKING
AliasConditionState  DAMAGED NIGHT ATTACKING
AliasConditionState  SNOW ATTACKING
AliasConditionState  SNOW NIGHT ATTACKING

;;;;Upgraded with antrhax beta

ConditionState     USER_1
Model            UBScdStrm_B
End
AliasConditionState  USER_1 NIGHT
AliasConditionState  USER_1 DAMAGED
AliasConditionState  USER_1 DAMAGED NIGHT
AliasConditionState  USER_1 DAMAGED SNOW
AliasConditionState  USER_1 DAMAGED NIGHT SNOW
AliasConditionState  USER_1 REALLYDAMAGED
AliasConditionState  USER_1 REALLYDAMAGED NIGHT
AliasConditionState  USER_1 REALLYDAMAGED SNOW
AliasConditionState  USER_1 REALLYDAMAGED NIGHT SNOW
AliasConditionState  USER_1 SNOW
AliasConditionState  USER_1 SNOW NIGHT

ConditionState     USER_1 ATTACKING
Model            UBScdStrm_B
ParticleSysBone  FXBone01 ScudStormBuildingGooUpgraded
ParticleSysBone  FXBone02 ScudStormBuildingGooUpgraded
ParticleSysBone  FXBone03 ScudStormBuildingGooUpgraded
End
AliasConditionState  USER_1 NIGHT ATTACKING
AliasConditionState  USER_1 DAMAGED ATTACKING
AliasConditionState  USER_1 DAMAGED NIGHT ATTACKING
AliasConditionState  USER_1 SNOW ATTACKING
AliasConditionState  USER_1 SNOW NIGHT ATTACKING

End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBScdStrm_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBScdStrm_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle  -45

; ***DESIGN parameters ***
DisplayName       OBJECT:ScudStorm
Side  GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLAPalace
End

BuildCost         4000
BuildTime         45.0           ; in seconds
EnergyProduction  0
CommandSet        GLAScudStormCommandSet
VisionRange      200.0           ; Shroud clearing distance
ShroudClearingRange  200

WeaponSet
Conditions  None
Weapon  SECONDARY ScudStormWeapon
AutoChooseSources  SECONDARY NONE
End
ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End
ExperienceValue      400 400 400 400  ; Experience point value at each level
MaxSimultaneousOfType  DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  ScudStorm  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

; *** AUDIO Parameters ***
VoiceSelect  ScudStormSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

UnitSpecificSounds
; These have the syntax of SomeNameSomewhereInCode  SomeNameSomewhereInLookupINIs
TurretMoveStart  NoSound
TurretMoveLoop  NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_SUPERWEAPON
Body             StructureBody ModuleTag_07
MaxHealth        4000.0
InitialHealth    4000.0

; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
SubdualDamageCap  4200
SubdualDamageHealRate  500
SubdualDamageHealAmount  100
End
Behavior         RebuildHoleExposeDie ModuleTag_08
HoleName       GLAHoleScudStorm
HoleMaxHealth  500.0
End

Behavior  AIUpdateInterface ModuleTag_09
End

Behavior     OCLSpecialPower ModuleTag_10
SpecialPowerTemplate  SuperweaponScudStorm
OCL                   SUPERWEAPON_ScudStorm
End
Behavior  SpecialPowerCreate ModuleTag_11
End


Behavior         FireWeaponWhenDeadBehavior ModuleTag_13
DeathWeapon    ScudStormDeathWeapon
ConflictsWith  Upgrade_GLAAnthraxBeta
StartsActive   Yes
End

Behavior         FireWeaponWhenDeadBehavior ModuleTag_14
DeathWeapon    ScudStormDeathWeaponUpgraded
TriggeredBy    Upgrade_GLAAnthraxBeta
StartsActive   No
End

Behavior  FlammableUpdate ModuleTag_16
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior  RadiusDecalUpdate ModuleTag_17
; nothing
End

Behavior  TransitionDamageFX ModuleTag_18
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior         FXListDie ModuleTag_19
DeathFX        FX_BuildingDie
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

Behavior  ModelConditionUpgrade ModuleTag_1812121
ConditionFlag  USER_1
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior  CreateObjectDie ModuleTag_Collapse01
DeathTypes     ALL
CreationList   OCL_ScudStormCollapseDummy
ExemptStatus   UNDER_CONSTRUCTION
End

Behavior  DestroyDie ModuleTag_Collapse02
DeathTypes  ALL
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  BoneFXDamage ModuleTag_RevealToAll01
End

Behavior  BoneFXUpdate ModuleTag_RevealToAll02
PristineOCL1       bone:NULL OnlyOnce:No 2000 2000 OCL:OCL_SuperWeaponShroudReveal
DamagedOCL1        bone:NULL OnlyOnce:No 2000 2000 OCL:OCL_SuperWeaponShroudReveal
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 2000 2000 OCL:OCL_SuperWeaponShroudReveal
End

Geometry             BOX
GeometryMajorRadius  75.0
GeometryMinorRadius  75.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
Object GLAScudStorm_CollapseObject

; *** ART Parameters ***

Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes

ConditionState     NONE
Model            UBScdStrm_D
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

End

Draw  W3DModelDraw ModuleTag_Scuds01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState      NONE
Model             UBScdStrm_DA1
Animation         UBScdStrm_DA1.UBScdStrm_DA1
AnimationMode     ONCE_BACKWARDS
Flags             START_FRAME_FIRST
ParticleSysBone   STEAM01 SteamMedium
ParticleSysBone   STEAM02 SteamMedium
ParticleSysBone   STEAM03 SteamMedium
HideSubObject     SCUD01 SCUD02 SCUD03 SCUD04 SCUD05 SCUD06 SCUD07 SCUD08 SCUD09
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

End

PlacementViewAngle  -45


; ***DESIGN parameters ***
DisplayName       OBJECT:Scudstorm
Side              GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE IMMOBILE SCORE

Body             StructureBody ModuleTag_06
MaxHealth        10.0
InitialHealth    10.0
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
End

Behavior  LifetimeUpdate ModuleTag_Collapse03
MinLifetime        1
MaxLifetime        1
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

Geometry             BOX
GeometryMajorRadius  75.0
GeometryMinorRadius  75.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow           SHADOW_VOLUME
BuildCompletion  PLACED_BY_PLAYER

End