;This is the AI varriant that grants the AI the second tier level.
;It will later be removed when the AI is updated
;------------------------------------------------------------------------------
Object GLAPalace

; *** ART Parameters ***
SelectPortrait          SUPalace_L
ButtonImage             SUPalace


Draw  W3DModelDraw ModuleTag_01 ;This art module contains the parts for the actual structure
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes
ExtraPublicBone       DIRT01

ConditionState     NONE
Model            UBChemLab
Animation        UBChemLab.UBChemLab
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT

ConditionState     DAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState  SNOW
Model            UBChemLab_S
Animation        UBChemLab_S.UBChemLab_S
AnimationMode    LOOP
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBChemLab
Animation        UBChemLab.UBChemLab
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmolderingSmoke
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  FIRE01 SmolderingFire
ParticleSysBone  FIRE02 SmolderingFire
ParticleSysBone  FIRE03 SmolderingFire
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model            UBChemLab_D
Animation        UBChemLab_D.UBChemLab_D
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
ParticleSysBone  SMOKE01 SmolderingSmoke
ParticleSysBone  SMOKE02 SmokeFactionLarge
ParticleSysBone  SMOKE03 SmolderingSmoke
ParticleSysBone  SMOKE04 SmolderingSmoke
ParticleSysBone  SMOKE05 SmokeFactionLarge
ParticleSysBone  FIRE01 FireFactionLarge
ParticleSysBone  FIRE01 SmokeFactionLarge
ParticleSysBone  FIRE02 FireFactionLarge
ParticleSysBone  FIRE02 SmokeFactionLarge
ParticleSysBone  FIRE03 FireFactionLarge
ParticleSysBone  FIRE03 SmokeFactionLarge
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBChemLab_S
Animation        UBChemLab_S.UBChemLab_S
AnimationMode    LOOP
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ The Dome on the Roof -----------------
Draw  W3DModelDraw ModuleTag_Dome01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBChemLab_A2
TransitionKey    TRANS_EMPTY
End
AliasConditionState  NIGHT

ConditionState     LOADED
Model            UBChemLab_A3
Animation        UBChemLab_A3.UBChemLab_A3
AnimationMode    ONCE
TransitionKey    TRANS_OCCUPIED
Flags            START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
End

TransitionState    TRANS_OCCUPIED TRANS_EMPTY
Model            UBChemLab_A3
Animation        UBChemLab_A3.UBChemLab_A3
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

;;;Damaged
ConditionState     DAMAGED
Model            UBChemLab_A2D
TransitionKey    TRANS_EMPTY_DAMAGED
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW

ConditionState     DAMAGED LOADED
Model            UBChemLab_A3D
Animation        UBChemLab_A3D.UBChemLab_A3D
AnimationMode    ONCE
TransitionKey    TRANS_OCCUPIED_DAMAGED
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  DAMAGED LOADED NIGHT
AliasConditionState  DAMAGED LOADED SNOW
AliasConditionState  DAMAGED LOADED NIGHT SNOW
AliasConditionState  REALLYDAMAGED LOADED
AliasConditionState  REALLYDAMAGED LOADED NIGHT
AliasConditionState  REALLYDAMAGED LOADED SNOW
AliasConditionState  REALLYDAMAGED LOADED NIGHT SNOW

TransitionState    TRANS_OCCUPIED_DAMAGED TRANS_EMPTY_DAMAGED
Model            UBChemLab_A3D
Animation        UBChemLab_A3D.UBChemLab_A3D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

;;;Snow
ConditionState  SNOW
Model            UBChemLab_A2S
TransitionKey    TRANS_EMPTY_SNOW
End
AliasConditionState  SNOW NIGHT

ConditionState     SNOW LOADED
Model            UBChemLab_A3S
Animation        UBChemLab_A3S.UBChemLab_A3S
AnimationMode    ONCE
TransitionKey    TRANS_OCCUPIED_SNOW
Flags            MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  SNOW LOADED NIGHT

TransitionState    TRANS_OCCUPIED_SNOW TRANS_EMPTY_SNOW
Model            UBChemLab_A3S
Animation        UBChemLab_A3S.UBChemLab_A3S
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBChemLab_A2
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
TransitionKey    TRANS_EMPTY
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model            UBChemLab_A2D
TransitionKey    TRANS_EMPTY_DAMAGED
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model            UBChemLab_A2S
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
TransitionKey    TRANS_EMPTY_SNOW
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  LOADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION
AliasConditionState   LOADED AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   LOADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   LOADED SOLD
AliasConditionState   LOADED SOLD DAMAGED
AliasConditionState   LOADED SOLD REALLYDAMAGED
AliasConditionState   LOADED SOLD NIGHT
AliasConditionState   LOADED SOLD NIGHT DAMAGED
AliasConditionState   LOADED SOLD NIGHT REALLYDAMAGED
AliasConditionState   LOADED SOLD SNOW
AliasConditionState   LOADED SOLD SNOW DAMAGED
AliasConditionState   LOADED SOLD SNOW REALLYDAMAGED
AliasConditionState   LOADED SOLD NIGHT SNOW
AliasConditionState   LOADED SOLD NIGHT SNOW DAMAGED
AliasConditionState   LOADED SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End

; ------------ Factory Door -----------------
Draw                    W3DModelDraw ModuleTag_FactoryDoor01
OkToChangeModelColor  Yes

; DAY ************************************
ConditionState        NONE
Model               UBChemLab_A1
End
AliasConditionState  NIGHT

ConditionState        DAMAGED
Model               UBChemLab_DA1
End
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW

ConditionState  REALLYDAMAGED RUBBLE
Model               UBChemLab_DA1
End
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT
AliasConditionState  REALLYDAMAGED RUBBLE SNOW
AliasConditionState  REALLYDAMAGED RUBBLE NIGHT SNOW

ConditionState  SNOW
Model               UBChemLab_A1
End
AliasConditionState  NIGHT SNOW

;;;; Door Animations

ConditionState     DOOR_1_OPENING
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
End
AliasConditionState  NIGHT DOOR_1_OPENING

ConditionState     DOOR_1_OPENING DAMAGED
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE
End
AliasConditionState  DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED
AliasConditionState  NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING

ConditionState     DOOR_1_CLOSING DAMAGED
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED
AliasConditionState  NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN

ConditionState     DOOR_1_WAITING_OPEN DAMAGED
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;;;;;;;;;;;;;;Snow
ConditionState     DOOR_1_OPENING SNOW
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    ONCE
End
AliasConditionState  NIGHT DOOR_1_OPENING SNOW

ConditionState     DOOR_1_OPENING DAMAGED SNOW
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE
End
AliasConditionState  SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_OPENING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_CLOSING SNOW
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  NIGHT DOOR_1_CLOSING SNOW

ConditionState     DOOR_1_CLOSING DAMAGED SNOW
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    ONCE_BACKWARDS
End
AliasConditionState  SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_CLOSING DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

ConditionState     DOOR_1_WAITING_OPEN SNOW
Model            UBChemLab_A1
Animation        UBChemLab_A1.UBChemLab_A1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN SNOW

ConditionState     DOOR_1_WAITING_OPEN DAMAGED SNOW
Model            UBChemLab_DA1
Animation        UBChemLab_DA1.UBChemLab_DA1
AnimationMode    MANUAL
Flags            START_FRAME_LAST
End
AliasConditionState  SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
AliasConditionState  NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
AliasConditionState  NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;**************************************************************************************************************************

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBChemLab_A1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
Model              UBChemLab_DA1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
Model              UBChemLab_DA1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
Model              UBChemLab_A1
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED
;**************************************************************************************************************************
End

Draw  W3DModelDraw ModuleTag_ChemicalSmoke01
OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

ConditionState     NONE
Model            UBChemLab_B
ParticleSysBone  Smoke01 ToxicSteamLarge
End
AliasConditionState  NIGHT
AliasConditionState  DAMAGED
AliasConditionState  DAMAGED NIGHT
AliasConditionState  DAMAGED SNOW
AliasConditionState  DAMAGED NIGHT SNOW
AliasConditionState  REALLYDAMAGED
AliasConditionState  REALLYDAMAGED NIGHT
AliasConditionState  REALLYDAMAGED SNOW
AliasConditionState  REALLYDAMAGED NIGHT SNOW
AliasConditionState  SNOW
AliasConditionState  NIGHT SNOW

;**************************************************************************************************************************
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBChemLab_B
ParticleSysBone  Smoke01 ToxicSteamLarge
Flags            ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

ConditionState        AWAITING_CONSTRUCTION
Model               NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT
AliasConditionState   AWAITING_CONSTRUCTION NIGHT DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD NIGHT
AliasConditionState   SOLD NIGHT DAMAGED
AliasConditionState   SOLD NIGHT REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED
AliasConditionState   SOLD NIGHT SNOW
AliasConditionState   SOLD NIGHT SNOW DAMAGED
AliasConditionState   SOLD NIGHT SNOW REALLYDAMAGED

;**************************************************************************************************************************

End


; ------------ construction-zone fence -----------------
Draw                 W3DModelDraw ModuleTag_02
AnimationsRequirePower  No
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
End
ConditionState     NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
End
ConditionState     SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
End
ConditionState     SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
End
TransitionState    DOWN_DEFAULT UP_DAY
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A4
Animation        UBCmdHQ_A4.UBCmdHQ_A4
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4N
Animation        UBCmdHQ_A4N.UBCmdHQ_A4N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A4S
Animation        UBCmdHQ_A4S.UBCmdHQ_A4S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A4SN
Animation        UBCmdHQ_A4SN.UBCmdHQ_A4SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction scaffolding -----------------
Draw                 W3DModelDraw ModuleTag_03
AnimationsRequirePower  No
MinLODRequired  MEDIUM
DefaultConditionState
Model            None
TransitionKey    DOWN_DEFAULT
HideSubObject    BOX734 BOX733 BOX732 BOX731 OBJECT05
End
ConditionState     NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     SNOW NIGHT
Model            None
TransitionKey    DOWN_DEFAULT
End
ConditionState     PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_DAY
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOW
ParticleSysBone  Dust01 BuildingSnowDust
ParticleSysBone  Smoke01 BuildUpSnowSmoke
ParticleSysBone  Smoke02 BuildUpSnowSmoke
ParticleSysBone  Smoke03 BuildUpSnowSmoke
End
ConditionState     NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_NIGHT
ParticleSysBone  Dust01 BuildingDust
ParticleSysBone  Smoke01 BuildUpSmoke
ParticleSysBone  Smoke02 BuildUpSmoke
ParticleSysBone  Smoke03 BuildUpSmoke
End
ConditionState     SNOW NIGHT PARTIALLY_CONSTRUCTED
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    MANUAL
Flags            START_FRAME_LAST
TransitionKey    UP_SNOWNIGHT
ParticleSysBone  Dust01 BuildingNightSnowDust
ParticleSysBone  Smoke01 BuildUpNightSnowSmoke
ParticleSysBone  Smoke02 BuildUpNightSnowSmoke
ParticleSysBone  Smoke03 BuildUpNightSnowSmoke
End
TransitionState    DOWN_DEFAULT UP_DAY
Model             UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_NIGHT
Model             UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOW
Model             UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    DOWN_DEFAULT UP_SNOWNIGHT
Model             UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE
AnimationSpeedFactorRange  1.0 1.0
Flags            START_FRAME_FIRST
End
TransitionState    UP_DAY DOWN_DEFAULT
Model            UBCmdHQ_A6
Animation        UBCmdHQ_A6.UBCmdHQ_A6
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_NIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6N
Animation        UBCmdHQ_A6N.UBCmdHQ_A6N
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOW DOWN_DEFAULT
Model            UBCmdHQ_A6S
Animation        UBCmdHQ_A6S.UBCmdHQ_A6S
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
TransitionState    UP_SNOWNIGHT DOWN_DEFAULT
Model            UBCmdHQ_A6SN
Animation        UBCmdHQ_A6SN.UBCmdHQ_A6SN
AnimationMode    ONCE_BACKWARDS
AnimationSpeedFactorRange  2.0 2.0   ; play teardown animations more quickly
Flags            START_FRAME_LAST
End
End

; ------------ under-construction dirt patch -----------------
Draw                 W3DModelDraw ModuleTag_034312
AnimationsRequirePower  No
MinLODRequired  MEDIUM

DefaultConditionState
Model            None
End
AliasConditionState  NIGHT
AliasConditionState  SNOW
AliasConditionState  SNOW NIGHT

ConditionState     PARTIALLY_CONSTRUCTED
Model            UBScdStrm_A6
End
AliasConditionState  NIGHT PARTIALLY_CONSTRUCTED

ConditionState     SNOW PARTIALLY_CONSTRUCTED
Model            UBScdStrm_SA6
End
AliasConditionState SNOW NIGHT PARTIALLY_CONSTRUCTED

End

Draw  W3DModelDraw ModuleTag_NightCondition02

DefaultConditionState
Model               UBChemLab_N
End
AliasConditionState  DAMAGED
AliasConditionState  REALLYDAMAGED
AliasConditionState  SNOW
AliasConditionState  DAMAGED SNOW
AliasConditionState  REALLYDAMAGED SNOW

ConditionState       AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
Model              UBChemLab_N
Flags              ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
End
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
AliasConditionState  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED

ConditionState  AWAITING_CONSTRUCTION
Model              NONE
End
AliasConditionState   AWAITING_CONSTRUCTION DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION REALLYDAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW
AliasConditionState   AWAITING_CONSTRUCTION SNOW DAMAGED
AliasConditionState   AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
AliasConditionState   SOLD
AliasConditionState   SOLD DAMAGED
AliasConditionState   SOLD REALLYDAMAGED
AliasConditionState   SOLD SNOW
AliasConditionState   SOLD SNOW DAMAGED
AliasConditionState   SOLD SNOW REALLYDAMAGED

End

PlacementViewAngle   -135

; ***DESIGN parameters ***
DisplayName       OBJECT:Palace
Side  GLA
EditorSorting     STRUCTURE

Prerequisites
Object  GLABlackMarket
End

BuildCost         2000
BuildTime         45.0           ; in seconds
EnergyProduction  0
VisionRange       200.0           ; Shroud clearing distance
ShroudClearingRange  200

ArmorSet
Conditions       None
Armor            StructureArmorTough
DamageFX         StructureDamageFXNoShake
End

CommandSet  GLAChemicalLabCommandSet
ExperienceValue      250 250 250 250  ; Experience point value at each level
MaxSimultaneousOfType  1 ; Normally unlimited, but can be selected by players in multiplayer games
MaxSimultaneousLinkKey  ChemLab

; *** AUDIO Parameters ***
VoiceSelect            PalaceSelect
SoundOnDamaged         BuildingDamagedStateLight
SoundOnReallyDamaged   BuildingDestroy
SoundEnter             GarrisonEnter
SoundExit              GarrisonExit

UnitSpecificSounds
UnderConstruction      UnderConstructionLoop
End

; *** ENGINEERING Parameters ***
RadarPriority    STRUCTURE
KindOf           PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_TECHNOLOGY CAPTURABLE MP_COUNT_FOR_VICTORY SCORE_CREATE FS_ADVANCED_TECH

Body             HiveStructureBody ModuleTag_04
MaxHealth        5000.0
InitialHealth    5000.0

SubdualDamageCap  5000
SubdualDamageHealRate  500
SubdualDamageHealAmount  50

PropagateDamageTypesToSlavesWhenExisting  NONE
SwallowDamageTypesIfSlavesNotExisting  NONE
End

Behavior  ProductionUpdate ModuleTag_05
NumDoorAnimations             1
DoorOpeningTime               1500  ;in mSeconds
DoorWaitOpenTime              3000  ;in mSeconds
DoorCloseTime                 1500  ;in mSeconds
ConstructionCompleteDuration  1500  ;in mSeconds
End

Behavior  DefaultProductionExitUpdate ModuleTag_1123
UnitCreatePoint    X: 0.0   Y:  0.0   Z:0.0
NaturalRallyPoint  X: 65.0  Y:  0.0   Z:0.0
End

Behavior  FlammableUpdate ModuleTag_11
AflameDuration  5000         ; If I catch fire, I'll burn for this long...
AflameDamageAmount  5       ; taking this much damage...
AflameDamageDelay  500       ; this often.
End

Behavior            OCLSpecialPower ModuleTag_EmergencyRepair01
SpecialPowerTemplate  SuperweaponEmergencyRepair
OCL                   SUPERWEAPON_RepairVehicles1
CreateLocation        CREATE_AT_LOCATION
End

Behavior  SpecialPowerCreate ModuleTag_EmergencyRepair02
End

Behavior              RebuildHoleExposeDie ModuleTag_06
HoleName       GLAHolePalace
HoleMaxHealth  500.0
End

Behavior  TransitionDamageFX ModuleTag_12
;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
DamagedParticleSystem1        Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
;---------------------------------------------------------------------------------------
ReallyDamagedParticleSystem1  Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
ReallyDamagedParticleSystem2  Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
ReallyDamagedParticleSystem3  Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
End

Behavior  TransportContain ModuleTag_Shelter01
Slots  3
AllowInsideKindOf  HUGE_VEHICLE
ForbidInsideKindOf  INFANTRY AIRCRAFT DONT_AUTO_CRUSH_INFANTRY
DamagePercentToUnits  100%
GoAggressiveOnExit  Yes ; AI Will tell people to set their mood to Aggressive on exiting
DoorOpenTime  5000
NumberOfExitPaths  1
End

;This upgraded is used to make alot of ingame effects work properly
;DO NOT REMOVE!
Behavior  GrantUpgradeCreate ModuleTag_AlwaysGrantedUpgrade01
UpgradeToGrant      Upgrade_CostReduction
End

;This module ensures that we can give player upgrades for free through unlocking certain generals points
Behavior  FireWeaponUpdate ModuleTag_GrantUpgradeThroughGenPower01
Weapon  GLAExplosiveCachesUpgradeDummyTriggerWeapon
End

;This module grant the science needed to upgrade the anthrax bomb icon
Behavior  GrantScienceUpgrade ModuleTag_AnthraxBombIconUpdate01
GrantScience  SCIENCE_AnthraxBomb_BetaUpgrade
TriggeredBy  Upgrade_GLAAnthraxBeta
End

Behavior                   StructureCollapseUpdate ModuleTag_Collapse01
MinCollapseDelay         600
MaxCollapseDelay         1600
CollapseDamping          0.0
MaxShudder               0.8
MinBurstDelay            250
MaxBurstDelay            700
BigBurstFrequency        4
OCL                      INITIAL   OCL_StructureCollapseInitial
OCL                      DELAY     OCL_StructureCollapseDelay
OCL                      FINAL     OCL_StructureCollapseFinal
FXList                   INITIAL   FX_StructureCollapseInitial
FXList                   DELAY     FX_StructureCollapseDelay
FXList                   BURST     FX_StructureCollapseBurst
FXList                   FINAL     FX_StructureCollapseFinal
End

Behavior                         SlowDeathBehavior ModuleTag_Collapse02
DeathTypes                     ALL
DestructionDelay               2000
ExemptStatus                   UNDER_CONSTRUCTION
End

Behavior  InstantDeathBehavior ModuleTag_Collapse03
RequiredStatus  UNDER_CONSTRUCTION
OCL             OCL_LargeStructureDebris
FX              FX_LargeStructureDeath
End

Behavior  StealthUpdate ModuleTag_GPSStealth01
StealthDelay                 2000 ; msec
StealthForbiddenConditions   FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
InnateStealth                Yes
RequiredStatus               REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
OrderIdleEnemiesToAttackMeUponReveal   Yes
End

Behavior  SpawnPointProductionExitUpdate ModuleTag_CommandCenterDummy01
SpawnPointBoneName  Dirt
End

Behavior                 SpawnBehavior ModuleTag_CommandCenterDummy02
SpawnNumber            1
SpawnReplaceDelay      1 ;msec
SpawnTemplateName      GLAPalaceCommandCenterDummySpawnerObject
CanReclaimOrphans      No
SpawnedRequireSpawner  Yes
SlavesHaveFreeWill     No
End

Geometry             BOX
GeometryMajorRadius  65.0
GeometryMinorRadius  70.0
GeometryHeight       70.0
FactoryExitWidth     25.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
;we need this object to die as soon as the chemical lab is either sold or destroy which will result in it removing the second one from the game world
Object GLAPalaceCommandCenterDummySpawnerObject

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    ConditionState  None
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
DisplayName       OBJECT:Palace
Side  GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD STRUCTURE UNATTACKABLE IMMOBILE

Body             StructureBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  ObjectCreationUpgrade ModuleTag_06
UpgradeObject  OCL_GLAChemicalLabRadarPowersAndRadarTriggerDummy
TriggeredBy    Upgrade_CostReduction
End

Geometry             BOX
GeometryMajorRadius  50.0
GeometryMinorRadius  60.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object GLAPalaceCommandCenterDummy

;  Draw  W3DModelDraw ModuleTag_01
;    OkToChangeModelColor  Yes
;    ConditionState  None
;      Model  AVBOMBER
;    End
;  End

; ***DESIGN parameters ***
DisplayName       OBJECT:Palace
Side  GLA
EditorSorting     SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf           PRELOAD UNATTACKABLE

Body             StructureBody ModuleTag_04
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL  ChemicalLabCommandTruckGenpowersandRadarDummyLocomotor

Behavior  FireWeaponCollide ModuleTag_ShelterRadar01
CollideWeapon   GLAChemicalLabRadarDummyWeapon
RequiredStatus  USING_ABILITY
End

Behavior  PhysicsBehavior ModuleTag_05
Mass  50.0
KillWhenRestingOnGround  Yes
AllowBouncing  No
End

Behavior  SlavedUpdate ModuleTag_07
GuardMaxRange  1      ;How far away from master I'm allowed when master is idle (doesn't wander)
GuardWanderRange  1   ;How far away I'm allowed to wander from master while guarding.
AttackRange  1        ;How far away from master I'm allowed when master is attacking a target.
AttackWanderRange  1  ;How far I'm allowed to wander from target.
ScoutRange  1         ;How far away from master I'm allowed when master is moving.
ScoutWanderRange  1   ;How far I'm allowed to wander from scout point.
StayOnSameLayerAsMaster  Yes
End

Behavior  DestroyDie ModuleTag_Die01
End

Geometry             BOX
GeometryMajorRadius  50.0
GeometryMinorRadius  60.0
GeometryHeight       50.0
GeometryIsSmall      No
Shadow               SHADOW_VOLUME
BuildCompletion      PLACED_BY_PLAYER

End