;------------------------------------------------------------------------------
Object GLAJetCargoPlane

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model            UVCargoPln
Animation        UVCargoPln.UVCargoPln
AnimationMode    LOOP
ParticleSysBone  Engine01 JetBlackTrail
ParticleSysBone  Engine02 JetBlackTrail
ParticleSysBone  Engine03 JetBlackTrail
ParticleSysBone  Engine04 JetBlackTrail
End
ConditionState  DAMAGED
Model            UVCargoPln_D
Animation        UVCargoPln_D.UVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            UVCargoPln_D
Animation        UVCargoPln_D.UVCargoPln_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Propeller03 JetBlackTrailThin
ParticleSysBone  Propeller04 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  RUBBLE
Model            UVCargoPln_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke04 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
ParticleSysBone  Smoke04 JetSmokeLarge
End

OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            UVCargoPln_A2
Animation        UVCargoPln_A2.UVCargoPln_A2
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            UVCargoPln_A2
Animation        UVCargoPln_A2.UVCargoPln_A2
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            UVCargoPln_A2
Animation        UVCargoPln_A2.UVCargoPln_A2
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End
End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  C130AmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  GLACrateParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE FORCEATTACKABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponAnthraxBomb
UpgradeOCL            SCIENCE_AnthraxBomb_BetaUpgrade  SUPERWEAPON_AnthraxBomb
OCL                   SUPERWEAPON_AnthraxBomb
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_11
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_12
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAJetCargoPlane_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
ParticlesAttachedToAnimatedBones  Yes
DefaultConditionState
Model            UVBoxcar
Animation        UVBoxcar.UVBoxcar
AnimationMode    LOOP
HideSubObject    DOOR01 DOOR02
ParticleSysBone  PROPELLER01 JetBlackTrail
ParticleSysBone  PROPELLER02 JetBlackTrail
End
ConditionState  DAMAGED
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  PROPELLER01 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  REALLYDAMAGED
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  PROPELLER01 JetBlackTrailThin
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End
ConditionState  RUBBLE
Model            UVBoxcar_D1
ParticleSysBone  Smoke01 JetFireLarge
ParticleSysBone  Smoke02 JetFireLarge
ParticleSysBone  Smoke03 JetFireLarge
ParticleSysBone  Smoke01 JetSmokeLarge
ParticleSysBone  Smoke02 JetSmokeLarge
ParticleSysBone  Smoke03 JetSmokeLarge
End

OkToChangeModelColor  Yes
End

Draw  W3DModelDraw ModuleTag_02

DefaultConditionState
Model            UVBoxcar
Animation        UVBoxcar.UVBoxcar
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End

ConditionState  DOOR_1_OPENING
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End

ConditionState  DOOR_1_CLOSING
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

ConditionState  REALLYDAMAGED
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    MANUAL
Flags            START_FRAME_FIRST
HideSubObject    CHASSIS
End
AliasConditionState  RUBBLE

ConditionState  REALLYDAMAGED DOOR_1_OPENING
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    ONCE
Flags            START_FRAME_FIRST
End

ConditionState  REALLYDAMAGED DOOR_1_CLOSING
Model            UVBoxcar_D
Animation        UVBoxcar_D.UVBoxcar_D
AnimationMode    ONCE_BACKWARDS
Flags            START_FRAME_LAST
End

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        SYSTEM
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions       None
Armor            GenPowerAirplaneArmor
DamageFX         None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  BoxcarAmbientLoop
SoundAmbientRubble  NoSound

; *** ENGINEERING Parameters ***
RadarPriority  NOT_ON_RADAR
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_05
DoorDelay  500
MaxAttempts  4
DropOffset  X:0 Y:0 Z:-10
DropDelay  300 ;500 ; time in between each item dropped (if more than one)
PutInContainer  GLACrateParachute
DeliveryDistance  150
End
Locomotor  SET_NORMAL B52Locomotor

Behavior  TransportContain ModuleTag_06
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE FORCEATTACKABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior            OCLSpecialPower ModuleTag_GenPower02
SpecialPowerTemplate  SuperweaponAnthraxBomb
UpgradeOCL            SCIENCE_AnthraxBomb_BetaUpgrade  SUPERWEAPON_AnthraxBomb
OCL                   SUPERWEAPON_AnthraxBomb
CreateLocation        USE_OWNER_OBJECT
ScriptedSpecialPowerOnly  Yes
End

Behavior                           JetSlowDeathBehavior ModuleTag_10
DestructionDelay                 2000
RollRate                         0.0
RollRateDelta                    100%      ;each frame, rollrate  rollrate * rollrateDelta
PitchRate                        0
FallHowFast                      25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
FXInitialDeath                   FX_JetBigDeathInitial
OCLInitialDeath                  OCL_AmericaJetCargoDeathStart
DelaySecondaryFromInitialDeath   2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
OCLSecondary                     OCL_AmericaJetCargoHulkDeath
FXSecondary                      FX_BigPlaneDeath
End

;;;;;;;;  ClientUpdate          AnimatedParticleSysBoneClientUpdate ModuleTag_11
;;;;;;;;  End

Behavior  TransitionDamageFX ModuleTag_12
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLASuicideBomberProjectile

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
OkToChangeModelColor  Yes
DefaultConditionState
Model  UVKamikaze
Animation  UVKamikaze.UVKamikaze
AnimationMode  LOOP
ParticleSysBone  NONE JetBlackTrail
End
End

; ***DESIGN parameters ***
DisplayName       OBJECT:Missile
Side  GLA
EditorSorting    SYSTEM
TransportSlotCount  1                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange  0.0
ShroudClearingRange  300.0

ArmorSet
Conditions       None
Armor            AirplaneArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS AIRCRAFT

Body  ActiveBody ModuleTag_02
MaxHealth        120.0
InitialHealth    120.0
End

; ---- death behaviors
Behavior  InstantDeathBehavior DeathModuleTag_02
DeathTypes  ALL
FX          WeaponFX_BombTruckDefaultBombDetonation
OCL         OCL_GlaAirstrikeSuicdePlaneDebris
Weapon      GLASuicidePlaneDamageWeapon
End

Behavior  PhysicsBehavior ModuleTag_08
Mass  1
End

Behavior  MissileAIUpdate ModuleTag_04
TryToFollowTarget    Yes
DetonateCallsKill    Yes
FuelLifetime         0
IgnitionDelay        0
InitialVelocity      0
DistanceToTravelBeforeTurning  0
DistanceToTargetBeforeDiving   0
End

Behavior  HeightDieUpdate ModuleTag_06
TargetHeight  15.0
TargetHeightIncludesStructures  Yes
End

Behavior  SpecialPowerCompletionDie ModuleTag_SpecialDie01
SpecialPowerTemplate  SuperweaponOverwatch
End

Locomotor  SET_NORMAL SuicideAirplaneLocomotor

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX               89

End

;------------------------------------------------------------------------------
Object OverwatchCursor

Draw  W3DModelDraw ModuleTag_ShadowDraw01
DefaultConditionState
Model  EXOvrwtch_3
End
End

PlacementViewAngle  -180

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  340;
ShadowSizeY  340;
ShadowTexture  SCCOvrwtch;

End

;------------------------------------------------------------------------------
Object OverwatchMarkerOne

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model                NONE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXOvrwtch_1
WeaponLaunchBone  SECONDARY Skull
HideSubObject  Torus01
End

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone  PLANE01

ConditionState  NONE
Model                EXAmmoDump_B
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model                  EXAmmoDump
Animation              EXAmmoDump.EXAmmoDump
AnimationMode          LOOP
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY OverwatchPlaneLauncherObjectWeaponOne
End

ArmorSet
Conditions       None
Armor            OverwatchMarkerArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Body  ActiveBody ModuleTag_02
MaxHealth        200000.0
InitialHealth    200000.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300000
MaxLifetime  300000
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    OverwatchMarkerDecal
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0

End


;------------------------------------------------------------------------------
Object OverwatchMarkerTwo

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

ProjectileBoneFeedbackEnabledSlots  SECONDARY

DefaultConditionState
Model                NONE
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model  EXOvrwtch_2
WeaponLaunchBone  SECONDARY Skull
HideSubObject  Torus01
End

End

Draw                       W3DOverlordTankDraw ModuleTag_Decal01
ExtraPublicBone  PLANE01

ConditionState  NONE
Model                EXAmmoDump_B
End
AliasConditionState  POWER_PLANT_UPGRADING

ConditionState  POWER_PLANT_UPGRADED
Model                  EXAmmoDump
Animation              EXAmmoDump.EXAmmoDump
AnimationMode          LOOP
End
End

PlacementViewAngle  -135

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  150.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY OverwatchPlaneLauncherObjectWeaponTwo
End

ArmorSet
Conditions       None
Armor            OverwatchMarkerArmor
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE ALWAYS_VISIBLE

; *** AUDIO Parameters ***
SoundStealthOn         NoSound
SoundStealthOff        NoSound

Body  ActiveBody ModuleTag_02
MaxHealth        400000.0
InitialHealth    400000.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  1
End

Behavior  StealthUpdate ModuleTag_Stealth03
StealthDelay  0
StealthForbiddenConditions  NONE
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300000
MaxLifetime  300000
End

Behavior  OverlordContain ModuleTag_RotatingDecal01
Slots                  1
DamagePercentToUnits   100%
AllowInsideKindOf      PORTABLE_STRUCTURE
PayloadTemplateName    OverwatchMarkerDecal
End

Behavior  DestroyDie ModuleTag_Die01
End

Behavior  PowerPlantUpgrade ModuleTag_0741
TriggeredBy  Upgrade_CostReduction
End

Behavior  PowerPlantUpdate ModuleTag_0923
RodsExtendTime  100
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0

End

;------------------------------------------------------------------------------
Object OverwatchMarkerDecal

Draw                     W3DDependencyModelDraw ModuleTag_01
AttachToBoneInContainer  PLANE01
DefaultConditionState
Model                EXBlackout
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE
End

; ***DESIGN parameters ***
EditorSorting     SYSTEM
TransportSlotCount  1

ArmorSet
Conditions      None
Armor           InvulnerableAllArmor
End

; *** ENGINEERING Parameters ***
KindOf             PRELOAD PORTABLE_STRUCTURE CLICK_THROUGH IGNORED_IN_GUI ALWAYS_VISIBLE
Body             StructureBody ModuleTag_02
MaxHealth        500000.0
InitialHealth    500000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End

Behavior              DestroyDie ModuleTag_04
End

Geometry             BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight       1.0
GeometryIsSmall      Yes
Scale                50.0
Shadow  SHADOW_DECAL
ShadowSizeX  340;
ShadowSizeY  340;
ShadowTexture  SCCOvrwtch;

End

;------------------------------------------------------------------------------
Object OverwatchMarkerPlaneLauncher

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01

DefaultConditionState
Model  UVKamikaze_B
WeaponLaunchBone  SECONDARY WeaponA
End

End

; ***DESIGN parameters ***
EditorSorting    SYSTEM
VisionRange  170.0
ShroudClearingRange  150.0

WeaponSet
Conditions           None
Weapon               SECONDARY   OverwatchSuicidePlaneWeapon
End

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf  CAN_ATTACK NO_COLLIDE UNATTACKABLE CAN_ATTACK IMMOBILE

Body  ActiveBody ModuleTag_02
MaxHealth        100.0
InitialHealth    100.0
End

Behavior  AIUpdateInterface ModuleTag_03232
AutoAcquireEnemiesWhenIdle  Yes STEALTHED
MoodAttackCheckRate  33
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon                GLASuicidePlaneAttackVoiceWeapon
InitialDelay          1300
End

Behavior  LifetimeUpdate ModuleTag_03
MinLifetime  3500
MaxLifetime  3500
End

Behavior              DestroyDie ModuleTag_Die01
End

Behavior  FireWeaponWhenDeadBehavior ModuleTag_KillMarker01
DeathWeapon    OverwatchPlaneMarkerKillWeapon
StartsActive   Yes
End

Geometry                  Box
GeometryIsSmall           Yes
GeometryMajorRadius       1.0
GeometryMinorRadius       1.0
GeometryHeight            1.0
Shadow                    SHADOW_VOLUME
ShadowSizeX  89

End

;------------------------------------------------------------------------------
Object GLACargoHelicopter

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  HookCargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
RadarPriority  UNIT
KindOf  PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     GLACrateParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior  HelicopterSlowDeathBehavior ModuleTag_CrashtoDeath01
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60                     ; in degrees per second
MaxSelfSpin                      120                     ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25             ; in degrees
FallHowFast                      12.0%  ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                GLACargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLACargoHelicopter_TechDrop

; *** ART Parameters ***
Draw  W3DModelDraw ModuleTag_01
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
End

ConditionState  REALLYDAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

ConditionState  RUBBLE
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    LOOP
HideSubObject    Door01 Door02
ParticleSysBone  ENGINE01 HelixExhaust
ParticleSysBone  ENGINE02 HelixExhaust
ParticleSysBone  ENGINE01 JetSmokeLarge
ParticleSysBone  ENGINE02 JetSmokeLarge
End

OkToChangeModelColor  Yes
ParticlesAttachedToAnimatedBones  Yes

End

Draw  W3DModelDraw ModuleTag_02
DefaultConditionState
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_OPENING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
ConditionState  DOOR_1_CLOSING
Model            UVHook
Animation        UVHook.UVHook
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End

ConditionState  DAMAGED
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    MANUAL
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED
AliasConditionState  RUBBLE

ConditionState  DAMAGED DOOR_1_OPENING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE
HideSubObject    Chassis
Flags            START_FRAME_FIRST
End
AliasConditionState  REALLYDAMAGED DOOR_1_OPENING
AliasConditionState  RUBBLE DOOR_1_OPENING

ConditionState  DAMAGED DOOR_1_CLOSING
Model            UVHook_D
Animation        UVHook_D.UVHook_D
AnimationMode    ONCE_BACKWARDS
HideSubObject    Chassis
Flags            START_FRAME_LAST
End
AliasConditionState  REALLYDAMAGED DOOR_1_CLOSING
AliasConditionState  RUBBLE DOOR_1_CLOSING

End

Draw                     W3DModelDraw ModuleTag_RotorWashEffects01

ConditionState         NONE
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsand
End
AliasConditionState REALLYDAMAGED


ConditionState         SNOW
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtsnow
End
AliasConditionState  SNOW REALLYDAMAGED

ConditionState         OVER_WATER
Model                NVDeva_U2
ParticleSysBone      NONE Helidirtwater
End
AliasConditionState  OVER_WATER REALLYDAMAGED
AliasConditionState  SNOW OVER_WATER
AliasConditionState  SNOW OVER_WATER REALLYDAMAGED

End

; ***DESIGN parameters ***
DisplayName          OBJECT:CargoPlane
EditorSorting        VEHICLE
Side                 GLA
TransportSlotCount   0                 ;how many "slots" we take in a transport (0 == not transportable)
VisionRange          0.0
ShroudClearingRange  300.0
ArmorSet
Conditions         None
Armor              GenPowerAirplaneArmor
DamageFX           None
End
CommandSet           GLAScriptedTransportDropsCommandSet

; *** AUDIO Parameters ***
SoundAmbient  HookCargoHelicopterAmbientLoop
SoundAmbientRubble     NoSound

; *** ENGINEERING Parameters ***
KindOf  PRELOAD CAN_CAST_REFLECTIONS TRANSPORT SCORE FORCEATTACKABLE IGNORED_IN_GUI CAN_ATTACK EMP_HARDENED UNATTACKABLE
Body  ActiveBody ModuleTag_03
MaxHealth        1000.0
InitialHealth    1000.0
End

ExperienceValue      40 40 40 40  ; Experience point value at each level

Behavior  PhysicsBehavior ModuleTag_04
Mass  500.0
End

Behavior  DeliverPayloadAIUpdate ModuleTag_09
DoorDelay          500
MaxAttempts        4
DropOffset         X:0 Y:0 Z:-10
DropDelay          1000 ; time in between each item dropped (if more than one)
PutInContainer     GLACrateParachute ;!! Russia Parachute needs to be added (model)!
DeliveryDistance   150
End
Locomotor  SET_NORMAL CargoHelicopterLocomotor

Behavior  TransportContain ModuleTag_10
Slots  100                     ; hey, it's a BIG transport
ScatterNearbyOnExit  No
OrientLikeContainerOnExit  Yes
KeepContainerVelocityOnExit  Yes
ExitPitchRate  30
ExitBone  WeaponA01
AllowInsideKindOf   INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
DoorOpenTime  0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
NumberOfExitPaths  0
DestroyRidersWhoAreNotFreeToExit  Yes  ; 'destroy' as opposed to 'kill'
End

;SCRIPTED SUPPORT: These special powers are triggered directly
;from the transport without creating a transport. This is done
;via new code support and CreateLocation USE_OWNER_OBJECT --
;which also prevents creating the payload transport.

Behavior  HelicopterSlowDeathBehavior ModuleTag_CrashtoDeath01
DestructionDelay                 100000          ; the destruction delay
SpiralOrbitTurnRate              180.0           ; in degrees per second, bigger #  tighter spiral
SpiralOrbitForwardSpeed          120.0           ; bigger #  larger spiral
SpiralOrbitForwardSpeedDamping   .9999           ; smaller #'s  slow down faster
MaxBraking                       10              ; max braking we can use during death spiral (lower num  wilder spiral)
SoundDeathLoop                   HelixDamagedLoop
MinSelfSpin                      60              ; in degrees per second
MaxSelfSpin                      120             ; in degrees per second
SelfSpinUpdateDelay              100             ; in milliseconds
SelfSpinUpdateAmount             25              ; in degrees
FallHowFast                      12.0%           ; fraction of gravity, lower  take longer to fall
MinBladeFlyOffDelay              1500            ; in milliseconds
MaxBladeFlyOffDelay              1500            ; in milliseconds
AttachParticle                   SootySmokeTrail
AttachParticleBone               Propeller02
BladeObjectName                  ComancheBlades
BladeBoneName                    Propeller01
FXHitGround                      FX_HelicopterHitGround
OCLHitGround                     OCL_HindHitGround
FXFinalBlowUp                    FX_HelixHelicopterBlowUpBig
OCLFinalBlowUp                   OCL_GroundedHelicopterBlowUp
DelayFromGroundToFinalDeath      0
FinalRubbleObject                GLACargoHelicopterRubbleHull
End

Behavior  TransitionDamageFX ModuleTag_13
DamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
ReallyDamagedFXList1  Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  40.0
GeometryMinorRadius  10.0
GeometryHeight  10.0
Shadow  SHADOW_VOLUME
ShadowSizeX  89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLAAirforceLimitsSpawnerObject

; ***DESIGN parameters ***
EditorSorting        SYSTEM

ArmorSet
Conditions       None
Armor            InvulnerableArmorAll
DamageFX         None
End

; *** ENGINEERING Parameters ***
KindOf   IGNORED_IN_GUI NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        100000.0
InitialHealth    100000.0
End

Behavior  DestroyDie ModuleTag_0Y
End

Behavior  CreateObjectDie ModuleTag_0422
DeathTypes    ALL
CreationList  OCL_GLAAirforceLimitObjects
End

Behavior  LifetimeUpdate ModuleTag_04
MinLifetime  1
MaxLifetime  1
End

Geometry  Box
GeometryIsSmall  No
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0
End

;------------------------------------------------------------------------------
Object GLAAirStripLimitOneObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  Airstrip

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

; -----------------------------------------------------------------------------
Object GLAAirStripLimitOneCrateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf  UNATTACKABLE
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED
;ExecuteFX  FX_CratePickup
PickupScience  SCIENCE_GLAAirforce2
UnitCount  1
UnitName  GLAAirfieldLimitKillerObject
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  300
MaxLifetime  300
End

Shadow               SHADOW_VOLUME
Geometry  BOX
GeometryMajorRadius  4.0
GeometryMinorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
Object GLAAirStripLimitTwoObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  3
MaxSimultaneousLinkKey  Airstrip

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

; -----------------------------------------------------------------------------
Object GLAAirStripLimitTwoCrateObject

; ***DESIGN parameters ***
EditorSorting    SYSTEM

; *** ENGINEERING Parameters ***
KindOf  PARACHUTABLE CRATE

Behavior  UnitCrateCollide ModuleTag_02
RequiredKindOf  UNATTACKABLE
ForbiddenKindOf  STRUCTURE VEHICLE INFANTRY PORTABLE_STRUCTURE NO_HEAL_ICON EMP_HARDENED
;ExecuteFX  FX_CratePickup
PickupScience  SCIENCE_GLAAirforce3
UnitCount  1
UnitName  GLAAirfieldLimitKillerObject
End

Behavior  DeletionUpdate ModuleTag_03blugh
MinLifetime  300
MaxLifetime  300
End

Shadow               SHADOW_VOLUME
Geometry  BOX
GeometryMajorRadius  4.0
GeometryMinorRadius  4.0
GeometryHeight  4.0
GeometryIsSmall  Yes

End

;------------------------------------------------------------------------------
;This object triggers a status on airfield limit objects that causes them to kill themselfs
Object GLAAirfieldLimitKillerObject

; ***DESIGN parameters ***
Side                 GLA
DisplayName          FACTION:GLA
EditorSorting        SYSTEM

ArmorSet
Conditions         None
Armor              InvulnerableAllArmor
DamageFX           EmptyDamageFX
End

; *** ENGINEERING Parameters ***
KindOf  PRELOAD NO_COLLIDE UNATTACKABLE

Body  ActiveBody ModuleTag_03
MaxHealth        10000000000.0
InitialHealth    10000000000.0
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLAAirforceGeneralsPowerUnlockCollisionSelfKillDummyWeapon
End

Behavior  DestroyDie ModuleTag_08
DeathTypes  ALL
End

Behavior  DeletionUpdate ModuleTag_03blugh
MinLifetime  300
MaxLifetime  300
End

End

;------------------------------------------------------------------------------
Object GLAAircraftLimitOneObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  6
MaxSimultaneousLinkKey  GLA_Aircraft

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerOne
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object GLAAircraftLimitTwoObject

; ***DESIGN parameters ***
Side                   GLA
EditorSorting          SYSTEM
MaxSimultaneousOfType  6
MaxSimultaneousLinkKey  GLA_Aircraft

ArmorSet
Conditions       None
Armor            InvulnerableAllButStatusArmor
DamageFX         DamageFX_Empty
End

; *** ENGINEERING Parameters ***
KindOf  UNATTACKABLE

Body  ActiveBody ModuleTag_02
MaxHealth        10000.0
InitialHealth    10000.0
End

Behavior  AIUpdateInterface ModuleTag_03
End
Locomotor  SET_NORMAL AirfieldLimitDummyObjectLocomotor

Behavior  PhysicsBehavior ModuleTag_04
Mass  50.0
End

Behavior  DestroyDie ModuleTag_09
DeathTypes  ALL
End

Behavior  FireWeaponCollide ModuleTag_KillMe01
CollideWeapon   SuicideUnresistableWeapon
RequiredStatus  NO_ATTACK_FROM_AI
End

Behavior  FireWeaponUpdate ModuleTag_RadarWhenDeployed01
Weapon  GLACommandTruckRadarCollisionDummyWeapon
End

Behavior  BoneFXDamage ModuleTag_Collision02
End

Behavior  BoneFXUpdate ModuleTag_Collision03
PristineOCL1       bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
DamagedOCL1        bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
ReallyDamagedOCL1  bone:NULL OnlyOnce:No 1000 1000 OCL:OCL_GLAAirforceLimitedCollisionAndRemovalTriggerTwo
End

Geometry  BOX
GeometryMajorRadius  1.0
GeometryMinorRadius  1.0
GeometryHeight  1.0

End

;------------------------------------------------------------------------------
Object CombatDrugsCursor

Draw  W3DModelDraw ModuleTag_ShadowDraw01
DefaultConditionState
Model  NVDeva_U2
End
End

Behavior  DeletionUpdate ModuleTag_03
MinLifetime  1
MaxLifetime  1
End

Geometry             BOX
GeometryMajorRadius  -1.0
GeometryMinorRadius  -1.0
GeometryHeight       -1.0
GeometryIsSmall      Yes
Shadow  SHADOW_DECAL
ShadowSizeX  255;
ShadowSizeY  255;
ShadowTexture  SCCDrugs;

End


;------------------------------------------------------------------------------
Object CombatDrugsCursorMarker

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None CombatDrugsIcon
ParticleSysBone  None CombatDrugsRadiusRing
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK INFANTRY; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE VEHICLE DRONE AIRCRAFT ; Must be clear
BonusDuration  25000             ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  120                  ; Keep in line with radius cursor size in special power template
BonusConditionType  HORDE        ; And which bonus to give
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  CombatDrugsFriendlyDamageWeapon
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1 ;one pulse
MaxLifetime  1
End
End


;------------------------------------------------------------------------------
Object RefinedCombatDrugsCursorMarker

Draw  W3DModelDraw ModuleTag_NOTREALLYADRAW

DefaultConditionState
Model  None
ParticleSysBone  None CombatDrugsIcon
ParticleSysBone  None CombatDrugsRadiusRing
End
End

; ***DESIGN parameters ***
VisionRange      0.0
EditorSorting    SYSTEM

KindOf  NO_COLLIDE IMMOBILE UNATTACKABLE INERT

; *** ENGINEERING Parameters ***
Body  ImmortalBody ModuleTag_01
MaxHealth  1
InitialHealth  1
End

Behavior  WeaponBonusUpdate ModuleTag_02
RequiredAffectKindOf  CAN_ATTACK INFANTRY; Must be set
ForbiddenAffectKindOf  STRUCTURE DEMOTRAP UNATTACKABLE VEHICLE DRONE AIRCRAFT ; Must be clear
BonusDuration  25000             ; How long effect lasts
BonusDelay  100000               ; How often to pulse (short lifetime will trump, of course)
BonusRange  120                  ; Keep in line with radius cursor size in special power template
BonusConditionType  HORDE        ; And which bonus to give
End

Behavior  AutoHealBehavior ModuleTag_08 ;this is now only for aircraft ground units use a different heal logic
HealingAmount      1000.0
HealingDelay       1
Radius             120.0
StartsActive       Yes
KindOf             INFANTRY
End

Behavior  FireWeaponUpdate ModuleTag_09
Weapon  RefinedCombatDrugsFriendlyDamageWeapon
End

Behavior  DeletionUpdate ModuleTag_03 ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
MinLifetime  1 ;one pulse
MaxLifetime  1
End

End